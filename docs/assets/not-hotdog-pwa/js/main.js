!function(){function e(t,r,n){function o(i,s){if(!r[i]){if(!t[i]){var u="function"==typeof require&&require;if(!s&&u)return u(i,!0);if(a)return a(i,!0);var l=new Error("Cannot find module '"+i+"'");throw l.code="MODULE_NOT_FOUND",l}var p=r[i]={exports:{}};t[i][0].call(p.exports,function(e){var r=t[i][1][e];return o(r||e)},p,p.exports,e,t,r,n)}return r[i].exports}for(var a="function"==typeof require&&require,i=0;i<n.length;i++)o(n[i]);return o}return e}()({1:[function(e,t,r){"use strict";function n(e,t){for(var r=new Array(arguments.length-1),n=0,o=2,a=!0;o<arguments.length;)r[n++]=arguments[o++];return new Promise(function(o,i){r[n]=function(e){if(a)if(a=!1,e)i(e);else{for(var t=new Array(arguments.length-1),r=0;r<t.length;)t[r++]=arguments[r];o.apply(null,t)}};try{e.apply(t||null,r)}catch(e){a&&(a=!1,i(e))}})}t.exports=n},{}],2:[function(e,t,r){"use strict";var n=r;n.length=function(e){var t=e.length;if(!t)return 0;for(var r=0;--t%4>1&&"="===e.charAt(t);)++r;return Math.ceil(3*e.length)/4-r};for(var o=new Array(64),a=new Array(123),i=0;i<64;)a[o[i]=i<26?i+65:i<52?i+71:i<62?i-4:i-59|43]=i++;n.encode=function(e,t,r){for(var n,a=null,i=[],s=0,u=0;t<r;){var l=e[t++];switch(u){case 0:i[s++]=o[l>>2],n=(3&l)<<4,u=1;break;case 1:i[s++]=o[n|l>>4],n=(15&l)<<2,u=2;break;case 2:i[s++]=o[n|l>>6],i[s++]=o[63&l],u=0}s>8191&&((a||(a=[])).push(String.fromCharCode.apply(String,i)),s=0)}return u&&(i[s++]=o[n],i[s++]=61,1===u&&(i[s++]=61)),a?(s&&a.push(String.fromCharCode.apply(String,i.slice(0,s))),a.join("")):String.fromCharCode.apply(String,i.slice(0,s))};var s="invalid encoding";n.decode=function(e,t,r){for(var n,o=r,i=0,u=0;u<e.length;){var l=e.charCodeAt(u++);if(61===l&&i>1)break;if(void 0===(l=a[l]))throw Error(s);switch(i){case 0:n=l,i=1;break;case 1:t[r++]=n<<2|(48&l)>>4,n=l,i=2;break;case 2:t[r++]=(15&n)<<4|(60&l)>>2,n=l,i=3;break;case 3:t[r++]=(3&n)<<6|l,i=0}}if(1===i)throw Error(s);return r-o},n.test=function(e){return/^(?:[A-Za-z0-9+\/]{4})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(e)}},{}],3:[function(e,t,r){"use strict";function n(){this._listeners={}}t.exports=n,n.prototype.on=function(e,t,r){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:r||this}),this},n.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var r=this._listeners[e],n=0;n<r.length;)r[n].fn===t?r.splice(n,1):++n;return this},n.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var r=[],n=1;n<arguments.length;)r.push(arguments[n++]);for(n=0;n<t.length;)t[n].fn.apply(t[n++].ctx,r)}return this}},{}],4:[function(e,t,r){"use strict";function n(e){return"undefined"!=typeof Float32Array?function(){function t(e,t,r){a[0]=e,t[r]=i[0],t[r+1]=i[1],t[r+2]=i[2],t[r+3]=i[3]}function r(e,t,r){a[0]=e,t[r]=i[3],t[r+1]=i[2],t[r+2]=i[1],t[r+3]=i[0]}function n(e,t){return i[0]=e[t],i[1]=e[t+1],i[2]=e[t+2],i[3]=e[t+3],a[0]}function o(e,t){return i[3]=e[t],i[2]=e[t+1],i[1]=e[t+2],i[0]=e[t+3],a[0]}var a=new Float32Array([-0]),i=new Uint8Array(a.buffer),s=128===i[3];e.writeFloatLE=s?t:r,e.writeFloatBE=s?r:t,e.readFloatLE=s?n:o,e.readFloatBE=s?o:n}():function(){function t(e,t,r,n){var o=t<0?1:0;if(o&&(t=-t),0===t)e(1/t>0?0:2147483648,r,n);else if(isNaN(t))e(2143289344,r,n);else if(t>3.4028234663852886e38)e((o<<31|2139095040)>>>0,r,n);else if(t<1.1754943508222875e-38)e((o<<31|Math.round(t/1.401298464324817e-45))>>>0,r,n);else{var a=Math.floor(Math.log(t)/Math.LN2),i=8388607&Math.round(t*Math.pow(2,-a)*8388608);e((o<<31|a+127<<23|i)>>>0,r,n)}}function r(e,t,r){var n=e(t,r),o=2*(n>>31)+1,a=n>>>23&255,i=8388607&n;return 255===a?i?NaN:o*(1/0):0===a?1.401298464324817e-45*o*i:o*Math.pow(2,a-150)*(i+8388608)}e.writeFloatLE=t.bind(null,o),e.writeFloatBE=t.bind(null,a),e.readFloatLE=r.bind(null,i),e.readFloatBE=r.bind(null,s)}(),"undefined"!=typeof Float64Array?function(){function t(e,t,r){a[0]=e,t[r]=i[0],t[r+1]=i[1],t[r+2]=i[2],t[r+3]=i[3],t[r+4]=i[4],t[r+5]=i[5],t[r+6]=i[6],t[r+7]=i[7]}function r(e,t,r){a[0]=e,t[r]=i[7],t[r+1]=i[6],t[r+2]=i[5],t[r+3]=i[4],t[r+4]=i[3],t[r+5]=i[2],t[r+6]=i[1],t[r+7]=i[0]}function n(e,t){return i[0]=e[t],i[1]=e[t+1],i[2]=e[t+2],i[3]=e[t+3],i[4]=e[t+4],i[5]=e[t+5],i[6]=e[t+6],i[7]=e[t+7],a[0]}function o(e,t){return i[7]=e[t],i[6]=e[t+1],i[5]=e[t+2],i[4]=e[t+3],i[3]=e[t+4],i[2]=e[t+5],i[1]=e[t+6],i[0]=e[t+7],a[0]}var a=new Float64Array([-0]),i=new Uint8Array(a.buffer),s=128===i[7];e.writeDoubleLE=s?t:r,e.writeDoubleBE=s?r:t,e.readDoubleLE=s?n:o,e.readDoubleBE=s?o:n}():function(){function t(e,t,r,n,o,a){var i=n<0?1:0;if(i&&(n=-n),0===n)e(0,o,a+t),e(1/n>0?0:2147483648,o,a+r);else if(isNaN(n))e(0,o,a+t),e(2146959360,o,a+r);else if(n>1.7976931348623157e308)e(0,o,a+t),e((i<<31|2146435072)>>>0,o,a+r);else{var s;if(n<2.2250738585072014e-308)s=n/5e-324,e(s>>>0,o,a+t),e((i<<31|s/4294967296)>>>0,o,a+r);else{var u=Math.floor(Math.log(n)/Math.LN2);1024===u&&(u=1023),s=n*Math.pow(2,-u),e(4503599627370496*s>>>0,o,a+t),e((i<<31|u+1023<<20|1048576*s&1048575)>>>0,o,a+r)}}}function r(e,t,r,n,o){var a=e(n,o+t),i=e(n,o+r),s=2*(i>>31)+1,u=i>>>20&2047,l=4294967296*(1048575&i)+a;return 2047===u?l?NaN:s*(1/0):0===u?5e-324*s*l:s*Math.pow(2,u-1075)*(l+4503599627370496)}e.writeDoubleLE=t.bind(null,o,0,4),e.writeDoubleBE=t.bind(null,a,4,0),e.readDoubleLE=r.bind(null,i,0,4),e.readDoubleBE=r.bind(null,s,4,0)}(),e}function o(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}function a(e,t,r){t[r]=e>>>24,t[r+1]=e>>>16&255,t[r+2]=e>>>8&255,t[r+3]=255&e}function i(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function s(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}t.exports=n(n)},{}],5:[function(require,module,exports){"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},{}],6:[function(e,t,r){"use strict";function n(e,t,r){var n=r||8192,o=n>>>1,a=null,i=n;return function(r){if(r<1||r>o)return e(r);i+r>n&&(a=e(n),i=0);var s=t.call(a,i,i+=r);return 7&i&&(i=(7|i)+1),s}}t.exports=n},{}],7:[function(e,t,r){"use strict";var n=r;n.length=function(e){for(var t=0,r=0,n=0;n<e.length;++n)r=e.charCodeAt(n),r<128?t+=1:r<2048?t+=2:55296===(64512&r)&&56320===(64512&e.charCodeAt(n+1))?(++n,t+=4):t+=3;return t},n.read=function(e,t,r){var n=r-t;if(n<1)return"";for(var o,a=null,i=[],s=0;t<r;)o=e[t++],o<128?i[s++]=o:o>191&&o<224?i[s++]=(31&o)<<6|63&e[t++]:o>239&&o<365?(o=((7&o)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,i[s++]=55296+(o>>10),i[s++]=56320+(1023&o)):i[s++]=(15&o)<<12|(63&e[t++])<<6|63&e[t++],s>8191&&((a||(a=[])).push(String.fromCharCode.apply(String,i)),s=0);return a?(s&&a.push(String.fromCharCode.apply(String,i.slice(0,s))),a.join("")):String.fromCharCode.apply(String,i.slice(0,s))},n.write=function(e,t,r){for(var n,o,a=r,i=0;i<e.length;++i)n=e.charCodeAt(i),n<128?t[r++]=n:n<2048?(t[r++]=n>>6|192,t[r++]=63&n|128):55296===(64512&n)&&56320===(64512&(o=e.charCodeAt(i+1)))?(n=65536+((1023&n)<<10)+(1023&o),++i,t[r++]=n>>18|240,t[r++]=n>>12&63|128,t[r++]=n>>6&63|128,t[r++]=63&n|128):(t[r++]=n>>12|224,t[r++]=n>>6&63|128,t[r++]=63&n|128);return r-a}},{}],8:[function(e,t,r){"use strict";var n=e("protobufjs/minimal"),o=n.Reader,a=n.util,i=n.roots.default||(n.roots.default={});i.tensorflow=function(){var e={};return e.Any=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.typeUrl="",e.prototype.value=a.newBuffer([]),e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new i.tensorflow.Any;e.pos<r;){var a=e.uint32();switch(a>>>3){case 1:n.typeUrl=e.string();break;case 2:n.value=e.bytes();break;default:e.skipType(7&a)}}return n},e}(),e.DataType=function(){var e={},t=Object.create(e);return t[e[0]="DT_INVALID"]=0,t[e[1]="DT_FLOAT"]=1,t[e[2]="DT_DOUBLE"]=2,t[e[3]="DT_INT32"]=3,t[e[4]="DT_UINT8"]=4,t[e[5]="DT_INT16"]=5,t[e[6]="DT_INT8"]=6,t[e[7]="DT_STRING"]=7,t[e[8]="DT_COMPLEX64"]=8,t[e[9]="DT_INT64"]=9,t[e[10]="DT_BOOL"]=10,t[e[11]="DT_QINT8"]=11,t[e[12]="DT_QUINT8"]=12,t[e[13]="DT_QINT32"]=13,t[e[14]="DT_BFLOAT16"]=14,t[e[101]="DT_FLOAT_REF"]=101,t[e[102]="DT_DOUBLE_REF"]=102,t[e[103]="DT_INT32_REF"]=103,t[e[104]="DT_UINT8_REF"]=104,t[e[105]="DT_INT16_REF"]=105,t[e[106]="DT_INT8_REF"]=106,t[e[107]="DT_STRING_REF"]=107,t[e[108]="DT_COMPLEX64_REF"]=108,t[e[109]="DT_INT64_REF"]=109,t[e[110]="DT_BOOL_REF"]=110,t[e[111]="DT_QINT8_REF"]=111,t[e[112]="DT_QUINT8_REF"]=112,t[e[113]="DT_QINT32_REF"]=113,t[e[114]="DT_BFLOAT16_REF"]=114,t}(),e.TensorShape=function(){function e(e){if(this.dim=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.dim=a.emptyArray,e.prototype.unknownRank=!1,e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new i.tensorflow.TensorShape;e.pos<r;){var a=e.uint32();switch(a>>>3){case 2:n.dim&&n.dim.length||(n.dim=[]),n.dim.push(i.tensorflow.TensorShape.Dim.decode(e,e.uint32()));break;case 3:n.unknownRank=e.bool();break;default:e.skipType(7&a)}}return n},e.Dim=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.size=a.Long?a.Long.fromBits(0,0,!1):0,e.prototype.name="",e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new i.tensorflow.TensorShape.Dim;e.pos<r;){var a=e.uint32();switch(a>>>3){case 1:n.size=e.int64();break;case 2:n.name=e.string();break;default:e.skipType(7&a)}}return n},e}(),e}(),e.Tensor=function(){function e(e){if(this.floatVal=[],this.doubleVal=[],this.intVal=[],this.stringVal=[],this.scomplexVal=[],this.int64Val=[],this.boolVal=[],this.uint32Val=[],this.uint64Val=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.dtype=0,e.prototype.tensorShape=null,e.prototype.versionNumber=0,e.prototype.tensorContent=a.newBuffer([]),e.prototype.floatVal=a.emptyArray,e.prototype.doubleVal=a.emptyArray,e.prototype.intVal=a.emptyArray,e.prototype.stringVal=a.emptyArray,e.prototype.scomplexVal=a.emptyArray,e.prototype.int64Val=a.emptyArray,e.prototype.boolVal=a.emptyArray,e.prototype.uint32Val=a.emptyArray,e.prototype.uint64Val=a.emptyArray,e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new i.tensorflow.Tensor;e.pos<r;){var a=e.uint32();switch(a>>>3){case 1:n.dtype=e.int32();break;case 2:n.tensorShape=i.tensorflow.TensorShape.decode(e,e.uint32());break;case 3:n.versionNumber=e.int32();break;case 4:n.tensorContent=e.bytes();break;case 5:if(n.floatVal&&n.floatVal.length||(n.floatVal=[]),2===(7&a))for(var s=e.uint32()+e.pos;e.pos<s;)n.floatVal.push(e.float());else n.floatVal.push(e.float());break;case 6:if(n.doubleVal&&n.doubleVal.length||(n.doubleVal=[]),2===(7&a))for(var s=e.uint32()+e.pos;e.pos<s;)n.doubleVal.push(e.double());else n.doubleVal.push(e.double());break;case 7:if(n.intVal&&n.intVal.length||(n.intVal=[]),2===(7&a))for(var s=e.uint32()+e.pos;e.pos<s;)n.intVal.push(e.int32());else n.intVal.push(e.int32());break;case 8:n.stringVal&&n.stringVal.length||(n.stringVal=[]),n.stringVal.push(e.bytes());break;case 9:if(n.scomplexVal&&n.scomplexVal.length||(n.scomplexVal=[]),2===(7&a))for(var s=e.uint32()+e.pos;e.pos<s;)n.scomplexVal.push(e.float());else n.scomplexVal.push(e.float());break;case 10:if(n.int64Val&&n.int64Val.length||(n.int64Val=[]),2===(7&a))for(var s=e.uint32()+e.pos;e.pos<s;)n.int64Val.push(e.int64());else n.int64Val.push(e.int64());break;case 11:if(n.boolVal&&n.boolVal.length||(n.boolVal=[]),2===(7&a))for(var s=e.uint32()+e.pos;e.pos<s;)n.boolVal.push(e.bool());else n.boolVal.push(e.bool());break;case 16:if(n.uint32Val&&n.uint32Val.length||(n.uint32Val=[]),2===(7&a))for(var s=e.uint32()+e.pos;e.pos<s;)n.uint32Val.push(e.uint32());else n.uint32Val.push(e.uint32());break;case 17:if(n.uint64Val&&n.uint64Val.length||(n.uint64Val=[]),2===(7&a))for(var s=e.uint32()+e.pos;e.pos<s;)n.uint64Val.push(e.uint64());else n.uint64Val.push(e.uint64());break;default:e.skipType(7&a)}}return n},e}(),e.AttrValue=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}e.prototype.list=null,e.prototype.s=a.newBuffer([]),e.prototype.i=a.Long?a.Long.fromBits(0,0,!1):0,e.prototype.f=0,e.prototype.b=!1,e.prototype.type=0,e.prototype.shape=null,e.prototype.tensor=null,e.prototype.placeholder="",e.prototype.func=null;var t;return Object.defineProperty(e.prototype,"value",{get:a.oneOfGetter(t=["list","s","i","f","b","type","shape","tensor","placeholder","func"]),set:a.oneOfSetter(t)}),e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new i.tensorflow.AttrValue;e.pos<r;){var a=e.uint32();switch(a>>>3){case 1:n.list=i.tensorflow.AttrValue.ListValue.decode(e,e.uint32());break;case 2:n.s=e.bytes();break;case 3:n.i=e.int64();break;case 4:n.f=e.float();break;case 5:n.b=e.bool();break;case 6:n.type=e.int32();break;case 7:n.shape=i.tensorflow.TensorShape.decode(e,e.uint32());break;case 8:n.tensor=i.tensorflow.Tensor.decode(e,e.uint32());break;case 9:n.placeholder=e.string();break;case 10:n.func=i.tensorflow.NameAttrList.decode(e,e.uint32());break;default:e.skipType(7&a)}}return n},e.ListValue=function(){function e(e){if(this.s=[],this.i=[],this.f=[],this.b=[],this.type=[],this.shape=[],this.tensor=[],this.func=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.s=a.emptyArray,e.prototype.i=a.emptyArray,e.prototype.f=a.emptyArray,e.prototype.b=a.emptyArray,e.prototype.type=a.emptyArray,e.prototype.shape=a.emptyArray,e.prototype.tensor=a.emptyArray,e.prototype.func=a.emptyArray,e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new i.tensorflow.AttrValue.ListValue;e.pos<r;){var a=e.uint32();switch(a>>>3){case 2:n.s&&n.s.length||(n.s=[]),n.s.push(e.bytes());break;case 3:if(n.i&&n.i.length||(n.i=[]),2===(7&a))for(var s=e.uint32()+e.pos;e.pos<s;)n.i.push(e.int64());else n.i.push(e.int64());break;case 4:if(n.f&&n.f.length||(n.f=[]),2===(7&a))for(var s=e.uint32()+e.pos;e.pos<s;)n.f.push(e.float());else n.f.push(e.float());break;case 5:if(n.b&&n.b.length||(n.b=[]),2===(7&a))for(var s=e.uint32()+e.pos;e.pos<s;)n.b.push(e.bool());else n.b.push(e.bool());break;case 6:if(n.type&&n.type.length||(n.type=[]),2===(7&a))for(var s=e.uint32()+e.pos;e.pos<s;)n.type.push(e.int32());else n.type.push(e.int32());break;case 7:n.shape&&n.shape.length||(n.shape=[]),n.shape.push(i.tensorflow.TensorShape.decode(e,e.uint32()));break;case 8:n.tensor&&n.tensor.length||(n.tensor=[]),n.tensor.push(i.tensorflow.Tensor.decode(e,e.uint32()));break;case 9:n.func&&n.func.length||(n.func=[]),n.func.push(i.tensorflow.NameAttrList.decode(e,e.uint32()));break;default:e.skipType(7&a)}}return n},e}(),e}(),e.NameAttrList=function(){function e(e){if(this.attr={},e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.name="",e.prototype.attr=a.emptyObject,e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var r,n=void 0===t?e.len:e.pos+t,s=new i.tensorflow.NameAttrList;e.pos<n;){var u=e.uint32();switch(u>>>3){case 1:s.name=e.string();break;case 2:e.skip().pos++,s.attr===a.emptyObject&&(s.attr={}),r=e.string(),e.pos++,s.attr[r]=i.tensorflow.AttrValue.decode(e,e.uint32());break;default:e.skipType(7&u)}}return s},e}(),e.NodeDef=function(){function e(e){if(this.input=[],this.attr={},e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.name="",e.prototype.op="",e.prototype.input=a.emptyArray,e.prototype.device="",e.prototype.attr=a.emptyObject,e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var r,n=void 0===t?e.len:e.pos+t,s=new i.tensorflow.NodeDef;e.pos<n;){var u=e.uint32();switch(u>>>3){case 1:s.name=e.string();break;case 2:s.op=e.string();break;case 3:s.input&&s.input.length||(s.input=[]),s.input.push(e.string());break;case 4:s.device=e.string();break;case 5:e.skip().pos++,s.attr===a.emptyObject&&(s.attr={}),r=e.string(),e.pos++,s.attr[r]=i.tensorflow.AttrValue.decode(e,e.uint32());break;default:e.skipType(7&u)}}return s},e}(),e.VersionDef=function(){function e(e){if(this.badConsumers=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.producer=0,e.prototype.minConsumer=0,e.prototype.badConsumers=a.emptyArray,e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new i.tensorflow.VersionDef;e.pos<r;){var a=e.uint32();switch(a>>>3){case 1:n.producer=e.int32();break;case 2:n.minConsumer=e.int32();break;case 3:if(n.badConsumers&&n.badConsumers.length||(n.badConsumers=[]),2===(7&a))for(var s=e.uint32()+e.pos;e.pos<s;)n.badConsumers.push(e.int32());else n.badConsumers.push(e.int32());break;default:e.skipType(7&a)}}return n},e}(),e.GraphDef=function(){function e(e){if(this.node=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.node=a.emptyArray,e.prototype.versions=null,e.prototype.library=null,e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new i.tensorflow.GraphDef;e.pos<r;){var a=e.uint32();switch(a>>>3){case 1:n.node&&n.node.length||(n.node=[]),n.node.push(i.tensorflow.NodeDef.decode(e,e.uint32()));break;case 4:n.versions=i.tensorflow.VersionDef.decode(e,e.uint32());break;case 2:n.library=i.tensorflow.FunctionDefLibrary.decode(e,e.uint32());break;default:e.skipType(7&a)}}return n},e}(),e.CollectionDef=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}e.prototype.nodeList=null,e.prototype.bytesList=null,e.prototype.int64List=null,e.prototype.floatList=null,e.prototype.anyList=null;var t;return Object.defineProperty(e.prototype,"kind",{get:a.oneOfGetter(t=["nodeList","bytesList","int64List","floatList","anyList"]),set:a.oneOfSetter(t)}),e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new i.tensorflow.CollectionDef;e.pos<r;){var a=e.uint32();switch(a>>>3){case 1:n.nodeList=i.tensorflow.CollectionDef.NodeList.decode(e,e.uint32());break;case 2:n.bytesList=i.tensorflow.CollectionDef.BytesList.decode(e,e.uint32());break;case 3:n.int64List=i.tensorflow.CollectionDef.Int64List.decode(e,e.uint32());break;case 4:n.floatList=i.tensorflow.CollectionDef.FloatList.decode(e,e.uint32());break;case 5:n.anyList=i.tensorflow.CollectionDef.AnyList.decode(e,e.uint32());break;default:e.skipType(7&a)}}return n},e.NodeList=function(){function e(e){if(this.value=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.value=a.emptyArray,e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new i.tensorflow.CollectionDef.NodeList;e.pos<r;){var a=e.uint32();switch(a>>>3){case 1:n.value&&n.value.length||(n.value=[]),n.value.push(e.string());break;default:e.skipType(7&a)}}return n},e}(),e.BytesList=function(){function e(e){if(this.value=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.value=a.emptyArray,e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new i.tensorflow.CollectionDef.BytesList;e.pos<r;){var a=e.uint32();switch(a>>>3){case 1:n.value&&n.value.length||(n.value=[]),n.value.push(e.bytes());break;default:e.skipType(7&a)}}return n},e}(),e.Int64List=function(){function e(e){if(this.value=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.value=a.emptyArray,e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new i.tensorflow.CollectionDef.Int64List;e.pos<r;){var a=e.uint32();switch(a>>>3){case 1:if(n.value&&n.value.length||(n.value=[]),2===(7&a))for(var s=e.uint32()+e.pos;e.pos<s;)n.value.push(e.int64());else n.value.push(e.int64());break;default:e.skipType(7&a)}}return n},e}(),e.FloatList=function(){function e(e){if(this.value=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.value=a.emptyArray,e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new i.tensorflow.CollectionDef.FloatList;e.pos<r;){var a=e.uint32();switch(a>>>3){case 1:if(n.value&&n.value.length||(n.value=[]),2===(7&a))for(var s=e.uint32()+e.pos;e.pos<s;)n.value.push(e.float());else n.value.push(e.float());break;default:e.skipType(7&a)}}return n},e}(),e.AnyList=function(){function e(e){if(this.value=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.value=a.emptyArray,e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new i.tensorflow.CollectionDef.AnyList;e.pos<r;){var a=e.uint32();switch(a>>>3){case 1:n.value&&n.value.length||(n.value=[]),n.value.push(i.tensorflow.Any.decode(e,e.uint32()));break;default:e.skipType(7&a)}}return n},e}(),e}(),e.SaverDef=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.filenameTensorName="",e.prototype.saveTensorName="",e.prototype.restoreOpName="",e.prototype.maxToKeep=0,e.prototype.sharded=!1,e.prototype.keepCheckpointEveryNHours=0,e.prototype.version=0,e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new i.tensorflow.SaverDef;e.pos<r;){var a=e.uint32();switch(a>>>3){case 1:n.filenameTensorName=e.string();break;case 2:n.saveTensorName=e.string();break;case 3:n.restoreOpName=e.string();break;case 4:n.maxToKeep=e.int32();break;case 5:n.sharded=e.bool();break;case 6:n.keepCheckpointEveryNHours=e.float();break;case 7:n.version=e.int32();break;default:e.skipType(7&a)}}return n},e.CheckpointFormatVersion=function(){var e={},t=Object.create(e);return t[e[0]="LEGACY"]=0,t[e[1]="V1"]=1,t[e[2]="V2"]=2,t}(),e}(),e.TensorInfo=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}e.prototype.name="",e.prototype.cooSparse=null,e.prototype.dtype=0,e.prototype.tensorShape=null;var t;return Object.defineProperty(e.prototype,"encoding",{get:a.oneOfGetter(t=["name","cooSparse"]),set:a.oneOfSetter(t)}),e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new i.tensorflow.TensorInfo;e.pos<r;){var a=e.uint32();switch(a>>>3){case 1:n.name=e.string();break;case 4:n.cooSparse=i.tensorflow.TensorInfo.CooSparse.decode(e,e.uint32());break;case 2:n.dtype=e.int32();break;case 3:n.tensorShape=i.tensorflow.TensorShape.decode(e,e.uint32());break;default:e.skipType(7&a)}}return n},e.CooSparse=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.valuesTensorName="",e.prototype.indicesTensorName="",e.prototype.denseShapeTensorName="",e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new i.tensorflow.TensorInfo.CooSparse;e.pos<r;){var a=e.uint32();switch(a>>>3){case 1:n.valuesTensorName=e.string();break;case 2:n.indicesTensorName=e.string();break;case 3:n.denseShapeTensorName=e.string();break;default:e.skipType(7&a)}}return n},e}(),e}(),e.SignatureDef=function(){function e(e){if(this.inputs={},this.outputs={},e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.inputs=a.emptyObject,e.prototype.outputs=a.emptyObject,e.prototype.methodName="",e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var r,n=void 0===t?e.len:e.pos+t,s=new i.tensorflow.SignatureDef;e.pos<n;){var u=e.uint32();switch(u>>>3){case 1:e.skip().pos++,s.inputs===a.emptyObject&&(s.inputs={}),r=e.string(),e.pos++,s.inputs[r]=i.tensorflow.TensorInfo.decode(e,e.uint32());break;case 2:e.skip().pos++,s.outputs===a.emptyObject&&(s.outputs={}),r=e.string(),e.pos++,s.outputs[r]=i.tensorflow.TensorInfo.decode(e,e.uint32());break;case 3:s.methodName=e.string();break;default:e.skipType(7&u)}}return s},e}(),e.AssetFileDef=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.tensorInfo=null,e.prototype.filename="",e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new i.tensorflow.AssetFileDef;e.pos<r;){var a=e.uint32();switch(a>>>3){case 1:n.tensorInfo=i.tensorflow.TensorInfo.decode(e,e.uint32());break;case 2:n.filename=e.string();break;default:e.skipType(7&a)}}return n},e}(),e.OpDef=function(){function e(e){if(this.inputArg=[],this.outputArg=[],this.attr=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.name="",e.prototype.inputArg=a.emptyArray,e.prototype.outputArg=a.emptyArray,e.prototype.attr=a.emptyArray,e.prototype.deprecation=null,e.prototype.summary="",e.prototype.description="",e.prototype.isCommutative=!1,e.prototype.isAggregate=!1,e.prototype.isStateful=!1,e.prototype.allowsUninitializedInput=!1,e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new i.tensorflow.OpDef;e.pos<r;){var a=e.uint32();switch(a>>>3){case 1:n.name=e.string();break;case 2:n.inputArg&&n.inputArg.length||(n.inputArg=[]),n.inputArg.push(i.tensorflow.OpDef.ArgDef.decode(e,e.uint32()));break;case 3:n.outputArg&&n.outputArg.length||(n.outputArg=[]),n.outputArg.push(i.tensorflow.OpDef.ArgDef.decode(e,e.uint32()));break;case 4:n.attr&&n.attr.length||(n.attr=[]),n.attr.push(i.tensorflow.OpDef.AttrDef.decode(e,e.uint32()));break;case 8:n.deprecation=i.tensorflow.OpDef.OpDeprecation.decode(e,e.uint32());break;case 5:n.summary=e.string();break;case 6:n.description=e.string();break;case 18:n.isCommutative=e.bool();break;case 16:n.isAggregate=e.bool();break;case 17:n.isStateful=e.bool();break;case 19:n.allowsUninitializedInput=e.bool();break;default:e.skipType(7&a)}}return n},e.ArgDef=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.name="",e.prototype.description="",e.prototype.type=0,e.prototype.typeAttr="",e.prototype.numberAttr="",e.prototype.typeListAttr="",e.prototype.isRef=!1,e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new i.tensorflow.OpDef.ArgDef;e.pos<r;){var a=e.uint32();switch(a>>>3){case 1:n.name=e.string();break;case 2:n.description=e.string();break;case 3:n.type=e.int32();break;case 4:n.typeAttr=e.string();break;case 5:n.numberAttr=e.string();break;case 6:n.typeListAttr=e.string();break;case 16:n.isRef=e.bool();break;default:e.skipType(7&a)}}return n},e}(),e.AttrDef=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.name="",e.prototype.type="",e.prototype.defaultValue=null,e.prototype.description="",e.prototype.hasMinimum=!1,e.prototype.minimum=a.Long?a.Long.fromBits(0,0,!1):0,e.prototype.allowedValues=null,e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new i.tensorflow.OpDef.AttrDef;e.pos<r;){var a=e.uint32();switch(a>>>3){case 1:n.name=e.string();break;case 2:n.type=e.string();break;case 3:n.defaultValue=i.tensorflow.AttrValue.decode(e,e.uint32());break;case 4:n.description=e.string();break;case 5:n.hasMinimum=e.bool();break;case 6:n.minimum=e.int64();break;case 7:n.allowedValues=i.tensorflow.AttrValue.decode(e,e.uint32());break;default:e.skipType(7&a)}}return n},e}(),e.OpDeprecation=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.version=0,e.prototype.explanation="",e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new i.tensorflow.OpDef.OpDeprecation;e.pos<r;){var a=e.uint32();switch(a>>>3){case 1:n.version=e.int32();break;case 2:n.explanation=e.string();break;default:e.skipType(7&a)}}return n},e}(),e}(),e.OpList=function(){function e(e){if(this.op=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.op=a.emptyArray,e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new i.tensorflow.OpList;e.pos<r;){var a=e.uint32();switch(a>>>3){case 1:n.op&&n.op.length||(n.op=[]),n.op.push(i.tensorflow.OpDef.decode(e,e.uint32()));break;default:e.skipType(7&a)}}return n},e}(),e.MetaGraphDef=function(){function e(e){if(this.collectionDef={},this.signatureDef={},this.assetFileDef=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.metaInfoDef=null,e.prototype.graphDef=null,e.prototype.saverDef=null,e.prototype.collectionDef=a.emptyObject,e.prototype.signatureDef=a.emptyObject,e.prototype.assetFileDef=a.emptyArray,e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var r,n=void 0===t?e.len:e.pos+t,s=new i.tensorflow.MetaGraphDef;e.pos<n;){var u=e.uint32();switch(u>>>3){case 1:s.metaInfoDef=i.tensorflow.MetaGraphDef.MetaInfoDef.decode(e,e.uint32());break;case 2:s.graphDef=i.tensorflow.GraphDef.decode(e,e.uint32());break;case 3:s.saverDef=i.tensorflow.SaverDef.decode(e,e.uint32());break;case 4:e.skip().pos++,s.collectionDef===a.emptyObject&&(s.collectionDef={}),r=e.string(),e.pos++,s.collectionDef[r]=i.tensorflow.CollectionDef.decode(e,e.uint32());break;case 5:e.skip().pos++,s.signatureDef===a.emptyObject&&(s.signatureDef={}),r=e.string(),e.pos++,s.signatureDef[r]=i.tensorflow.SignatureDef.decode(e,e.uint32());break;case 6:s.assetFileDef&&s.assetFileDef.length||(s.assetFileDef=[]),s.assetFileDef.push(i.tensorflow.AssetFileDef.decode(e,e.uint32()));break;default:e.skipType(7&u)}}return s},e.MetaInfoDef=function(){function e(e){if(this.tags=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.metaGraphVersion="",e.prototype.strippedOpList=null,e.prototype.anyInfo=null,e.prototype.tags=a.emptyArray,e.prototype.tensorflowVersion="",e.prototype.tensorflowGitVersion="",e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new i.tensorflow.MetaGraphDef.MetaInfoDef;e.pos<r;){var a=e.uint32();switch(a>>>3){case 1:n.metaGraphVersion=e.string();break;case 2:n.strippedOpList=i.tensorflow.OpList.decode(e,e.uint32());break;case 3:n.anyInfo=i.tensorflow.Any.decode(e,e.uint32());break;case 4:n.tags&&n.tags.length||(n.tags=[]),n.tags.push(e.string());break;case 5:n.tensorflowVersion=e.string();break;case 6:n.tensorflowGitVersion=e.string();break;default:e.skipType(7&a)}}return n},e}(),e}(),e.SavedModel=function(){function e(e){if(this.metaGraphs=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.savedModelSchemaVersion=a.Long?a.Long.fromBits(0,0,!1):0,e.prototype.metaGraphs=a.emptyArray,e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new i.tensorflow.SavedModel;e.pos<r;){var a=e.uint32();switch(a>>>3){case 1:n.savedModelSchemaVersion=e.int64();break;case 2:n.metaGraphs&&n.metaGraphs.length||(n.metaGraphs=[]),n.metaGraphs.push(i.tensorflow.MetaGraphDef.decode(e,e.uint32()));break;default:e.skipType(7&a)}}return n},e}(),e.FunctionDefLibrary=function(){function e(e){if(this.function=[],this.gradient=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.function=a.emptyArray,e.prototype.gradient=a.emptyArray,e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new i.tensorflow.FunctionDefLibrary;e.pos<r;){var a=e.uint32();switch(a>>>3){case 1:n.function&&n.function.length||(n.function=[]),n.function.push(i.tensorflow.FunctionDef.decode(e,e.uint32()));break;case 2:n.gradient&&n.gradient.length||(n.gradient=[]),
n.gradient.push(i.tensorflow.GradientDef.decode(e,e.uint32()));break;default:e.skipType(7&a)}}return n},e}(),e.FunctionDef=function(){function e(e){if(this.attr={},this.nodeDef=[],this.ret={},e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.signature=null,e.prototype.attr=a.emptyObject,e.prototype.nodeDef=a.emptyArray,e.prototype.ret=a.emptyObject,e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var r,n=void 0===t?e.len:e.pos+t,s=new i.tensorflow.FunctionDef;e.pos<n;){var u=e.uint32();switch(u>>>3){case 1:s.signature=i.tensorflow.OpDef.decode(e,e.uint32());break;case 5:e.skip().pos++,s.attr===a.emptyObject&&(s.attr={}),r=e.string(),e.pos++,s.attr[r]=i.tensorflow.AttrValue.decode(e,e.uint32());break;case 3:s.nodeDef&&s.nodeDef.length||(s.nodeDef=[]),s.nodeDef.push(i.tensorflow.NodeDef.decode(e,e.uint32()));break;case 4:e.skip().pos++,s.ret===a.emptyObject&&(s.ret={}),r=e.string(),e.pos++,s.ret[r]=e.string();break;default:e.skipType(7&u)}}return s},e}(),e.GradientDef=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.functionName="",e.prototype.gradientFunc="",e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new i.tensorflow.GradientDef;e.pos<r;){var a=e.uint32();switch(a>>>3){case 1:n.functionName=e.string();break;case 2:n.gradientFunc=e.string();break;default:e.skipType(7&a)}}return n},e}(),e}(),t.exports=i},{"protobufjs/minimal":197}],9:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e,t){this.weightMap=e,this.tensorArrayMap=t,this.rootContext={id:0,frameName:"",iterationId:0},this.contexts=[this.rootContext],this.lastId=0,this.generateCurrentContextIds()}return e.prototype.newFrame=function(e,t){return{id:e,frameName:t,iterationId:0}},Object.defineProperty(e.prototype,"currentContext",{get:function(){return this.contexts},set:function(e){this.contexts!==e&&(this.contexts=e,this.generateCurrentContextIds())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentContextId",{get:function(){return this._currentContextIds[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentContextIds",{get:function(){return this._currentContextIds},enumerable:!0,configurable:!0}),e.prototype.generateCurrentContextIds=function(){for(var e=[],t=0;t<this.contexts.length-1;t++){var r=this.contexts.slice(0,this.contexts.length-t);e.push(this.contextIdforContexts(r))}e.push(""),this._currentContextIds=e},e.prototype.contextIdforContexts=function(e){return e?e.map(function(e){return 0===e.id&&0===e.iterationId?"":e.frameName+"-"+e.iterationId}).join("/"):""},e.prototype.enterFrame=function(e){this.contexts&&(this.lastId++,this.contexts=this.contexts.slice(),this.contexts.push(this.newFrame(this.lastId,e)),this._currentContextIds.unshift(this.contextIdforContexts(this.contexts)))},e.prototype.exitFrame=function(){if(!(this.contexts&&this.contexts.length>1))throw new Error("Cannot exit frame, the context is empty");this.contexts=this.contexts.slice(),this.contexts.splice(-1),this.currentContextIds.shift()},e.prototype.nextIteration=function(){if(!(this.contexts&&this.contexts.length>0))throw new Error("Cannot increase frame iteration, the context is empty");this.contexts=this.contexts.slice(),this.lastId++;var e=Object.assign({},this.contexts[this.contexts.length-1]);e.iterationId+=1,e.id=this.lastId,this.contexts.splice(-1,1,e),this._currentContextIds.splice(0,1,this.contextIdforContexts(this.contexts))},e.prototype.getWeight=function(e){return this.weightMap[e]},e.prototype.addTensorArray=function(e){this.tensorArrayMap[e.id]=e},e.prototype.getTensorArray=function(e){return this.tensorArrayMap[e]},e}();r.ExecutionContext=n},{}],10:[function(e,t,r){"use strict";function n(e,t,r){return o(this,void 0,void 0,function(){var n;return a(this,function(o){switch(o.label){case 0:return n=new p(e,t,r),[4,n.load()];case 1:return o.sent(),[2,n]}})})}var o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{u(n.next(e))}catch(e){a(e)}}function s(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,s)}u((n=n.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){function r(e){return function(t){return n([e,t])}}function n(r){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,a&&(i=a[2&r[0]?"return":r[0]?"throw":"next"])&&!(i=i.call(a,r[1])).done)return i;switch(a=0,i&&(r=[0,i.value]),r[0]){case 0:case 1:i=r;break;case 4:return u.label++,{value:r[1],done:!1};case 5:u.label++,a=r[1],r=[0];continue;case 7:r=u.ops.pop(),u.trys.pop();continue;default:if(i=u.trys,!(i=i.length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){u=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){u.label=r[1];break}if(6===r[0]&&u.label<i[1]){u.label=i[1],i=r;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(r);break}i[2]&&u.ops.pop(),u.trys.pop();continue}r=t.call(e,u)}catch(e){r=[6,e],a=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var o,a,i,s,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(r,"__esModule",{value:!0});var i=e("@tensorflow/tfjs-core"),s=e("../data/compiled_api"),u=e("../operations/operation_mapper"),l=e("./graph_executor"),p=function(){function e(e,t,r){this.modelUrl=e,this.weightManifestUrl=t,this.requestOption=r,this.version="n/a"}return Object.defineProperty(e.prototype,"modelVersion",{get:function(){return this.version},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputNodes",{get:function(){return this.executor.inputNodes},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputNodes",{get:function(){return this.executor.outputNodes},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputs",{get:function(){return this.executor.inputs},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputs",{get:function(){return this.executor.outputs},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"weights",{get:function(){return this.executor.weightMap},enumerable:!0,configurable:!0}),e.prototype.findIOHandler=function(){var e=[this.modelUrl,this.weightManifestUrl];if(this.requestOption)this.handler=i.io.browserHTTPRequest(e,this.requestOption);else{var t=i.io.getLoadHandlers(e);if(0===t.length)t.push(i.io.browserHTTPRequest(e,this.requestOption));else if(t.length>1)throw new Error("Found more than one ("+t.length+") load handlers for "+("URL '"+[e]+"'"));this.handler=t[0]}},e.prototype.load=function(){return o(this,void 0,void 0,function(){var e,t,r;return a(this,function(n){switch(n.label){case 0:if(this.findIOHandler(),null==this.handler.load)throw new Error("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");return[4,this.handler.load()];case 1:return e=n.sent(),t=s.tensorflow.GraphDef.decode(new Uint8Array(e.modelTopology)),this.version=t.versions.producer+"."+t.versions.minConsumer,r=i.io.decodeWeights(e.weightData,e.weightSpecs),this.executor=new l.GraphExecutor(u.OperationMapper.Instance.transformGraph(t)),this.executor.weightMap=this.convertTensorMapToTensorsMap(r),[2,!0]}})})},e.prototype.predict=function(e,t){return this.execute(e,this.outputNodes)},e.prototype.constructTensorMap=function(e){var t=e instanceof i.Tensor?[e]:e;if(t.length!==this.inputNodes.length)throw new Error("Input tensor count mismatch,"+("the frozen model has "+this.inputNodes.length+" placeholders, ")+("while there are "+t.length+" input tensors."));return this.inputNodes.reduce(function(e,r,n){return e[r]=t[n],e},{})},e.prototype.execute=function(e,t){if(t=t||this.outputNodes,(e instanceof i.Tensor||Array.isArray(e))&&(e=this.constructTensorMap(e)),this.executor.isControlFlowModel||this.executor.isDynamicShapeModel)throw new Error("The model contains control flow or dynamic shape ops, please use executeAsync method");var r=this.executor.execute(this.convertTensorMapToTensorsMap(e),t),n=Object.keys(r);return Array.isArray(t)&&t.length>1?t.map(function(e){return r[e]}):r[n[0]]},e.prototype.executeAsync=function(e,t){return o(this,void 0,void 0,function(){var r,n;return a(this,function(o){switch(o.label){case 0:if(!this.executor.isControlFlowModel&&!this.executor.isDynamicShapeModel)throw new Error("The model does not contain control flow or dynamic shape ops, please use execute method for better performance.");return t=t||this.outputNodes,(e instanceof i.Tensor||Array.isArray(e))&&(e=this.constructTensorMap(e)),[4,this.executor.executeAsync(this.convertTensorMapToTensorsMap(e),t)];case 1:return r=o.sent(),n=Object.keys(r),[2,Array.isArray(t)&&t.length>1?t.map(function(e){return r[e]}):r[n[0]]]}})})},e.prototype.convertTensorMapToTensorsMap=function(e){return Object.keys(e).reduce(function(t,r){return t[r]=[e[r]],t},{})},e.prototype.dispose=function(){this.executor.dispose()},e}();r.FrozenModel=p,r.loadFrozenModel=n},{"../data/compiled_api":8,"../operations/operation_mapper":46,"./graph_executor":11,"@tensorflow/tfjs-core":55}],11:[function(e,t,r){"use strict";var n=this&&this.__assign||Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{u(n.next(e))}catch(e){a(e)}}function s(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,s)}u((n=n.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){function r(e){return function(t){return n([e,t])}}function n(r){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,a&&(i=a[2&r[0]?"return":r[0]?"throw":"next"])&&!(i=i.call(a,r[1])).done)return i;switch(a=0,i&&(r=[0,i.value]),r[0]){case 0:case 1:i=r;break;case 4:return u.label++,{value:r[1],done:!1};case 5:u.label++,a=r[1],r=[0];continue;case 7:r=u.ops.pop(),u.trys.pop();continue;default:if(i=u.trys,!(i=i.length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){u=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){u.label=r[1];break}if(6===r[0]&&u.label<i[1]){u.label=i[1],i=r;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(r);break}i[2]&&u.ops.pop(),u.trys.pop();continue}r=t.call(e,u)}catch(e){r=[6,e],a=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var o,a,i,s,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(r,"__esModule",{value:!0});var i=e("@tensorflow/tfjs-core"),s=e("../operations/executors/utils"),u=e("../operations/operation_executor"),l=e("./execution_context"),p=function(){function e(e){this.graph=e,this.compiledOrder=[],this._weightMap={},this.placeholders=e.placeholders,this._outputs=e.outputs,this.compile()}return Object.defineProperty(e.prototype,"weightMap",{get:function(){return this._weightMap},set:function(e){var t=Object.keys(e).map(function(t){return e[t].map(function(e){return e.id})});this.weightIds=[].concat.apply([],t),this._weightMap=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputs",{get:function(){return this.placeholders.map(function(e){return{name:e.name,shape:e.params.shape?e.params.shape.value:void 0,dtype:e.params.dtype?e.params.dtype.value:void 0}})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputs",{get:function(){return this._outputs.map(function(e){return{name:e.name,shape:e.params.shape?e.params.shape.value:void 0,dtype:e.params.dtype?e.params.dtype.value:void 0}})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputNodes",{get:function(){return this.placeholders.map(function(e){return e.name})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputNodes",{get:function(){return this.outputs.map(function(e){return e.name})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isControlFlowModel",{get:function(){return this.graph.withControlFlow},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDynamicShapeModel",{get:function(){return this.graph.withDynamicShape},enumerable:!0,configurable:!0}),e.prototype.compile=function(){if(!this.graph.withControlFlow&&!this.graph.withDynamicShape)for(var e=this.graph.inputs.slice(),t={};e.length>0;){var r=e.pop();t[r.name]=!0,this.compiledOrder.push(r),r.children.forEach(function(r){!t[r.name]&&r.inputNames.every(function(e){var r=s.getNodeNameAndIndex(e)[0];return t[r]})&&e.push(r)})}},e.prototype.execute=function(e,t){var r=this;this.checkInput(e),this.checkInputShapeAndType(e);var o={},a=i.tidy(function(){var a=new l.ExecutionContext(r._weightMap,o),i=r.compiledOrder.reduce(function(e,t){return e[t.name]=u.executeOp(t,e,a),e},n({},r.weightMap,e));return r.findOutputs(i,a,t)});return a},e.prototype.executeAsync=function(e,t){return o(this,void 0,void 0,function(){var r,n,o,i,s,u,p,c=this;return a(this,function(a){switch(a.label){case 0:return this.checkInput(e),this.checkInputShapeAndType(e),r={},n=new l.ExecutionContext(this._weightMap,r),[4,this.executeWithControlFlow(e,n)];case 1:return o=a.sent(),i=this.findOutputs(o,n,t),s=Object.keys(i).map(function(e){return i[e].id}),u=Object.keys(e).map(function(t){return e[t].map(function(e){return e.id})}),p=[].concat.apply([],u),Object.keys(o).forEach(function(e){var t=o[e];t.forEach(function(e){e&&s.indexOf(e.id)===-1&&p.indexOf(e.id)===-1&&c.weightIds.indexOf(e.id)===-1&&e.dispose()})}),[2,i]}})})},e.prototype.executeWithControlFlow=function(e,t){return o(this,void 0,void 0,function(){var r,o,i,s;return a(this,function(a){switch(a.label){case 0:r=this.graph.inputs.map(function(e){return{node:e,contexts:t.currentContext}}),o=n({},this.weightMap,e),i={},a.label=1;case 1:return r.length>0?(s=this.processStack(r,t,o,i),[4,Promise.all(s)]):[3,3];case 2:return a.sent(),[3,1];case 3:return[2,o]}})})},e.prototype.processStack=function(e,t,r,n){for(var o=this,a=[],i=function(){var i=e.pop();t.currentContext=i.contexts;var p="";"enter"===i.node.op&&s.getParamValue("isConstant",i.node,r,t)&&(p=s.getNodeNameAndIndex(i.node.name,t)[0]);var c=u.executeOp(i.node,r,t);p||(p=s.getNodeNameAndIndex(i.node.name,t)[0]);var f=t.currentContext;c instanceof Promise?a.push(c.then(function(a){return r[p]=a,t.currentContext=f,o.processChildNodes(i.node,e,t,r,n),a})):(r[p]=c,l.processChildNodes(i.node,e,t,r,n))},l=this;e.length>0;)i();return a},e.prototype.processChildNodes=function(e,t,r,n,o){e.children.forEach(function(e){var a=s.getNodeNameAndIndex(e.name,r)[0];o[a]||("merge"===e.op?e.inputNames.some(function(e){return!!s.getTensor(e,n,r)})&&(o[a]=!0,t.push({contexts:r.currentContext,node:e})):e.inputNames.every(function(e){return!!s.getTensor(e,n,r)})&&(o[a]=!0,t.push({contexts:r.currentContext,node:e})))})},e.prototype.findOutputs=function(e,t,r){!r||r instanceof Array||(r=[r]);var n=r||this.graph.outputs.map(function(e){return e.name});return n.reduce(function(r,n){return r[n]=s.getTensor(n,e,t),r},{})},e.prototype.dispose=function(){var e=this;Object.keys(this.weightMap).forEach(function(t){return e.weightMap[t].forEach(function(e){return e.dispose()})})},e.prototype.checkInputShapeAndType=function(e){this.placeholders.forEach(function(t){var r=e[t.name][0];if(t.params.shape&&t.params.shape.value){var n=t.params.shape.value,o=n.length===r.shape.length&&r.shape.every(function(e,t){return n[t]===-1||n[t]===e});i.util.assert(o,"The shape of dict['"+t.name+"'] provided in model.execute(dict) must be ["+n+"], but was ["+r.shape+"]")}t.params.dtype&&t.params.dtype.value&&i.util.assert(r.dtype===t.params.dtype.value,"The dtype of dict['"+t.name+"'] provided in model.execute(dict) must be "+t.params.dtype.value+", but was "+r.dtype)})},e.prototype.checkInput=function(e){var t=this,r=Object.keys(e),n=[],o=[];if(this.inputNodes.forEach(function(e){r.indexOf(e)===-1&&n.push(e)}),r.forEach(function(e){t.inputNodes.indexOf(e)===-1&&o.push(e)}),n.length>0)throw new Error("The dict provided in model.execute(dict) has the keys "+("["+r+"], but is missing the required keys: ["+n+"]."));if(o.length>0)throw new Error("The dict provided in model.execute(dict) has "+("unused keys: ["+o+"]. Please provide only the following keys: ")+("["+this.inputNodes+"]."))},e}();r.GraphExecutor=p},{"../operations/executors/utils":29,"../operations/operation_executor":45,"./execution_context":9,"@tensorflow/tfjs-core":55}],12:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("@tensorflow/tfjs-core"),o=function(){function e(t,r,n,o,a,i,s){this.name=t,this.dtype=r,this.maxSize=n,this.elementShape=o,this.identicalElementShapes=a,this.dynamicSize=i,this.clearAfterRead=s,this.tensors=[],this.closed_=!1,this.id=e.nextId++}return Object.defineProperty(e.prototype,"closed",{get:function(){return this.closed_},enumerable:!0,configurable:!0}),e.prototype.clearAndClose=function(){this.tensors.forEach(function(e){return e.tensor.dispose()}),this.tensors=[],this.closed_=!0},e.prototype.size=function(){return this.tensors.length},e.prototype.read=function(e){if(this.closed_)throw new Error("TensorArray "+this.name+" has already been closed.");if(e<0||e>=this.tensors.length)throw new Error("Tried to read from index "+e+", but array size is: "+this.tensors.length);var t=this.tensors[e];if(t.cleared)throw new Error("TensorArray "+this.name+": Could not read index "+e+" twice because it was cleared after a previous read (perhaps try setting clear_after_read = false?).");return this.clearAfterRead&&(t.cleared=!0),t.read=!0,t.tensor},e.prototype.readMany=function(e){var t=this;return e.map(function(e){return t.read(e)})},e.prototype.write=function(e,t){if(this.closed_)throw new Error("TensorArray "+this.name+" has already been closed.");if(e<0||!this.dynamicSize&&e>=this.maxSize)throw new Error("Tried to write to index "+e+", but array is not resizeable and size is: "+this.maxSize);var r=this.tensors[e]||{};if(t.dtype!==this.dtype)throw new Error("TensorArray "+this.name+": Could not write to TensorArray index "+e+",\n          because the value dtype is "+t.dtype+", but TensorArray dtype is "+this.dtype+".");if(0===this.size()&&0===this.elementShape.length&&(this.elementShape=t.shape),this.assertShapesMatch(this.elementShape,t.shape,"TensorArray "+this.name+": Could not write to TensorArray index "+e+"."),r&&r.read)throw new Error("TensorArray "+this.name+": Could not write to TensorArray index "+e+", because it has already been read.");if(r&&r.written)throw new Error("TensorArray "+this.name+": Could not write to TensorArray index "+e+", because it has already been written.");r.tensor=t,r.written=!0,this.tensors[e]=r},e.prototype.writeMany=function(e,t){var r=this;if(e.length!==t.length)throw new Error("TensorArray "+this.name+": could not write multiple tensors,"+("because the index size: "+e.length+" is not the same as tensors size: "+t.length+"."));e.forEach(function(e,n){return r.write(e,t[n])})},e.prototype.gather=function(e,t){if(t&&t!==this.dtype)throw new Error("TensorArray dtype is "+this.dtype+" but gather requested dtype "+t);if(!e){e=[];for(var r=0;r<this.size();r++)e.push(r)}if(0===e.length)return n.tensor([],[0].concat(this.elementShape));var o=this.readMany(e);return this.assertShapesMatch(this.elementShape,o[0].shape,"TensorArray shape mismatch: "),n.stack(o,0)},e.prototype.concat=function(e){if(e&&e!==this.dtype)throw new Error("TensorArray dtype is "+this.dtype+" but concat requested dtype "+e);if(0===this.size())return n.tensor([],[0].concat(this.elementShape));for(var t=[],r=0;r<this.size();r++)t.push(r);var o=this.readMany(t);return this.assertShapesMatch(this.elementShape,o[0].shape,"TensorArray shape mismatch: tensor array shape ("+this.elementShape+") vs first tensor shape ("+o[0].shape+")"),n.concat(o,0)},e.prototype.scatter=function(e,t){if(t.dtype!==this.dtype)throw new Error("TensorArray dtype is "+this.dtype+" but tensor has dtype "+t.dtype);if(e.length!==t.shape[0])throw new Error("Expected len(indices) == tensor.shape[0], but saw: "+e.length+" vs. "+t.shape[0]);var r=Math.max.apply(Math,e);if(!this.dynamicSize&&r>=this.maxSize)throw new Error("Max index must be < array size ("+r+"  vs. "+this.maxSize+")");this.writeMany(e,n.unstack(t,0))},e.prototype.split=function(e,t){var r=this;if(t.dtype!==this.dtype)throw new Error("TensorArray dtype is "+this.dtype+" but tensor has dtype "+t.dtype);var o=0,a=e.map(function(e){return o+=e});if(o!==t.shape[0])throw new Error("Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        "+o+", and tensor's shape is: "+t.shape);if(!this.dynamicSize&&e.length!==this.maxSize)throw new Error("TensorArray's size is not equal to the size of lengths ("+this.maxSize+" vs. "+e.length+"), and the TensorArray is not marked as dynamically resizeable");var i=0===o?0:t.size/o,s=[];n.tidy(function(){t=t.reshape([1,o,i]);for(var u=0;u<e.length;++u){var l=0===u?0:a[u-1],p=[0,l,0],c=[1,e[u],i];s[u]=n.slice(t,p,c).reshape(r.elementShape)}return s});for(var u=[],l=0;l<e.length;l++)u[l]=l;this.writeMany(u,s)},e.prototype.assertShapesMatch=function(e,t,r){void 0===r&&(r=""),n.util.assert(this.arraysEqual(e,t),r+(" Shapes "+e+" and "+t+" must match"))},e.prototype.arraysEqual=function(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==-1&&t[r]!==-1&&e[r]!==t[r])return!1;return!0},e.nextId=0,e}();r.TensorArray=o},{"@tensorflow/tfjs-core":55}],13:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("./executor/frozen_model");r.FrozenModel=n.FrozenModel,r.loadFrozenModel=n.loadFrozenModel;var o=e("./version");r.version_converter=o.version},{"./executor/frozen_model":10,"./version":47}],14:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("@tensorflow/tfjs-core"),o=e("./utils");r.executeOp=function(e,t,r){switch(e.op){case"add":return[n.add(o.getParamValue("a",e,t,r),o.getParamValue("b",e,t,r))];case"addN":return[n.addN(o.getParamValue("tensors",e,t,r))];case"mod":return[n.mod(o.getParamValue("a",e,t,r),o.getParamValue("b",e,t,r))];case"mul":return[n.mul(o.getParamValue("a",e,t,r),o.getParamValue("b",e,t,r))];case"div":return[n.div(o.getParamValue("a",e,t,r),o.getParamValue("b",e,t,r))];case"floorDiv":return[n.floorDiv(o.getParamValue("a",e,t,r),o.getParamValue("b",e,t,r))];case"sub":return[n.sub(o.getParamValue("a",e,t,r),o.getParamValue("b",e,t,r))];case"minimum":return[n.minimum(o.getParamValue("a",e,t,r),o.getParamValue("b",e,t,r))];case"maximum":return[n.maximum(o.getParamValue("a",e,t,r),o.getParamValue("b",e,t,r))];case"pow":return[n.pow(o.getParamValue("a",e,t,r),o.getParamValue("b",e,t,r))];case"squaredDifference":return[n.squaredDifference(o.getParamValue("a",e,t,r),o.getParamValue("b",e,t,r))];default:throw TypeError("Node type "+e.op+" is not implemented")}},r.CATEGORY="arithmetic"},{"./utils":29,"@tensorflow/tfjs-core":55}],15:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("@tensorflow/tfjs-core"),o=e("./utils");r.executeOp=function(e,t,r){switch(e.op){case"abs":return[n.abs(o.getParamValue("x",e,t,r))];case"acos":return[n.acos(o.getParamValue("x",e,t,r))];case"acosh":return[n.acosh(o.getParamValue("x",e,t,r))];case"asin":return[n.asin(o.getParamValue("x",e,t,r))];case"asinh":return[n.asinh(o.getParamValue("x",e,t,r))];case"atan":return[n.atan(o.getParamValue("x",e,t,r))];case"atanh":return[n.atanh(o.getParamValue("x",e,t,r))];case"ceil":return[n.ceil(o.getParamValue("x",e,t,r))];case"cos":return[n.cos(o.getParamValue("x",e,t,r))];case"cosh":return[n.cosh(o.getParamValue("x",e,t,r))];case"elu":return[n.elu(o.getParamValue("x",e,t,r))];case"erf":return[n.erf(o.getParamValue("x",e,t,r))];case"exp":return[n.exp(o.getParamValue("x",e,t,r))];case"expm1":return[n.expm1(o.getParamValue("x",e,t,r))];case"floor":return[n.floor(o.getParamValue("x",e,t,r))];case"log":return[n.log(o.getParamValue("x",e,t,r))];case"log1p":return[n.log1p(o.getParamValue("x",e,t,r))];case"neg":return[n.neg(o.getParamValue("x",e,t,r))];case"reciprocal":return[n.reciprocal(o.getParamValue("x",e,t,r))];case"relu":return[n.relu(o.getParamValue("x",e,t,r))];case"round":return[n.round(o.getParamValue("x",e,t,r))];case"selu":return[n.selu(o.getParamValue("x",e,t,r))];case"sigmoid":return[n.sigmoid(o.getParamValue("x",e,t,r))];case"sin":return[n.sin(o.getParamValue("x",e,t,r))];case"sign":return[n.sign(o.getParamValue("x",e,t,r))];case"sinh":return[n.sinh(o.getParamValue("x",e,t,r))];case"softplus":return[n.softplus(o.getParamValue("x",e,t,r))];case"sqrt":return[n.sqrt(o.getParamValue("x",e,t,r))];case"square":return[n.square(o.getParamValue("x",e,t,r))];case"tanh":return[n.tanh(o.getParamValue("x",e,t,r))];case"tan":return[n.tan(o.getParamValue("x",e,t,r))];case"clipByValue":return[n.clipByValue(o.getParamValue("x",e,t,r),o.getParamValue("clipValueMin",e,t,r),o.getParamValue("clipValueMax",e,t,r))];case"rsqrt":return[n.div(n.scalar(1,"float32"),n.sqrt(o.getTensor(e.inputNames[0],t,r)))];default:throw TypeError("Node type "+e.op+" is not implemented")}},r.CATEGORY="basic_math"},{"./utils":29,"@tensorflow/tfjs-core":55}],16:[function(e,t,r){"use strict";function n(e,t,r){return o(this,void 0,void 0,function(){var n,o,l,p,c,f,h,d,m,g,v,y,x,b,_,w,T,N,P,S,E,k,A,O,I,C,R,M,D,V,L,F,B,z,j,U,G,q,W,H,$,X;return a(this,function(a){switch(a.label){case 0:switch(n=e.op){case"loopCond":return[3,1];case"switch":return[3,2];case"merge":return[3,4];case"enter":return[3,5];case"exit":return[3,6];case"nextIteration":return[3,7];case"tensorArray":return[3,8];case"tensorArrayWrite":return[3,9];case"tensorArrayRead":return[3,10];case"tensorArrayGather":return[3,11];case"tensorArrayScatter":return[3,12];case"tensorArrayConcat":return[3,13];case"tensorArraySplit":return[3,14];case"tensorArraySize":return[3,15];case"tensorArrayClose":return[3,16]}return[3,17];case 1:return[2,[u.getParamValue("pred",e,t,r)]];case 2:return o=u.getParamValue("pred",e,t,r),l=u.getParamValue("data",e,t,r),[4,o.data()];case 3:return[2,a.sent()[0]?[void 0,l]:[l,void 0]];case 4:return p=e.inputNames.find(function(e){return void 0!==u.getTensor(e,t,r)}),[2,p?[u.getTensor(p,t,r)]:void 0];case 5:return c=u.getParamValue("frameName",e,t,r),f=u.getParamValue("tensor",e,t,r),r.enterFrame(c),[2,[f]];case 6:return h=u.getParamValue("tensor",e,t,r),r.exitFrame(),[2,[h]];case 7:return d=u.getParamValue("tensor",e,t,r),r.nextIteration(),[2,[d]];case 8:return m=u.getParamValue("size",e,t,r),g=u.getParamValue("dtype",e,t,r),v=u.getParamValue("elementShape",e,t,r),y=u.getParamValue("dynamicSize",e,t,r),x=u.getParamValue("clearAfterRead",e,t,r),b=u.getParamValue("identicalElementShapes",e,t,r),_=u.getParamValue("name",e,t,r),w=new s.TensorArray(_,g,m,v,b,y,x),r.addTensorArray(w),[2,[i.scalar(w.id),i.scalar(1)]];case 9:return T=u.getParamValue("tensorArrayId",e,t,r),N=u.getParamValue("index",e,t,r),P=u.getParamValue("tensor",e,t,r),S=r.getTensorArray(T),S.write(N,P),[2,[i.scalar(1)]];case 10:return E=u.getParamValue("tensorArrayId",e,t,r),k=u.getParamValue("index",e,t,r),A=r.getTensorArray(E),[2,[A.read(k)]];case 11:return O=u.getParamValue("tensorArrayId",e,t,r),I=u.getParamValue("indices",e,t,r),C=u.getParamValue("dtype",e,t,r),R=r.getTensorArray(O),[2,[R.gather(I,C)]];case 12:return M=u.getParamValue("tensorArrayId",e,t,r),D=u.getParamValue("indices",e,t,r),V=u.getParamValue("tensor",e,t,r),L=r.getTensorArray(M),L.scatter(D,V),[2,[i.scalar(1)]];case 13:return F=u.getParamValue("tensorArrayId",e,t,r),B=r.getTensorArray(F),z=u.getParamValue("dtype",e,t,r),[2,[B.concat(z)]];case 14:return j=u.getParamValue("tensorArrayId",e,t,r),U=u.getParamValue("tensor",e,t,r),G=u.getParamValue("lengths",e,t,r),q=r.getTensorArray(j),q.split(G,U),[2,[i.scalar(1)]];case 15:return W=u.getParamValue("tensorArrayId",e,t,r),H=r.getTensorArray(W),[2,[i.scalar(H.size(),"int32")]];case 16:return $=u.getParamValue("tensorArrayId",e,t,r),X=r.getTensorArray($),X.clearAndClose(),[2,[]];case 17:throw TypeError("Node type "+e.op+" is not implemented")}})})}var o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{u(n.next(e))}catch(e){a(e)}}function s(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,s)}u((n=n.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){function r(e){return function(t){return n([e,t])}}function n(r){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,a&&(i=a[2&r[0]?"return":r[0]?"throw":"next"])&&!(i=i.call(a,r[1])).done)return i;switch(a=0,i&&(r=[0,i.value]),r[0]){case 0:case 1:i=r;break;case 4:return u.label++,{value:r[1],done:!1};case 5:u.label++,a=r[1],r=[0];continue;case 7:r=u.ops.pop(),u.trys.pop();continue;default:if(i=u.trys,!(i=i.length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){u=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){u.label=r[1];break}if(6===r[0]&&u.label<i[1]){u.label=i[1],i=r;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(r);break}i[2]&&u.ops.pop(),u.trys.pop();continue}r=t.call(e,u)}catch(e){r=[6,e],a=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var o,a,i,s,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(r,"__esModule",{value:!0});var i=e("@tensorflow/tfjs-core"),s=e("../../executor/tensor_array"),u=e("./utils");r.executeOp=n,r.CATEGORY="control"},{"../../executor/tensor_array":12,"./utils":29,"@tensorflow/tfjs-core":55}],17:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("@tensorflow/tfjs-core"),o=e("./utils");r.executeOp=function(e,t,r){switch(e.op){case"conv1d":var a=o.getParamValue("stride",e,t,r),i=o.getParamValue("pad",e,t,r),s=o.getParamValue("dataFormat",e,t,r).toUpperCase(),u=o.getParamValue("dilation",e,t,r);return[n.conv1d(o.getParamValue("x",e,t,r),o.getParamValue("filter",e,t,r),a,i,s,u)];case"conv2d":var a=o.getParamValue("strides",e,t,r),i=o.getParamValue("pad",e,t,r),s=o.getParamValue("dataFormat",e,t,r).toUpperCase(),l=o.getParamValue("dilations",e,t,r);return[n.conv2d(o.getParamValue("x",e,t,r),o.getParamValue("filter",e,t,r),[a[1],a[2]],i,s,[l[0],l[1]])];case"conv2dTranspose":var p=o.getParamValue("outputShape",e,t,r),a=o.getParamValue("strides",e,t,r),i=o.getParamValue("pad",e,t,r);return[n.conv2dTranspose(o.getParamValue("x",e,t,r),o.getParamValue("filter",e,t,r),p,[a[1],a[2]],i)];case"depthwiseConv2d":var a=o.getParamValue("strides",e,t,r),i=o.getParamValue("pad",e,t,r),l=o.getParamValue("dilations",e,t,r),s=o.getParamValue("dataFormat",e,t,r).toUpperCase();return[n.depthwiseConv2d(o.getParamValue("input",e,t,r),o.getParamValue("filter",e,t,r),[a[1],a[2]],i,s,[l[0],l[1]])];case"avgPool":var a=o.getParamValue("strides",e,t,r),i=o.getParamValue("pad",e,t,r),c=o.getParamValue("kernelSize",e,t,r);return[n.avgPool(o.getParamValue("x",e,t,r),[c[1],c[2]],[a[1],a[2]],i)];case"maxPool":var a=o.getParamValue("strides",e,t,r),i=o.getParamValue("pad",e,t,r),c=o.getParamValue("kernelSize",e,t,r);return[n.maxPool(o.getParamValue("x",e,t,r),[c[1],c[2]],[a[1],a[2]],i)];default:throw TypeError("Node type "+e.op+" is not implemented")}},r.CATEGORY="convolution"},{"./utils":29,"@tensorflow/tfjs-core":55}],18:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("@tensorflow/tfjs-core"),o=e("./utils");
r.executeOp=function(e,t,r){switch(e.op){case"fill":var a=o.getParamValue("shape",e,t,r),i=o.getParamValue("dtype",e,t,r),s=o.getParamValue("value",e,t,r);return[n.fill(a,s,i)];case"linspace":var u=o.getParamValue("start",e,t,r),l=o.getParamValue("stop",e,t,r),p=o.getParamValue("num",e,t,r);return[n.linspace(u,l,p)];case"oneHot":var c=o.getParamValue("indices",e,t,r),f=o.getParamValue("depth",e,t,r),h=o.getParamValue("onValue",e,t,r),d=o.getParamValue("offValue",e,t,r);return[n.oneHot(c,f,h,d)];case"ones":return[n.ones(o.getParamValue("shape",e,t,r),o.getParamValue("dtype",e,t,r))];case"onesLike":return[n.onesLike(o.getParamValue("x",e,t,r))];case"randomUniform":return[n.randomUniform(o.getParamValue("shape",e,t,r),o.getParamValue("minval",e,t,r),o.getParamValue("maxval",e,t,r),o.getParamValue("dtype",e,t,r))];case"range":var u=o.getParamValue("start",e,t,r),m=o.getParamValue("stop",e,t,r),g=o.getParamValue("step",e,t,r);return[n.range(u,m,g,o.getParamValue("dtype",e,t,r))];case"truncatedNormal":var a=o.getParamValue("shape",e,t,r),v=o.getParamValue("mean",e,t,r),y=o.getParamValue("stdDev",e,t,r),x=o.getParamValue("seed",e,t,r);return[n.truncatedNormal(a,v,y,o.getParamValue("dtype",e,t,r),x)];case"zeros":return[n.zeros(o.getParamValue("shape",e,t,r),o.getParamValue("dtype",e,t,r))];case"zerosLike":return[n.zerosLike(o.getParamValue("x",e,t,r))];default:throw TypeError("Node type "+e.op+" is not implemented")}},r.CATEGORY="creation"},{"./utils":29,"@tensorflow/tfjs-core":55}],19:[function(e,t,r){"use strict";function n(e,t,r){return o(this,void 0,void 0,function(){var n,o,u,l,p,c;return a(this,function(a){switch(a.label){case 0:switch(n=e.op){case"nonMaxSuppression":return[3,1];case"whereAsync":return[3,3]}return[3,5];case 1:return o=s.getParamValue("boxes",e,t,r),u=s.getParamValue("scores",e,t,r),l=s.getParamValue("maxOutputSize",e,t,r),p=s.getParamValue("iouThreshold",e,t,r),c=s.getParamValue("scoreThreshold",e,t,r),[4,i.image.nonMaxSuppressionAsync(o,u,l,p,c)];case 2:return[2,[a.sent()]];case 3:return[4,i.whereAsync(s.getParamValue("condition",e,t,r))];case 4:return[2,[a.sent()]];case 5:throw TypeError("Node type "+e.op+" is not implemented")}})})}var o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{u(n.next(e))}catch(e){a(e)}}function s(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,s)}u((n=n.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){function r(e){return function(t){return n([e,t])}}function n(r){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,a&&(i=a[2&r[0]?"return":r[0]?"throw":"next"])&&!(i=i.call(a,r[1])).done)return i;switch(a=0,i&&(r=[0,i.value]),r[0]){case 0:case 1:i=r;break;case 4:return u.label++,{value:r[1],done:!1};case 5:u.label++,a=r[1],r=[0];continue;case 7:r=u.ops.pop(),u.trys.pop();continue;default:if(i=u.trys,!(i=i.length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){u=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){u.label=r[1];break}if(6===r[0]&&u.label<i[1]){u.label=i[1],i=r;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(r);break}i[2]&&u.ops.pop(),u.trys.pop();continue}r=t.call(e,u)}catch(e){r=[6,e],a=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var o,a,i,s,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(r,"__esModule",{value:!0});var i=e("@tensorflow/tfjs-core"),s=e("./utils");r.executeOp=n,r.CATEGORY="dynamic"},{"./utils":29,"@tensorflow/tfjs-core":55}],20:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("@tensorflow/tfjs-core"),o=e("./utils");r.executeOp=function(e,t,r){switch(e.op){case"topK":var a=o.getParamValue("x",e,t,r),i=o.getParamValue("k",e,t,r),s=o.getParamValue("sorted",e,t,r),u=n.topk(a,i,s);return[u.values,u.indices];default:throw TypeError("Node type "+e.op+" is not implemented")}},r.CATEGORY="evaluation"},{"./utils":29,"@tensorflow/tfjs-core":55}],21:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("@tensorflow/tfjs-core"),o=e("./utils");r.executeOp=function(e,t,r){switch(e.op){case"const":return t[e.name];case"placeholder":var a=o.getParamValue("default",e,t,r);return[o.getTensor(e.name,t,r)||a];case"identity":case"stopGradient":case"fakeQuantWithMinMaxVars":return[o.getParamValue("x",e,t,r)];case"snapshot":var i=o.getParamValue("x",e,t,r);return[i.clone()];case"shape":return[n.tensor1d(o.getParamValue("x",e,t,r).shape,"int32")];case"size":return[n.scalar(o.getParamValue("x",e,t,r).size,"int32")];case"rank":return[n.scalar(o.getParamValue("x",e,t,r).rank,"int32")];case"noop":return[];case"print":var s=o.getParamValue("x",e,t,r),u=o.getParamValue("data",e,t,r),l=o.getParamValue("message",e,t,r),p=o.getParamValue("summarize",e,t,r);console.warn("The graph has a tf.print() operation,usually used for debugging, which slows down performance."),console.log(l);for(var c=0;c<u.length;c++)console.log(Array.prototype.slice.call(u[0].dataSync()).slice(0,p));return[s];default:throw TypeError("Node type "+e.op+" is not implemented")}},r.CATEGORY="graph"},{"./utils":29,"@tensorflow/tfjs-core":55}],22:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("@tensorflow/tfjs-core"),o=e("./utils");r.executeOp=function(e,t,r){switch(e.op){case"resizeBilinear":var a=o.getParamValue("images",e,t,r),i=o.getParamValue("size",e,t,r),s=o.getParamValue("alignCorners",e,t,r);return[n.image.resizeBilinear(a,[i[0],i[1]],s)];case"resizeNearestNeighbor":var a=o.getParamValue("images",e,t,r),i=o.getParamValue("size",e,t,r),s=o.getParamValue("alignCorners",e,t,r);return[n.image.resizeNearestNeighbor(a,[i[0],i[1]],s)];default:throw TypeError("Node type "+e.op+" is not implemented")}},r.CATEGORY="image"},{"./utils":29,"@tensorflow/tfjs-core":55}],23:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("@tensorflow/tfjs-core"),o=e("./utils");r.executeOp=function(e,t,r){switch(e.op){case"equal":return[n.equal(o.getParamValue("a",e,t,r),o.getParamValue("b",e,t,r))];case"notEqual":return[n.notEqual(o.getParamValue("a",e,t,r),o.getParamValue("b",e,t,r))];case"greater":return[n.greater(o.getParamValue("a",e,t,r),o.getParamValue("b",e,t,r))];case"greaterEqual":return[n.greaterEqual(o.getParamValue("a",e,t,r),o.getParamValue("b",e,t,r))];case"less":return[n.less(o.getParamValue("a",e,t,r),o.getParamValue("b",e,t,r))];case"lessEqual":return[n.lessEqual(o.getParamValue("a",e,t,r),o.getParamValue("b",e,t,r))];case"logicalAnd":return[n.logicalAnd(o.getParamValue("a",e,t,r),o.getParamValue("b",e,t,r))];case"logicalNot":return[n.logicalNot(o.getParamValue("a",e,t,r))];case"logicalOr":return[n.logicalOr(o.getParamValue("a",e,t,r),o.getParamValue("b",e,t,r))];case"where":return[n.where(o.getParamValue("condition",e,t,r),o.getParamValue("a",e,t,r),o.getParamValue("b",e,t,r))];default:throw TypeError("Node type "+e.op+" is not implemented")}},r.CATEGORY="logical"},{"./utils":29,"@tensorflow/tfjs-core":55}],24:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("@tensorflow/tfjs-core"),o=e("./utils");r.executeOp=function(e,t,r){switch(e.op){case"matMul":return[n.matMul(o.getParamValue("a",e,t,r),o.getParamValue("b",e,t,r),o.getParamValue("transposeA",e,t,r),o.getParamValue("transposeB",e,t,r))];case"transpose":return[n.transpose(o.getParamValue("x",e,t,r),o.getParamValue("perm",e,t,r))];default:throw TypeError("Node type "+e.op+" is not implemented")}},r.CATEGORY="matrices"},{"./utils":29,"@tensorflow/tfjs-core":55}],25:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("@tensorflow/tfjs-core"),o=e("./utils");r.executeOp=function(e,t,r){switch(e.op){case"batchNormalization":return[n.batchNormalization(o.getParamValue("x",e,t,r),o.getParamValue("mean",e,t,r),o.getParamValue("variance",e,t,r),o.getParamValue("epsilon",e,t,r),o.getParamValue("scale",e,t,r),o.getParamValue("offset",e,t,r))];case"localResponseNormalization":return[n.localResponseNormalization(o.getParamValue("x",e,t,r),o.getParamValue("radius",e,t,r),o.getParamValue("bias",e,t,r),o.getParamValue("alpha",e,t,r),o.getParamValue("beta",e,t,r))];case"softmax":return[n.softmax(o.getParamValue("x",e,t,r))];default:throw TypeError("Node type "+e.op+" is not implemented")}},r.CATEGORY="normalization"},{"./utils":29,"@tensorflow/tfjs-core":55}],26:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("@tensorflow/tfjs-core"),o=e("./utils");r.executeOp=function(e,t,r){switch(e.op){case"max":var a=o.getParamValue("axis",e,t,r),i=o.getParamValue("keepDims",e,t,r);return[n.max(o.getParamValue("x",e,t,r),a,i)];case"mean":var a=o.getParamValue("axis",e,t,r),i=o.getParamValue("keepDims",e,t,r);return[n.mean(o.getParamValue("x",e,t,r),a,i)];case"min":var a=o.getParamValue("axis",e,t,r),i=o.getParamValue("keepDims",e,t,r);return[n.min(o.getParamValue("x",e,t,r),a,i)];case"sum":var a=o.getParamValue("axis",e,t,r),i=o.getParamValue("keepDims",e,t,r);return[n.sum(o.getParamValue("x",e,t,r),a,i)];case"all":var a=o.getParamValue("axis",e,t,r),i=o.getParamValue("keepDims",e,t,r);return[n.all(o.getParamValue("x",e,t,r),a,i)];case"any":var a=o.getParamValue("axis",e,t,r),i=o.getParamValue("keepDims",e,t,r);return[n.any(o.getParamValue("x",e,t,r),a,i)];case"argMax":var a=o.getParamValue("axis",e,t,r);return[n.argMax(o.getParamValue("x",e,t,r),a)];case"argMin":var a=o.getParamValue("axis",e,t,r);return[n.argMin(o.getParamValue("x",e,t,r),a)];default:throw TypeError("Node type "+e.op+" is not implemented")}},r.CATEGORY="reduction"},{"./utils":29,"@tensorflow/tfjs-core":55}],27:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("@tensorflow/tfjs-core"),o=e("./utils");r.executeOp=function(e,t,r){switch(e.op){case"concat":var a=o.getParamValue("axis",e,t,r),i=o.getParamValue("tensors",e,t,r);return[n.concat(i,a)];case"gather":var a=o.getParamValue("axis",e,t,r),s=o.getParamValue("x",e,t,r),u=o.getParamValue("indices",e,t,r);return[n.gather(s,u,a)];case"reverse":var a=o.getParamValue("axis",e,t,r),s=o.getParamValue("x",e,t,r);return[n.reverse(s,a)];case"slice":var l=o.getParamValue("begin",e,t,r),p=o.getParamValue("size",e,t,r);return[n.slice(o.getParamValue("x",e,t,r),l,p)];case"stridedSlice":var l=o.getParamValue("begin",e,t,r),c=o.getParamValue("end",e,t,r),f=o.getParamValue("strides",e,t,r),h=o.getParamValue("beginMask",e,t,r),d=o.getParamValue("endMask",e,t,r),m=o.getParamValue("ellipsisMask",e,t,r),g=o.getParamValue("newAxisMask",e,t,r),v=o.getParamValue("shrinkAxisMask",e,t,r),y=o.getParamValue("x",e,t,r);if(1===l.length&&y.shape.length>1)for(var x=1;x<y.shape.length;x++)l.push(0),c.push(y.shape[x]),f.push(f[0]);return[n.stridedSlice(y,l,c,f,h,d,m,g,v)];case"stack":return n.tidy(function(){var a=o.getParamValue("axis",e,t,r),i=o.getParamValue("tensors",e,t,r),s=i[0].shape,u=i[0].squeeze().shape,l=i.map(function(e){var t=n.util.arraysEqual(e.shape,s);if(!t&&!n.util.arraysEqual(e.squeeze().shape,u))throw new Error("the input tensors shape does not match");return t?e:e.reshape(s)});return[n.stack(l,a)]});case"unstack":return n.tidy(function(){var a=o.getParamValue("axis",e,t,r),i=o.getParamValue("tensor",e,t,r);return n.unstack(i,a)});case"tile":var b=o.getParamValue("reps",e,t,r);return[n.tile(o.getParamValue("x",e,t,r),b)];case"split":var a=o.getParamValue("axis",e,t,r),_=o.getParamValue("numOrSizeSplits",e,t,r);return n.split(o.getParamValue("x",e,t,r),_,a);default:throw TypeError("Node type "+e.op+" is not implemented")}},r.CATEGORY="slice_join"},{"./utils":29,"@tensorflow/tfjs-core":55}],28:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("@tensorflow/tfjs-core"),o=e("./utils");r.executeOp=function(e,t,r){switch(e.op){case"cast":return[n.cast(o.getParamValue("x",e,t,r),o.getParamValue("dtype",e,t,r))];case"expandDims":var a=o.getParamValue("axis",e,t,r);return[n.expandDims(o.getParamValue("x",e,t,r),a)];case"squeeze":var a=o.getParamValue("axis",e,t,r);return[n.squeeze(o.getParamValue("x",e,t,r),a)];case"reshape":return[n.reshape(o.getParamValue("x",e,t,r),o.getParamValue("shape",e,t,r))];case"pad":return[n.pad(o.getParamValue("x",e,t,r),o.split(o.getParamValue("padding",e,t,r),2),o.getParamValue("constantValue",e,t,r))];case"spaceToBatchND":var i=o.getParamValue("blockShape",e,t,r),s=o.split(o.getParamValue("paddings",e,t,r),2);return[n.spaceToBatchND(o.getParamValue("x",e,t,r),i,s)];case"batchToSpaceND":var i=o.getParamValue("blockShape",e,t,r),u=o.split(o.getParamValue("crops",e,t,r),2);return[n.batchToSpaceND(o.getParamValue("x",e,t,r),i,u)];default:throw TypeError("Node type "+e.op+" is not implemented")}},r.CATEGORY="transformation"},{"./utils":29,"@tensorflow/tfjs-core":55}],29:[function(e,t,r){"use strict";function n(e,t,r,n){var a=t.params[e];if(a&&void 0!==a.inputIndex){if("tensor"===a.type)return o(t.inputNames[a.inputIndex],r,n);if("tensors"===a.type){var i=0===a.inputIndex?0===a.inputParamLength?t.inputNames:t.inputNames.slice(a.inputIndex,-a.inputParamLength):t.inputNames.splice(a.inputIndex);return i.map(function(e){return o(e,r,n)})}var s=Array.prototype.slice.call(o(t.inputNames.slice(a.inputIndex)[0],r,n).dataSync());return"number"===a.type?s[0]:s}return a&&a.value}function o(e,t,r){var n=s(e),o=n[0],a=n[1],u=r.currentContextIds.find(function(e){return!!t[i(o,e)]});return void 0!==u?t[i(o,u)][a]:void 0}function a(e,t){var r=s(e),n=r[0],o=r[1];return[i(n,t&&t.currentContextId),o]}function i(e,t){return t?e+"-"+t:e}function s(e){var t=e.lastIndexOf(":");if(t===-1)return[e,0];var r=e.substring(0,t);return[r,Number(e.substring(t+1))]}function u(e,t){for(var r=[],n=0;n<e.length;n+=t)r.push(e.slice(n,n+t));return r}Object.defineProperty(r,"__esModule",{value:!0}),r.getParamValue=n,r.getTensor=o,r.getNodeNameAndIndex=a,r.parseNodeName=s,r.split=u},{}],30:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.json=[{tfOpName:"Add",dlOpName:"add",category:"arithmetic",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddN",dlOpName:"addN",category:"arithmetic",params:[{tfInputIndex:0,tfInputParamLength:0,dlParamName:"tensors",type:"tensors"}]},{tfOpName:"BiasAdd",dlOpName:"add",category:"arithmetic",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sub",dlOpName:"sub",category:"arithmetic",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"RealDiv",dlOpName:"div",category:"arithmetic",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Div",dlOpName:"div",category:"arithmetic",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorDiv",dlOpName:"floorDiv",category:"arithmetic",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mul",dlOpName:"mul",category:"arithmetic",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Maximum",dlOpName:"maximum",category:"arithmetic",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"}]},{tfOpName:"Minimum",dlOpName:"minimum",category:"arithmetic",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"}]},{tfOpName:"Pow",dlOpName:"pow",category:"arithmetic",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SquaredDifference",dlOpName:"squaredDifference",category:"arithmetic",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mod",dlOpName:"mod",category:"arithmetic",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]}]},{}],31:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.json=[{tfOpName:"Abs",dlOpName:"abs",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acos",dlOpName:"acos",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asin",dlOpName:"asin",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"atan",dlOpName:"atan",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ceil",dlOpName:"ceil",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ClipByValue",dlOpName:"clipByValue",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"clip_value_min",dlParamName:"clipValueMin",type:"number"},{tfParamName:"clip_value_max",dlParamName:"clipValueMax",type:"number"}]},{tfOpName:"Cos",dlOpName:"cos",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cosh",dlOpName:"cosh",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Elu",dlOpName:"elu",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Exp",dlOpName:"exp",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Floor",dlOpName:"floor",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log",dlOpName:"log",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Neg",dlOpName:"neg",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu",dlOpName:"relu",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu6",dlOpName:"clipByValue",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0},{dlParamName:"clipValueMin",type:"number",defaultValue:0},{dlParamName:"clipValueMax",type:"number",defaultValue:6}]},{tfOpName:"Selu",dlOpName:"selu",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sigmoid",dlOpName:"sigmoid",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sin",dlOpName:"sin",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sinh",dlOpName:"sinh",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sqrt",dlOpName:"sqrt",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Rsqrt",dlOpName:"rsqrt",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Square",dlOpName:"square",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tan",dlOpName:"tan",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tanh",dlOpName:"tanh",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sign",dlOpName:"sign",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Round",dlOpName:"round",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Expm1",dlOpName:"expm1",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log1p",dlOpName:"log1p",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",dlOpName:"reciprocal",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",dlOpName:"reciprocal",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Softplus",dlOpName:"softplus",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asinh",dlOpName:"asinh",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acosh",dlOpName:"acosh",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atanh",dlOpName:"atanh",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Erf",dlOpName:"erf",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]}]},{}],32:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.json=[{tfOpName:"LoopCond",dlOpName:"loopCond",category:"control",params:[{tfInputIndex:0,dlParamName:"pred",type:"tensor"}]},{tfOpName:"Switch",dlOpName:"switch",category:"control",params:[{tfInputIndex:0,dlParamName:"data",type:"tensor"},{tfInputIndex:1,dlParamName:"pred",type:"tensor"}]},{tfOpName:"Merge",dlOpName:"merge",category:"control",params:[{tfInputIndex:0,tfInputParamLength:0,dlParamName:"tensors",type:"tensors"}]},{tfOpName:"Enter",dlOpName:"enter",category:"control",params:[{tfInputIndex:0,dlParamName:"tensor",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0},{tfParamName:"frame_name",dlParamName:"frameName",type:"string"},{tfParamName:"is_constant",dlParamName:"isConstant",type:"bool"}]},{tfOpName:"Exit",dlOpName:"exit",category:"control",params:[{tfInputIndex:0,dlParamName:"tensor",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NextIteration",dlOpName:"nextIteration",category:"control",params:[{tfInputIndex:0,dlParamName:"tensor",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayV3",dlOpName:"tensorArray",category:"control",params:[{tfInputIndex:0,dlParamName:"size",type:"number"},{tfParamName:"dtype",dlParamName:"dtype",type:"dtype"},{tfParamName:"element_shape",dlParamName:"elementShape",type:"shape"},{tfParamName:"dynamic_size",dlParamName:"dynamicSize",type:"bool"},{tfParamName:"clear_after_read",dlParamName:"clearAfterRead",type:"bool"},{tfParamName:"identical_element_shapes",dlParamName:"identicalElementShapes",type:"bool"},{tfParamName:"tensor_array_name",dlParamName:"name",type:"string"}]},{tfOpName:"TensorArrayWriteV3",dlOpName:"tensorArrayWrite",category:"control",params:[{tfInputIndex:0,dlParamName:"tensorArrayId",type:"number"},{tfInputIndex:1,dlParamName:"index",type:"number"},{tfInputIndex:2,dlParamName:"tensor",type:"tensor"},{tfInputIndex:3,dlParamName:"flowIn",type:"number"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayReadV3",dlOpName:"tensorArrayRead",category:"control",params:[{tfInputIndex:0,dlParamName:"tensorArrayId",type:"number"},{tfInputIndex:1,dlParamName:"index",type:"number"},{tfInputIndex:2,dlParamName:"flowIn",type:"number"},{tfParamName:"dtype",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayGatherV3",dlOpName:"tensorArrayGather",category:"control",params:[{tfInputIndex:0,dlParamName:"tensorArrayId",type:"number"},{tfInputIndex:1,dlParamName:"indices",type:"number[]"},{tfInputIndex:2,dlParamName:"flowIn",type:"number"},{tfParamName:"dtype",dlParamName:"dtype",type:"dtype"},{tfParamName:"element_shape",dlParamName:"elementShape",type:"shape"}]},{tfOpName:"TensorArrayScatterV3",dlOpName:"tensorArrayScatter",category:"control",params:[{tfInputIndex:0,dlParamName:"tensorArrayId",type:"number"},{tfInputIndex:1,dlParamName:"indices",type:"number[]"},{tfInputIndex:2,dlParamName:"tensor",type:"tensor"},{tfInputIndex:3,dlParamName:"flowIn",type:"number"},{tfParamName:"T",dlParamName:"dtype",type:"dtype"}]},{tfOpName:"TensorArrayConcatV3",dlOpName:"tensorArrayConcat",category:"control",params:[{tfInputIndex:0,dlParamName:"tensorArrayId",type:"number"},{tfInputIndex:1,dlParamName:"flowIn",type:"number"},{tfParamName:"dtype",dlParamName:"dtype",type:"dtype"},{tfParamName:"element_shape_except0",dlParamName:"elementShapeExcept0",type:"shape",notSupported:!0}]},{tfOpName:"TensorArraySplitV3",dlOpName:"tensorArraySplit",category:"control",params:[{tfInputIndex:0,dlParamName:"tensorArrayId",type:"number"},{tfInputIndex:1,dlParamName:"tensor",type:"tensor"},{tfInputIndex:2,dlParamName:"lengths",type:"number[]"},{tfInputIndex:3,dlParamName:"flowIn",type:"number"},{tfParamName:"T",dlParamName:"dtype",type:"dtype"}]},{tfOpName:"TensorArraySizeV3",dlOpName:"tensorArraySize",category:"control",params:[{tfInputIndex:0,dlParamName:"tensorArrayId",type:"number"},{tfInputIndex:1,dlParamName:"flowIn",type:"number"}]},{tfOpName:"TensorArrayCloseV3",dlOpName:"tensorArrayClose",category:"control",params:[{tfInputIndex:0,dlParamName:"tensorArrayId",type:"number"}]}]},{}],33:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.json=[{tfOpName:"AvgPool",dlOpName:"avgPool",category:"convolution",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"strides",dlParamName:"strides",type:"number[]"},{tfParamName:"padding",dlParamName:"pad",type:"string"},{tfParamName:"data_format",dlParamName:"dataFormat",type:"string",notSupported:!0},{tfParamName:"ksize",dlParamName:"kernelSize",type:"number[]"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool",dlOpName:"maxPool",category:"convolution",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"strides",dlParamName:"strides",type:"number[]"},{tfParamName:"padding",dlParamName:"pad",type:"string"},{tfParamName:"data_format",dlParamName:"dataFormat",type:"string",notSupported:!0},{tfParamName:"ksize",dlParamName:"kernelSize",type:"number[]"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Conv1D",dlOpName:"conv1d",category:"convolution",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"filter",type:"tensor"},{tfParamName:"stride",dlParamName:"stride",type:"number"},{tfParamName:"padding",dlParamName:"pad",type:"string"},{tfParamName:"data_format",dlParamName:"dataFormat",type:"string",defaultValue:"NWC"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0},{tfParamName:"dilation",dlParamName:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",dlOpName:"conv2d",category:"convolution",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"filter",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0},{tfParamName:"strides",dlParamName:"strides",type:"number[]"},{tfParamName:"padding",dlParamName:"pad",type:"string"},{tfParamName:"useCudnnOnGpu",dlParamName:"useCudnnOnGpu",type:"bool"},{tfParamName:"data_format",dlParamName:"dataFormat",type:"string",defaultValue:"NHWC"},{tfParamName:"dilations",dlParamName:"dilations",type:"number[]"}]},{tfOpName:"Conv2DBackpropInput",dlOpName:"conv2dTranspose",category:"convolution",params:[{tfInputIndex:2,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"filter",type:"tensor"},{tfInputIndex:0,dlParamName:"outputShape",type:"number[]"},{tfParamName:"strides",dlParamName:"strides",type:"number[]"},{tfParamName:"padding",dlParamName:"pad",type:"string"},{tfParamName:"data_format",dlParamName:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"DepthwiseConv2d",dlOpName:"depthwiseConv2d",category:"convolution",params:[{tfInputIndex:0,dlParamName:"input",type:"tensor"},{tfInputIndex:1,dlParamName:"filter",type:"tensor"},{tfParamName:"strides",dlParamName:"strides",type:"number[]"},{tfParamName:"padding",dlParamName:"pad",type:"string"},{tfParamName:"data_format",dlParamName:"dataFormat",type:"string",defaultValue:"NHWC"},{tfParamName:"dilations",dlParamName:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",dlOpName:"depthwiseConv2d",category:"convolution",params:[{tfInputIndex:0,dlParamName:"input",type:"tensor"},{tfInputIndex:1,dlParamName:"filter",type:"tensor"},{tfParamName:"strides",dlParamName:"strides",type:"number[]"},{tfParamName:"padding",dlParamName:"pad",type:"string"},{tfParamName:"data_format",dlParamName:"dataFormat",type:"string",defaultValue:"NHWC"},{tfParamName:"dilations",dlParamName:"dilations",type:"number[]"}]}]},{}],34:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.json=[{tfOpName:"Fill",dlOpName:"fill",category:"creation",params:[{tfInputIndex:0,dlParamName:"shape",type:"number[]"},{tfInputIndex:1,dlParamName:"value",type:"number"},{tfParamName:"T",dlParamName:"dtype",type:"dtype"}]},{tfOpName:"LinSpace",dlOpName:"linspace",category:"creation",params:[{tfInputIndex:0,dlParamName:"start",type:"number"},{tfInputIndex:1,dlParamName:"stop",type:"number"},{tfInputIndex:2,dlParamName:"num",type:"number"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"OneHot",dlOpName:"oneHot",category:"creation",params:[{tfInputIndex:0,
dlParamName:"indices",type:"tensor"},{tfInputIndex:1,dlParamName:"depth",type:"number"},{tfInputIndex:2,dlParamName:"onValue",type:"number",defaultValue:1},{tfInputIndex:3,dlParamName:"offValue",type:"number",defaultValue:0},{tfParamName:"axis",dlParamName:"axis",type:"number",notSupported:!0},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ones",dlOpName:"ones",category:"creation",params:[{tfInputIndex:0,dlParamName:"shape",type:"number[]"},{tfParamName:"T",dlParamName:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",dlOpName:"onesLike",category:"creation",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"dtype",dlParamName:"dtype",type:"dtype"}]},{tfOpName:"RandomUniform",dlOpName:"randomUniform",category:"creation",params:[{tfInputIndex:0,dlParamName:"shape",type:"number[]"},{tfParamName:"minval",dlParamName:"minval",type:"number",defaultValue:0},{tfParamName:"maxval",dlParamName:"maxval",type:"number",defaultValue:1},{tfParamName:"dtype",dlParamName:"dtype",type:"dtype"},{tfParamName:"seed",dlParamName:"seed",type:"number",defaultValue:0},{tfParamName:"seed2",dlParamName:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfParamName:"T",dlParamName:"T",type:"number",notSupported:!0}]},{tfOpName:"Range",dlOpName:"range",category:"creation",params:[{tfInputIndex:0,dlParamName:"start",type:"number"},{tfInputIndex:1,dlParamName:"stop",type:"number"},{tfInputIndex:2,dlParamName:"step",type:"number",defaultValue:0},{tfParamName:"Tidx",dlParamName:"dtype",type:"dtype"}]},{tfOpName:"truncatedNormal",dlOpName:"truncatedNormal",category:"creation",params:[{tfInputIndex:0,dlParamName:"shape",type:"number[]"},{tfParamName:"means",dlParamName:"mean",type:"number",defaultValue:0},{tfParamName:"stddev",dlParamName:"stdDev",type:"number",defaultValue:1},{tfParamName:"seed",dlParamName:"seed",type:"number"},{tfParamName:"seed2",dlParamName:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfParamName:"dtype",dlParamName:"dtype",type:"dtype"},{tfParamName:"T",dlParamName:"T",type:"number",notSupported:!0}]},{tfOpName:"Zeros",dlOpName:"zeros",category:"creation",params:[{tfInputIndex:0,dlParamName:"shape",type:"number[]"},{tfParamName:"T",dlParamName:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",dlOpName:"zerosLike",category:"creation",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype"}]}]},{}],35:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.json=[{tfOpName:"NonMaxSuppressionV2",dlOpName:"nonMaxSuppression",category:"dynamic",params:[{tfInputIndex:0,dlParamName:"boxes",type:"tensor"},{tfInputIndex:1,dlParamName:"scores",type:"tensor"},{tfInputIndex:2,dlParamName:"maxOutputSize",type:"number"},{tfInputIndex:3,dlParamName:"iouThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV3",dlOpName:"nonMaxSuppression",category:"dynamic",params:[{tfInputIndex:0,dlParamName:"boxes",type:"tensor"},{tfInputIndex:1,dlParamName:"scores",type:"tensor"},{tfInputIndex:2,dlParamName:"maxOutputSize",type:"number"},{tfInputIndex:3,dlParamName:"iouThreshold",type:"number"},{tfInputIndex:4,dlParamName:"scoreThreshold",type:"number"}]},{tfOpName:"Where",dlOpName:"whereAsync",category:"dynamic",params:[{tfInputIndex:0,dlParamName:"condition",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]}]},{}],36:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.json=[{tfOpName:"TopKV2",dlOpName:"topK",category:"evaluation",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"k",type:"number"},{tfParamName:"sorted",dlParamName:"sorted",type:"bool"}]}]},{}],37:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.json=[{tfOpName:"PlaceholderWithDefault",dlOpName:"placeholder",category:"graph",params:[{tfInputIndex:0,dlParamName:"default",type:"tensor"},{tfParamName:"shape",dlParamName:"shape",type:"shape"},{tfParamName:"dtype",dlParamName:"dtype",type:"dtype"}]},{tfOpName:"Placeholder",dlOpName:"placeholder",category:"graph",params:[{tfParamName:"shape",dlParamName:"shape",type:"shape"},{tfParamName:"dtype",dlParamName:"dtype",type:"dtype"}]},{tfOpName:"Const",dlOpName:"const",category:"graph"},{tfOpName:"Identity",dlOpName:"identity",category:"graph",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"}]},{tfOpName:"Snapshot",dlOpName:"snapshot",category:"graph",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"}]},{tfOpName:"Rank",dlOpName:"rank",category:"graph",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"}]},{tfOpName:"Size",dlOpName:"size",category:"graph",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"}]},{tfOpName:"Shape",dlOpName:"shape",category:"graph",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"}]},{tfOpName:"Print",dlOpName:"print",category:"graph",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,tfInputParamLength:1,dlParamName:"data",type:"tensors"},{tfParamName:"message",dlParamName:"message",type:"string"},{tfParamName:"first_n",dlParamName:"firstN",type:"number",notSupprted:!0},{tfParamName:"summarize",dlParamName:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",dlOpName:"noop",category:"graph",params:[]},{tfOpName:"StopGradient",dlOpName:"stopGradient",category:"graph",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",dlOpName:"fakeQuantWithMinMaxVars",category:"graph",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"min",dlParamName:"min",type:"number"},{tfParamName:"max",dlParamName:"max",type:"number"}]}]},{}],38:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.json=[{tfOpName:"ResizeBilinear",dlOpName:"resizeBilinear",category:"image",params:[{tfInputIndex:0,dlParamName:"images",type:"tensor"},{tfInputIndex:1,dlParamName:"size",type:"number[]"},{tfParamName:"align_corners",dlParamName:"alignCorners",type:"bool"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ResizeNearestNeighbor",dlOpName:"resizeNearestNeighbor",category:"image",params:[{tfInputIndex:0,dlParamName:"images",type:"tensor"},{tfInputIndex:1,dlParamName:"size",type:"number[]"},{tfParamName:"align_corners",dlParamName:"alignCorners",type:"bool"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]}]},{}],39:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.json=[{tfOpName:"Equal",dlOpName:"equal",category:"logical",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NotEqual",dlOpName:"notEqual",category:"logical",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Greater",dlOpName:"greater",category:"logical",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"GreaterEqual",dlOpName:"greaterEqual",category:"logical",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Less",dlOpName:"less",category:"logical",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LessEqual",dlOpName:"lessEqual",category:"logical",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalAnd",dlOpName:"logicalAnd",category:"logical",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalNot",dlOpName:"logicalNot",category:"logical",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalOr",dlOpName:"logicalOr",category:"logical",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Select",dlOpName:"where",category:"logical",params:[{tfInputIndex:0,dlParamName:"condition",type:"tensor"},{tfInputIndex:1,dlParamName:"a",type:"tensor"},{tfInputIndex:2,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]}]},{}],40:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.json=[{tfOpName:"MatMul",dlOpName:"matMul",category:"matrices",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"transpose_a",dlParamName:"transposeA",type:"bool",defaultValue:!1},{tfParamName:"transpose_b",dlParamName:"transposeB",type:"bool",defaultValue:!1},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Transpose",dlOpName:"transpose",category:"matrices",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"perm",type:"number[]"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]}]},{}],41:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.json=[{tfOpName:"FusedBatchNorm",dlOpName:"batchNormalization",category:"normalization",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"scale",type:"tensor"},{tfInputIndex:2,dlParamName:"offset",type:"tensor"},{tfInputIndex:3,dlParamName:"mean",type:"tensor"},{tfInputIndex:4,dlParamName:"variance",type:"tensor"},{tfParamName:"epsilon",dlParamName:"epsilon",type:"number",defaultValue:.001},{tfParamName:"data_format",dlParamName:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV2",dlOpName:"batchNormalization",category:"normalization",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"scale",type:"tensor"},{tfInputIndex:2,dlParamName:"offset",type:"tensor"},{tfInputIndex:3,dlParamName:"mean",type:"tensor"},{tfInputIndex:4,dlParamName:"variance",type:"tensor"},{tfParamName:"epsilon",dlParamName:"epsilon",type:"number",defaultValue:.001},{tfParamName:"data_format",dlParamName:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"LRN",dlOpName:"localResponseNormalization",category:"normalization",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"depth_radius",dlParamName:"radius",type:"number",defaultValue:5},{tfParamName:"bias",dlParamName:"bias",type:"number",defaultValue:1},{tfParamName:"alpha",dlParamName:"alpha",type:"number",defaultValue:1},{tfParamName:"beta",dlParamName:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",dlOpName:"softmax",category:"normalization",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"}]}]},{}],42:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.json=[{tfOpName:"Max",dlOpName:"max",category:"reduction",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"axis",type:"number[]"},{tfParamName:"keep_dims",dlParamName:"keepDims",type:"bool"}]},{tfOpName:"Mean",dlOpName:"mean",category:"reduction",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"axis",type:"number[]"},{tfParamName:"keep_dims",dlParamName:"keepDims",type:"bool"}]},{tfOpName:"Min",dlOpName:"min",category:"reduction",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"axis",type:"number[]"},{tfParamName:"keep_dims",dlParamName:"keepDims",type:"bool"}]},{tfOpName:"Sum",dlOpName:"sum",category:"reduction",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"axis",type:"number[]"},{tfParamName:"keep_dims",dlParamName:"keepDims",type:"bool"}]},{tfOpName:"All",dlOpName:"all",category:"reduction",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"axis",type:"number[]"},{tfParamName:"keep_dims",dlParamName:"keepDims",type:"bool"}]},{tfOpName:"Any",dlOpName:"any",category:"reduction",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"axis",type:"number[]"},{tfParamName:"keep_dims",dlParamName:"keepDims",type:"bool"}]},{tfOpName:"ArgMax",dlOpName:"argMax",category:"reduction",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"axis",type:"number"}]},{tfOpName:"ArgMin",dlOpName:"argMin",category:"reduction",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"axis",type:"number"}]}]},{}],43:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.json=[{tfOpName:"ConcatV2",dlOpName:"concat",category:"slice_join",params:[{tfInputIndex:0,tfInputParamLength:1,dlParamName:"tensors",type:"tensors"},{tfInputIndex:-1,dlParamName:"axis",type:"number"}]},{tfOpName:"Concat",dlOpName:"concat",category:"slice_join",params:[{tfInputIndex:1,tfInputParamLength:1,dlParamName:"tensors",type:"tensors"},{tfInputIndex:0,dlParamName:"axis",type:"number"}]},{tfOpName:"GatherV2",dlOpName:"gather",category:"slice_join",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"indices",type:"tensor"},{tfParamName:"axis",dlParamName:"axis",type:"number",defaultValue:0}]},{tfOpName:"Gather",dlOpName:"gather",category:"slice_join",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"indices",type:"tensor"},{tfParamName:"axis",dlParamName:"axis",type:"number",defaultValue:0},{tfParamName:"validate_indices",dlParamName:"validateIndices",type:"bool",notSupported:!0}]},{tfOpName:"Reverse",dlOpName:"reverse",category:"slice_join",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"axis",type:"number"}]},{tfOpName:"ReverseV2",dlOpName:"reverse",category:"slice_join",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"axis",type:"number"}]},{tfOpName:"Slice",dlOpName:"slice",category:"slice_join",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"begin",type:"number[]"},{tfInputIndex:2,dlParamName:"size",type:"number[]"}]},{tfOpName:"StridedSlice",dlOpName:"stridedSlice",category:"slice_join",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"begin",type:"number[]"},{tfInputIndex:2,dlParamName:"end",type:"number[]"},{tfInputIndex:3,dlParamName:"strides",type:"number[]"},{tfParamName:"begin_mask",dlParamName:"beginMask",type:"number",defaultValue:0},{tfParamName:"end_mask",dlParamName:"endMask",type:"number",defaultValue:0},{tfParamName:"new_axis_mask",dlParamName:"newAxisMask",type:"number",defaultValue:0},{tfParamName:"ellipsis_mask",dlParamName:"ellipsisMask",type:"number",defaultValue:0},{tfParamName:"shrink_axis_mask",dlParamName:"shrinkAxisMask",type:"number",defaultValue:0}]},{tfOpName:"Pack",dlOpName:"stack",category:"slice_join",params:[{tfInputIndex:0,tfInputParamLength:0,dlParamName:"tensors",type:"tensors"},{tfParamName:"axis",dlParamName:"axis",type:"number",defaultValue:0}]},{tfOpName:"Unpack",dlOpName:"unstack",category:"slice_join",params:[{tfInputIndex:0,tfInputParamLength:0,dlParamName:"tensor",type:"tensor"},{tfParamName:"axis",dlParamName:"axis",type:"number",defaultValue:0},{tfParamName:"num",dlParamName:"num",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Tile",dlOpName:"tile",category:"slice_join",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"reps",type:"number[]"}]},{tfOpName:"Split",dlOpName:"split",category:"slice_join",params:[{tfInputIndex:0,dlParamName:"axis",type:"number",defaultValue:0},{tfInputIndex:1,dlParamName:"x",type:"tensor"},{tfParamName:"num_split",dlParamName:"numOrSizeSplits",type:"number",defaultValue:1}]}]},{}],44:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.json=[{tfOpName:"Cast",dlOpName:"cast",category:"transformation",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"SrcT",dlParamName:"sdtype",type:"dtype",notSupported:!0},{tfParamName:"DstT",dlParamName:"dtype",type:"dtype"}]},{tfOpName:"ExpandDims",dlOpName:"expandDims",category:"transformation",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,tfParamNameDeprecated:"dim",dlParamName:"axis",type:"number"}]},{tfOpName:"Pad",dlOpName:"pad",category:"transformation",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"padding",type:"number[]"},{tfParamName:"constant_value",dlParamName:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"PadV2",dlOpName:"pad",category:"transformation",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"padding",type:"number[]"},{tfInputIndex:2,dlParamName:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"Reshape",dlOpName:"reshape",category:"transformation",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"shape",type:"number[]"}]},{tfOpName:"Squeeze",dlOpName:"squeeze",category:"transformation",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"axis",tfParamNameDeprecated:"squeeze_dims",dlParamName:"axis",type:"number[]"}]},{tfOpName:"SpaceToBatchND",dlOpName:"spaceToBatchND",category:"transformation",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"blockShape",type:"number[]"},{tfInputIndex:2,dlParamName:"paddings",type:"number[]"}]},{tfOpName:"BatchToSpaceND",dlOpName:"batchToSpaceND",category:"transformation",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"blockShape",type:"number[]"},{tfInputIndex:2,dlParamName:"crops",type:"number[]"}]}]},{}],45:[function(e,t,r){"use strict";function n(e,t,r){switch(e.category){case"arithmetic":return o.executeOp(e,t,r);case"basic_math":return a.executeOp(e,t,r);case"control":return i.executeOp(e,t,r);case"convolution":return s.executeOp(e,t,r);case"creation":return u.executeOp(e,t,r);case"dynamic":return l.executeOp(e,t,r);case"evaluation":return p.executeOp(e,t,r);case"image":return f.executeOp(e,t,r);case"graph":return c.executeOp(e,t,r);case"logical":return h.executeOp(e,t,r);case"matrices":return d.executeOp(e,t,r);case"normalization":return m.executeOp(e,t,r);case"reduction":return g.executeOp(e,t,r);case"slice_join":return v.executeOp(e,t,r);case"transformation":return y.executeOp(e,t,r);default:throw TypeError("Node type "+e.op+" is not implemented")}}Object.defineProperty(r,"__esModule",{value:!0});var o=e("./executors/arithmetic_executor"),a=e("./executors/basic_math_executor"),i=e("./executors/control_executor"),s=e("./executors/convolution_executor"),u=e("./executors/creation_executor"),l=e("./executors/dynamic_executor"),p=e("./executors/evaluation_executor"),c=e("./executors/graph_executor"),f=e("./executors/image_executor"),h=e("./executors/logical_executor"),d=e("./executors/matrices_executor"),m=e("./executors/normalization_executor"),g=e("./executors/reduction_executor"),v=e("./executors/slice_join_executor"),y=e("./executors/transformation_executor");r.executeOp=n},{"./executors/arithmetic_executor":14,"./executors/basic_math_executor":15,"./executors/control_executor":16,"./executors/convolution_executor":17,"./executors/creation_executor":18,"./executors/dynamic_executor":19,"./executors/evaluation_executor":20,"./executors/graph_executor":21,"./executors/image_executor":22,"./executors/logical_executor":23,"./executors/matrices_executor":24,"./executors/normalization_executor":25,"./executors/reduction_executor":26,"./executors/slice_join_executor":27,"./executors/transformation_executor":28}],46:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("../data/compiled_api"),o=e("./executors/utils"),a=e("./op_list/arithmetic"),i=e("./op_list/basic_math"),s=e("./op_list/control"),u=e("./op_list/convolution"),l=e("./op_list/creation"),p=e("./op_list/dynamic"),c=e("./op_list/evaluation"),f=e("./op_list/graph"),h=e("./op_list/image"),d=e("./op_list/logical"),m=e("./op_list/matrices"),g=e("./op_list/normalization"),v=e("./op_list/reduction"),y=e("./op_list/slice_join"),x=e("./op_list/transformation"),b=["Switch","Merge","Enter","Exit","NextIteration"],_=["NonMaxSuppressionV2","NonMaxSuppressionV3","Where"],w=function(){function e(){var e=[a,i,s,u,l,p,c,d,h,f,m,g,v,y,x],t=[].concat.apply([],e.map(function(e){return e.json}));this.opMappers=t.reduce(function(e,t){return e[t.tfOpName]=t,e},{})}return Object.defineProperty(e,"Instance",{get:function(){return this._instance||(this._instance=new this)},enumerable:!0,configurable:!0}),e.prototype.isControlFlow=function(e){return b.some(function(t){return t===e.op})},e.prototype.isDynamicShape=function(e){return _.some(function(t){return t===e.op})},e.prototype.transformGraph=function(e){var t=this,r=e.node,n=!1,a=!1,i=[],s=r.reduce(function(e,r){return e[r.name]=t.mapNode(r),t.isControlFlow(r)&&(n=!0),t.isDynamicShape(r)&&(a=!0),"Placeholder"===r.op&&i.push(e[r.name]),e},{}),u=[],l=[];return Object.keys(s).forEach(function(e){var t=s[e];t.inputNames.forEach(function(e){var r=o.getNodeNameAndIndex(e)[0];t.inputs.push(s[r]),s[r].children.push(t)}),0===t.inputs.length&&u.push(t)}),Object.keys(s).forEach(function(e){var t=s[e];0===t.children.length&&l.push(t)}),{nodes:s,inputs:u,outputs:l,placeholders:i,withControlFlow:n,withDynamicShape:a}},e.prototype.mapNode=function(e){var t=this,r=this.opMappers[e.op];if(void 0===r)throw new Error("Tensorflow Op is not supported: "+e.op);var n={name:e.name,op:r.dlOpName,category:r.category,inputNames:(e.input||[]).map(function(e){return e.startsWith("^")?e.substr(1):e}),inputs:[],children:[],params:{}};return r.params&&(n.params=r.params.reduce(function(r,n){var o=n.tfInputIndex,a=n.tfInputParamLength,i=n.type,s=void 0;if(void 0===o)switch(n.type){case"string":s=t.getStringParam(e.attr,n.tfParamName,n.defaultValue),void 0===s&&n.tfParamNameDeprecated&&(s=t.getStringParam(e.attr,n.tfParamNameDeprecated,n.defaultValue));break;case"number":s=t.getNumberParam(e.attr,n.tfParamName,n.defaultValue),void 0===s&&n.tfParamNameDeprecated&&(s=t.getNumberParam(e.attr,n.tfParamNameDeprecated,n.defaultValue));break;case"number[]":s=t.getNumericArrayParam(e.attr,n.tfParamName,n.defaultValue),void 0===s&&n.tfParamNameDeprecated&&(s=t.getNumericArrayParam(e.attr,n.tfParamNameDeprecated,n.defaultValue));break;case"bool":s=t.getBoolParam(e.attr,n.tfParamName,n.defaultValue),void 0===s&&n.tfParamNameDeprecated&&(s=t.getBoolParam(e.attr,n.tfParamNameDeprecated,n.defaultValue));break;case"shape":s=t.getTensorShapeParam(e.attr,n.tfParamName,n.defaultValue),void 0===s&&n.tfParamNameDeprecated&&(s=t.getTensorShapeParam(e.attr,n.tfParamNameDeprecated,n.defaultValue));break;case"dtype":s=t.getDtypeParam(e.attr,n.tfParamName,n.defaultValue),void 0===s&&n.tfParamNameDeprecated&&(s=t.getDtypeParam(e.attr,n.tfParamNameDeprecated,n.defaultValue));break;case"tensor":case"tensors":break;default:throw new Error("Unsupported param type: "+n.type+" for op: "+e.op)}return r[n.dlParamName]={value:s,inputIndex:o,type:i,inputParamLength:a},r},{})),n},e.prototype.getStringParam=function(e,t,r,n){void 0===n&&(n=!1);var o=e[t];if(void 0!==o){var a=String.fromCharCode.apply(null,o.s);return n?a:a.toLowerCase()}return r},e.prototype.getBoolParam=function(e,t,r){var n=e[t];return n?n.b:r},e.prototype.getNumberParam=function(e,t,r){var n=e[t],o=n?n[n.value]:r;return"number"==typeof o?o:o.toInt()},e.prototype.getDtypeParam=function(e,t,r){var o=e[t];if(o&&o.type)switch(o.type){case n.tensorflow.DataType.DT_FLOAT:return"float32";case n.tensorflow.DataType.DT_INT32:return"int32";case n.tensorflow.DataType.DT_BOOL:return"bool";default:return r}return r},e.prototype.getTensorShapeParam=function(e,t,r){var n=e[t];return n&&n.shape?n.shape.dim.map(function(e){return"number"==typeof e.size?e.size:e.size.toInt()}):r},e.prototype.getNumericArrayParam=function(e,t,r){var n=e[t];return n?(n.list.f&&n.list.f.length?n.list.f:n.list.i).map(function(e){return"number"==typeof e?e:e.toInt()}):r},e}();r.OperationMapper=w},{"../data/compiled_api":8,"./executors/utils":29,"./op_list/arithmetic":30,"./op_list/basic_math":31,"./op_list/control":32,"./op_list/convolution":33,"./op_list/creation":34,"./op_list/dynamic":35,"./op_list/evaluation":36,"./op_list/graph":37,"./op_list/image":38,"./op_list/logical":39,"./op_list/matrices":40,"./op_list/normalization":41,"./op_list/reduction":42,"./op_list/slice_join":43,"./op_list/transformation":44}],47:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n="0.5.9";r.version=n},{}],48:[function(e,t,r){(function(e){"use strict";function t(){return new Promise(function(e){return n(function(){return e()})})}Object.defineProperty(r,"__esModule",{value:!0});var n="undefined"!=typeof requestAnimationFrame?requestAnimationFrame:e;r.nextFrame=t}).call(this,e("timers").setImmediate)},{timers:216}],49:[function(e,t,r){"use strict";function n(){var e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))}Object.defineProperty(r,"__esModule",{value:!0}),r.isMobile=n},{}],50:[function(e,t,r){"use strict";function n(e){var t=c.makeOnesTypedArray(c.sizeFromShape(e),"float32");return u.Tensor.make(e,{values:t})}var o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{u(n.next(e))}catch(e){a(e)}}function s(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,s)}u((n=n.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){function r(e){return function(t){return n([e,t])}}function n(r){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,a&&(i=2&r[0]?a.return:r[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,r[1])).done)return i;switch(a=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return u.label++,{value:r[1],done:!1};case 5:u.label++,a=r[1],r=[0];continue;case 7:r=u.ops.pop(),u.trys.pop();continue;default:if(i=u.trys,!(i=i.length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){u=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){u.label=r[1];break}if(6===r[0]&&u.label<i[1]){u.label=i[1],i=r;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(r);break}i[2]&&u.ops.pop(),u.trys.pop();continue}r=t.call(e,u)}catch(e){r=[6,e],a=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var o,a,i,s,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(r,"__esModule",{value:!0});var i=e("./profiler"),s=e("./tape"),u=e("./tensor"),l=e("./tensor_util"),p=e("./util"),c=e("./util"),f=function(){function e(e,t,r){this.backend=e,this.safeMode=t,this.debugMode=r,this.registeredVariables={},this.refCounter=new WeakMap,this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numDataBuffers=0,this.gradientScopeCount=0,this.customGradientDepth=0,this.keepTensors=new Set,this.activeScope={track:[],name:"default scope"},this.scopeStack=[this.activeScope],this.profiler=new i.Profiler(e)}return e.prototype.tidy=function(e,t,r){var n=this;void 0===r&&(r=!1);var o=null;if(null==t){if("function"!=typeof e)throw new Error("Please provide a function to tidy()");t=e}else{if("string"!=typeof e&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if("function"!=typeof t)throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");o=e}var a;return this.scopedRun(function(){return n.startScope(o,r)},function(){return n.endScope(a,r)},function(){return a=t(),a instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),a})},e.prototype.scopedRun=function(e,t,r){e();try{var n=r();return t(),n}catch(e){throw t(),e}},e.prototype.runKernel=function(e,t,r){var n,o=this,a=[],i=function(e){return a.push(e),e},s=this.activeScope.name;if(this.scopedRun(function(){return o.customGradientDepth++},function(){return o.customGradientDepth--},function(){n=o.debugMode()?o.profiler.profileKernel(s,function(){return e(o.backend,i)}):e(o.backend,i)}),this.shouldRecord()){var u={id:this.nextTapeNodeId++,name:s,inputs:t,outputs:Array.isArray(n)?n:[n]};null!=r&&(u.gradient=function(e){return r(e,a)}),this.activeTape.push(u)}return n},e.prototype.registerTensor=function(e){var t=this.refCounter.has(e.dataId)?this.refCounter.get(e.dataId):0;this.numTensors++,0===t&&(this.numDataBuffers++,"complex64"!==e.dtype&&(this.numBytes+=p.sizeFromShape(e.shape)*p.bytesPerElement(e.dtype)),this.backend.register(e.dataId,e.shape,e.dtype)),this.refCounter.set(e.dataId,t+1),e instanceof u.Variable||this.track(e)},e.prototype.registerVariable=function(e){if(null!=this.registeredVariables[e.name])throw new Error("Variable with name "+e.name+" was already registered");this.registeredVariables[e.name]=e},e.prototype.disposeTensor=function(e){if(this.refCounter.has(e.dataId)){this.keepTensors.has(e.id)&&this.keepTensors.delete(e.id),this.numTensors--;var t=this.refCounter.get(e.dataId);t<=1?(this.refCounter.delete(e.dataId),this.backend.disposeData(e.dataId),this.numDataBuffers--,"complex64"!==e.dtype&&(this.numBytes-=p.sizeFromShape(e.shape)*p.bytesPerElement(e.dtype))):this.refCounter.set(e.dataId,t-1)}},e.prototype.disposeVariables=function(){for(var e in this.registeredVariables){var t=this.registeredVariables[e];this.disposeTensor(t),delete this.registeredVariables[e];
}},e.prototype.memory=function(){var e=this.backend.memory();return e.numTensors=this.numTensors,e.numDataBuffers=this.numDataBuffers,e.numBytes=this.numBytes,e},e.prototype.shouldRecord=function(){return null!=this.activeTape&&0===this.customGradientDepth},e.prototype.addTapeNode=function(e,t,r){var n={};e.forEach(function(e,t){n[t]=e});var o=function(e){var t=r(e),n={};return t.forEach(function(e,t){n[t]=function(){return e}}),n},a={id:this.nextTapeNodeId++,name:this.activeScope.name,inputs:n,outputs:[t],gradient:o};this.activeTape.push(a)},e.prototype.keep=function(e){if(1===this.scopeStack.length&&this.safeMode)throw new Error("Safe mode is ON. Enclose all tensor operations inside tf.tidy(): tf.tidy(() => {...}) to avoid memory leaks.");return this.keepTensors.add(e.id),e},e.prototype.startScope=function(e,t){void 0===t&&(t=!1),t&&0===this.gradientScopeCount&&(this.activeTape=[]),t&&this.gradientScopeCount++;var r={track:[],name:"unnamed scope"};e&&(r.name=e),this.scopeStack.push(r),this.activeScope=r},e.prototype.endScope=function(e,t){var r=this;void 0===t&&(t=!1),t&&(this.gradientScopeCount--,0===this.gradientScopeCount&&(this.activeTape=null));var n=new Set(this.keepTensors),o=l.getTensorsInContainer(e);o.forEach(function(e){return n.add(e.id)});for(var a=0;a<this.activeScope.track.length;a++){var i=this.activeScope.track[a];n.has(i.id)||(null!=this.activeTape?o.push(i):i.dispose())}var s=this.scopeStack.pop();this.activeScope=0===this.scopeStack.length?{track:[],name:"default scope"}:this.scopeStack[this.scopeStack.length-1],o.forEach(function(e){!r.keepTensors.has(e.id)&&l.isTensorInList(e,s.track)&&r.track(e)})},e.prototype.gradients=function(e,t,r,o){var a=this;return void 0===o&&(o=!1),p.assert(t.length>0,"gradients() received an empty list of xs."),this.tidy("gradients",function(){var i=e();p.assert(i instanceof u.Tensor,"The result y returned by f() must be a tensor.");var l=s.getFilteredNodesXToY(a.activeTape,t,i);if(!o&&0===l.length&&t.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");var c={};c[i.id]=null==r?n(i.shape):r,s.backpropagateGradients(c,l);var f=t.map(function(e){return c[e.id]});return{value:i,grads:f}},!0)},e.prototype.customGrad=function(e){var t=this;return p.assert(p.isFunction(e),"The f passed in customGrad(f) must be a function."),function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];p.assert(r.every(function(e){return e instanceof u.Tensor}),"The args passed in customGrad(f)(x1, x2,...) must all be tensors");var o,a;if(t.scopedRun(function(){return t.customGradientDepth++},function(){return t.customGradientDepth--},function(){var n=!0;a=t.tidy(e.name,function(){var t=e.apply(void 0,r),n=t.value,a=t.gradFunc;return p.assert(n instanceof u.Tensor,"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"),p.assert(p.isFunction(a),"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."),o=a,n},n)}),t.shouldRecord()){var i=function(e){var t=o(e),n=Array.isArray(t)?t:[t];return p.assert(n.length===r.length,"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."),p.assert(n.every(function(e){return e instanceof u.Tensor}),"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."),n};t.addTapeNode(r,a,i)}return a}},e.prototype.write=function(e,t){this.backend.write(e,t)},e.prototype.readSync=function(e){return this.backend.readSync(e)},e.prototype.read=function(e){return this.backend.read(e)},e.prototype.fromPixels=function(e,t){return this.backend.fromPixels(e,t)},e.prototype.time=function(e){return o(this,void 0,void 0,function(){var t,r;return a(this,function(n){switch(n.label){case 0:return t=c.now(),[4,this.backend.time(e)];case 1:return r=n.sent(),r.wallMs=c.now()-t,[2,r]}})})},e.prototype.track=function(e){if(1===this.scopeStack.length&&this.safeMode)throw new Error("Safe mode is ON. Enclose all tensor operations inside tf.tidy(): tf.tidy(() => {op();...}); to avoid memory leaks.");return this.activeScope.track.push(e),e},e}();r.Engine=f},{"./profiler":171,"./tape":173,"./tensor":174,"./tensor_util":176,"./util":181}],51:[function(e,t,r){(function(t){"use strict";function n(){var e;if("undefined"!=typeof window)e=window;else{if("undefined"==typeof t)throw new Error("Could not find a global object");e=t}return e}function o(){var e=n();return null==e.ENV&&(e.ENV=new d(s.getFeaturesFromURL()),u.setTensorTracker(function(){return e.ENV.engine})),e.ENV}Object.defineProperty(r,"__esModule",{value:!0});var a=e("./device_util"),i=e("./engine"),s=e("./environment_util"),u=e("./tensor"),l=e("./tensor_util"),p=.001,c=.1,f=1e-7,h=.001,d=function(){function e(e){this.features={},this.engines={},this.registry={},null!=e&&(this.features=e),this.get("DEBUG")&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")}return e.setBackend=function(e,t){if(void 0===t&&(t=!1),!(e in r.ENV.registry))throw new Error("Backend name '"+e+"' not found in registry");r.ENV.initBackend(e,t)},e.getBackend=function(){return r.ENV.initDefaultBackend(),r.ENV.backendName},e.disposeVariables=function(){r.ENV.engine.disposeVariables()},e.memory=function(){return r.ENV.engine.memory()},e.tidy=function(e,t,n){return void 0===n&&(n=!1),r.ENV.engine.tidy(e,t,n)},e.dispose=function(e){var t=l.getTensorsInContainer(e);t.forEach(function(e){return e.dispose()})},e.keep=function(e){return r.ENV.engine.keep(e)},e.time=function(e){return r.ENV.engine.time(e)},e.prototype.get=function(e){return e in this.features?this.features[e]:(this.features[e]=this.evaluateFeature(e),this.features[e])},e.prototype.getFeatures=function(){return this.features},e.prototype.set=function(e,t){this.features[e]=t},e.prototype.getBestBackendName=function(){var e=this;if(0===Object.keys(this.registry).length)throw new Error("No backend found in registry.");var t=Object.keys(this.registry).map(function(t){return{name:t,entry:e.registry[t]}}).sort(function(e,t){return t.entry.priority-e.entry.priority});return t[0].name},e.prototype.evaluateFeature=function(e){if("DEBUG"===e)return!1;if("IS_BROWSER"===e)return"undefined"!=typeof window;if("IS_NODE"===e)return"undefined"!=typeof t&&"undefined"!=typeof t.versions.node;if("IS_CHROME"===e)return s.isChrome();if("IS_TEST"===e)return!1;if("BACKEND"===e)return this.getBestBackendName();if("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"===e){var r=this.get("WEBGL_VERSION");return 0===r?0:r>0?0:s.getWebGLDisjointQueryTimerVersion(r,this.get("IS_BROWSER"))}if("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE"===e)return this.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&!a.isMobile();if("HAS_WEBGL"===e)return this.get("WEBGL_VERSION")>0;if("WEBGL_VERSION"===e)return s.isWebGLVersionEnabled(2,this.get("IS_BROWSER"))?2:s.isWebGLVersionEnabled(1,this.get("IS_BROWSER"))?1:0;if("WEBGL_RENDER_FLOAT32_ENABLED"===e)return s.isRenderToFloatTextureEnabled(this.get("WEBGL_VERSION"),this.get("IS_BROWSER"));if("WEBGL_DOWNLOAD_FLOAT_ENABLED"===e)return s.isDownloadFloatTextureEnabled(this.get("WEBGL_VERSION"),this.get("IS_BROWSER"));if("WEBGL_FENCE_API_ENABLED"===e)return s.isWebGLFenceEnabled(this.get("WEBGL_VERSION"),this.get("IS_BROWSER"));if("TEST_EPSILON"===e)return 32===this.backend.floatPrecision()?h:c;if("EPSILON"===e)return 32===this.backend.floatPrecision()?f:p;throw new Error("Unknown feature "+e+".")},e.prototype.setFeatures=function(e){this.features=Object.assign({},e)},e.prototype.reset=function(){this.features=s.getFeaturesFromURL(),null!=this.globalEngine&&(this.globalEngine=null)},e.prototype.initBackend=function(e,t){var r=this;if(void 0===t&&(t=!1),this.backendName=e,this.engines[e])this.globalEngine=this.engines[e];else{var n=this.findBackend(e);this.globalEngine=new i.Engine(n,t,function(){return r.get("DEBUG")}),this.engines[e]=this.globalEngine}},Object.defineProperty(e.prototype,"backend",{get:function(){return this.engine.backend},enumerable:!0,configurable:!0}),e.prototype.findBackend=function(e){return e in this.registry?this.registry[e].backend:null},e.prototype.registerBackend=function(e,t,r,n){var o=this;if(void 0===r&&(r=1),e in this.registry)return console.warn(e+" backend was already registered. Reusing existing backend"),null!=n&&n(function(){return o.engine}),!1;try{var a=t();return this.registry[e]={backend:a,priority:r},!0}catch(t){return console.warn("Registration of backend "+e+" failed"),console.warn(t.stack||t.message),!1}},e.prototype.removeBackend=function(e){if(!(e in this.registry))throw new Error(e+" backend not found in registry");this.registry[e].backend.dispose(),delete this.registry[e],e in this.engines&&delete this.engines[e]},Object.defineProperty(e.prototype,"engine",{get:function(){return this.initDefaultBackend(),this.globalEngine},enumerable:!0,configurable:!0}),e.prototype.initDefaultBackend=function(){null==this.globalEngine&&this.initBackend(this.get("BACKEND"),!1)},e}();r.Environment=d,r.ENV=o()}).call(this,e("_process"))},{"./device_util":49,"./engine":50,"./environment_util":52,"./tensor":174,"./tensor_util":176,_process:196}],52:[function(e,t,r){"use strict";function n(e,t){var r;try{r=c(e,t)}catch(e){return!1}return null!=r&&(f(r),!0)}function o(e,t){if(0===e)return 0;var r,n=c(e,t);return r=p(n,"EXT_disjoint_timer_query_webgl2")&&2===e?2:p(n,"EXT_disjoint_timer_query")?1:0,null!=n&&f(n),r}function a(e,t){if(0===e)return!1;var r=c(e,t);if(1===e){if(!p(r,"OES_texture_float"))return!1}else if(!p(r,"EXT_color_buffer_float"))return!1;var n=h(r,e);return f(r),n}function i(e,t){if(0===e)return!1;var r=c(e,t);if(1===e){if(!p(r,"OES_texture_float"))return!1;if(!p(r,"WEBGL_color_buffer_float"))return!1}else if(!p(r,"EXT_color_buffer_float"))return!1;var n=h(r,e);return f(r),n}function s(e,t){if(2!==e)return!1;var r=c(e,t),n=null!=r.fenceSync;return f(r),n}function u(){return"undefined"!=typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}function l(){var e={};if("undefined"==typeof window||"undefined"==typeof window.location)return e;var t=d(window.location.search);if(v in t){var n={},o=t[v].split(",");o.forEach(function(e){var t=e.split(":"),r=t[0],o=t[1];n[r]=o}),r.URL_PROPERTIES.forEach(function(t){t.name in n&&(console.log("Setting feature override from URL "+t.name+": "+n[t.name]),t.type===g.NUMBER?e[t.name]=+n[t.name]:t.type===g.BOOLEAN?e[t.name]="true"===n[t.name]:t.type===g.STRING?e[t.name]=n[t.name]:console.warn("Unknown URL param: "+t.name+"."))})}return e}function p(e,t){var r=e.getExtension(t);return null!=r}function c(e,t){if(0===e||!t)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");var r=document.createElement("canvas");return 1===e?r.getContext("webgl")||r.getContext("experimental-webgl"):r.getContext("webgl2")}function f(e){if(null!=e){var t=e.getExtension("WEBGL_lose_context");if(null==t)throw new Error("Extension WEBGL_lose_context not supported on this browser.");t.loseContext()}}function h(e,t){var r=e.createFramebuffer(),n=e.createTexture();e.bindTexture(e.TEXTURE_2D,n);var o=2===t?e.RGBA32F:e.RGBA;e.texImage2D(e.TEXTURE_2D,0,o,1,1,0,e.RGBA,e.FLOAT,null),e.bindFramebuffer(e.FRAMEBUFFER,r),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0);var a=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(n),e.deleteFramebuffer(r),a}function d(e){var t={};return e.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];return m(t,r[0],r[1]),r.join("=")}),t}function m(e,t,r){e[decodeURIComponent(t)]=decodeURIComponent(r||"")}Object.defineProperty(r,"__esModule",{value:!0});var g;!function(e){e[e.NUMBER=0]="NUMBER",e[e.BOOLEAN=1]="BOOLEAN",e[e.STRING=2]="STRING"}(g=r.Type||(r.Type={})),r.URL_PROPERTIES=[{name:"DEBUG",type:g.BOOLEAN},{name:"IS_BROWSER",type:g.BOOLEAN},{name:"WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",type:g.NUMBER},{name:"WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",type:g.BOOLEAN},{name:"WEBGL_VERSION",type:g.NUMBER},{name:"WEBGL_RENDER_FLOAT32_ENABLED",type:g.BOOLEAN},{name:"WEBGL_DOWNLOAD_FLOAT_ENABLED",type:g.BOOLEAN},{name:"WEBGL_FENCE_API_ENABLED",type:g.BOOLEAN},{name:"BACKEND",type:g.STRING},{name:"EPSILON",type:g.NUMBER}],r.isWebGLVersionEnabled=n,r.getWebGLDisjointQueryTimerVersion=o,r.isRenderToFloatTextureEnabled=a,r.isDownloadFloatTextureEnabled=i,r.isWebGLFenceEnabled=s,r.isChrome=u;var v="tfjsflags";r.getFeaturesFromURL=l,r.getQueryParams=d},{}],53:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("./environment"),o=e("./gradients");r.customGrad=o.customGrad,r.grad=o.grad,r.grads=o.grads,r.valueAndGrad=o.valueAndGrad,r.valueAndGrads=o.valueAndGrads,r.variableGrads=o.variableGrads,r.tidy=n.Environment.tidy,r.keep=n.Environment.keep,r.dispose=n.Environment.dispose,r.time=n.Environment.time},{"./environment":51,"./gradients":54}],54:[function(e,t,r){"use strict";function n(e,t){return c.ENV.engine.tidy(e,t,!0)}function o(e){return h.assert(h.isFunction(e),"The f passed in grad(f) must be a function"),function(t,r){return h.assert(t instanceof f.Tensor,"The x passed in grad(f)(x) must be a tensor"),h.assert(null==r||r instanceof f.Tensor,"The dy passed in grad(f)(x, dy) must be a tensor"),c.ENV.engine.tidy(function(){var n=c.ENV.engine.gradients(function(){return e(t)},[t],r),o=n.value,a=n.grads;return null!=r&&h.assertShapesMatch(o.shape,r.shape,"The shape of dy passed in grad(f)(x, dy) must match the shape returned by f(x)"),p(a),a[0]})}}function a(e){return h.assert(h.isFunction(e),"The f passed in grads(f) must be a function"),function(t,r){return h.assert(Array.isArray(t)&&t.every(function(e){return e instanceof f.Tensor}),"The args passed in grads(f)(args) must be an array of tensors"),h.assert(null==r||r instanceof f.Tensor,"The dy passed in grads(f)(args, dy) must be a tensor"),c.ENV.engine.tidy(function(){var n=c.ENV.engine.gradients(function(){return e.apply(void 0,t)},t,r),o=n.value,a=n.grads;return null!=r&&h.assertShapesMatch(o.shape,r.shape,"The shape of dy passed in grads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),p(a),a})}}function i(e){return h.assert(h.isFunction(e),"The f passed in valueAndGrad(f) must be a function"),function(t,r){h.assert(t instanceof f.Tensor,"The x passed in valueAndGrad(f)(x) must be a tensor"),h.assert(null==r||r instanceof f.Tensor,"The dy passed in valueAndGrad(f)(x, dy) must be a tensor");var n=c.ENV.engine.gradients(function(){return e(t)},[t],r),o=n.grads,a=n.value;return p(o),{grad:o[0],value:a}}}function s(e){return h.assert(h.isFunction(e),"The f passed in valueAndGrads(f) must be a function"),function(t,r){h.assert(Array.isArray(t)&&t.every(function(e){return e instanceof f.Tensor}),"The args passed in valueAndGrads(f)(args) must be array of tensors"),h.assert(null==r||r instanceof f.Tensor,"The dy passed in valueAndGrads(f)(args, dy) must be a tensor");var n=c.ENV.engine.gradients(function(){return e.apply(void 0,t)},t,r);return null!=r&&h.assertShapesMatch(n.value.shape,r.shape,"The shape of dy passed in valueAndGrads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),p(n.grads),n}}function u(e,t){if(h.assert(h.isFunction(e),"The f passed in variableGrads(f) must be a function"),h.assert(null==t||Array.isArray(t)&&t.every(function(e){return e instanceof f.Variable}),"The varList passed in variableGrads(f, varList) must be an array of variables"),null==t){t=[];for(var r in c.ENV.engine.registeredVariables)t.push(c.ENV.engine.registeredVariables[r])}var n=t.length;t=t.filter(function(e){return e.trainable}),h.assert(t.length>0,"variableGrads() expects at least one of the input variables to be "+("trainable, but none of the "+n+" variables is ")+"trainable.");var o=!0,a=c.ENV.engine.gradients(e,t,null,o),i=a.value,s=a.grads;h.assert(s.some(function(e){return null!=e}),"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."),h.assert(0===i.rank,"The f passed in variableGrads(f) must return a scalar, but it "+("returned a rank-"+i.rank+" tensor"));var u={};return t.forEach(function(e,t){null!=s[t]&&(u[e.name]=s[t])}),{value:i,grads:u}}function l(e){return c.ENV.engine.customGrad(e)}function p(e){var t=e.filter(function(e){return null==e}).length;if(t>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that\n    the f you passed encloses all operations that lead from x to y.")}Object.defineProperty(r,"__esModule",{value:!0});var c=e("./environment"),f=e("./tensor"),h=e("./util");r.gradScope=n,r.grad=o,r.grads=a,r.valueAndGrad=i,r.valueAndGrads=s,r.variableGrads=u,r.customGrad=l},{"./environment":51,"./tensor":174,"./util":181}],55:[function(e,t,r){"use strict";function n(e){for(var t in e)r.hasOwnProperty(t)||(r[t]=e[t])}Object.defineProperty(r,"__esModule",{value:!0}),e("./kernels/backend_webgl"),e("./kernels/backend_cpu");var o=e("./browser_util");r.nextFrame=o.nextFrame;var a=e("./environment");r.environment=a;var i=e("./environment"),s=e("./io/io");r.io=s;var u=e("./serialization");r.serialization=u;var l=e("./tensor"),p=e("./test_util");r.test_util=p;var c=e("./util");r.util=c;var f=e("./version");r.version_core=f.version;var h=e("./webgl");r.webgl=h;var d=e("./optimizers/adadelta_optimizer");r.AdadeltaOptimizer=d.AdadeltaOptimizer;var m=e("./optimizers/adagrad_optimizer");r.AdagradOptimizer=m.AdagradOptimizer;var g=e("./optimizers/adam_optimizer");r.AdamOptimizer=g.AdamOptimizer;var v=e("./optimizers/adamax_optimizer");r.AdamaxOptimizer=v.AdamaxOptimizer;var y=e("./optimizers/momentum_optimizer");r.MomentumOptimizer=y.MomentumOptimizer;var x=e("./optimizers/optimizer");r.Optimizer=x.Optimizer;var b=e("./optimizers/rmsprop_optimizer");r.RMSPropOptimizer=b.RMSPropOptimizer;var _=e("./optimizers/sgd_optimizer");r.SGDOptimizer=_.SGDOptimizer;var w=e("./tensor");r.Tensor=w.Tensor,r.TensorBuffer=w.TensorBuffer,r.variable=w.variable,r.Variable=w.Variable;var T=e("./types");r.Rank=T.Rank,n(e("./ops/ops"));var N=e("./ops/loss_ops");r.Reduction=N.Reduction,n(e("./train")),n(e("./globals"));var P=e("./environment");r.ENV=P.ENV,r.Environment=P.Environment,r.setBackend=i.Environment.setBackend,r.getBackend=i.Environment.getBackend,r.disposeVariables=i.Environment.disposeVariables,r.memory=i.Environment.memory;var S=e("./ops/ops");l.setOpHandler(S)},{"./browser_util":48,"./environment":51,"./globals":53,"./io/io":59,"./kernels/backend_cpu":67,"./kernels/backend_webgl":69,"./ops/loss_ops":137,"./ops/ops":144,"./optimizers/adadelta_optimizer":162,"./optimizers/adagrad_optimizer":163,"./optimizers/adam_optimizer":164,"./optimizers/adamax_optimizer":165,"./optimizers/momentum_optimizer":166,"./optimizers/optimizer":167,"./optimizers/rmsprop_optimizer":169,"./optimizers/sgd_optimizer":170,"./serialization":172,"./tensor":174,"./test_util":178,"./train":179,"./types":180,"./util":181,"./version":182,"./webgl":183}],56:[function(e,t,r){"use strict";function n(e){return void 0===e&&(e="model"),new h(e)}function o(e){return new d(e)}var a=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{u(n.next(e))}catch(e){a(e)}}function s(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,s)}u((n=n.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){function r(e){return function(t){return n([e,t])}}function n(r){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,a&&(i=2&r[0]?a.return:r[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,r[1])).done)return i;switch(a=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return u.label++,{value:r[1],done:!1};case 5:u.label++,a=r[1],r=[0];continue;case 7:r=u.ops.pop(),u.trys.pop();continue;default:if(i=u.trys,!(i=i.length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){u=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){u.label=r[1];break}if(6===r[0]&&u.label<i[1]){u.label=i[1],i=r;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(r);break}i[2]&&u.ops.pop(),u.trys.pop();continue}r=t.call(e,u)}catch(e){r=[6,e],a=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var o,a,i,s,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(r,"__esModule",{value:!0});var s=e("../environment"),u=e("./io_utils"),l=e("./router_registry"),p="model",c=".json",f=".weights.bin",h=function(){function e(t){if(!s.ENV.get("IS_BROWSER"))throw new Error("triggerDownloads() cannot proceed because the current environment is not a browser.");t.startsWith(e.URL_SCHEME)&&(t=t.slice(e.URL_SCHEME.length)),null!=t&&0!==t.length||(t=p),this.modelTopologyFileName=t+c,this.weightDataFileName=t+f}return e.prototype.save=function(e){return a(this,void 0,void 0,function(){var t,r,n,o,a,s;return i(this,function(i){if(t=window.URL.createObjectURL(new Blob([e.weightData],{type:"application/octet-stream"})),e.modelTopology instanceof ArrayBuffer)throw new Error("DownloadTrigger.save() does not support saving model topology in binary formats yet.");return r=[{paths:["./"+this.weightDataFileName],weights:e.weightSpecs}],n={modelTopology:e.modelTopology,weightsManifest:r},o=window.URL.createObjectURL(new Blob([JSON.stringify(n)],{type:"application/json"})),a=null==this.jsonAnchor?document.createElement("a"):this.jsonAnchor,a.download=this.modelTopologyFileName,a.href=o,a.click(),null!=e.weightData&&(s=null==this.weightDataAnchor?document.createElement("a"):this.weightDataAnchor,s.download=this.weightDataFileName,s.href=t,s.click()),[2,{modelArtifactsInfo:u.getModelArtifactsInfoForJSON(e)}]})})},e.URL_SCHEME="downloads://",e}();r.BrowserDownloads=h;var d=function(){function e(e){if(null==e||e.length<1)throw new Error("When calling browserFiles, at least 1 file is required, but received "+e);this.files=e}return e.prototype.load=function(){return a(this,void 0,void 0,function(){var e,t,r=this;return i(this,function(n){return e=this.files[0],t=this.files.slice(1),[2,new Promise(function(n,o){var a=new FileReader;a.onload=function(a){var i=JSON.parse(a.target.result),s=i.modelTopology;if(null==s)return void o(new Error("modelTopology field is missing from file "+e.name));0===t.length&&n({modelTopology:s});var l=i.weightsManifest;if(null==l)return void o(new Error("weightManifest field is missing from file "+e.name));var p;try{p=r.checkManifestAndWeightFiles(l,t)}catch(e){return void o(e)}var c=[],f=[],h=[];l.forEach(function(e){e.paths.forEach(function(e){f.push(e),h.push(null)}),c.push.apply(c,e.weights)}),l.forEach(function(e){e.paths.forEach(function(e){var t=new FileReader;t.onload=function(t){var r=t.target.result,o=f.indexOf(e);h[o]=r,h.indexOf(null)===-1&&n({modelTopology:s,weightSpecs:c,weightData:u.concatenateArrayBuffers(h)})},t.onerror=function(t){o("Failed to weights data from file of path '"+e+"'.")},t.readAsArrayBuffer(p[e])})})},a.onerror=function(t){o("Failed to read model topology and weights manifest JSON "+("from file '"+e.name+"'. BrowserFiles supports loading ")+"Keras-style tf.Model artifacts only.")},a.readAsText(e)})]})})},e.prototype.checkManifestAndWeightFiles=function(e,t){for(var r=[],n=t.map(function(e){return u.basename(e.name)}),o={},a=0,i=e;a<i.length;a++){var s=i[a];s.paths.forEach(function(e){var a=u.basename(e);if(r.indexOf(a)!==-1)throw new Error("Duplicate file basename found in weights manifest: "+("'"+a+"'"));if(r.push(a),n.indexOf(a)===-1)throw new Error("Weight file with basename '"+a+"' is not provided.");o[e]=t[n.indexOf(a)]})}if(r.length!==t.length)throw new Error("Mismatch in the number of files in weights manifest "+("("+r.length+") and the number of weight files provided ")+("("+t.length+")."));return o},e}();r.browserDownloadsRouter=function(e){return s.ENV.get("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(h.URL_SCHEME)?n(e.slice(h.URL_SCHEME.length)):null},l.IORouterRegistry.registerSaveRouter(r.browserDownloadsRouter),r.browserDownloads=n,r.browserFiles=o},{"../environment":51,"./io_utils":60,"./router_registry":64}],57:[function(e,t,r){"use strict";function n(e){return null!=e.match(c.URL_SCHEME_REGEX)}function o(e,t){return new c(e,t)}var a=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{u(n.next(e))}catch(e){a(e)}}function s(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,s)}u((n=n.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){function r(e){return function(t){return n([e,t])}}function n(r){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,a&&(i=2&r[0]?a.return:r[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,r[1])).done)return i;switch(a=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return u.label++,{value:r[1],done:!1};case 5:u.label++,a=r[1],r=[0];continue;case 7:r=u.ops.pop(),u.trys.pop();continue;default:if(i=u.trys,!(i=i.length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){u=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){u.label=r[1];break}if(6===r[0]&&u.label<i[1]){u.label=i[1],i=r;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(r);break}i[2]&&u.ops.pop(),u.trys.pop();continue}r=t.call(e,u)}catch(e){r=[6,e],a=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var o,a,i,s,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(r,"__esModule",{value:!0});var s=e("../util"),u=e("./io_utils"),l=e("./router_registry"),p=e("./weights_loader"),c=function(){function e(e,t){if(this.DEFAULT_METHOD="POST","undefined"==typeof fetch)throw new Error("browserHTTPRequest is not supported outside the web browser without a fetch polyfill.");if(s.assert(null!=e&&e.length>0,"URL path for browserHTTPRequest must not be null, undefined or empty."),Array.isArray(e)&&s.assert(2===e.length,"URL paths for browserHTTPRequest must have a length of 2, "+("(actual length is "+e.length+").")),this.path=e,null!=t&&null!=t.body)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=t||{}}return e.prototype.save=function(e){return a(this,void 0,void 0,function(){var t,r,n,o;return i(this,function(a){switch(a.label){case 0:if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");return t=Object.assign({method:this.DEFAULT_METHOD},this.requestInit),t.body=new FormData,r=[{paths:["./model.weights.bin"],weights:e.weightSpecs}],n={modelTopology:e.modelTopology,weightsManifest:r},t.body.append("model.json",new Blob([JSON.stringify(n)],{type:"application/json"}),"model.json"),null!=e.weightData&&t.body.append("model.weights.bin",new Blob([e.weightData],{type:"application/octet-stream"}),"model.weights.bin"),[4,fetch(this.path,t)];case 1:if(o=a.sent(),200===o.status)return[2,{modelArtifactsInfo:u.getModelArtifactsInfoForJSON(e),responses:[o]}];throw new Error("BrowserHTTPRequest.save() failed due to HTTP response status "+(o.status+"."))}})})},e.prototype.load=function(){return a(this,void 0,void 0,function(){return i(this,function(e){return[2,Array.isArray(this.path)?this.loadBinaryModel():this.loadJSONModel()]})})},e.prototype.loadBinaryTopology=function(){return a(this,void 0,void 0,function(){var e,t;return i(this,function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,fetch(this.path[0],this.requestInit)];case 1:return e=r.sent(),[4,e.arrayBuffer()];case 2:return[2,r.sent()];case 3:throw t=r.sent(),new Error(this.path[0]+" not found. "+t);case 4:return[2]}})})},e.prototype.loadBinaryModel=function(){return a(this,void 0,void 0,function(){var e,t,r,n,o,a,s,u,l;return i(this,function(i){switch(i.label){case 0:return e=this.loadBinaryTopology(),[4,fetch(this.path[1],this.requestInit)];case 1:return t=i.sent(),[4,Promise.all([e,t])];case 2:return r=i.sent(),n=r[0],o=r[1],[4,o.json()];case 3:return a=i.sent(),null==a?[3,5]:[4,this.loadWeights(a)];case 4:l=i.sent(),s=l[0],u=l[1],i.label=5;case 5:return[2,{modelTopology:n,weightSpecs:s,weightData:u}]}})})},e.prototype.loadJSONModel=function(){return a(this,void 0,void 0,function(){var e,t,r,n,o,a,s,u;return i(this,function(i){switch(i.label){case 0:return[4,fetch(this.path,this.requestInit)];case 1:return e=i.sent(),[4,e.json()];case 2:if(t=i.sent(),r=t.modelTopology,n=t.weightsManifest,null==r&&null==n)throw new Error("The JSON from HTTP path "+this.path+" contains neither model topology or manifest for weights.");return null==n?[3,4]:(s=t.weightsManifest,[4,this.loadWeights(s)]);case 3:u=i.sent(),o=u[0],a=u[1],i.label=4;case 4:return[2,{modelTopology:r,weightSpecs:o,weightData:a}]}})})},e.prototype.loadWeights=function(e){return a(this,void 0,void 0,function(){var t,r,n,o,a,s,l,c,f;return i(this,function(i){switch(i.label){case 0:for(t=Array.isArray(this.path)?this.path[1]:this.path,r=[],n=0,o=e;n<o.length;n++)a=o[n],r.push.apply(r,a.weights);return s=t.substring(0,t.lastIndexOf("/")),s.endsWith("/")||(s+="/"),l=[],e.forEach(function(e){e.paths.forEach(function(e){l.push(s+e)})}),c=[r],f=u.concatenateArrayBuffers,[4,p.loadWeightsAsArrayBuffer(l,this.requestInit)];case 1:return[2,c.concat([f.apply(void 0,[i.sent()])])]}})})},e.URL_SCHEME_REGEX=/^https?:\/\//,e}();r.BrowserHTTPRequest=c,r.httpRequestRouter=function(e){if("undefined"==typeof fetch)return null;var t=!0;return(t=Array.isArray(e)?e.every(function(e){return n(e)}):n(e))?o(e):null},l.IORouterRegistry.registerSaveRouter(r.httpRequestRouter),l.IORouterRegistry.registerLoadRouter(r.httpRequestRouter),r.browserHTTPRequest=o},{"../util":181,"./io_utils":60,"./router_registry":64,"./weights_loader":66}],58:[function(e,t,r){"use strict";function n(){return u(this,void 0,void 0,function(){var e;return l(this,function(t){return e=o(),[2,new Promise(function(t,r){var n=e.deleteDatabase(d);n.onsuccess=function(){return t()},n.onerror=function(e){return r(e)}})]})})}function o(){if(!p.ENV.get("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");var e=window,t=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB||e.shimIndexedDB;if(null==t)throw new Error("The current browser does not appear to support IndexedDB.");return t}function a(e){var t=e.result;t.createObjectStore(g,{keyPath:"modelPath"}),t.createObjectStore(v,{keyPath:"modelPath"})}function i(e){return new y(e)}function s(e){return e.startsWith(y.URL_SCHEME)?e.slice(y.URL_SCHEME.length):e}var u=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{u(n.next(e))}catch(e){a(e)}}function s(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,s)}u((n=n.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){function r(e){return function(t){return n([e,t])}}function n(r){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,a&&(i=2&r[0]?a.return:r[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,r[1])).done)return i;switch(a=0,i&&(r=[2&r[0],i.value]),
r[0]){case 0:case 1:i=r;break;case 4:return u.label++,{value:r[1],done:!1};case 5:u.label++,a=r[1],r=[0];continue;case 7:r=u.ops.pop(),u.trys.pop();continue;default:if(i=u.trys,!(i=i.length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){u=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){u.label=r[1];break}if(6===r[0]&&u.label<i[1]){u.label=i[1],i=r;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(r);break}i[2]&&u.ops.pop(),u.trys.pop();continue}r=t.call(e,u)}catch(e){r=[6,e],a=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var o,a,i,s,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(r,"__esModule",{value:!0});var p=e("../environment"),c=e("./io_utils"),f=e("./model_management"),h=e("./router_registry"),d="tensorflowjs",m=1,g="models_store",v="model_info_store";r.deleteDatabase=n;var y=function(){function e(e){if(this.indexedDB=o(),null==e||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}return e.prototype.save=function(e){return u(this,void 0,void 0,function(){return l(this,function(t){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return[2,this.databaseAction(this.modelPath,e)]})})},e.prototype.load=function(){return u(this,void 0,void 0,function(){return l(this,function(e){return[2,this.databaseAction(this.modelPath)]})})},e.prototype.databaseAction=function(e,t){var r=this;return new Promise(function(e,n){var o=r.indexedDB.open(d,m);o.onupgradeneeded=function(){return a(o)},o.onsuccess=function(){var a=o.result;if(null==t){var i=a.transaction(g,"readonly"),s=i.objectStore(g),u=s.get(r.modelPath);u.onsuccess=function(){return null==u.result?(a.close(),n(new Error("Cannot find model with path '"+r.modelPath+"' in IndexedDB."))):void e(u.result.modelArtifacts)},u.onerror=function(e){return a.close(),n(u.error)},i.oncomplete=function(){return a.close()}}else{var l,p=c.getModelArtifactsInfoForJSON(t),f=a.transaction(v,"readwrite"),h=f.objectStore(v),d=h.put({modelPath:r.modelPath,modelArtifactsInfo:p});d.onsuccess=function(){l=a.transaction(g,"readwrite");var o=l.objectStore(g),i=o.put({modelPath:r.modelPath,modelArtifacts:t,modelArtifactsInfo:p});i.onsuccess=function(){return e({modelArtifactsInfo:p})},i.onerror=function(e){h=f.objectStore(v);var t=h.delete(r.modelPath);t.onsuccess=function(){return a.close(),n(i.error)},t.onerror=function(e){return a.close(),n(i.error)}}},d.onerror=function(e){return a.close(),n(d.error)},f.oncomplete=function(){null==l?a.close():l.oncomplete=function(){return a.close()}}}},o.onerror=function(e){return n(o.error)}})},e.URL_SCHEME="indexeddb://",e}();r.BrowserIndexedDB=y,r.indexedDBRouter=function(e){return p.ENV.get("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(y.URL_SCHEME)?i(e.slice(y.URL_SCHEME.length)):null},h.IORouterRegistry.registerSaveRouter(r.indexedDBRouter),h.IORouterRegistry.registerLoadRouter(r.indexedDBRouter),r.browserIndexedDB=i;var x=function(){function e(){this.indexedDB=o()}return e.prototype.listModels=function(){return u(this,void 0,void 0,function(){var e=this;return l(this,function(t){return[2,new Promise(function(t,r){var n=e.indexedDB.open(d,m);n.onupgradeneeded=function(){return a(n)},n.onsuccess=function(){var e=n.result,o=e.transaction(v,"readonly"),a=o.objectStore(v),i=a.getAll();i.onsuccess=function(){for(var e={},r=0,n=i.result;r<n.length;r++){var o=n[r];e[o.modelPath]=o.modelArtifactsInfo}t(e)},i.onerror=function(t){return e.close(),r(i.error)},o.oncomplete=function(){return e.close()}},n.onerror=function(e){return r(n.error)}})]})})},e.prototype.removeModel=function(e){return u(this,void 0,void 0,function(){var t=this;return l(this,function(r){return e=s(e),[2,new Promise(function(r,n){var o=t.indexedDB.open(d,m);o.onupgradeneeded=function(){return a(o)},o.onsuccess=function(){var t,a=o.result,i=a.transaction(v,"readwrite"),s=i.objectStore(v),u=s.get(e);u.onsuccess=function(){if(null==u.result)return a.close(),n(new Error("Cannot find model with path '"+e+"' in IndexedDB."));var o=s.delete(e),i=function(){t=a.transaction(g,"readwrite");var o=t.objectStore(g),i=o.delete(e);i.onsuccess=function(){return r(u.result.modelArtifactsInfo)},i.onerror=function(e){return n(u.error)}};o.onsuccess=i,o.onerror=function(e){return i(),a.close(),n(u.error)}},u.onerror=function(e){return a.close(),n(u.error)},i.oncomplete=function(){null==t?a.close():t.oncomplete=function(){return a.close()}}},o.onerror=function(e){return n(o.error)}})]})})},e}();if(r.BrowserIndexedDBManager=x,p.ENV.get("IS_BROWSER"))try{f.ModelStoreManagerRegistry.registerManager(y.URL_SCHEME,new x)}catch(e){}},{"../environment":51,"./io_utils":60,"./model_management":62,"./router_registry":64}],59:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),e("./indexed_db"),e("./local_storage");var n=e("./browser_files");r.browserFiles=n.browserFiles;var o=e("./browser_http");r.browserHTTPRequest=o.browserHTTPRequest;var a=e("./io_utils");r.concatenateArrayBuffers=a.concatenateArrayBuffers,r.decodeWeights=a.decodeWeights,r.encodeWeights=a.encodeWeights,r.getModelArtifactsInfoForJSON=a.getModelArtifactsInfoForJSON;var i=e("./passthrough");r.fromMemory=i.fromMemory,r.withSaveHandler=i.withSaveHandler;var s=e("./router_registry"),u=e("./weights_loader");r.loadWeights=u.loadWeights;var l=s.IORouterRegistry.registerSaveRouter;r.registerSaveRouter=l;var p=s.IORouterRegistry.registerLoadRouter;r.registerLoadRouter=p;var c=s.IORouterRegistry.getSaveHandlers;r.getSaveHandlers=c;var f=s.IORouterRegistry.getLoadHandlers;r.getLoadHandlers=f;var h=e("./model_management");r.copyModel=h.copyModel,r.listModels=h.listModels,r.moveModel=h.moveModel,r.removeModel=h.removeModel},{"./browser_files":56,"./browser_http":57,"./indexed_db":58,"./io_utils":60,"./local_storage":61,"./model_management":62,"./passthrough":63,"./router_registry":64,"./weights_loader":66}],60:[function(e,t,r){(function(t){"use strict";function n(e){return f(this,void 0,void 0,function(){var t,r,n,o,i;return h(this,function(s){switch(s.label){case 0:t=[],r=[];for(n in e){if(o=e[n],"float32"!==o.dtype&&"int32"!==o.dtype&&"bool"!==o.dtype)throw new Error("Unsupported dtype in weight '"+n+"': "+o.dtype);t.push({name:n,shape:o.shape,dtype:o.dtype}),r.push(o.data())}return[4,Promise.all(r)];case 1:return i=s.sent(),[2,{data:a(i),specs:t}]}})})}function o(e,t){for(var r={},n=0,o=(function(t){var o=t.name,a=t.dtype,i=t.shape,s=m.sizeFromShape(i),u=void 0;if("quantization"in t){var l=t.quantization;if("uint8"!==l.dtype&&"uint16"!==l.dtype)throw new Error("Weight "+t.name+" has unknown "+("quantization dtype "+l.dtype+". ")+"Supported quantization dtypes are: 'uint8' and 'uint16'.");var p=g.DTYPE_VALUE_SIZE_MAP[l.dtype],c=e.slice(n,n+s*p),f="uint8"===l.dtype?new Uint8Array(c):new Uint16Array(c);if("float32"===a)u=Float32Array.from(f,function(e){return e*l.scale+l.min});else{if("int32"!==a)throw new Error("Unsupported dtype in weight '"+o+"': "+a);u=Int32Array.from(f,function(e){return Math.round(e*l.scale+l.min)})}n+=s*p}else{var h=g.DTYPE_VALUE_SIZE_MAP[a],c=e.slice(n,n+s*h);if("float32"===a)u=new Float32Array(c);else if("int32"===a)u=new Int32Array(c);else{if("bool"!==a)throw new Error("Unsupported dtype in weight '"+o+"': "+a);u=new Uint8Array(c)}n+=s*h}var v=void 0;if("float32"===a)v=d.tensor(u,i,"float32");else if("int32"===a)v=d.tensor(u,i,"int32");else{if("bool"!==a)throw new Error("Unsupported dtype in weight '"+o+"': "+a);v=d.tensor(u,i,"bool")}r[o]=v}),a=0,i=t;a<i.length;a++){var s=i[a];o(s)}return r}function a(e){if(null===e)throw new Error("Invalid input value: "+JSON.stringify(e));var t=0,r=[];e.forEach(function(e){if(t+=e.byteLength,r.push(e.byteLength===e.buffer.byteLength?e:new e.constructor(e)),!(e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array))throw new Error("Unsupported TypedArray subtype: "+e.constructor.name)});var n=new Uint8Array(t),o=0;return r.forEach(function(e){n.set(new Uint8Array(e.buffer),o),o+=e.byteLength}),n.buffer}function i(e){return v?t.byteLength(e):new Blob([e]).size}function s(e){return v?t.from(e).toString("base64"):btoa(String.fromCharCode.apply(null,new Uint8Array(e)))}function u(e){if(v){var r=t.from(e,"base64");return r.buffer.slice(r.byteOffset,r.byteOffset+r.byteLength)}for(var n=atob(e),o=new Uint8Array(n.length),a=0;a<n.length;++a)o.set([n.charCodeAt(a)],a);return o.buffer}function l(e){var t=0;e.forEach(function(e){t+=e.byteLength});var r=new Uint8Array(t),n=0;return e.forEach(function(e){r.set(new Uint8Array(e),n),n+=e.byteLength}),r.buffer}function p(e){var t="/";for(e=e.trim();e.endsWith(t);)e=e.slice(0,e.length-1);var r=e.split(t);return r[r.length-1]}function c(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:null==e.modelTopology?0:i(JSON.stringify(e.modelTopology)),weightSpecsBytes:null==e.weightSpecs?0:i(JSON.stringify(e.weightSpecs)),weightDataBytes:null==e.weightData?0:e.weightData.byteLength}}var f=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{u(n.next(e))}catch(e){a(e)}}function s(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,s)}u((n=n.apply(e,t||[])).next())})},h=this&&this.__generator||function(e,t){function r(e){return function(t){return n([e,t])}}function n(r){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,a&&(i=2&r[0]?a.return:r[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,r[1])).done)return i;switch(a=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return u.label++,{value:r[1],done:!1};case 5:u.label++,a=r[1],r=[0];continue;case 7:r=u.ops.pop(),u.trys.pop();continue;default:if(i=u.trys,!(i=i.length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){u=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){u.label=r[1];break}if(6===r[0]&&u.label<i[1]){u.label=i[1],i=r;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(r);break}i[2]&&u.ops.pop(),u.trys.pop();continue}r=t.call(e,u)}catch(e){r=[6,e],a=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var o,a,i,s,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(r,"__esModule",{value:!0});var d=e("../ops/tensor_ops"),m=e("../util"),g=e("./types");r.encodeWeights=n,r.decodeWeights=o,r.concatenateTypedArrays=a;var v="undefined"!=typeof t&&("undefined"==typeof Blob||"undefined"==typeof atob||"undefined"==typeof btoa);r.stringByteLength=i,r.arrayBufferToBase64String=s,r.base64StringToArrayBuffer=u,r.concatenateArrayBuffers=l,r.basename=p,r.getModelArtifactsInfoForJSON=c}).call(this,e("buffer").Buffer)},{"../ops/tensor_ops":158,"../util":181,"./types":65,buffer:186}],61:[function(e,t,r){"use strict";function n(){if(!p.ENV.get("IS_BROWSER")||"undefined"==typeof window.localStorage)throw new Error("purgeLocalStorageModels() cannot proceed because local storage is unavailable in the current environment.");for(var e=window.localStorage,t=[],r=0;r<e.length;++r){var n=e.key(r),o=g+m;if(n.startsWith(o)&&n.length>o.length){e.removeItem(n);var i=a(n);t.indexOf(i)===-1&&t.push(i)}}return t}function o(e){return{info:[g,e,v].join(m),topology:[g,e,y].join(m),weightSpecs:[g,e,x].join(m),weightData:[g,e,b].join(m)}}function a(e){var t=e.split(m);if(t.length<3)throw new Error("Invalid key format: "+e);return t.slice(1,t.length-1).join(m)}function i(e){return e.startsWith(_.URL_SCHEME)?e.slice(_.URL_SCHEME.length):e}function s(e){return new _(e)}var u=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{u(n.next(e))}catch(e){a(e)}}function s(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,s)}u((n=n.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){function r(e){return function(t){return n([e,t])}}function n(r){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,a&&(i=2&r[0]?a.return:r[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,r[1])).done)return i;switch(a=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return u.label++,{value:r[1],done:!1};case 5:u.label++,a=r[1],r=[0];continue;case 7:r=u.ops.pop(),u.trys.pop();continue;default:if(i=u.trys,!(i=i.length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){u=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){u.label=r[1];break}if(6===r[0]&&u.label<i[1]){u.label=i[1],i=r;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(r);break}i[2]&&u.ops.pop(),u.trys.pop();continue}r=t.call(e,u)}catch(e){r=[6,e],a=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var o,a,i,s,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(r,"__esModule",{value:!0});var p=e("../environment"),c=e("../util"),f=e("./io_utils"),h=e("./model_management"),d=e("./router_registry"),m="/",g="tensorflowjs_models",v="info",y="model_topology",x="weight_specs",b="weight_data";r.purgeLocalStorageArtifacts=n;var _=function(){function e(e){if(!p.ENV.get("IS_BROWSER")||"undefined"==typeof window.localStorage)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,null==e||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=o(this.modelPath)}return e.prototype.save=function(e){return u(this,void 0,void 0,function(){var t,r,n,o;return l(this,function(a){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");t=JSON.stringify(e.modelTopology),r=JSON.stringify(e.weightSpecs),n=f.getModelArtifactsInfoForJSON(e);try{return this.LS.setItem(this.keys.info,JSON.stringify(n)),this.LS.setItem(this.keys.topology,t),this.LS.setItem(this.keys.weightSpecs,r),this.LS.setItem(this.keys.weightData,f.arrayBufferToBase64String(e.weightData)),[2,{modelArtifactsInfo:n}]}catch(e){for(o in this.keys)this.LS.removeItem(this.keys[o]);throw new Error("Failed to save model '"+this.modelPath+"' to local storage: size quota being exceeded is a possible cause of this failure: "+("modelTopologyBytes="+n.modelTopologyBytes+", ")+("weightSpecsBytes="+n.weightSpecsBytes+", ")+("weightDataBytes="+n.weightDataBytes+"."))}return[2]})})},e.prototype.load=function(){return u(this,void 0,void 0,function(){var e,t,r,n,o;return l(this,function(a){if(e=JSON.parse(this.LS.getItem(this.keys.info)),null==e)throw new Error("In local storage, there is no model with name '"+this.modelPath+"'");if("JSON"!==e.modelTopologyType)throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");if(t={},r=JSON.parse(this.LS.getItem(this.keys.topology)),null==r)throw new Error("In local storage, the topology of model '"+this.modelPath+"' is missing.");if(t.modelTopology=r,n=JSON.parse(this.LS.getItem(this.keys.weightSpecs)),null==n)throw new Error("In local storage, the weight specs of model '"+this.modelPath+"' are missing.");if(t.weightSpecs=n,o=this.LS.getItem(this.keys.weightData),null==o)throw new Error("In local storage, the binary weight values of model "+("'"+this.modelPath+"' are missing."));return t.weightData=f.base64StringToArrayBuffer(o),[2,t]})})},e.URL_SCHEME="localstorage://",e}();r.BrowserLocalStorage=_,r.localStorageRouter=function(e){return p.ENV.get("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(_.URL_SCHEME)?s(e.slice(_.URL_SCHEME.length)):null},d.IORouterRegistry.registerSaveRouter(r.localStorageRouter),d.IORouterRegistry.registerLoadRouter(r.localStorageRouter),r.browserLocalStorage=s;var w=function(){function e(){c.assert(p.ENV.get("IS_BROWSER"),"Current environment is not a web browser"),c.assert("undefined"!=typeof window.localStorage,"Current browser does not appear to support localStorage"),this.LS=window.localStorage}return e.prototype.listModels=function(){return u(this,void 0,void 0,function(){var e,t,r,n,o,i;return l(this,function(s){for(e={},t=g+m,r=m+v,n=0;n<this.LS.length;++n)o=this.LS.key(n),o.startsWith(t)&&o.endsWith(r)&&(i=a(o),e[i]=JSON.parse(this.LS.getItem(o)));return[2,e]})})},e.prototype.removeModel=function(e){return u(this,void 0,void 0,function(){var t,r;return l(this,function(n){if(e=i(e),t=o(e),null==this.LS.getItem(t.info))throw new Error("Cannot find model at path '"+e+"'");return r=JSON.parse(this.LS.getItem(t.info)),this.LS.removeItem(t.info),this.LS.removeItem(t.topology),this.LS.removeItem(t.weightSpecs),this.LS.removeItem(t.weightData),[2,r]})})},e}();if(r.BrowserLocalStorageManager=w,p.ENV.get("IS_BROWSER"))try{h.ModelStoreManagerRegistry.registerManager(_.URL_SCHEME,new w)}catch(e){}},{"../environment":51,"../util":181,"./io_utils":60,"./model_management":62,"./router_registry":64}],62:[function(e,t,r){"use strict";function n(e){if(e.indexOf(h)===-1)throw new Error("The url string provided does not contain a scheme. Supported schemes are: "+d.getSchemes().join(","));return{scheme:e.split(h)[0],path:e.split(h)[1]}}function o(e,t,r){return void 0===r&&(r=!1),l(this,void 0,void 0,function(){var o,a,i,s,u,l,h,m,g;return p(this,function(p){switch(p.label){case 0:return c.assert(e!==t,"Old path and new path are the same: '"+e+"'"),o=f.IORouterRegistry.getLoadHandlers(e),c.assert(o.length>0,"Copying failed because no load handler is found for source URL "+e+"."),c.assert(o.length<2,"Copying failed because more than one ("+o.length+") "+("load handlers for source URL "+e+".")),a=o[0],i=f.IORouterRegistry.getSaveHandlers(t),c.assert(i.length>0,"Copying failed because no save handler is found for destination URL "+(t+".")),c.assert(i.length<2,"Copying failed because more than one ("+o.length+") "+("save handlers for destination URL "+t+".")),s=i[0],u=n(e).scheme,l=n(e).path,h=u===n(e).scheme,[4,a.load()];case 1:return m=p.sent(),r&&h?[4,d.getManager(u).removeModel(l)]:[3,3];case 2:p.sent(),p.label=3;case 3:return[4,s.save(m)];case 4:return g=p.sent(),!r||h?[3,6]:[4,d.getManager(u).removeModel(l)];case 5:p.sent(),p.label=6;case 6:return[2,g.modelArtifactsInfo]}})})}function a(){return l(this,void 0,void 0,function(){var e,t,r,n,o,a,i,s;return p(this,function(u){switch(u.label){case 0:e=d.getSchemes(),t={},r=0,n=e,u.label=1;case 1:return r<n.length?(o=n[r],[4,d.getManager(o).listModels()]):[3,4];case 2:a=u.sent();for(i in a)s=o+h+i,t[s]=a[i];u.label=3;case 3:return r++,[3,1];case 4:return[2,t]}})})}function i(e){return l(this,void 0,void 0,function(){var t,r;return p(this,function(o){switch(o.label){case 0:return t=n(e),r=d.getManager(t.scheme),[4,r.removeModel(t.path)];case 1:return[2,o.sent()]}})})}function s(e,t){return l(this,void 0,void 0,function(){var r;return p(this,function(n){switch(n.label){case 0:return r=!1,[4,o(e,t,r)];case 1:return[2,n.sent()]}})})}function u(e,t){return l(this,void 0,void 0,function(){var r;return p(this,function(n){switch(n.label){case 0:return r=!0,[4,o(e,t,r)];case 1:return[2,n.sent()]}})})}var l=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{u(n.next(e))}catch(e){a(e)}}function s(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,s)}u((n=n.apply(e,t||[])).next())})},p=this&&this.__generator||function(e,t){function r(e){return function(t){return n([e,t])}}function n(r){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,a&&(i=2&r[0]?a.return:r[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,r[1])).done)return i;switch(a=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return u.label++,{value:r[1],done:!1};case 5:u.label++,a=r[1],r=[0];continue;case 7:r=u.ops.pop(),u.trys.pop();continue;default:if(i=u.trys,!(i=i.length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){u=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){u.label=r[1];break}if(6===r[0]&&u.label<i[1]){u.label=i[1],i=r;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(r);break}i[2]&&u.ops.pop(),u.trys.pop();continue}r=t.call(e,u)}catch(e){r=[6,e],a=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var o,a,i,s,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(r,"__esModule",{value:!0});var c=e("../util"),f=e("./router_registry"),h="://",d=function(){function e(){this.managers={}}return e.getInstance=function(){return null==e.instance&&(e.instance=new e),e.instance},e.registerManager=function(t,r){c.assert(null!=t,"scheme must not be undefined or null."),t.endsWith(h)&&(t=t.slice(0,t.indexOf(h))),c.assert(t.length>0,"scheme must not be an empty string.");var n=e.getInstance();c.assert(null==n.managers[t],"A model store manager is already registered for scheme '"+t+"'."),n.managers[t]=r},e.getManager=function(e){var t=this.getInstance().managers[e];if(null==t)throw new Error("Cannot find model manager for scheme '"+e+"'");return t},e.getSchemes=function(){return Object.keys(this.getInstance().managers)},e}();r.ModelStoreManagerRegistry=d,r.listModels=a,r.removeModel=i,r.copyModel=s,r.moveModel=u},{"../util":181,"./router_registry":64}],63:[function(e,t,r){"use strict";function n(e,t,r){return new u(e,t,r)}function o(e){return new l(e)}var a=this&&this.__assign||Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{u(n.next(e))}catch(e){a(e)}}function s(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,s)}u((n=n.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){function r(e){return function(t){return n([e,t])}}function n(r){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,a&&(i=2&r[0]?a.return:r[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,r[1])).done)return i;switch(a=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return u.label++,{value:r[1],done:!1};case 5:u.label++,a=r[1],r=[0];continue;case 7:r=u.ops.pop(),u.trys.pop();continue;default:if(i=u.trys,!(i=i.length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){u=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){u.label=r[1];break}if(6===r[0]&&u.label<i[1]){u.label=i[1],i=r;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(r);break}i[2]&&u.ops.pop(),u.trys.pop();continue}r=t.call(e,u)}catch(e){r=[6,e],a=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var o,a,i,s,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(r,"__esModule",{value:!0});var u=function(){function e(e,t,r){this.modelTopology=e,this.weightSpecs=t,this.weightData=r}return e.prototype.load=function(){return i(this,void 0,void 0,function(){var e;return s(this,function(t){return e={},null!=this.modelTopology&&(e=a({modelTopology:this.modelTopology},e)),null!=this.weightSpecs&&this.weightSpecs.length>0&&(e=a({weightSpecs:this.weightSpecs},e)),null!=this.weightData&&this.weightData.byteLength>0&&(e=a({weightData:this.weightData},e)),[2,e]})})},e}(),l=function(){function e(e){this.saveHandler=e}return e.prototype.save=function(e){return i(this,void 0,void 0,function(){return s(this,function(t){return[2,this.saveHandler(e)]})})},e}();r.fromMemory=n,r.withSaveHandler=o},{}],64:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(){this.saveRouters=[],this.loadRouters=[]}return e.getInstance=function(){return null==e.instance&&(e.instance=new e),e.instance},e.registerSaveRouter=function(t){e.getInstance().saveRouters.push(t)},e.registerLoadRouter=function(t){e.getInstance().loadRouters.push(t)},e.getSaveHandlers=function(t){return e.getHandlers(t,"save")},e.getLoadHandlers=function(t){return e.getHandlers(t,"load")},e.getHandlers=function(e,t){var r=[],n="load"===t?this.getInstance().loadRouters:this.getInstance().saveRouters;return n.forEach(function(t){var n=t(e);null!==n&&r.push(n)}),r},e}();r.IORouterRegistry=n},{}],65:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.DTYPE_VALUE_SIZE_MAP={float32:4,int32:4,uint16:2,uint8:1,bool:1}},{}],66:[function(e,t,r){"use strict";function n(e,t){return a(this,void 0,void 0,function(){var r,n,o;return i(this,function(a){switch(a.label){case 0:return r=e.map(function(e){return fetch(e,t)}),[4,Promise.all(r)];case 1:return n=a.sent(),[4,Promise.all(n.map(function(e){return e.arrayBuffer()}))];case 2:return o=a.sent(),[2,o]}})})}function o(e,t,r,o){return void 0===t&&(t=""),a(this,void 0,void 0,function(){var a,p,c,f,h,d,m,g,v,y;return i(this,function(i){switch(i.label){case 0:if(a=e.map(function(){return!1}),p={},c=null!=r?r.map(function(){return!1}):[],f=[],e.forEach(function(e,t){var n=0;e.weights.forEach(function(e){var o="quantization"in e?e.quantization.dtype:e.dtype,i=l.DTYPE_VALUE_SIZE_MAP[o]*s.sizeFromShape(e.shape),u=function(){a[t]=!0,null==p[t]&&(p[t]=[]),p[t].push({manifestEntry:e,groupOffset:n,sizeBytes:i})};null!=r?r.forEach(function(t,r){t===e.name&&(u(),c[r]=!0)}):u(),f.push(e.name),n+=i})}),!c.every(function(e){return e}))throw h=r.filter(function(e,t){return!c[t]}),new Error("Could not find weights in manifest with names: "+(h.join(", ")+". \n")+"Manifest JSON has weights with names: "+(f.join(", ")+"."));return d=a.reduce(function(e,t,r){return t&&e.push(r),e},[]),m=[],d.forEach(function(r){e[r].paths.forEach(function(e){var r=t+(t.endsWith("/")?"":"/")+e;m.push(r)})}),[4,n(m,o)];case 1:return g=i.sent(),v={},y=0,d.forEach(function(t){for(var r=e[t].paths.length,n=0,o=0;o<r;o++)n+=g[y+o].byteLength;for(var a=new ArrayBuffer(n),i=new Uint8Array(a),s=0,l=0;l<r;l++){var c=new Uint8Array(g[y+l]);i.set(c,s),s+=c.byteLength}var f=p[t];f.forEach(function(e){var t=a.slice(e.groupOffset,e.groupOffset+e.sizeBytes),r=u.decodeWeights(t,[e.manifestEntry]);for(var n in r)v[n]=r[n]}),y+=r}),[2,v]}})})}var a=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{u(n.next(e))}catch(e){a(e)}}function s(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,s)}u((n=n.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){function r(e){return function(t){return n([e,t])}}function n(r){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,a&&(i=2&r[0]?a.return:r[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,r[1])).done)return i;switch(a=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return u.label++,{value:r[1],done:!1};case 5:u.label++,a=r[1],r=[0];continue;case 7:r=u.ops.pop(),u.trys.pop();continue;default:if(i=u.trys,!(i=i.length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){u=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){u.label=r[1];break}if(6===r[0]&&u.label<i[1]){u.label=i[1],i=r;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(r);break}i[2]&&u.ops.pop(),u.trys.pop();continue}r=t.call(e,u)}catch(e){r=[6,e],a=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var o,a,i,s,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(r,"__esModule",{value:!0});var s=e("../util"),u=e("./io_utils"),l=e("./types");r.loadWeightsAsArrayBuffer=n,r.loadWeights=o},{"../util":181,"./io_utils":60,"./types":65}],67:[function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{u(n.next(e))}catch(e){a(e)}}function s(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,s)}u((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){function r(e){return function(t){return n([e,t])}}function n(r){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,a&&(i=2&r[0]?a.return:r[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,r[1])).done)return i;switch(a=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return u.label++,{value:r[1],done:!1};case 5:u.label++,a=r[1],r=[0];continue;case 7:r=u.ops.pop(),u.trys.pop();continue;default:if(i=u.trys,!(i=i.length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){u=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){u.label=r[1];break}if(6===r[0]&&u.label<i[1]){u.label=i[1],i=r;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(r);break}i[2]&&u.ops.pop(),u.trys.pop();continue}r=t.call(e,u)}catch(e){r=[6,e],a=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var o,a,i,s,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(r,"__esModule",{value:!0});var a=e("seedrandom"),i=e("../environment"),s=e("../log"),u=e("../ops/array_ops_util"),l=e("../ops/axis_util"),p=e("../ops/broadcast_util"),c=e("../ops/concat_util"),f=e("../ops/erf_util"),h=e("../ops/ops"),d=e("../ops/ops"),m=e("../ops/selu_util"),g=e("../ops/slice_util"),v=e("../tensor"),y=e("../types"),x=e("../util"),b=e("../util"),_=e("./backend_util"),w=e("./complex_util"),T=e("./non_max_suppression_impl"),N=e("./split_shared"),P=e("./topk_impl"),S=e("./where_impl"),E=function(){function e(){this.blockSize=48,this.data=new WeakMap,this.firstUse=!0,i.ENV.get("IS_BROWSER")&&(this.canvas=document.createElement("canvas"))}return e.prototype.register=function(e,t,r){if(this.firstUse&&(this.firstUse=!1,i.ENV.get("IS_NODE")&&s.warn("\n============================\nHi there . Looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, which binds to TensorFlow C++, by running npm i @tensorflow/tfjs-node, or npm i @tensorflow/tfjs-node-gpu if you have CUDA. Then call require('@tensorflow/tfjs-node'); (-gpu suffix for CUDA) at the start of your program. Visit https://github.com/tensorflow/tfjs-node for more details.\n============================\n")),this.data.has(e))throw new Error("Data buffer is already registered");this.data.set(e,{dtype:r})},e.prototype.write=function(e,t){if(null==t)throw new Error("MathBackendCPU.write(): values can not be null");this.throwIfNoData(e),this.data.get(e).values=t},e.prototype.fromPixels=function(e,t){if(null==e)throw new Error("pixels passed to tf.fromPixels() can not be null");var r;if(i.ENV.get("IS_NODE")&&null==e.getContext)throw new Error("When running in node, pixels must be an HTMLCanvasElement like the one returned by the `canvas` npm package");if(null!=e.getContext)r=e.getContext("2d").getImageData(0,0,e.width,e.height).data;else if(e instanceof ImageData)r=e.data;else{if(!(e instanceof HTMLImageElement||e instanceof HTMLVideoElement))throw new Error("pixels passed to tf.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement or ImageData, but was "+e.constructor.name);
if(null==this.canvas)throw new Error("Can't read pixels from HTMLImageElement outside the browser.");this.canvas.width=e.width,this.canvas.height=e.height,this.canvas.getContext("2d").drawImage(e,0,0,e.width,e.height),r=this.canvas.getContext("2d").getImageData(0,0,e.width,e.height).data}var n;if(4===t)n=new Int32Array(r);else{var o=e.width*e.height;n=new Int32Array(o*t);for(var a=0;a<o;a++)for(var s=0;s<t;++s)n[a*t+s]=r[4*a+s]}var u=[e.height,e.width,t];return d.tensor3d(n,u,"int32")},e.prototype.read=function(e){return n(this,void 0,void 0,function(){return o(this,function(t){return[2,this.readSync(e)]})})},e.prototype.readSync=function(e){this.throwIfNoData(e);var t=this.data.get(e),r=t.dtype,n=t.complexTensors;if("complex64"===r){var o=n.real.dataSync(),a=n.imag.dataSync();return w.mergeRealAndImagArrays(o,a)}return this.data.get(e).values},e.prototype.disposeData=function(e){if(this.data.has(e)){var t=this.data.get(e).complexTensors;null!=t&&(t.real.dispose(),t.imag.dispose()),this.data.delete(e)}},e.prototype.time=function(e){return n(this,void 0,void 0,function(){var t,r;return o(this,function(n){return t=b.now(),e(),r=b.now()-t,[2,{kernelMs:r}]})})},e.prototype.memory=function(){return{unreliable:!0}},e.prototype.throwIfNoData=function(e){if(!this.data.has(e))throw new Error("CPU backend: No data found for this tensor. Did you change your backend in the middle of the program? New backends can't use Tensors created with previous backends")},e.prototype.complex=function(e,t){var r=v.Tensor.make(e.shape,{},"complex64"),n=this.data.get(r.dataId);return n.complexTensors={real:i.ENV.engine.keep(e.clone()),imag:i.ENV.engine.keep(t.clone())},r},e.prototype.real=function(e){var t=this.data.get(e.dataId);return t.complexTensors.real.clone()},e.prototype.imag=function(e){var t=this.data.get(e.dataId);return t.complexTensors.imag.clone()},e.prototype.assertNotComplex=function(e,t){Array.isArray(e)||(e=[e]),e.forEach(function(e){null!=e&&x.assert("complex64"!==e.dtype,t+" does not support complex64 tensors.")})},e.prototype.slice=function(e,t,r){this.assertNotComplex(e,"slice");for(var n=h.buffer(r,e.dtype),o=0;o<n.size;++o){var a=n.indexToLoc(o),i=a.map(function(e,r){return e+t[r]});n.set.apply(n,[e.get.apply(e,i)].concat(a))}return n.toTensor()},e.prototype.stridedSlice=function(e,t,r,n,o,a,i,s,u){this.assertNotComplex(e,"stridedSlice");var l=g.getStridedSlicedInfo(e.shape,t,r,n,o,a,i,s,u),p=l[0],c=l[1],f=l[2],d=c.filter(function(e,t){return f.indexOf(t)===-1});if(d.some(function(e){return 0===e}))return h.tensor([],d);for(var m=h.buffer(c,e.dtype),v=0;v<m.size;v++){for(var y=m.indexToLoc(v),x=new Array(y.length),b=0;b<x.length;b++)x[b]=y[b]*n[b]+p[b];m.set.apply(m,[e.get.apply(e,x)].concat(y))}return m.toTensor().reshape(d)},e.prototype.reverse=function(e,t){this.assertNotComplex(e,"reverse");for(var r=h.buffer(e.shape,e.dtype),n=e.buffer(),o=function(o){var a=r.indexToLoc(o),i=a.slice();t.forEach(function(t){return i[t]=e.shape[t]-1-i[t]}),r.set.apply(r,[n.get.apply(n,i)].concat(a))},a=0;a<r.size;a++)o(a);return r.toTensor()},e.prototype.concat=function(e,t){this.assertNotComplex(e,"concat");var r=e.map(function(e){var r=x.sizeFromShape(e.shape.slice(t));return e.as2D(-1,r)}),n=c.computeOutShape(r.map(function(e){return e.shape}),1),o=h.buffer(n,e[0].dtype).values;if(1===r[0].shape[0]){var a=0;r.forEach(function(e){o.set(e.dataSync(),a),a+=e.size})}else{var i=0;r.forEach(function(e){for(var t=e.dataSync(),r=0,a=0;a<e.shape[0];++a)for(var s=a*n[1]+i,u=0;u<e.shape[1];++u)o[s+u]=t[r++];i+=e.shape[1]})}var s=c.computeOutShape(e.map(function(e){return e.shape}),t);return d.tensor(o,s,e[0].dtype)},e.prototype.neg=function(e){return this.assertNotComplex(e,"neg"),this.multiply(h.scalar(-1),e)},e.prototype.add=function(e,t){return"complex64"===e.dtype||"complex64"===t.dtype?this.broadcastedBinaryComplexOp(e.cast("complex64"),t.cast("complex64"),function(e,t,r,n){return{real:e+r,imag:t+n}}):this.broadcastedBinaryOp(e,t,y.upcastType(e.dtype,t.dtype),function(e,t){return e+t})},e.prototype.addN=function(e){this.assertNotComplex(e,"addN");for(var t=e.map(function(e){return e.dataSync()}),r=h.buffer(e[0].shape,e[0].dtype),n=r.values,o=0;o<e.length;o++)for(var a=t[o],i=0;i<n.length;i++)n[i]+=a[i];return r.toTensor()},e.prototype.subtract=function(e,t){return"complex64"===e.dtype||"complex64"===t.dtype?this.broadcastedBinaryComplexOp(e.cast("complex64"),t.cast("complex64"),function(e,t,r,n){return{real:e-r,imag:t-n}}):this.broadcastedBinaryOp(e,t,y.upcastType(e.dtype,t.dtype),function(e,t){return e-t})},e.prototype.pow=function(e,t){return this.assertNotComplex([e,t],"pow"),this.broadcastedBinaryOp(e,t,e.dtype,function(e,t){return Math.pow(e,t)})},e.prototype.batchMatMul=function(e,t,r,n){this.assertNotComplex([e,t],"matMul");for(var o=r?e.shape[1]:e.shape[2],a=r?e.shape[2]:e.shape[1],i=n?t.shape[1]:t.shape[2],s=e.shape[0],u=e.dataSync(),l=t.dataSync(),p=r?[e.strides[0],1,e.strides[1]]:[e.strides[0],e.strides[1],1],c=p[0],f=p[1],d=p[2],m=n?[1,t.strides[1],t.strides[0]]:[t.strides[1],1,t.strides[0]],g=m[0],v=m[1],y=m[2],x=a*i,b=new Float32Array(s*x),_=this.blockSize,w=0;w<s;w++)for(var T=0;T<a;T+=_)for(var N=0;N<i;N+=_)for(var P=0;P<o;P+=_)for(var S=Math.min(T+_,a),E=Math.min(N+_,i),k=Math.min(P+_,o),A=T;A<S;A++)for(var O=N;O<E;O++){for(var I=0,C=P;C<k;C++)I+=u[w*c+A*f+C*d]*l[C*g+O*v+w*y];b[w*x+(A*i+O)]+=I}return h.tensor3d(b,[s,a,i])},e.prototype.multiply=function(e,t){return"complex64"===e.dtype||"complex64"===t.dtype?this.broadcastedBinaryComplexOp(e.cast("complex64"),t.cast("complex64"),function(e,t,r,n){return{real:e*r-t*n,imag:e*n+t*r}}):this.broadcastedBinaryOp(e,t,y.upcastType(e.dtype,t.dtype),function(e,t){return e*t})},e.prototype.realDivide=function(e,t){this.assertNotComplex([e,t],"realDivide");var r=function(e,t){return e/t},n="float32";return this.broadcastedBinaryOp(e,t,n,r)},e.prototype.floorDiv=function(e,t){this.assertNotComplex([e,t],"floorDiv");var r=function(e,t){return Math.floor(e/t)},n="int32";return this.broadcastedBinaryOp(e,t,n,r)},e.prototype.sum=function(e,t){this.assertNotComplex(e,"sum"),l.assertAxesAreInnerMostDims("sum",t,e.rank);for(var r=l.computeOutAndReduceShapes(e.shape,t),n=r[0],o=r[1],a=y.upcastType(e.dtype,"int32"),i=h.zeros(n,a),s=x.sizeFromShape(o),u=i.dataSync(),p=e.dataSync(),c=0;c<u.length;++c){for(var f=c*s,d=0,m=0;m<s;++m)d+=p[f+m];u[c]=d}return i},e.prototype.unsortedSegmentSum=function(e,t,r){this.assertNotComplex(e,"unsortedSegmentSum");for(var n=[],o=e.rank-t.rank,a=0;a<o;++a)t=t.expandDims(a+1);for(var a=0;a<r;++a){var i=h.scalar(a,"int32"),s=h.equal(i,t).asType("float32"),u=s.mul(e).sum(0);n.push(u)}return h.stack(n)},e.prototype.argMin=function(e,t){this.assertNotComplex(e,"argMin");var r=[t];l.assertAxesAreInnerMostDims("argMin",r,e.rank);for(var n=l.computeOutAndReduceShapes(e.shape,r),o=n[0],a=n[1],i=h.zeros(o,"int32"),s=x.sizeFromShape(a),u=i.dataSync(),p=e.dataSync(),c=0;c<u.length;++c){for(var f=c*s,d=p[f],m=0,g=0;g<s;++g){var v=p[f+g];v<d&&(d=v,m=g)}u[c]=m}return i},e.prototype.argMax=function(e,t){this.assertNotComplex(e,"argMax");var r=[t];l.assertAxesAreInnerMostDims("argMax",r,e.rank);for(var n=l.computeOutAndReduceShapes(e.shape,r),o=n[0],a=n[1],i=h.zeros(o,"int32"),s=x.sizeFromShape(a),u=i.dataSync(),p=e.dataSync(),c=0;c<u.length;++c){for(var f=c*s,d=p[f],m=0,g=0;g<s;++g){var v=p[f+g];v>d&&(d=v,m=g)}u[c]=m}return i},e.prototype.cumsum=function(e,t,r,n){if(this.assertNotComplex(e,"cumsum"),t!==e.rank-1)throw new Error("backend.cumsum in CPU expects an inner-most axis="+(e.rank-1)+" but got axis="+t);for(var o=y.upcastType(e.dtype,"int32"),a=h.zeros(e.shape,o),i=a.dataSync(),s=e.dataSync(),u=e.shape[e.rank-1],l=n?function(e,t){return e+u-t-1}:function(e,t){return e+t},p=0;p<s.length;p+=u)for(var c=0;c<u;c++){var f=l(p,c);if(0===c)i[f]=r?0:s[f];else{var d=l(p,c-1);i[f]=r?s[d]+i[d]:s[f]+i[d]}}return a},e.prototype.equal=function(e,t){return this.assertNotComplex([e,t],"equal"),this.broadcastedBinaryOp(e,t,"bool",function(e,t){return e===t?1:0})},e.prototype.notEqual=function(e,t){return this.assertNotComplex([e,t],"notEqual"),this.broadcastedBinaryOp(e,t,"bool",function(e,t){return e!==t?1:0})},e.prototype.less=function(e,t){return this.assertNotComplex([e,t],"less"),this.broadcastedBinaryOp(e,t,"bool",function(e,t){return e<t?1:0})},e.prototype.lessEqual=function(e,t){return this.assertNotComplex([e,t],"lessEqual"),this.broadcastedBinaryOp(e,t,"bool",function(e,t){return e<=t?1:0})},e.prototype.greater=function(e,t){return this.assertNotComplex([e,t],"greater"),this.broadcastedBinaryOp(e,t,"bool",function(e,t){return e>t?1:0})},e.prototype.greaterEqual=function(e,t){return this.assertNotComplex([e,t],"greaterEqual"),this.broadcastedBinaryOp(e,t,"bool",function(e,t){return e>=t?1:0})},e.prototype.logicalNot=function(e){this.assertNotComplex(e,"logicalNot");for(var t=e.dataSync(),r=new Int32Array(t.length),n=0;n<t.length;++n)r[n]=t[n]?0:1;return v.Tensor.make(e.shape,{values:r},"bool")},e.prototype.logicalAnd=function(e,t){return this.assertNotComplex([e,t],"logicalAnd"),this.broadcastedBinaryOp(e,t,"bool",function(e,t){return e&&t})},e.prototype.logicalOr=function(e,t){return this.assertNotComplex([e,t],"logicalOr"),this.broadcastedBinaryOp(e,t,"bool",function(e,t){return e||t})},e.prototype.select=function(e,t,r){this.assertNotComplex([e,t,r],"select");for(var n=e.dataSync(),o=t.dataSync(),a=r.dataSync(),i=h.zeros(t.shape,y.upcastType(t.dtype,r.dtype)),s=i.dataSync(),u=0,l=0===e.rank||e.rank>1||1===t.rank?1:t.shape[1],p=0;p<n.length;p++)for(var c=0;c<l;c++)1===n[p]?s[u++]=o[p]:s[u++]=a[p];return i},e.prototype.where=function(e){this.assertNotComplex([e],"where");var t=e.dataSync();return S.whereImpl(e.shape,t)},e.prototype.topk=function(e,t,r){this.assertNotComplex(e,"topk");var n=e.dataSync();return P.topkImpl(n,e.shape,e.dtype,t,r)},e.prototype.min=function(e,t){this.assertNotComplex(e,"min"),l.assertAxesAreInnerMostDims("min",t,e.rank);for(var r=l.computeOutAndReduceShapes(e.shape,t),n=r[0],o=r[1],a=h.zeros(n,e.dtype),i=x.sizeFromShape(o),s=a.dataSync(),u=e.dataSync(),p=0;p<s.length;++p){for(var c=p*i,f=u[c],d=0;d<i;++d){var m=u[c+d];m<f&&(f=m)}s[p]=f}return a},e.prototype.minimum=function(e,t){return this.assertNotComplex([e,t],"minimum"),this.broadcastedBinaryOp(e,t,e.dtype,function(e,t){return Math.min(e,t)})},e.prototype.mod=function(e,t){return this.assertNotComplex([e,t],"mod"),this.broadcastedBinaryOp(e,t,e.dtype,function(e,t){var r=e%t;return e<0&&t<0||e>=0&&t>=0?r:(r+t)%t})},e.prototype.max=function(e,t){this.assertNotComplex(e,"max"),l.assertAxesAreInnerMostDims("max",t,e.rank);for(var r=l.computeOutAndReduceShapes(e.shape,t),n=r[0],o=r[1],a=h.zeros(n,e.dtype),i=x.sizeFromShape(o),s=a.dataSync(),u=e.dataSync(),p=0;p<s.length;++p){for(var c=p*i,f=u[c],d=0;d<i;++d){var m=u[c+d];m>f&&(f=m)}s[p]=f}return a},e.prototype.maximum=function(e,t){return this.assertNotComplex([e,t],"maximum"),this.broadcastedBinaryOp(e,t,e.dtype,function(e,t){return Math.max(e,t)})},e.prototype.all=function(e,t){this.assertNotComplex(e,"all"),l.assertAxesAreInnerMostDims("all",t,e.rank);for(var r=l.computeOutAndReduceShapes(e.shape,t),n=r[0],o=r[1],a=h.zeros(n,e.dtype),i=x.sizeFromShape(o),s=a.dataSync(),u=e.dataSync(),p=0;p<s.length;++p){for(var c=p*i,f=u[c],d=0;d<i;++d){var m=u[c+d];f=f&&m}s[p]=f}return a},e.prototype.any=function(e,t){this.assertNotComplex(e,"any"),l.assertAxesAreInnerMostDims("any",t,e.rank);for(var r=l.computeOutAndReduceShapes(e.shape,t),n=r[0],o=r[1],a=h.zeros(n,e.dtype),i=x.sizeFromShape(o),s=a.dataSync(),u=e.dataSync(),p=0;p<s.length;++p){for(var c=p*i,f=u[c],d=0;d<i;++d){var m=u[c+d];f=f||m}s[p]=f}return a},e.prototype.squaredDifference=function(e,t){return this.assertNotComplex([e,t],"squaredDifference"),this.broadcastedBinaryOp(e,t,e.dtype,function(e,t){var r=e-t;return r*r})},e.prototype.ceil=function(e){this.assertNotComplex(e,"ceil");for(var t=e.dataSync(),r=new Float32Array(t.length),n=0;n<t.length;++n)r[n]=Math.ceil(t[n]);return v.Tensor.make(e.shape,{values:r})},e.prototype.floor=function(e){this.assertNotComplex(e,"floor");for(var t=e.dataSync(),r=new Float32Array(t.length),n=0;n<t.length;++n)r[n]=Math.floor(t[n]);return v.Tensor.make(e.shape,{values:r})},e.prototype.sign=function(e){this.assertNotComplex(e,"x");for(var t=e.dataSync(),r=new Float32Array(t.length),n=0;n<t.length;++n)t[n]<0?r[n]=-1:t[n]>0?r[n]=1:r[n]=0;return v.Tensor.make(e.shape,{values:r})},e.prototype.round=function(e){this.assertNotComplex(e,"round");for(var t=e.dataSync(),r=new Float32Array(t.length),n=0;n<t.length;++n){var o=Math.floor(t[n]);t[n]-o<.5?r[n]=Math.floor(t[n]):t[n]-o>.5?r[n]=Math.ceil(t[n]):o%2===0?r[n]=o:r[n]=o+1}return v.Tensor.make(e.shape,{values:r})},e.prototype.exp=function(e){this.assertNotComplex(e,"exp");for(var t=e.dataSync(),r=new Float32Array(t.length),n=0;n<t.length;++n)r[n]=Math.exp(t[n]);return v.Tensor.make(e.shape,{values:r})},e.prototype.expm1=function(e){this.assertNotComplex(e,"expm1");for(var t=e.dataSync(),r=new Float32Array(t.length),n=0;n<t.length;++n)r[n]=Math.expm1(t[n]);return v.Tensor.make(e.shape,{values:r})},e.prototype.log=function(e){this.assertNotComplex(e,"log");for(var t=e.dataSync(),r=new Float32Array(t.length),n=0;n<t.length;++n){var o=t[n];r[n]=Math.log(o)}return v.Tensor.make(e.shape,{values:r})},e.prototype.log1p=function(e){this.assertNotComplex(e,"log1p");for(var t=e.dataSync(),r=new Float32Array(t.length),n=0;n<t.length;++n){var o=t[n];r[n]=Math.log1p(o)}return v.Tensor.make(e.shape,{values:r})},e.prototype.sqrt=function(e){this.assertNotComplex(e,"sqrt");for(var t=e.dataSync(),r=new Float32Array(t.length),n=0;n<t.length;++n){var o=t[n];r[n]=Math.sqrt(o)}return v.Tensor.make(e.shape,{values:r})},e.prototype.rsqrt=function(e){this.assertNotComplex(e,"rsqrt");for(var t=e.dataSync(),r=new Float32Array(t.length),n=0;n<t.length;++n){var o=t[n];r[n]=1/Math.sqrt(o)}return v.Tensor.make(e.shape,{values:r})},e.prototype.square=function(e){this.assertNotComplex(e,"square");for(var t=e.dataSync(),r=new Float32Array(t.length),n=0;n<t.length;++n){var o=t[n];r[n]=o*o}return v.Tensor.make(e.shape,{values:r})},e.prototype.reciprocal=function(e){this.assertNotComplex(e,"reciprocal");for(var t=e.dataSync(),r=new Float32Array(t.length),n=0;n<t.length;++n)r[n]=1/t[n];return v.Tensor.make(e.shape,{values:r})},e.prototype.relu=function(e){this.assertNotComplex(e,"relu");for(var t=h.zeros(e.shape,e.dtype),r=t.dataSync(),n=e.dataSync(),o=0;o<n.length;++o)r[o]=Math.max(0,n[o]);return t},e.prototype.elu=function(e){this.assertNotComplex(e,"elu");for(var t=new Float32Array(e.size),r=e.dataSync(),n=0;n<r.length;++n){var o=r[n];o>=0?t[n]=o:t[n]=Math.exp(o)-1}return v.Tensor.make(e.shape,{values:t})},e.prototype.eluDer=function(e,t){this.assertNotComplex([e,t],"eluDer");for(var r=new Float32Array(t.size),n=t.dataSync(),o=e.dataSync(),a=0;a<n.length;++a){var i=n[a];i>=1?r[a]=o[a]:r[a]=o[a]*(i+1)}return v.Tensor.make(t.shape,{values:r})},e.prototype.selu=function(e){this.assertNotComplex(e,"selu");for(var t=m.SELU_SCALEALPHA,r=m.SELU_SCALE,n=new Float32Array(e.size),o=e.dataSync(),a=0;a<o.length;++a){var i=o[a];i>=0?n[a]=r*i:n[a]=t*(Math.exp(i)-1)}return v.Tensor.make(e.shape,{values:n})},e.prototype.clip=function(e,t,r){this.assertNotComplex(e,"clip");for(var n=new Float32Array(e.size),o=e.dataSync(),a=0;a<o.length;++a){var i=o[a];n[a]=i>r?r:i<t?t:i}return v.Tensor.make(e.shape,{values:n})},e.prototype.abs=function(e){this.assertNotComplex(e,"abs");for(var t=new Float32Array(e.size),r=e.dataSync(),n=0;n<r.length;++n)t[n]=Math.abs(r[n]);return v.Tensor.make(e.shape,{values:t})},e.prototype.int=function(e){this.assertNotComplex(e,"int");for(var t=new Int32Array(e.size),r=e.dataSync(),n=0;n<r.length;++n)t[n]=r[n];return v.Tensor.make(e.shape,{values:t},"int32")},e.prototype.sigmoid=function(e){this.assertNotComplex(e,"sigmoid");for(var t=new Float32Array(e.size),r=e.dataSync(),n=0;n<r.length;++n)t[n]=1/(1+Math.exp(-r[n]));return v.Tensor.make(e.shape,{values:t})},e.prototype.softplus=function(e){this.assertNotComplex(e,"softplus");for(var t=1.1920928955078125e-7,r=Math.log(t)+2,n=new Float32Array(e.size),o=e.dataSync(),a=0;a<o.length;++a){var i=o[a]>-r,s=o[a]<r,u=Math.exp(o[a]),l=void 0;l=s?u:i?o[a]:Math.log(1+u),n[a]=l}return v.Tensor.make(e.shape,{values:n})},e.prototype.sin=function(e){this.assertNotComplex(e,"sin");for(var t=new Float32Array(e.size),r=e.dataSync(),n=0;n<r.length;++n)t[n]=Math.sin(r[n]);return v.Tensor.make(e.shape,{values:t})},e.prototype.cos=function(e){this.assertNotComplex(e,"cos");for(var t=new Float32Array(e.size),r=e.dataSync(),n=0;n<r.length;++n)t[n]=Math.cos(r[n]);return v.Tensor.make(e.shape,{values:t})},e.prototype.tan=function(e){this.assertNotComplex(e,"tan");for(var t=new Float32Array(e.size),r=e.dataSync(),n=0;n<r.length;++n)t[n]=Math.tan(r[n]);return v.Tensor.make(e.shape,{values:t})},e.prototype.asin=function(e){this.assertNotComplex(e,"asin");for(var t=new Float32Array(e.size),r=e.dataSync(),n=0;n<r.length;++n)t[n]=Math.asin(r[n]);return v.Tensor.make(e.shape,{values:t})},e.prototype.acos=function(e){this.assertNotComplex(e,"acos");for(var t=new Float32Array(e.size),r=e.dataSync(),n=0;n<r.length;++n)t[n]=Math.acos(r[n]);return v.Tensor.make(e.shape,{values:t})},e.prototype.atan=function(e){this.assertNotComplex(e,"atan");for(var t=new Float32Array(e.size),r=e.dataSync(),n=0;n<r.length;++n)t[n]=Math.atan(r[n]);return v.Tensor.make(e.shape,{values:t})},e.prototype.atan2=function(e,t){return this.assertNotComplex([e,t],"atan2"),this.broadcastedBinaryOp(e,t,e.dtype,function(e,t){return Math.atan2(e,t)})},e.prototype.sinh=function(e){this.assertNotComplex(e,"sinh");for(var t=new Float32Array(e.size),r=e.dataSync(),n=0;n<r.length;++n)t[n]=Math.sinh(r[n]);return v.Tensor.make(e.shape,{values:t})},e.prototype.cosh=function(e){this.assertNotComplex(e,"cosh");for(var t=new Float32Array(e.size),r=e.dataSync(),n=0;n<r.length;++n)t[n]=Math.cosh(r[n]);return v.Tensor.make(e.shape,{values:t})},e.prototype.tanh=function(e){this.assertNotComplex(e,"tanh");for(var t=new Float32Array(e.size),r=e.dataSync(),n=0;n<r.length;++n)t[n]=x.tanh(r[n]);return v.Tensor.make(e.shape,{values:t})},e.prototype.asinh=function(e){this.assertNotComplex(e,"asinh");for(var t=new Float32Array(e.size),r=e.dataSync(),n=0;n<r.length;++n)t[n]=Math.asinh(r[n]);return v.Tensor.make(e.shape,{values:t})},e.prototype.acosh=function(e){this.assertNotComplex(e,"acosh");for(var t=new Float32Array(e.size),r=e.dataSync(),n=0;n<r.length;++n)t[n]=Math.acosh(r[n]);return v.Tensor.make(e.shape,{values:t})},e.prototype.atanh=function(e){this.assertNotComplex(e,"atanh");for(var t=new Float32Array(e.size),r=e.dataSync(),n=0;n<r.length;++n)t[n]=Math.atanh(r[n]);return v.Tensor.make(e.shape,{values:t})},e.prototype.erf=function(e){this.assertNotComplex(e,"erf");for(var t=new Float32Array(e.size),r=e.dataSync(),n=f.ERF_P,o=f.ERF_A1,a=f.ERF_A2,i=f.ERF_A3,s=f.ERF_A4,u=f.ERF_A5,l=0;l<r.length;++l){var p=r[l],c=1/(1+n*p);t[l]=1-((((u*c+s)*c+i)*c+a)*c+o)*c*Math.exp(-p*p)}return v.Tensor.make(e.shape,{values:t})},e.prototype.step=function(e,t){void 0===t&&(t=0),this.assertNotComplex(e,"step");for(var r=new Float32Array(e.size),n=e.dataSync(),o=0;o<n.length;++o){var a=n[o];isNaN(a)?r[o]=NaN:r[o]=a>0?1:t}return v.Tensor.make(e.shape,{values:r})},e.prototype.conv2d=function(e,t,r){this.assertNotComplex([e,t],"conv2d");for(var n=r.filterHeight,o=r.filterWidth,a=r.dilationHeight,i=r.dilationWidth,s=r.padInfo.left,u=r.padInfo.top,l=h.buffer(r.outShape,e.dtype),p=e.dataSync(),c=t.dataSync(),f=l.values,d=0;d<r.batchSize;++d)for(var m=d*e.strides[0],g=d*l.strides[0],v=0;v<r.outHeight;++v)for(var y=g+v*l.strides[1],x=v*r.strideHeight-s,b=0;b<n;b++){var _=x+b*a;if(!(_<0||_>=r.inHeight))for(var w=b*t.strides[0],T=m+_*e.strides[1],N=0;N<r.outWidth;++N)for(var P=y+N*r.outChannels,S=N*r.strideWidth-u,E=0;E<o;E++){var k=S+E*i;if(!(k<0||k>=r.inWidth))for(var A=w+E*t.strides[1],O=T+k*r.inChannels,I=A,C=0;C<r.inChannels;++C){for(var R=p[O+C],M=0;M<r.outChannels;++M)f[P+M]+=R*c[I+M];I+=r.outChannels}}}return l.toTensor()},e.prototype.conv2dDerInput=function(e,t,r){this.assertNotComplex([e,t],"conv2dDerInput");for(var n=h.buffer(r.inShape,"float32"),o=n.values,a=n.strides,i=a[0],s=a[1],u=a[2],l=e.dataSync(),p=e.strides,c=p[0],f=p[1],d=p[2],m=t.dataSync(),g=t.strides,v=g[0],y=g[1],x=g[2],b=r.batchSize,_=r.filterHeight,w=r.filterWidth,T=r.inChannels,N=r.inHeight,P=r.inWidth,S=r.outChannels,E=r.outHeight,k=r.outWidth,A=r.strideHeight,O=r.strideWidth,I=_-1-r.padInfo.top,C=w-1-r.padInfo.left,R=0;R<b;++R)for(var M=0;M<T;++M)for(var D=0;D<N;++D)for(var V=D-I,L=Math.max(0,Math.ceil(V/A)),F=Math.min(E,(_+V)/A),B=0;B<P;++B){for(var z=B-C,j=Math.max(0,Math.ceil(z/O)),U=Math.min(k,(w+z)/O),G=0,q=L;q<F;++q)for(var W=q*A-V,H=j;H<U;++H)for(var $=H*O-z,X=c*R+f*q+d*H,Y=v*(_-1-W)+y*(w-1-$)+x*M,K=0;K<S;++K){var Q=l[X+K],J=m[Y+K];G+=Q*J}o[i*R+s*D+u*B+M]=G}return n.toTensor()},e.prototype.conv2dDerFilter=function(e,t,r){this.assertNotComplex([e,t],"conv2dDerFilter");for(var n=r.strideHeight,o=r.strideWidth,a=r.filterHeight,i=r.filterWidth,s=h.buffer(r.filterShape,"float32"),u=r.padInfo.left,l=r.padInfo.top,p=0;p<a;++p)for(var c=Math.max(0,Math.ceil((l-p)/n)),f=Math.min(r.outHeight,(r.inHeight+l-p)/n),d=0;d<i;++d)for(var m=Math.max(0,Math.ceil((u-d)/o)),g=Math.min(r.outWidth,(r.inWidth+u-d)/o),v=0;v<r.inChannels;++v)for(var y=0;y<r.outChannels;++y){for(var x=0,b=0;b<r.batchSize;++b)for(var _=c;_<f;++_)for(var w=p+_*n-l,T=m;T<g;++T){var N=d+T*o-u;x+=e.get(b,w,N,v)*t.get(b,_,T,y)}s.set(x,p,d,v,y)}return s.toTensor()},e.prototype.depthwiseConv2D=function(e,t,r){this.assertNotComplex([e,t],"depthwiseConv2D");for(var n=r.filterHeight,o=r.filterWidth,a=r.dilationHeight,i=r.dilationWidth,s=r.padInfo.left,u=r.padInfo.top,l=r.outChannels/r.inChannels,p=h.buffer(r.outShape,e.dtype),c=e.dataSync(),f=t.dataSync(),d=p.values,m=0;m<r.batchSize;++m)for(var g=m*e.strides[0],v=m*p.strides[0],y=0;y<r.outHeight;++y)for(var x=v+y*p.strides[1],b=y*r.strideHeight-s,_=0;_<n;++_){var w=b+_*a;if(!(w<0||w>=r.inHeight))for(var T=_*t.strides[0],N=g+w*e.strides[1],P=0;P<r.outWidth;++P)for(var S=x+P*p.strides[2],E=P*r.strideWidth-u,k=0;k<o;++k){var A=E+k*i;if(!(A<0||A>=r.inWidth))for(var O=T+k*t.strides[1],I=N+A*r.inChannels,C=S,R=O,M=0;M<r.inChannels;++M){for(var D=c[I+M],V=0;V<l;++V)d[C+V]+=D*f[R+V];C+=l,R+=l}}}return p.toTensor()},e.prototype.depthwiseConv2DDerInput=function(e,t,r){this.assertNotComplex([e,t],"depthwiseConv2DDerInput");for(var n=h.buffer(r.inShape,"float32"),o=n.values,a=n.strides,i=a[0],s=a[1],u=a[2],l=e.dataSync(),p=e.strides,c=p[0],f=p[1],d=p[2],m=t.dataSync(),g=t.strides,v=g[0],y=g[1],x=g[2],b=r.batchSize,_=r.filterHeight,w=r.filterWidth,T=r.inChannels,N=r.inHeight,P=r.inWidth,S=r.outChannels,E=r.outHeight,k=r.outWidth,A=r.strideHeight,O=r.strideWidth,I=_-1-r.padInfo.top,C=w-1-r.padInfo.left,R=S/T,M=0;M<b;++M)for(var D=0;D<T;++D)for(var V=0;V<N;++V)for(var L=V-I,F=Math.max(0,Math.ceil(L/A)),B=Math.min(E,(_+L)/A),z=0;z<P;++z){for(var j=z-C,U=Math.max(0,Math.ceil(j/O)),G=Math.min(k,(w+j)/O),q=0,W=F;W<B;++W)for(var H=W*A-L,$=U;$<G;++$)for(var X=$*O-j,Y=c*M+f*W+d*$,K=v*(_-1-H)+y*(w-1-X)+x*D,Q=0;Q<R;++Q){var J=D*R+Q,Z=l[Y+J],ee=m[K+Q];q+=Z*ee}o[i*M+s*V+u*z+D]=q}return n.toTensor()},e.prototype.depthwiseConv2DDerFilter=function(e,t,r){this.assertNotComplex([e,t],"depthwiseConv2DDerFilter");for(var n=r.strideHeight,o=r.strideWidth,a=r.filterHeight,i=r.filterWidth,s=h.buffer(r.filterShape,"float32"),u=r.padInfo.left,l=r.padInfo.top,p=r.outChannels/r.inChannels,c=0;c<a;++c)for(var f=Math.max(0,Math.ceil((l-c)/n)),d=Math.min(r.outHeight,(r.inHeight+l-c)/n),m=0;m<i;++m)for(var g=Math.max(0,Math.ceil((u-m)/o)),v=Math.min(r.outWidth,(r.inWidth+u-m)/o),y=0;y<r.outChannels;++y){for(var x=Math.trunc(y/p),b=y%p,_=0,w=0;w<r.batchSize;++w)for(var T=f;T<d;++T)for(var N=c+T*n-l,P=g;P<v;++P){var S=m+P*o-u;_+=e.get(w,N,S,x)*t.get(w,T,P,y)}s.set(_,c,m,x,b)}return s.toTensor()},e.prototype.tile=function(e,t){this.assertNotComplex(e,"tile");for(var r=new Array(e.rank),n=0;n<r.length;n++)r[n]=e.shape[n]*t[n];for(var o=h.buffer(r,e.dtype),a=e.buffer(),n=0;n<o.values.length;++n){for(var i=o.indexToLoc(n),s=new Array(e.rank),u=0;u<s.length;u++)s[u]=i[u]%e.shape[u];var l=a.locToIndex(s);o.values[n]=a.values[l]}return o.toTensor()},e.prototype.pad=function(e,t,r){this.assertNotComplex(e,"pad");var n=t.map(function(t,r){return t[0]+e.shape[r]+t[1]}),o=t.map(function(e){return e[0]}),a=e.buffer(),i=h.buffer(n,e.dtype);0!==r&&i.values.fill(r);for(var s=0;s<e.size;s++){var u=a.indexToLoc(s),l=u.map(function(e,t){return e+o[t]});i.set.apply(i,[e.get.apply(e,u)].concat(l))}return i.toTensor()},e.prototype.transpose=function(e,t){this.assertNotComplex(e,"transpose");for(var r=new Array(e.rank),n=0;n<r.length;n++)r[n]=e.shape[t[n]];for(var o=e.dataSync(),a=d.buffer(r,e.dtype),i=e.buffer(),n=0;n<e.size;++n){for(var s=i.indexToLoc(n),u=new Array(s.length),l=0;l<u.length;l++)u[l]=s[t[l]];var p=a.locToIndex(u);a.values[p]=o[n]}return a.toTensor()},e.prototype.gather=function(e,t,r){this.assertNotComplex([e,t],"gather");var n=e.shape.slice(),o=t.dataSync();n[r]=o.length;for(var a=d.buffer(n,e.dtype),i=e.buffer(),s=0;s<a.size;++s){var u=a.indexToLoc(s),l=u.slice();l[r]=o[u[r]];var p=i.locToIndex(l);a.values[s]=i.values[p]}return a.toTensor()},e.prototype.batchToSpaceND=function(e,t,r){this.assertNotComplex([e],"batchToSpaceND");var n=t.reduce(function(e,t){return e*t}),o=u.getReshaped(e.shape,t,n),a=u.getPermuted(o.length,t.length),i=u.getReshapedPermuted(e.shape,t,n),s=u.getSliceBeginCoords(r,t.length),l=u.getSliceSize(i,r,t.length);return e.reshape(o).transpose(a).reshape(i).slice(s,l)},e.prototype.spaceToBatchND=function(e,t,r){this.assertNotComplex([e],"spaceToBatchND");var n=t.reduce(function(e,t){return e*t}),o=[[0,0]];o.push.apply(o,r);for(var a=1+t.length;a<e.shape.length;++a)o.push([0,0]);var i=e.pad(o),s=u.getReshaped(i.shape,t,n,!1),l=u.getPermuted(s.length,t.length,!1),p=u.getReshapedPermuted(i.shape,t,n,!1);return i.reshape(s).transpose(l).reshape(p)},e.prototype.pool=function(e,t,r){this.assertNotComplex(e,"pool");for(var n=t.strideHeight,o=t.strideWidth,a=t.filterHeight,i=t.filterWidth,s=h.buffer(t.outShape,"float32"),u=t.padInfo.top,l=t.padInfo.left,p="max"===r?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,c=0;c<t.batchSize;++c)for(var f=0;f<t.inChannels;++f)for(var d=0;d<t.outHeight;++d)for(var m=d*n-u,g=Math.max(0,m),v=Math.min(t.inHeight,a+m),y=0;y<t.outWidth;++y){for(var x=y*o-l,b=Math.max(0,x),_=Math.min(t.inWidth,i+x),w=p,T=0,N=0,P=g;P<v;++P){for(var S=b;S<_;++S){var E=e.get(c,P,S,f);"max"===r&&E>w?w=E:"avg"===r&&(T+=E,N++)}if(isNaN(w))break}s.set("avg"===r?T/N:w,c,d,y,f)}return s.toTensor()},e.prototype.maxPool=function(e,t){return this.pool(e,t,"max")},e.prototype.maxPoolPositions=function(e,t){for(var r=h.buffer(t.outShape,"int32"),n=t.strideHeight,o=t.strideWidth,a=t.filterHeight,i=t.filterWidth,s=t.padInfo.top,u=t.padInfo.left,l=0;l<t.batchSize;++l)for(var p=0;p<t.inChannels;++p)for(var c=0;c<t.outHeight;++c)for(var f=c*n-s,d=Math.max(0,f),m=Math.min(t.inHeight,a+f),g=0;g<t.outWidth;++g){for(var v=g*o-u,y=Math.max(0,v),x=Math.min(t.inWidth,i+v),b=Number.NEGATIVE_INFINITY,_=-1,w=d;w<m;++w)for(var T=w-f,N=y;N<x;++N){var P=N-v,S=e.get(l,w,N,p);S>b&&(b=S,_=T*i+P)}r.set(_,l,c,g,p)}return r.toTensor()},e.prototype.maxPoolBackprop=function(e,t,r,n){this.assertNotComplex([t,r],"maxPoolBackprop");for(var o=this.maxPoolPositions(t,n),a=n.strideHeight,i=n.strideWidth,s=n.filterHeight,u=n.filterWidth,l=u-1-n.padInfo.left,p=s-1-n.padInfo.top,c=h.buffer(t.shape,"float32"),f=0;f<n.batchSize;++f)for(var d=0;d<n.inChannels;++d)for(var m=0;m<n.inHeight;++m)for(var g=0;g<n.inWidth;++g){for(var v=m-p,y=g-l,x=0,b=0;b<s;++b){var _=(v+b)/a;if(!(_<0||_>=n.outHeight||Math.floor(_)!==_))for(var w=0;w<u;++w){var T=(y+w)/i;if(!(T<0||T>=n.outWidth||Math.floor(T)!==T)){var N=s*u-1-o.get(f,_,T,d),P=b*u+w,S=N===P?1:0;if(0!==S){var E=e.get(f,_,T,d);x+=E*S}}}}c.set(x,f,m,g,d)}return c.toTensor()},e.prototype.avgPoolBackprop=function(e,t,r){this.assertNotComplex([e,t],"avgPoolBackprop");for(var n=r.strideHeight,o=r.strideWidth,a=r.filterHeight,i=r.filterWidth,s=i-1-r.padInfo.left,u=a-1-r.padInfo.top,l=h.buffer(t.shape,"float32"),p=1/(a*i),c=0;c<r.batchSize;++c)for(var f=0;f<r.inChannels;++f)for(var d=0;d<r.inHeight;++d)for(var m=0;m<r.inWidth;++m){for(var g=d-u,v=m-s,y=0,x=0;x<a;++x){var b=(g+x)/n;if(!(b<0||b>=r.outHeight||Math.floor(b)!==b))for(var _=0;_<i;++_){var w=(v+_)/o;if(!(w<0||w>=r.outWidth||Math.floor(w)!==w)){var T=e.get(c,b,w,f);y+=T}}}l.set(y*p,c,d,m,f)}return l.toTensor()},e.prototype.cast=function(e,t){return _.castTensor(e,t,this)},e.prototype.reshape=function(e,t){return _.reshapeTensor(e,t)},e.prototype.avgPool=function(e,t){return this.assertNotComplex(e,"avgPool"),this.pool(e,t,"avg").toFloat()},e.prototype.resizeBilinear=function(e,t,r,n){this.assertNotComplex(e,"resizeBilinear");for(var o=e.shape,a=o[0],i=o[1],s=o[2],u=o[3],l=h.buffer([a,t,r,u],e.dtype),p=[n&&t>1?i-1:i,n&&r>1?s-1:s],c=[n&&t>1?t-1:t,n&&r>1?r-1:r],f=0;f<a;f++)for(var d=0;d<t;d++)for(var m=0;m<r;m++)for(var g=0;g<u;g++){var v=p[0]*d/c[0],y=p[1]*m/c[1],x=Math.floor(v),b=Math.min(i-1,Math.ceil(v)),_=Math.floor(y),w=Math.min(s-1,Math.ceil(y)),T=e.get(f,x,_,g),N=e.get(f,b,_,g),P=e.get(f,x,w,g),S=e.get(f,b,w,g),E=v-x,k=y-_,A=T+(P-T)*k,O=N+(S-N)*k,I=A+(O-A)*E;l.set(I,f,d,m,g)}return l.toTensor()},e.prototype.resizeBilinearBackprop=function(e,t,r){this.assertNotComplex([e,t],"resizeBilinearBackprop");for(var n=t.shape,o=n[0],a=n[1],i=n[2],s=n[3],u=e.shape,l=u[1],p=u[2],c=h.buffer([o,a,i,s],t.dtype),f=[r&&l>1?a-1:a,r&&p>1?i-1:i],d=[r&&l>1?l-1:l,r&&p>1?p-1:p],m=f[0]/d[0],g=f[1]/d[1],v=0;v<o;v++)for(var y=0;y<l;y++)for(var x=y*m,b=Math.floor(x),_=Math.min(Math.ceil(x),a-1),w=x-b,T=1-w,N=0;N<p;N++)for(var P=N*g,S=Math.floor(P),E=Math.min(Math.ceil(P),i-1),k=P-S,A=1-k,O=0;O<s;O++){var I=e.get(v,y,N,O),C=c.get(v,b,S,O);C+=I*T*A,c.set(C,v,b,S,O);var R=c.get(v,b,E,O);R+=I*T*k,c.set(R,v,b,E,O);var M=c.get(v,_,S,O);M+=I*w*A,c.set(M,v,_,S,O);var D=c.get(v,_,E,O);D+=I*w*k,c.set(D,v,_,E,O)}return c.toTensor()},e.prototype.resizeNearestNeighbor=function(e,t,r,n){this.assertNotComplex(e,"resizeNearestNeighbor");for(var o=e.shape,a=o[0],i=o[1],s=o[2],u=o[3],l=h.buffer([a,t,r,u],e.dtype),p=[n&&t>1?i-1:i,n&&r>1?s-1:s],c=[n&&t>1?t-1:t,n&&r>1?r-1:r],f=0;f<a;f++)for(var d=0;d<t;d++)for(var m=0;m<r;m++)for(var g=0;g<u;g++){var v=p[0]*d/c[0],y=p[1]*m/c[1],x=Math.min(i-1,n?Math.round(v):Math.floor(v)),b=Math.min(s-1,n?Math.round(y):Math.floor(y)),_=e.get(f,x,b,g);l.set(_,f,d,m,g)}return l.toTensor()},e.prototype.resizeNearestNeighborBackprop=function(e,t,r){this.assertNotComplex([e,t],"resizeNearestNeighborBackprop");for(var n=t.shape,o=n[0],a=n[1],i=n[2],s=n[3],u=e.shape,l=u[1],p=u[2],c=h.buffer([o,a,i,s],t.dtype),f=[r&&l>1?a-1:a,r&&p>1?i-1:i],d=[r&&l>1?l-1:l,r&&p>1?p-1:p],m=f[0]/d[0],g=f[1]/d[1],v=1/m,y=1/g,x=2*Math.ceil(v)+2,b=2*Math.ceil(y)+2,_=0;_<o;_++)for(var w=0;w<a;w++)for(var T=0;T<i;T++)for(var N=Math.floor(w*v),P=Math.floor(N-x/2),S=Math.floor(T*y),E=Math.floor(S-b/2),k=0;k<s;k++){for(var A=0,O=0;O<x;O++){var I=O+P;if(!(I<0||I>=l))for(var C=0;C<b;C++){var R=C+E;if(!(R<0||R>=p)){var M=f[0]*(I/d[0]),D=f[1]*(R/d[1]),V=Math.min(a-1,r?Math.round(M):Math.floor(M)),L=Math.min(i-1,r?Math.round(D):Math.floor(D));w===V&&T===L&&(A+=e.get(_,I,R,k))}}}c.set(A,_,w,T,k)}return c.toTensor()},e.prototype.batchNormalization=function(e,t,r,n,o,a){this.assertNotComplex([e,t,r,o,a],"batchNormalization");for(var i=e.dataSync(),s=t.dataSync(),u=r.dataSync(),l=o?o.dataSync():new Float32Array([1]),p=a?a.dataSync():new Float32Array([0]),c=new Float32Array(i.length),f=p.length,h=l.length,m=u.length,g=s.length,v=0,y=0,x=0,b=0,_=0;_<i.length;++_)c[_]=p[v++]+(i[_]-s[y++])*l[x++]/Math.sqrt(u[b++]+n),v>=f&&(v=0),y>=g&&(y=0),x>=h&&(x=0),b>=m&&(b=0);return d.tensor4d(c,e.shape)},e.prototype.localResponseNormalization4D=function(e,t,r,n,o){
function a(e){for(var r=e%i,n=e-r+Math.max(0,r-t),o=e-r+Math.min(r+t,s),a=0;n<=o;n++){var l=u[n];a+=l*l}return a}this.assertNotComplex(e,"localResponseNormalization4D");for(var i=e.shape[3],s=i-1,u=e.dataSync(),l=x.sizeFromShape(e.shape),p=new Float32Array(l),c=0;c<l;c++){var f=a(c),d=u[c]*Math.pow(r+n*f,-o);p[c]=d}return h.tensor4d(p,e.shape)},e.prototype.LRNGrad=function(e,t,r,n,o,a,i){this.assertNotComplex(e,"LRNGrad");for(var s=e.shape[3],u=e.dataSync(),l=t.dataSync(),p=r.dataSync(),c=new Float32Array(x.sizeFromShape(e.shape)),f=x.sizeFromShape(e.shape),d=0;d<f;d++){for(var m=d%s,g=d-m+Math.max(0,m-n),v=d-m+Math.min(s,m+n+1),y=0,b=g;b<v;b++)y+=Math.pow(l[b],2);y=a*y+o;for(var b=g;b<v;b++){var _=-2*a*i*l[b]*p[d]/y;d===b&&(_+=Math.pow(y,-i)),_*=u[d],c[b]+=_}}return h.tensor4d(c,e.shape)},e.prototype.multinomial=function(e,t,r,n){this.assertNotComplex(e,"multinomial");for(var o=t?e:h.softmax(e),i=o.shape[0],s=o.shape[1],u=h.zeros([i,r],"int32"),l=u.dataSync(),p=o.dataSync(),c=0;c<i;++c){var f=c*s,d=new Float32Array(s-1);d[0]=p[f];for(var m=1;m<d.length;++m)d[m]=d[m-1]+p[f+m];for(var g=a.alea(n.toString()),v=c*r,y=0;y<r;++y){var x=g();l[v+y]=d.length;for(var b=0;b<d.length;b++)if(x<d[b]){l[v+y]=b;break}}}return u},e.prototype.oneHot=function(e,t,r,n){this.assertNotComplex(e,"oneHot");var o=new Float32Array(e.size*t);o.fill(n);for(var a=0;a<e.size;++a)e.get(a)>=0&&e.get(a)<t&&(o[a*t+e.get(a)]=r);return h.tensor2d(o,[e.size,t],"int32")},e.prototype.nonMaxSuppression=function(e,t,r,n,o){this.assertNotComplex(e,"nonMaxSuppression");var a=e.dataSync(),i=t.dataSync();return T.nonMaxSuppressionImpl(a,i,r,n,o)},e.prototype.depthToSpace=function(e,t,r){x.assert("NHWC"===r,"Only NHWC dataFormat supported on CPU for depthToSpace. Got "+r),x.assert(t>1,"blockSize should be > 1 for depthToSpace, but was: "+t);for(var n=e.shape[0],o=e.shape[1],a=e.shape[2],i=e.shape[3],s=o*t,u=a*t,l=i/(t*t),p=e.dataSync(),c=new Float32Array(n*s*u*l),f=0,d=0;d<n;++d)for(var m=0;m<s;++m)for(var g=Math.floor(m/t),v=m%t,y=0;y<u;++y)for(var b=Math.floor(y/t),_=y%t,w=(v*t+_)*l,T=0;T<l;++T){var N=T+w,P=N+i*(b+a*(g+o*d));c[f++]=p[P]}return h.tensor4d(c,[n,s,u,l])},e.prototype.broadcastedBinaryOp=function(e,t,r,n){var o=p.assertAndGetBroadcastShape(e.shape,t.shape),a=h.buffer(o,r),i=e.dataSync(),s=t.dataSync(),u=p.getBroadcastDims(e.shape,o),l=p.getBroadcastDims(t.shape,o),c=a.values;if(u.length+l.length===0)for(var f=0;f<c.length;++f)c[f]=n(i[f%i.length],s[f%s.length]);else for(var d=e.buffer(),m=t.buffer(),g=function(r){var o=a.indexToLoc(r),p=o.slice(-e.rank);u.forEach(function(e){return p[e]=0});var f=d.locToIndex(p),h=o.slice(-t.rank);l.forEach(function(e){return h[e]=0});var g=m.locToIndex(h);c[r]=n(i[f],s[g])},f=0;f<c.length;++f)g(f);return a.toTensor()},e.prototype.broadcastedBinaryComplexOp=function(e,t,r){var n=p.assertAndGetBroadcastShape(e.shape,t.shape),o=h.buffer(n,"float32"),a=h.buffer(n,"float32"),i=e.dataSync(),s=t.dataSync(),u=p.getBroadcastDims(e.shape,n),l=p.getBroadcastDims(t.shape,n),c=o.values,f=a.values;if(u.length+l.length===0)for(var d=0;d<c.length;d++){var m=d%i.length,g=d%s.length,v=r(i[2*m],i[2*m+1],s[2*g],s[2*g+1]);c[d]=v.real,f[d]=v.imag}else for(var y=this.data.get(e.dataId).complexTensors.real.buffer(),x=this.data.get(t.dataId).complexTensors.real.buffer(),b=function(n){var a=o.indexToLoc(n),p=a.slice(-e.rank);u.forEach(function(e){return p[e]=0});var h=y.locToIndex(p),d=a.slice(-t.rank);l.forEach(function(e){return d[e]=0});var m=x.locToIndex(d),g=r(i[2*h],i[2*h+1],s[2*m],s[2*m+1]);c[n]=g.real,f[n]=g.imag},d=0;d<c.length;d++)b(d);return this.complex(o.toTensor(),a.toTensor())},e.prototype.split=function(e,t,r){return N.split(e,t,r)},e.prototype.dispose=function(){},e.prototype.floatPrecision=function(){return 32},e.prototype.cropAndResize=function(e,t,r,n,o,a){for(var i=e.shape,s=i[0],u=i[1],l=i[2],p=i[3],c=t.shape[0],f=n[0],d=n[1],m=h.buffer([c,f,d,p]),g=t.dataSync(),v=r.dataSync(),y=e.dataSync(),x=e.strides,b=m.strides,_=0;_<c;_++){var w=4*_,T=g[w],N=g[w+1],P=g[w+2],S=g[w+3],E=v[_];if(!(E>=s))for(var k=f>1?(P-T)*(u-1)/(f-1):0,A=d>1?(S-N)*(l-1)/(d-1):0,O=0;O<f;O++){var I=f>1?T*(u-1)+O*k:.5*(T+P)*(u-1);if(I<0||I>u-1)for(var C=0;C<d;C++)for(var R=0;R<p;R++){var M=R+C*b[2]+O*b[1]+_*b[0];m.values[M]=a}else if("bilinear"===o)for(var D=Math.floor(I),V=Math.ceil(I),L=I-D,C=0;C<d;C++){var F=d>1?N*(l-1)+C*A:.5*(N+S)*(l-1);if(F<0||F>l-1)for(var R=0;R<p;R++){var M=R+C*b[2]+O*b[1]+_*b[0];m.values[M]=a}else for(var B=Math.floor(F),z=Math.ceil(F),j=F-B,R=0;R<p;R++){var M=R+B*x[2]+D*x[1]+E*x[0],U=y[M];M=R+z*x[2]+D*x[1]+E*x[0];var G=y[M];M=R+B*x[2]+V*x[1]+E*x[0];var q=y[M];M=R+z*x[2]+V*x[1]+E*x[0];var W=y[M],H=U+(G-U)*j,$=q+(W-q)*j;M=R+C*b[2]+O*b[1]+_*b[0],m.values[M]=H+($-H)*L}}else for(var C=0;C<d;++C){var F=d>1?N*(l-1)+C*A:.5*(N+S)*(l-1);if(F<0||F>l-1)for(var R=0;R<p;R++){var M=R+C*b[2]+O*b[1]+_*b[0];m.values[M]=a}else for(var X=Math.round(F),Y=Math.round(I),R=0;R<p;R++){var K=R+X*x[2]+Y*x[1]+E*x[0],Q=R+C*b[2]+O*b[1]+_*b[0];m.values[Q]=y[K]}}}}return m.toTensor()},e}();r.MathBackendCPU=E,i.ENV.registerBackend("cpu",function(){return new E},1,v.setTensorTracker)},{"../environment":51,"../log":120,"../ops/array_ops_util":122,"../ops/axis_util":123,"../ops/broadcast_util":126,"../ops/concat_util":130,"../ops/erf_util":133,"../ops/ops":144,"../ops/selu_util":153,"../ops/slice_util":155,"../tensor":174,"../types":180,"../util":181,"./backend_util":68,"./complex_util":70,"./non_max_suppression_impl":71,"./split_shared":72,"./topk_impl":73,"./where_impl":119,seedrandom:208}],68:[function(e,t,r){"use strict";function n(e,t,r){if("complex64"===t){if("complex64"===e.dtype)return e.clone();var n=a.zeros(e.shape),o=e.toFloat(),u=r.complex(o,n);return n.dispose(),o.dispose(),u}if(!s.hasEncodingLoss(e.dtype,t))return i.Tensor.make(e.shape,{dataId:e.dataId},t);if("complex64"===e.dtype){var l=r.real(e),u=l.cast(t);return l.dispose(),u}if("int32"===t)return r.int(e);if("bool"===t){var p=a.scalar(0,e.dtype),u=r.notEqual(e,p);return p.dispose(),u}throw new Error("Error in Cast: unknown dtype argument ("+t+")")}function o(e,t){return i.Tensor.make(t,{dataId:e.dataId},e.dtype)}Object.defineProperty(r,"__esModule",{value:!0});var a=e("../ops/tensor_ops"),i=e("../tensor"),s=e("../util");r.castTensor=n,r.reshapeTensor=o},{"../ops/tensor_ops":158,"../tensor":174,"../util":181}],69:[function(e,t,r){"use strict";function n(e,t){if("float32"===t||"complex64"===t)return e;if("int32"===t||"bool"===t){for(var r="int32"===t?new Int32Array(e.length):new Uint8Array(e.length),n=0;n<r.length;++n)r[n]=Math.round(e[n]);return r}throw new Error("Unknown dtype "+t)}function o(e,t){return e instanceof Float32Array?e:new Float32Array(e)}var a=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{u(n.next(e))}catch(e){a(e)}}function s(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,s)}u((n=n.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){function r(e){return function(t){return n([e,t])}}function n(r){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,a&&(i=2&r[0]?a.return:r[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,r[1])).done)return i;switch(a=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return u.label++,{value:r[1],done:!1};case 5:u.label++,a=r[1],r=[0];continue;case 7:r=u.ops.pop(),u.trys.pop();continue;default:if(i=u.trys,!(i=i.length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){u=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){u.label=r[1];break}if(6===r[0]&&u.label<i[1]){u.label=i[1],i=r;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(r);break}i[2]&&u.ops.pop(),u.trys.pop();continue}r=t.call(e,u)}catch(e){r=[6,e],a=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var o,a,i,s,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(r,"__esModule",{value:!0});var s=e("../environment"),u=e("../globals"),l=e("../log"),p=e("../ops/array_ops_util"),c=e("../ops/axis_util"),f=e("../ops/concat_util"),h=e("../ops/reduce_util"),d=e("../ops/segment_util"),m=e("../ops/slice_util"),g=e("../ops/softmax"),v=e("../ops/tensor_ops"),y=e("../tensor"),x=e("../types"),b=e("../util"),_=e("../util"),w=e("./backend_util"),T=e("./complex_util"),N=e("./non_max_suppression_impl"),P=e("./split_shared"),S=e("./topk_impl"),E=e("./webgl/argminmax_gpu"),k=e("./webgl/avg_pool_backprop_gpu"),A=e("./webgl/batchnorm_gpu"),O=e("./webgl/binaryop_complex_gpu"),I=e("./webgl/binaryop_complex_gpu"),C=e("./webgl/binaryop_gpu"),R=e("./webgl/binaryop_gpu"),M=e("./webgl/clip_gpu"),D=e("./webgl/concat_gpu"),V=e("./webgl/conv_backprop_gpu"),L=e("./webgl/conv_backprop_gpu_depthwise"),F=e("./webgl/conv_gpu"),B=e("./webgl/crop_and_resize_gpu"),z=e("./webgl/conv_gpu_depthwise"),j=e("./webgl/cumsum_gpu"),U=e("./webgl/depth_to_space_gpu"),G=e("./webgl/encode_float_gpu"),q=e("./webgl/from_pixels_gpu"),W=e("./webgl/gather_gpu"),H=e("./webgl/gpgpu_context"),$=e("./webgl/gpgpu_math"),X=e("./webgl/gpgpu_util"),Y=e("./webgl/lrn_gpu"),K=e("./webgl/lrn_grad_gpu"),Q=e("./webgl/max_pool_backprop_gpu"),J=e("./webgl/mulmat_gpu"),Z=e("./webgl/multinomial_gpu"),ee=e("./webgl/onehot_gpu"),te=e("./webgl/pad_gpu"),re=e("./webgl/pool_gpu"),ne=e("./webgl/reduce_gpu"),oe=e("./webgl/resize_bilinear_backprop_gpu"),ae=e("./webgl/resize_bilinear_gpu"),ie=e("./webgl/resize_nearest_neighbor_backprop_gpu"),se=e("./webgl/resize_nearest_neighbor_gpu"),ue=e("./webgl/reverse_gpu"),le=e("./webgl/segment_gpu"),pe=e("./webgl/select_gpu"),ce=e("./webgl/slice_gpu"),fe=e("./webgl/strided_slice_gpu"),he=e("./webgl/tex_util"),de=e("./webgl/texture_manager"),me=e("./webgl/tile_gpu"),ge=e("./webgl/transpose_gpu"),ve=e("./webgl/unaryop_gpu"),ye=e("./webgl/unaryop_gpu"),xe=e("./webgl/webgl_util"),be=e("./where_impl"),_e=300;r.SIZE_UPLOAD_UNIFORM=32;var we=function(){function e(e,t){if(void 0===t&&(t=!0),this.gpgpu=e,this.delayedStorage=t,this.texData=new WeakMap,this.pendingRead=new WeakMap,this.pendingDisposal=new WeakSet,this.lruDataGPU=[],this.numBytesInGPU=0,this.uploadWaitMs=0,this.downloadWaitMs=0,this.binaryCache={},this.disposed=!1,s.ENV.get("WEBGL_VERSION")<1)throw new Error("WebGL is not supported on this device");s.ENV.get("IS_BROWSER")&&(this.canvas=document.createElement("canvas")),null==e?(this.gpgpu=new H.GPGPUContext(X.createWebGLContext(this.canvas)),this.gpgpuCreatedLocally=!0):this.gpgpuCreatedLocally=!1,this.NUM_BYTES_BEFORE_PAGING=window.screen.height*window.screen.width*window.devicePixelRatio*_e,this.textureManager=new de.TextureManager(this.gpgpu)}return e.prototype.register=function(e,t,r){if(this.texData.has(e))throw new Error("Data buffer is already registered");this.texData.set(e,{shape:t,dtype:r,values:null,texture:null,complexTensors:null,texShape:null,usage:he.TextureUsage.RENDER})},e.prototype.fromPixels=function(e,t){if(null==e)throw new Error("pixels passed to tf.fromPixels() can not be null");var r=[e.height,e.width],n=[e.height,e.width,t];if(!(e instanceof HTMLVideoElement||e instanceof HTMLImageElement||e instanceof HTMLCanvasElement||e instanceof ImageData))throw new Error("pixels passed to tf.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement or ImageData, but was "+e.constructor.name);if(e instanceof HTMLVideoElement){if(null==this.fromPixelsCanvas){if(!s.ENV.get("IS_BROWSER"))throw new Error("Can't read pixels from HTMLImageElement outside the browser.");if("complete"!==document.readyState)throw new Error("The DOM is not ready yet. Please call tf.fromPixels() once the DOM is ready. One way to do that is to add an event listener for `DOMContentLoaded` on the document object");this.fromPixelsCanvas=document.createElement("canvas")}this.fromPixelsCanvas.width=e.width,this.fromPixelsCanvas.height=e.height,this.fromPixelsCanvas.getContext("2d").drawImage(e,0,0,e.width,e.height),e=this.fromPixelsCanvas}var o=y.Tensor.make(r,{},"int32");this.texData.get(o.dataId).usage=he.TextureUsage.PIXELS,this.gpgpu.uploadPixelDataToTexture(this.getTexture(o.dataId),e);var a=new q.FromPixelsProgram(n),i=this.compileAndRun(a,[o]);return o.dispose(),i},e.prototype.write=function(e,t){if(null==t)throw new Error("MathBackendWebGL.write(): values can not be null");this.throwIfNoData(e);var r=this.texData.get(e),n=r.texture,o=r.texShape,a=r.usage,i=r.dtype;if("complex64"===i)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");null!=n&&(this.releaseTexture(e,n,o,a),r.texture=null,r.texShape=null),r.usage=he.TextureUsage.UPLOAD,r.values=t,this.delayedStorage||this.uploadToGPU(e)},e.prototype.readSync=function(e){this.throwIfNoData(e);var t=this.texData.get(e),r=t.shape,n=t.texture,o=t.values,a=t.texShape,i=t.dtype,s=t.complexTensors;if(null!=o)return this.cacheOnCPU(e),o;var u,l=null!=this.activeTimers;l&&(u=performance.now());var p;if("complex64"===i){var c=s.real.dataSync(),f=s.imag.dataSync();p=T.mergeRealAndImagArrays(c,f)}else p=this.getValuesFromTexture(n,e,i,a,r);return l&&(this.downloadWaitMs+=performance.now()-u),this.cacheOnCPU(e,p),t.values},e.prototype.read=function(e){return a(this,void 0,void 0,function(){var t,r,n,o,a,u,l,p,c,f;return i(this,function(i){switch(i.label){case 0:if(this.pendingRead.has(e))return t=this.pendingRead.get(e),[2,new Promise(function(e){return t.push(e)})];if(this.throwIfNoData(e),r=this.texData.get(e),n=r.shape,o=r.texture,a=r.values,u=r.texShape,l=r.dtype,null!=a)return this.cacheOnCPU(e),[2,a];if(this.pendingRead.set(e,[]),!s.ENV.get("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&2===s.ENV.get("WEBGL_VERSION"))throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");return p=this.gpgpu.maybeCreateBufferFromTexture(o,u[0],u[1]),[4,this.gpgpu.createAndWaitForFence()];case 1:return i.sent(),c=p instanceof WebGLTexture?this.getValuesFromTexture(o,e,l,u,n):this.gpgpu.downloadFloat32MatrixFromBuffer(p,u[0],u[1]),this.cacheOnCPU(e,c),f=this.pendingRead.get(e),this.pendingRead.delete(e),f.forEach(function(e){return e(c)}),this.pendingDisposal.has(e)&&(this.pendingDisposal.delete(e),this.disposeData(e)),[2,c]}})})},e.prototype.getValuesFromTexture=function(e,t,r,n,o){if(s.ENV.get("WEBGL_DOWNLOAD_FLOAT_ENABLED"))return this.gpgpu.downloadFloat32MatrixFromOutputTexture(e,n[0],n[1]);var a=y.Tensor.make(o,{});this.texData.get(a.dataId).usage=he.TextureUsage.DOWNLOAD;var i=y.Tensor.make(o,{dataId:t},r),u=new G.EncodeFloatProgram(o),l=!1;this.compileAndRun(u,[i],a,null,l);var p=this.texData.get(a.dataId),c=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(p.texture,p.texShape[0],p.texShape[1]);return i.dispose(),a.dispose(),c},e.prototype.time=function(e){return a(this,void 0,void 0,function(){var t,r,n,o,a,s;return i(this,function(i){switch(i.label){case 0:return t=this.activeTimers,r=[],n=!1,null==this.programTimersStack?(this.programTimersStack=r,n=!0):this.activeTimers.push(r),this.activeTimers=r,e(),o=b.flatten(this.activeTimers),this.activeTimers=t,n&&(this.programTimersStack=null),[4,Promise.all(o).then(function(e){var t=0;return e.forEach(function(e){return t+=e}),t})];case 1:return a=i.sent(),s={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:a,wallMs:null},this.uploadWaitMs=0,this.downloadWaitMs=0,[2,s]}})})},e.prototype.memory=function(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU}},e.prototype.startTimer=function(){return s.ENV.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?this.gpgpu.beginQuery():{startMs:performance.now(),endMs:null}},e.prototype.endTimer=function(e){return s.ENV.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(this.gpgpu.endQuery(),e):(e.endMs=performance.now(),e)},e.prototype.getQueryTime=function(e){return a(this,void 0,void 0,function(){var t;return i(this,function(r){return s.ENV.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?[2,this.gpgpu.waitForQueryAndGetTime(e)]:(t=e,[2,t.endMs-t.startMs])})})},e.prototype.disposeData=function(e){if(!this.pendingDisposal.has(e)){if(this.pendingRead.has(e))return void this.pendingDisposal.add(e);if(this.texData.has(e)){var t=this.texData.get(e),r=t.texture,n=t.texShape,o=t.usage,a=t.complexTensors;null!=r&&this.releaseTexture(e,r,n,o),null!=a&&(a.real.dispose(),a.imag.dispose()),this.texData.delete(e)}}},e.prototype.getTexture=function(e){return this.uploadToGPU(e),this.texData.get(e).texture},e.prototype.getGPGPUContext=function(){return this.gpgpu},e.prototype.getCanvas=function(){return this.canvas},e.prototype.complex=function(e,t){var r=y.Tensor.make(e.shape,{},"complex64"),n=this.texData.get(r.dataId);return n.complexTensors={real:s.ENV.engine.keep(e.clone()),imag:s.ENV.engine.keep(t.clone())},r},e.prototype.real=function(e){var t=this.texData.get(e.dataId);return t.complexTensors.real.clone()},e.prototype.imag=function(e){var t=this.texData.get(e.dataId);return t.complexTensors.imag.clone()},e.prototype.slice=function(e,t,r){var n=new ce.SliceProgram(r),o=n.getCustomSetupFunc(t);return this.compileAndRun(n,[e],null,o)},e.prototype.stridedSlice=function(e,t,r,n,o,a,i,s,u){var l=m.getStridedSlicedInfo(e.shape,t,r,n,o,a,i,s,u),p=l[0],c=l[1],f=l[2],h=c.filter(function(e,t){return f.indexOf(t)===-1});if(h.some(function(e){return 0===e}))return v.tensor([],h);var d=new fe.StridedSliceProgram(p,n,c,f);return this.compileAndRun(d,[e])},e.prototype.reverse=function(e,t){var r=new ue.ReverseProgram(e.shape,t);return this.compileAndRun(r,[e])},e.prototype.concat2Tensors=function(e,t,r){var n=f.computeOutShape([e.shape,t.shape],r),o=e.as2D(-1,_.sizeFromShape(e.shape.slice(r))),a=t.as2D(-1,_.sizeFromShape(t.shape.slice(r))),i=new D.ConcatProgram(o.shape,a.shape),s=this.compileAndRun(i,[o,a]);return s.reshape(n)},e.prototype.concat=function(e,t){if(1===e.length)return e[0];for(var r=e[0],n=1;n<e.length;++n)r=this.concat2Tensors(r,e[n],t);return r},e.prototype.neg=function(e){var t=new ye.UnaryOpProgram(e.shape,ve.NEG);return this.compileAndRun(t,[e])},e.prototype.batchMatMul=function(e,t,r,n){var o=new J.MatMulProgram(e.shape,t.shape,r,n);return this.compileAndRun(o,[e,t])},e.prototype.multiply=function(e,t){if("complex64"===e.dtype){var r=this.texData.get(e.dataId),n=this.texData.get(t.dataId),o=new I.BinaryOpComplexProgram(O.COMPLEX_MULTIPLY.REAL,e.shape,t.shape),a=new I.BinaryOpComplexProgram(O.COMPLEX_MULTIPLY.IMAG,e.shape,t.shape),i=[this.makeComplexComponentTensorHandle(e,r.complexTensors.real),this.makeComplexComponentTensorHandle(e,r.complexTensors.imag),this.makeComplexComponentTensorHandle(t,n.complexTensors.real),this.makeComplexComponentTensorHandle(t,n.complexTensors.imag)],s=this.compileAndRun(o,i),u=this.compileAndRun(a,i),l=this.complex(s,u);return s.dispose(),u.dispose(),l}var p=new R.BinaryOpProgram(C.MUL,e.shape,t.shape),c=this.makeOutputArray(p.outputShape,e.dtype);return this.compileAndRun(p,[e,t],c)},e.prototype.batchNormalization=function(e,t,r,n,o,a){var i=[e,t,r],s=null;null!=a&&(s=a.shape,i.push(a));var u=null;null!=o&&(u=o.shape,i.push(o));var l=new A.BatchNormProgram(e.shape,t.shape,r.shape,s,u,n);return this.compileAndRun(l,i)},e.prototype.localResponseNormalization4D=function(e,t,r,n,o){var a=new Y.LRNProgram(e.shape,t,r,n,o);return this.compileAndRun(a,[e])},e.prototype.LRNGrad=function(e,t,r,n,o,a,i){var s=new K.LRNGradProgram(t.shape,n,o,a,i);return this.compileAndRun(s,[t,r,e])},e.prototype.tile=function(e,t){var r=new me.TileProgram(e.shape,t);return this.compileAndRun(r,[e])},e.prototype.pad=function(e,t,r){var n=new te.PadProgram(e.shape,t,r);return this.compileAndRun(n,[e])},e.prototype.transpose=function(e,t){var r=new ge.TransposeProgram(e.shape,t);return this.compileAndRun(r,[e])},e.prototype.gather=function(e,t,r){var n=new W.GatherProgram(e.shape,t.size,r);return this.compileAndRun(n,[e,t])},e.prototype.batchToSpaceND=function(e,t,r){b.assert(e.rank<=4,"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet");var n=t.reduce(function(e,t){return e*t}),o=p.getReshaped(e.shape,t,n),a=p.getPermuted(o.length,t.length),i=p.getReshapedPermuted(e.shape,t,n),s=p.getSliceBeginCoords(r,t.length),u=p.getSliceSize(i,r,t.length);return e.reshape(o).transpose(a).reshape(i).slice(s,u)},e.prototype.spaceToBatchND=function(e,t,r){b.assert(e.rank<=4,"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet");var n=t.reduce(function(e,t){return e*t}),o=[[0,0]];o.push.apply(o,r);for(var a=1+t.length;a<e.shape.length;++a)o.push([0,0]);var i=e.pad(o),s=p.getReshaped(i.shape,t,n,!1),u=p.getPermuted(s.length,t.length,!1),l=p.getReshapedPermuted(i.shape,t,n,!1);return i.reshape(s).transpose(u).reshape(l)},e.prototype.reduce=function(e,t,r){var n=e.shape[0],o=e.shape[1],a=h.computeOptimalWindowSize(o),i={windowSize:a,inSize:o,batchSize:n},s=new ne.ReduceProgram(i,t),u=s.outputShape,l=u[0],p=u[1],c=this.makeOutputArray([l,p],r);return this.compileAndRun(s,[e],c),1===c.shape[1]?c:this.reduce(c,t,r)},e.prototype.argReduce=function(e,t,r){void 0===r&&(r=null);var n=e.shape[0],o=e.shape[1];null!=r&&(n=r.shape[0],o=r.shape[1]);var a=h.computeOptimalWindowSize(o),i={windowSize:a,inSize:o,batchSize:n},s=new E.ArgMinMaxProgram(i,t,null==r),u=s.outputShape,l=u[0],p=u[1],c=this.makeOutputArray([l,p],"int32"),f=[e];return null!=r&&f.push(r),this.compileAndRun(s,f,c),1===c.shape[1]?c:this.argReduce(e,t,c)},e.prototype.sum=function(e,t){c.assertAxesAreInnerMostDims("sum",t,e.rank);var r=c.computeOutAndReduceShapes(e.shape,t),n=r[0],o=r[1],a=b.sizeFromShape(o),i=e.as2D(-1,a),s=x.sumOutType(e.dtype);return this.reduce(i,"sum",s).reshape(n)},e.prototype.unsortedSegmentSum=function(e,t,r){var n=0,o=c.getAxesPermutation([n],e.rank),a=e;null!=o&&(a=e.transpose(o),n=c.getInnerMostAxes(1,e.rank)[0]);var i=d.computeOutShape(a.shape,n,r),s=b.sizeFromShape([a.shape[n]]),u=a.as2D(-1,s),l=x.sumOutType(e.dtype),p=this.segOpCompute(u,"unsortedSegmentSum",t,l,r).reshape(i);return null!=o&&(p=p.transpose(c.getUndoAxesPermutation(o))),p},e.prototype.segOpCompute=function(e,t,r,n,o){var a=e.shape[0],i=e.shape[1],s=d.segOpComputeOptimalWindowSize(i,o),u={windowSize:s,inSize:i,batchSize:a,numSegments:o},l=new le.SegmentOpProgram(u,t),p=l.outputShape,c=p[0],f=p[1],h=this.makeOutputArray([c,f],n);return this.compileAndRun(l,[e,r],h),h.shape[1]===o?h:(r=v.range(0,o).tile([i/s]),this.segOpCompute(h,t,r,n,o))},e.prototype.argMin=function(e,t){var r=[t];c.assertAxesAreInnerMostDims("argMin",r,e.rank);var n=c.computeOutAndReduceShapes(e.shape,r),o=n[0],a=n[1],i=b.sizeFromShape(a),s=e.as2D(-1,i);return this.argReduce(s,"min").reshape(o)},e.prototype.argMax=function(e,t){var r=[t];c.assertAxesAreInnerMostDims("argMax",r,e.rank);var n=c.computeOutAndReduceShapes(e.shape,r),o=n[0],a=n[1],i=b.sizeFromShape(a),s=e.as2D(-1,i);return this.argReduce(s,"max").reshape(o)},e.prototype.cumsum=function(e,t,r,n){if(t!==e.rank-1)throw new Error("WebGL cumsum shader expects an inner-most axis="+(e.rank-1)+" but got axis="+t);var o=new j.CumSumProgram(e.shape,r,n);return this.compileAndRun(o,[e])},e.prototype.equal=function(e,t){var r=new R.BinaryOpProgram(C.EQUAL,e.shape,t.shape),n=this.makeOutputArray(r.outputShape,"bool");return this.compileAndRun(r,[e,t],n)},e.prototype.notEqual=function(e,t){var r=new R.BinaryOpProgram(C.NOT_EQUAL,e.shape,t.shape),n=this.makeOutputArray(r.outputShape,"bool");return this.compileAndRun(r,[e,t],n)},e.prototype.less=function(e,t){var r=new R.BinaryOpProgram(C.LESS,e.shape,t.shape),n=this.makeOutputArray(r.outputShape,"bool");return this.compileAndRun(r,[e,t],n)},e.prototype.lessEqual=function(e,t){var r=new R.BinaryOpProgram(C.LESS_EQUAL,e.shape,t.shape),n=this.makeOutputArray(r.outputShape,"bool");return this.compileAndRun(r,[e,t],n)},e.prototype.greater=function(e,t){var r=new R.BinaryOpProgram(C.GREATER,e.shape,t.shape),n=this.makeOutputArray(r.outputShape,"bool");return this.compileAndRun(r,[e,t],n)},e.prototype.greaterEqual=function(e,t){var r=new R.BinaryOpProgram(C.GREATER_EQUAL,e.shape,t.shape),n=this.makeOutputArray(r.outputShape,"bool");return this.compileAndRun(r,[e,t],n)},e.prototype.logicalNot=function(e){var t=new ye.UnaryOpProgram(e.shape,ve.LOGICAL_NOT);return this.compileAndRun(t,[e])},e.prototype.logicalAnd=function(e,t){var r=new R.BinaryOpProgram(C.LOGICAL_AND,e.shape,t.shape),n=this.makeOutputArray(r.outputShape,"bool");return this.compileAndRun(r,[e,t],n)},e.prototype.logicalOr=function(e,t){var r=new R.BinaryOpProgram(C.LOGICAL_OR,e.shape,t.shape),n=this.makeOutputArray(r.outputShape,"bool");return this.compileAndRun(r,[e,t],n)},e.prototype.select=function(e,t,r){var n=new pe.SelectProgram(e.rank,t.shape,t.rank),o=this.makeOutputArray(n.outputShape,x.upcastType(t.dtype,r.dtype));return this.compileAndRun(n,[e,t,r],o)},e.prototype.where=function(e){l.warn("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");var t=e.dataSync();return be.whereImpl(e.shape,t)},e.prototype.topk=function(e,t,r){var n=e.dataSync();return S.topkImpl(n,e.shape,e.dtype,t,r)},e.prototype.min=function(e,t){c.assertAxesAreInnerMostDims("min",t,e.rank);var r=c.computeOutAndReduceShapes(e.shape,t),n=r[0],o=r[1],a=b.sizeFromShape(o),i=e.as2D(-1,a);return this.reduce(i,"min",i.dtype).reshape(n)},e.prototype.minimum=function(e,t){var r=new R.BinaryOpProgram(C.MIN,e.shape,t.shape);return this.compileAndRun(r,[e,t])},e.prototype.mod=function(e,t){var r=new R.BinaryOpProgram(C.MOD,e.shape,t.shape),n=r.getCustomSetupFunc();return this.compileAndRun(r,[e,t],null,n)},e.prototype.max=function(e,t){c.assertAxesAreInnerMostDims("max",t,e.rank);var r=c.computeOutAndReduceShapes(e.shape,t),n=r[0],o=r[1],a=b.sizeFromShape(o),i=e.as2D(-1,a);return this.reduce(i,"max",i.dtype).reshape(n)},e.prototype.maximum=function(e,t){var r=new R.BinaryOpProgram(C.MAX,e.shape,t.shape);return this.compileAndRun(r,[e,t])},e.prototype.all=function(e,t){c.assertAxesAreInnerMostDims("all",t,e.rank);var r=c.computeOutAndReduceShapes(e.shape,t),n=r[0],o=r[1],a=b.sizeFromShape(o),i=e.as2D(-1,a);return this.reduce(i,"all",i.dtype).reshape(n)},e.prototype.any=function(e,t){c.assertAxesAreInnerMostDims("any",t,e.rank);var r=c.computeOutAndReduceShapes(e.shape,t),n=r[0],o=r[1],a=b.sizeFromShape(o),i=e.as2D(-1,a);return this.reduce(i,"any",i.dtype).reshape(n)},e.prototype.squaredDifference=function(e,t){var r=new R.BinaryOpProgram(C.SQUARED_DIFFERENCE,e.shape,t.shape);return this.compileAndRun(r,[e,t])},e.prototype.realDivide=function(e,t){var r=C.DIV,n="float32",o=new R.BinaryOpProgram(r,e.shape,t.shape),a=this.makeOutputArray(o.outputShape,n);return this.compileAndRun(o,[e,t],a)},e.prototype.floorDiv=function(e,t){var r=C.INT_DIV,n="int32",o=new R.BinaryOpProgram(r,e.shape,t.shape),a=this.makeOutputArray(o.outputShape,n);return this.compileAndRun(o,[e,t],a)},e.prototype.add=function(e,t){if("complex64"===e.dtype&&"complex64"===t.dtype)return this.complexSeparableBinaryOp(e,t,C.ADD);var r=new R.BinaryOpProgram(C.ADD,e.shape,t.shape),n=this.makeOutputArray(r.outputShape,x.upcastType(e.dtype,t.dtype));return this.compileAndRun(r,[e,t],n)},e.prototype.complexSeparableBinaryOp=function(e,t,r){var n=this,o=this.texData.get(e.dataId),a=this.texData.get(t.dataId),i=[[o.complexTensors.real,a.complexTensors.real],[o.complexTensors.imag,a.complexTensors.imag]].map(function(o){var a=o[0],i=o[1],s=new R.BinaryOpProgram(r,e.shape,t.shape),u=n.makeOutputArray(s.outputShape,x.upcastType(a.dtype,i.dtype)),l=n.makeComplexComponentTensorHandle(e,a),p=n.makeComplexComponentTensorHandle(t,i);return n.compileAndRun(s,[l,p],u)}),s=i[0],u=i[1],l=this.complex(s,u);return s.dispose(),u.dispose(),l},e.prototype.makeComplexComponentTensorHandle=function(e,t){return{dataId:t.dataId,dtype:t.dtype,shape:e.shape}},e.prototype.addN=function(e){for(var t=e[0],r=1;r<e.length;r++)t=this.add(t,e[r]);return t},e.prototype.subtract=function(e,t){if("complex64"===e.dtype&&"complex64"===t.dtype)return this.complexSeparableBinaryOp(e,t,C.SUB);var r=new R.BinaryOpProgram(C.SUB,e.shape,t.shape),n=this.makeOutputArray(r.outputShape,x.upcastType(e.dtype,t.dtype));return this.compileAndRun(r,[e,t],n)},e.prototype.pow=function(e,t){var r=new R.BinaryOpProgram(C.POW,e.shape,t.shape),n=r.getCustomSetupFunc(),o=this.makeOutputArray(r.outputShape,x.upcastType(e.dtype,t.dtype));return this.compileAndRun(r,[e,t],o,n)},e.prototype.ceil=function(e){var t=new ye.UnaryOpProgram(e.shape,ve.CEIL);return this.compileAndRun(t,[e])},e.prototype.floor=function(e){var t=new ye.UnaryOpProgram(e.shape,ve.FLOOR);return this.compileAndRun(t,[e])},e.prototype.sign=function(e){var t=new ye.UnaryOpProgram(e.shape,ve.SIGN);return this.compileAndRun(t,[e])},e.prototype.round=function(e){var t=new ye.UnaryOpProgram(e.shape,ve.ROUND);return this.compileAndRun(t,[e])},e.prototype.exp=function(e){var t=new ye.UnaryOpProgram(e.shape,ve.EXP);return this.compileAndRun(t,[e])},e.prototype.expm1=function(e){var t=new ye.UnaryOpProgram(e.shape,ve.EXPM1);return this.compileAndRun(t,[e])},e.prototype.log=function(e){var t=new ye.UnaryOpProgram(e.shape,ve.LOG),r=t.getCustomSetupFunc();return this.compileAndRun(t,[e],null,r)},e.prototype.log1p=function(e){var t=new ye.UnaryOpProgram(e.shape,ve.LOG1P);return this.compileAndRun(t,[e])},e.prototype.sqrt=function(e){var t=new ye.UnaryOpProgram(e.shape,ve.SQRT);return this.compileAndRun(t,[e])},e.prototype.rsqrt=function(e){var t=new ye.UnaryOpProgram(e.shape,ve.RSQRT);return this.compileAndRun(t,[e])},e.prototype.square=function(e){var t=new ye.UnaryOpProgram(e.shape,ve.SQUARE);return this.compileAndRun(t,[e])},e.prototype.reciprocal=function(e){var t=new ye.UnaryOpProgram(e.shape,ve.RECIPROCAL);return this.compileAndRun(t,[e])},e.prototype.relu=function(e){var t=new ye.UnaryOpProgram(e.shape,ve.RELU);return this.compileAndRun(t,[e])},e.prototype.elu=function(e){var t=new ye.UnaryOpProgram(e.shape,ve.ELU);return this.compileAndRun(t,[e])},e.prototype.eluDer=function(e,t){var r=new R.BinaryOpProgram(C.ELU_DER,e.shape,t.shape);return this.compileAndRun(r,[e,t])},e.prototype.selu=function(e){var t=new ye.UnaryOpProgram(e.shape,ve.SELU);return this.compileAndRun(t,[e])},e.prototype.int=function(e){var t=new ye.UnaryOpProgram(e.shape,ve.TO_INT),r=this.makeOutputArray(t.outputShape,"int32");return this.compileAndRun(t,[e],r)},e.prototype.clip=function(e,t,r){var n=new M.ClipProgram(e.shape,t,r);return this.compileAndRun(n,[e])},e.prototype.abs=function(e){var t=new ye.UnaryOpProgram(e.shape,ve.ABS);return this.compileAndRun(t,[e])},e.prototype.sigmoid=function(e){var t=new ye.UnaryOpProgram(e.shape,ve.SIGMOID);return this.compileAndRun(t,[e])},e.prototype.softplus=function(e){var t=new ye.UnaryOpProgram(e.shape,ve.SOFTPLUS);return this.compileAndRun(t,[e])},e.prototype.sin=function(e){var t=new ye.UnaryOpProgram(e.shape,ve.SIN);return this.compileAndRun(t,[e])},e.prototype.cos=function(e){var t=new ye.UnaryOpProgram(e.shape,ve.COS);return this.compileAndRun(t,[e])},e.prototype.tan=function(e){var t=new ye.UnaryOpProgram(e.shape,ve.TAN);return this.compileAndRun(t,[e])},e.prototype.asin=function(e){var t=new ye.UnaryOpProgram(e.shape,ve.ASIN);return this.compileAndRun(t,[e])},e.prototype.acos=function(e){var t=new ye.UnaryOpProgram(e.shape,ve.ACOS);return this.compileAndRun(t,[e])},e.prototype.atan=function(e){var t=new ye.UnaryOpProgram(e.shape,ve.ATAN);return this.compileAndRun(t,[e])},e.prototype.atan2=function(e,t){var r=new R.BinaryOpProgram(C.ATAN2,e.shape,t.shape);return this.compileAndRun(r,[e,t])},e.prototype.sinh=function(e){var t=new ye.UnaryOpProgram(e.shape,ve.SINH);return this.compileAndRun(t,[e])},e.prototype.cosh=function(e){var t=new ye.UnaryOpProgram(e.shape,ve.COSH);return this.compileAndRun(t,[e])},e.prototype.tanh=function(e){var t=new ye.UnaryOpProgram(e.shape,ve.TANH);return this.compileAndRun(t,[e])},e.prototype.asinh=function(e){
var t=new ye.UnaryOpProgram(e.shape,ve.ASINH);return this.compileAndRun(t,[e])},e.prototype.acosh=function(e){var t=new ye.UnaryOpProgram(e.shape,ve.ACOSH),r=t.getCustomSetupFunc();return this.compileAndRun(t,[e],null,r)},e.prototype.atanh=function(e){var t=new ye.UnaryOpProgram(e.shape,ve.ATANH),r=t.getCustomSetupFunc();return this.compileAndRun(t,[e],null,r)},e.prototype.erf=function(e){var t=new ye.UnaryOpProgram(e.shape,ve.ERF);return this.compileAndRun(t,[e])},e.prototype.step=function(e,t){var r=new ye.UnaryOpProgram(e.shape,ve.STEP(t));return this.compileAndRun(r,[e])},e.prototype.conv2d=function(e,t,r){var n=new F.Conv2DProgram(r);return this.compileAndRun(n,[e,t])},e.prototype.conv2dDerInput=function(e,t,r){var n=new V.Conv2DDerInputProgram(r);return this.compileAndRun(n,[e,t])},e.prototype.conv2dDerFilter=function(e,t,r){var n=new V.Conv2DDerFilterProgram(r);return this.compileAndRun(n,[e,t])},e.prototype.depthwiseConv2D=function(e,t,r){var n=new z.DepthwiseConv2DProgram(r);return this.compileAndRun(n,[e,t])},e.prototype.depthwiseConv2DDerInput=function(e,t,r){var n=new L.DepthwiseConv2DDerInputProgram(r);return this.compileAndRun(n,[e,t])},e.prototype.depthwiseConv2DDerFilter=function(e,t,r){var n=new L.DepthwiseConv2DDerFilterProgram(r);return this.compileAndRun(n,[e,t])},e.prototype.maxPool=function(e,t){var r=new re.Pool2DProgram(t,"max",!1),n=this.makeOutputArray(r.outputShape,e.dtype);return this.compileAndRun(r,[e],n)},e.prototype.avgPool=function(e,t){var r=new re.Pool2DProgram(t,"avg",!1),n=this.makeOutputArray(r.outputShape,"float32");return this.compileAndRun(r,[e],n)},e.prototype.maxPoolBackprop=function(e,t,r,n){var o=!0,a=new re.Pool2DProgram(n,"max",o),i=this.compileAndRun(a,[t]),s=new Q.MaxPool2DBackpropProgram(n),u=this.makeOutputArray(s.outputShape,t.dtype),l=this.compileAndRun(s,[e,i],u);return i.dispose(),l},e.prototype.avgPoolBackprop=function(e,t,r){var n=new k.AvgPool2DBackpropProgram(r),o=this.makeOutputArray(n.outputShape,t.dtype);return this.compileAndRun(n,[e],o)},e.prototype.cast=function(e,t){return w.castTensor(e,t,this)},e.prototype.reshape=function(e,t){return w.reshapeTensor(e,t)},e.prototype.resizeBilinear=function(e,t,r,n){var o=new ae.ResizeBilinearProgram(e.shape,t,r,n);return this.compileAndRun(o,[e])},e.prototype.resizeBilinearBackprop=function(e,t,r){var n=new oe.ResizeBilinearBackpropProgram(e,t,r);return this.compileAndRun(n,[e])},e.prototype.resizeNearestNeighbor=function(e,t,r,n){var o=new se.ResizeNearestNeighborProgram(e.shape,t,r,n);return this.compileAndRun(o,[e])},e.prototype.resizeNearestNeighborBackprop=function(e,t,r){var n=new ie.ResizeNearestNeigborBackpropProgram(e,t,r);return this.compileAndRun(n,[e])},e.prototype.multinomial=function(e,t,r,n){var o=t?e:g.softmax(e),a=o.shape[0],i=o.shape[1],s=new Z.MultinomialProgram(a,i,r),u=this.makeOutputArray(s.outputShape,"int32"),l=s.getCustomSetupFunc(n);return this.compileAndRun(s,[o],u,l)},e.prototype.oneHot=function(e,t,r,n){var o=new ee.OneHotProgram(e.size,t,r,n);return this.compileAndRun(o,[e])},e.prototype.nonMaxSuppression=function(e,t,r,n,o){l.warn("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");var a=e.dataSync(),i=t.dataSync();return N.nonMaxSuppressionImpl(a,i,r,n,o)},e.prototype.cropAndResize=function(e,t,r,n,o,a){var i=new B.CropAndResizeProgram(e.shape,t.shape,n,o,a);return this.compileAndRun(i,[e,t,r])},e.prototype.depthToSpace=function(e,t,r){b.assert(t>1,"blockSize should be > 1 for depthToSpace, but was: "+t);var n=e.shape[0],o="NHWC"===r?e.shape[1]:e.shape[2],a="NHWC"===r?e.shape[2]:e.shape[3],i="NHWC"===r?e.shape[3]:e.shape[1],s=o*t,u=a*t,l=i/(t*t),p="NHWC"===r?[n,s,u,l]:[n,l,s,u],c=new U.DepthToSpaceProgram(p,t,r);return this.compileAndRun(c,[e])},e.prototype.split=function(e,t,r){return P.split(e,t,r)},e.prototype.makeOutputArray=function(e,t){return y.Tensor.make(e,{},t)},e.prototype.compileAndRun=function(e,t,n,o,a){var i=this;if(void 0===a&&(a=!0),null==n&&(n=this.makeOutputArray(e.outputShape,t[0].dtype)),0===n.size)return this.texData.get(n.dataId).values=_.getTypedArrayFromDType(n.dtype,0),n;var s=t.map(function(e){if("complex64"===e.dtype)throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");var t=i.texData.get(e.dataId);return null==t.texture&&b.sizeFromShape(e.shape)<=r.SIZE_UPLOAD_UNIFORM?{shape:e.shape,texData:null,isUniform:!0,uniformValues:i.readSync(e.dataId)}:(i.uploadToGPU(e.dataId),{shape:e.shape,texData:t,isUniform:!1})});this.uploadToGPU(n.dataId);var u,l={shape:n.shape,texData:this.texData.get(n.dataId),isUniform:!1},p=$.makeShaderKey(e,s,l),c=this.getAndSaveBinary(p,function(){return $.compileProgram(i.gpgpu,e,s,l)}),f=null!=this.activeTimers;if(f&&(u=this.startTimer()),$.runProgram(c,s,l,o),a&&this.numBytesInGPU>this.NUM_BYTES_BEFORE_PAGING)for(var h=this.numBytesInGPU-this.NUM_BYTES_BEFORE_PAGING;h>0&&this.lruDataGPU.length>0;){var d=this.lruDataGPU.shift(),m=this.texData.get(d),g=m.shape,v=m.dtype;h-=this.computeBytes(g,v),this.read(d)}return f&&(u=this.endTimer(u),this.activeTimers.push(this.getQueryTime(u))),n},e.prototype.getAndSaveBinary=function(e,t){return e in this.binaryCache||(this.binaryCache[e]=t()),this.binaryCache[e]},e.prototype.getTextureManager=function(){return this.textureManager},e.prototype.dispose=function(){if(!this.disposed){for(var e in this.binaryCache)this.gpgpu.deleteProgram(this.binaryCache[e].webGLProgram);this.textureManager.dispose(),this.canvas.remove(),null!=this.fromPixelsCanvas&&this.fromPixelsCanvas.remove(),this.gpgpuCreatedLocally&&this.gpgpu.dispose(),this.disposed=!0}},e.prototype.floatPrecision=function(){var e=this;return u.tidy(function(){return e.abs(v.scalar(1e-8)).get()>0?32:16})},e.prototype.throwIfNoData=function(e){if(!this.texData.has(e))throw new Error("WebGL backend: No data found for this tensor. Did you change your backend in the middle of the program? New backends can't use Tensors created with previous backends")},e.prototype.uploadToGPU=function(e){this.throwIfNoData(e);var t=this.texData.get(e),r=t.shape,n=t.values,a=t.texture,i=t.dtype,s=t.usage;if(null!=a){var u=this.lruDataGPU.indexOf(e);return void(u>=0&&(this.lruDataGPU.splice(this.lruDataGPU.indexOf(e),1),this.lruDataGPU.push(e)))}var l,p=null!=this.activeTimers;p&&(l=performance.now());var c=xe.getTextureShapeFromLogicalShape(this.gpgpu.gl,r);t.texShape=c;var f=this.acquireTexture(e,c,s);t.texture=f,null!=n&&(this.gpgpu.uploadMatrixToTexture(f,c[0],c[1],o(n,i)),t.values=null,p&&(this.uploadWaitMs+=performance.now()-l))},e.prototype.cacheOnCPU=function(e,t){var r=this.delayedStorage,o=this.texData.get(e),a=o.texture,i=o.texShape,s=o.dtype,u=o.usage;r&&null!=a&&(this.releaseTexture(e,a,i,u),o.texture=null,o.texShape=null),o.usage=he.TextureUsage.UPLOAD,null!=t&&(o.values=n(t,s))},e.prototype.releaseTexture=function(e,t,r,n){var o=this.texData.get(e),a=o.shape,i=o.dtype,s=this.lruDataGPU.indexOf(e);s>=0&&this.lruDataGPU.splice(s,1),this.numBytesInGPU-=this.computeBytes(a,i),this.textureManager.releaseTexture(t,r,n)},e.prototype.acquireTexture=function(e,t,r){var n=this.texData.get(e),o=n.shape,a=n.dtype;return this.lruDataGPU.push(e),this.numBytesInGPU+=this.computeBytes(o,a),this.textureManager.acquireTexture(t,r)},e.prototype.computeBytes=function(e,t){return b.sizeFromShape(e)*b.bytesPerElement(t)},e}();r.MathBackendWebGL=we,s.ENV.get("IS_BROWSER")&&s.ENV.registerBackend("webgl",function(){return new we},2,y.setTensorTracker)},{"../environment":51,"../globals":53,"../log":120,"../ops/array_ops_util":122,"../ops/axis_util":123,"../ops/concat_util":130,"../ops/reduce_util":147,"../ops/segment_util":152,"../ops/slice_util":155,"../ops/softmax":156,"../ops/tensor_ops":158,"../tensor":174,"../types":180,"../util":181,"./backend_util":68,"./complex_util":70,"./non_max_suppression_impl":71,"./split_shared":72,"./topk_impl":73,"./webgl/argminmax_gpu":74,"./webgl/avg_pool_backprop_gpu":75,"./webgl/batchnorm_gpu":76,"./webgl/binaryop_complex_gpu":77,"./webgl/binaryop_gpu":78,"./webgl/clip_gpu":79,"./webgl/concat_gpu":80,"./webgl/conv_backprop_gpu":81,"./webgl/conv_backprop_gpu_depthwise":82,"./webgl/conv_gpu":83,"./webgl/conv_gpu_depthwise":84,"./webgl/crop_and_resize_gpu":85,"./webgl/cumsum_gpu":86,"./webgl/depth_to_space_gpu":87,"./webgl/encode_float_gpu":88,"./webgl/from_pixels_gpu":89,"./webgl/gather_gpu":90,"./webgl/gpgpu_context":91,"./webgl/gpgpu_math":92,"./webgl/gpgpu_util":93,"./webgl/lrn_gpu":94,"./webgl/lrn_grad_gpu":95,"./webgl/max_pool_backprop_gpu":96,"./webgl/mulmat_gpu":97,"./webgl/multinomial_gpu":98,"./webgl/onehot_gpu":99,"./webgl/pad_gpu":100,"./webgl/pool_gpu":101,"./webgl/reduce_gpu":102,"./webgl/resize_bilinear_backprop_gpu":103,"./webgl/resize_bilinear_gpu":104,"./webgl/resize_nearest_neighbor_backprop_gpu":105,"./webgl/resize_nearest_neighbor_gpu":106,"./webgl/reverse_gpu":107,"./webgl/segment_gpu":108,"./webgl/select_gpu":109,"./webgl/slice_gpu":111,"./webgl/strided_slice_gpu":112,"./webgl/tex_util":113,"./webgl/texture_manager":114,"./webgl/tile_gpu":115,"./webgl/transpose_gpu":116,"./webgl/unaryop_gpu":117,"./webgl/webgl_util":118,"./where_impl":119}],70:[function(e,t,r){"use strict";function n(e,t){if(e.length!==t.length)throw new Error("Cannot merge real and imag arrays of different lengths. real:"+(e.length+", imag: "+t.length+"."));for(var r=new Float32Array(2*e.length),n=0;n<r.length;n+=2)r[n]=e[n/2],r[n+1]=t[n/2];return r}function o(e){for(var t=new Float32Array(e.length/2),r=new Float32Array(e.length/2),n=0;n<e.length;n+=2)t[n/2]=e[n],r[n/2]=e[n+1];return{real:t,imag:r}}Object.defineProperty(r,"__esModule",{value:!0}),r.mergeRealAndImagArrays=n,r.splitRealAndImagArrays=o},{}],71:[function(e,t,r){"use strict";function n(e,t,r,n,i){for(var s=Array.from(t).map(function(e,t){return{score:e,boxIndex:t}}).filter(function(e){return e.score>i}).sort(function(e,t){return t.score-e.score}),u=[],l=0;l<s.length;l++){var p=s[l],c=p.score,f=p.boxIndex;if(c<i)break;for(var h=!1,d=u.length-1;d>=0;--d){var m=o(e,f,u[d]);if(m>=n){h=!0;break}}if(!h&&(u.push(f),u.length>=r))break}return a.tensor1d(u,"int32")}function o(e,t,r){var n=e.subarray(4*t,4*t+4),o=e.subarray(4*r,4*r+4),a=Math.min(n[0],n[2]),i=Math.min(n[1],n[3]),s=Math.max(n[0],n[2]),u=Math.max(n[1],n[3]),l=Math.min(o[0],o[2]),p=Math.min(o[1],o[3]),c=Math.max(o[0],o[2]),f=Math.max(o[1],o[3]),h=(s-a)*(u-i),d=(c-l)*(f-p);if(h<=0||d<=0)return 0;var m=Math.max(a,l),g=Math.max(i,p),v=Math.min(s,c),y=Math.min(u,f),x=Math.max(v-m,0)*Math.max(y-g,0);return x/(h+d-x)}Object.defineProperty(r,"__esModule",{value:!0});var a=e("../ops/tensor_ops");r.nonMaxSuppressionImpl=n},{"../ops/tensor_ops":158}],72:[function(e,t,r){"use strict";function n(e,t,r){var n=Array(e.rank).fill(0),o=e.shape.slice();return t.map(function(t){o[r]=t;var a=e.slice(n,o);return n[r]+=t,a})}Object.defineProperty(r,"__esModule",{value:!0}),r.split=n},{}],73:[function(e,t,r){"use strict";function n(e,t,r,n,i){for(var s=t[t.length-1],u=[e.length/s,s],l=u[0],p=u[1],c=a.getTypedArrayFromDType(r,l*n),f=a.getTypedArrayFromDType("int32",l*n),h=0;h<l;h++){for(var d=h*p,m=e.subarray(d,d+p),g=[],v=0;v<m.length;v++)g.push({value:m[v],index:v});g.sort(function(e,t){return t.value-e.value});for(var y=h*n,x=c.subarray(y,y+n),b=f.subarray(y,y+n),v=0;v<n;v++)x[v]=g[v].value,b[v]=g[v].index}var _=t.slice();return _[_.length-1]=n,[o.tensor(c,_,r),o.tensor(f,_,"int32")]}Object.defineProperty(r,"__esModule",{value:!0});var o=e("../ops/tensor_ops"),a=e("../util");r.topkImpl=n},{"../ops/tensor_ops":158,"../util":181}],74:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e,t,r){this.variableNames=["A"];var n=e.windowSize,o=e.batchSize,a=e.inSize,i=Math.ceil(a/n);r||this.variableNames.push("bestIndicesA"),this.outputShape=[o,i];var s="max"===t?">":"<",u=r?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * "+n+";\n\n        int bestIndex = 0;\n        float bestValue = getA(batch, inOffset);\n\n        for (int i = 0; i < "+n+"; i++) {\n          int inIdx = "+u+";\n          float candidate = getA(batch, inIdx);\n          if (candidate "+s+" bestValue) {\n            bestValue = candidate;\n            bestIndex = inIdx;\n          }\n        }\n        setOutput(float(bestIndex));\n      }\n    "}return e}();r.ArgMinMaxProgram=n},{}],75:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e){this.variableNames=["dy"],this.outputShape=e.inShape;var t=e.filterHeight,r=e.filterWidth,n=e.strideHeight,o=e.strideWidth,a=t-1-e.padInfo.top,i=r-1-e.padInfo.left,s=1/(t*r);this.userCode="\n      const ivec2 pads = ivec2("+a+", "+i+");\n      const float avgMultiplier = float("+s+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+t+"; wR++) {\n          float dyR = float(dyRCorner + wR) / "+n+".0;\n\n          if (dyR < 0.0 || dyR >= "+e.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < "+r+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+o+".0;\n\n            if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n\n            dotProd += dyValue * avgMultiplier;\n          }\n        }\n        setOutput(dotProd);\n      }\n    "}return e}();r.AvgPool2DBackpropProgram=n},{}],76:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("../../ops/broadcast_util"),o=function(){function e(e,t,r,o,a,i){this.outputShape=[],this.supportsBroadcasting=!0,this.variableNames=["x","mean","variance"],n.assertAndGetBroadcastShape(e,t),n.assertAndGetBroadcastShape(e,r);var s="0.0";null!=o&&(n.assertAndGetBroadcastShape(e,o),this.variableNames.push("offset"),s="getOffsetAtOutCoords()");var u="1.0";null!=a&&(n.assertAndGetBroadcastShape(e,a),this.variableNames.push("scale"),u="getScaleAtOutCoords()"),this.outputShape=e,this.userCode="\n      void main() {\n        float x = getXAtOutCoords();\n        float mean = getMeanAtOutCoords();\n        float variance = getVarianceAtOutCoords();\n        float offset = "+s+";\n        float scale = "+u+";\n        float inv = scale * inversesqrt(variance + float("+i+"));\n        setOutput((x - mean) * inv + offset);\n      }\n    "}return e}();r.BatchNormProgram=o},{"../../ops/broadcast_util":126}],77:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("../../ops/broadcast_util");r.COMPLEX_MULTIPLY={REAL:"return areal * breal - aimag * bimag;",IMAG:"return areal * bimag + aimag * breal;"};var o=function(){function e(e,t,r){this.variableNames=["AReal","AImag","BReal","BImag"],this.supportsBroadcasting=!0,this.outputShape=n.assertAndGetBroadcastShape(t,r),this.userCode="\n      float binaryOpComplex(\n          float areal, float aimag, float breal, float bimag) {\n        "+e+"\n      }\n\n      void main() {\n        float areal = getARealAtOutCoords();\n        float aimag = getAImagAtOutCoords();\n        float breal = getBRealAtOutCoords();\n        float bimag = getBImagAtOutCoords();\n        setOutput(binaryOpComplex(areal, aimag, breal, bimag));\n      }\n    "}return e}();r.BinaryOpComplexProgram=o},{"../../ops/broadcast_util":126}],78:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("../../ops/broadcast_util"),o="\n  if (isNaN(a)) return a;\n  if (isNaN(b)) return b;\n";r.ADD="return a + b;",r.SUB="return a - b;",r.MUL="return a * b;",r.DIV="if (a == b) return 1.0;\n  return a / b;",r.INT_DIV="\n  float resultSign = sign(a) * sign(b);\n  int ia = round(a);\n  int ib = round(b);\n  int result = ia / ib;\n  int amodb = ia - ib * result;\n\n  if (resultSign < 0.0 && amodb != 0) {\n    result -= 1;\n  }\n  return float(result);\n",r.POW="\nif(a < 0.0 && floor(b) < b){\n  return NAN;\n}\nreturn (round(mod(b, 2.0)) == 0 || round(mod(b, 2.0)) == 2) ?\n    pow(abs(a), b) : sign(a) * pow(abs(a), b);\n",r.SQUARED_DIFFERENCE="return (a - b) * (a - b);",r.EQUAL="return float(a == b);",r.NOT_EQUAL="return float(a != b);",r.LESS="return float(a < b);",r.LESS_EQUAL="return float(a <= b);",r.GREATER="return float(a > b);",r.GREATER_EQUAL="return float(a >= b);",r.LOGICAL_AND="return float(a >= 1.0 && b >= 1.0);",r.LOGICAL_OR="return float(a >= 1.0 || b >= 1.0);",r.MAX=o+"\n  return max(a, b);\n",r.MIN=o+"\n  return min(a, b);\n",r.MOD="if (b == 0.0) return NAN;\n  return mod(a, b);",r.ATAN2=o+"\n  return atan(a, b);\n",r.ELU_DER="return (b >= 1.0) ? a : a * (b + 1.0);";var a=function(){function e(e,t,r){this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.outputShape=n.assertAndGetBroadcastShape(t,r),this.userCode="\n      uniform float NAN;\n      float binaryOperation(float a, float b) {\n        "+e+"\n      }\n\n      void main() {\n        float a = getAAtOutCoords();\n        float b = getBAtOutCoords();\n        setOutput(binaryOperation(a, b));\n      }\n    "}return e.prototype.getCustomSetupFunc=function(){var e=this;return function(t,r){null==e.startLoc&&(e.startLoc=t.getUniformLocationNoThrow(r,"NAN"),null==e.startLoc)||t.gl.uniform1f(e.startLoc,NaN)}},e}();r.BinaryOpProgram=a},{"../../ops/broadcast_util":126}],79:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e,t,r){this.variableNames=["A"],this.outputShape=e,this.userCode="\n      void main() {\n        float value = getAAtOutCoords();\n        if (isNaN(value)) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, float("+t+"), float("+r+")));\n      }\n    "}return e}();r.ClipProgram=n},{}],80:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("../../ops/concat_util"),o=function(){function e(e,t){this.variableNames=["A","B"],this.outputShape=[],this.outputShape=n.computeOutShape([e,t],1),this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int yR = coords.x;\n        int yC = coords.y;\n\n        float value = 0.0;\n        if (yC < "+e[1]+") {\n          value = getA(yR, yC);\n        } else {\n          yC -= "+e[1]+";\n          value = getB(yR, yC);\n        }\n\n        setOutput(value);\n      }\n    "}return e}();r.ConcatProgram=o},{"../../ops/concat_util":130}],81:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;var t=e.strideHeight,r=e.strideWidth,n=e.padInfo.top,o=e.padInfo.left;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int d2 = coords.w;\n\n        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int b = 0; b < "+e.batchSize+"; b++) {\n          for (int yR = 0; yR < "+e.outHeight+"; yR++) {\n            int xR = wR + yR * "+t+" - "+n+";\n\n            if (xR < 0 || xR >= "+e.inHeight+") {\n              continue;\n            }\n\n            for (int yC = 0; yC < "+e.outWidth+"; yC++) {\n              int xC = wC + yC * "+r+" - "+o+";\n\n              if (xC < 0 || xC >= "+e.inWidth+") {\n                continue;\n              }\n\n              float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "}return e}();r.Conv2DDerFilterProgram=n;var o=function(){function e(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;var t=e.filterHeight,r=e.filterWidth,n=e.strideHeight,o=e.strideWidth,a=t-1-e.padInfo.top,i=r-1-e.padInfo.left;this.userCode="\n      const ivec2 pads = ivec2("+a+", "+i+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n\n        ivec2 dyCorner = coords.yz - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+t+"; wR++) {\n          float dyR = float(dyRCorner + wR) / "+n+".0;\n\n          if (dyR < 0.0 || dyR >= "+e.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = "+t+" - 1 - wR;\n\n          for (int wC = 0; wC < "+r+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+o+".0;\n\n            if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = "+r+" - 1 - wC;\n\n            for (int d2 = 0; d2 < "+e.outChannels+"; d2++) {\n              float xValue = getDy(batch, idyR, idyC, d2);\n              float wValue = getW(wRPerm, wCPerm, d1, d2);\n              dotProd += xValue * wValue;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "}return e}();r.Conv2DDerInputProgram=o},{}],82:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;var t=e.strideHeight,r=e.strideWidth,n=e.padInfo.top,o=e.padInfo.left,a=e.outChannels/e.inChannels;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int dm = coords.w;\n        int d2 = d1 * "+a+" + dm;\n\n        float dotProd = 0.0;\n\n        // TODO: Vec4 over the batch size\n        for (int b = 0; b < "+e.batchSize+"; b++) {\n          for (int yR = 0; yR < "+e.outHeight+"; yR++) {\n            int xR = wR + yR * "+t+" - "+n+";\n\n            if (xR < 0 || xR >= "+e.inHeight+") {\n              continue;\n            }\n\n            for (int yC = 0; yC < "+e.outWidth+"; yC++) {\n              int xC = wC + yC * "+r+" - "+o+";\n\n              if (xC < 0 || xC >= "+e.inWidth+") {\n                continue;\n              }\n\n              float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "}return e}();r.DepthwiseConv2DDerFilterProgram=n;var o=function(){function e(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;var t=e.filterHeight,r=e.filterWidth,n=e.strideHeight,o=e.strideWidth,a=t-1-e.padInfo.top,i=r-1-e.padInfo.left,s=e.outChannels/e.inChannels;this.userCode="\n      const ivec2 pads = ivec2("+a+", "+i+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n        ivec2 dyCorner = coords.yz - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        float dotProd = 0.0;\n\n        for (int wR = 0; wR < "+t+"; wR++) {\n          float dyR = float(dyRCorner + wR) / "+n+".0;\n\n          if (dyR < 0.0 || dyR >= "+e.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = "+t+" - 1 - wR;\n\n          for (int wC = 0; wC < "+r+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+o+".0;\n\n            if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = "+r+" - 1 - wC;\n\n            // TODO: Vec4 over the channelMul\n            for (int dm = 0; dm < "+s+"; dm++) {\n              int d2 = d1 * "+s+" + dm;\n              float xValue = getDy(batch, idyR, idyC, d2);\n              float wValue = getW(wRPerm, wCPerm, d1, dm);\n              dotProd += xValue * wValue;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "}return e}();r.DepthwiseConv2DDerInputProgram=o},{}],83:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e){this.variableNames=["x","W"],this.outputShape=e.outShape;var t=e.padInfo.top,r=e.padInfo.left,n=e.strideHeight,o=e.strideWidth,a=e.dilationHeight,i=e.dilationWidth,s=e.filterHeight,u=e.filterWidth,l=4*Math.floor(e.inChannels/4),p=e.inChannels%4;this.userCode="\n      const ivec2 strides = ivec2("+n+", "+o+");\n      const ivec2 pads = ivec2("+t+", "+r+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d2 = coords[3];\n\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+s+"; wR++) {\n          int xR = xRCorner + wR * "+a+";\n\n          if (xR < 0 || xR >= "+e.inHeight+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+u+"; wC++) {\n            int xC = xCCorner + wC * "+i+";\n\n            if (xC < 0 || xC >= "+e.inWidth+") {\n              continue;\n            }\n\n            for (int d1 = 0; d1 < "+l+"; d1 += 4) {\n              vec4 xValues = vec4(\n                getX(batch, xR, xC, d1),\n                getX(batch, xR, xC, d1 + 1),\n                getX(batch, xR, xC, d1 + 2),\n                getX(batch, xR, xC, d1 + 3)\n              );\n              vec4 wValues = vec4(\n                getW(wR, wC, d1, d2),\n                getW(wR, wC, d1 + 1, d2),\n                getW(wR, wC, d1 + 2, d2),\n                getW(wR, wC, d1 + 3, d2)\n              );\n\n              dotProd += dot(xValues, wValues);\n            }\n\n            if ("+(1===p)+") {\n              dotProd +=\n                getX(batch, xR, xC, "+l+") *\n                getW(wR, wC, "+l+", d2);\n            } else if ("+(2===p)+") {\n              vec2 xValues = vec2(\n                getX(batch, xR, xC, "+l+"),\n                getX(batch, xR, xC, "+l+" + 1)\n              );\n              vec2 wValues = vec2(\n                getW(wR, wC, "+l+", d2),\n                getW(wR, wC, "+l+" + 1, d2)\n              );\n              dotProd += dot(xValues, wValues);\n            } else if ("+(3===p)+") {\n              vec3 xValues = vec3(\n                getX(batch, xR, xC, "+l+"),\n                getX(batch, xR, xC, "+l+" + 1),\n                getX(batch, xR, xC, "+l+" + 2)\n              );\n              vec3 wValues = vec3(\n                getW(wR, wC, "+l+", d2),\n                getW(wR, wC, "+l+" + 1, d2),\n                getW(wR, wC, "+l+" + 2, d2)\n              );\n              dotProd += dot(xValues, wValues);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "}return e}();r.Conv2DProgram=n},{}],84:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e){this.variableNames=["x","W"],this.outputShape=e.outShape;var t=e.inHeight,r=e.inWidth,n=e.padInfo.top,o=e.padInfo.left,a=e.strideHeight,i=e.strideWidth,s=e.dilationHeight,u=e.dilationWidth,l=e.filterHeight,p=e.filterWidth,c=e.outChannels/e.inChannels;this.userCode="\n      const ivec2 strides = ivec2("+a+", "+i+");\n      const ivec2 pads = ivec2("+n+", "+o+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / "+c+";\n        int q = d2 - d1 * "+c+";\n\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        // TODO(dsmilkov): Flatten the two for loops and vec4 the operations.\n        for (int wR = 0; wR < "+l+"; wR++) {\n          int xR = xRCorner + wR * "+s+";\n\n          if (xR < 0 || xR >= "+t+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+p+"; wC++) {\n            int xC = xCCorner + wC * "+u+";\n\n            if (xC < 0 || xC >= "+r+") {\n              continue;\n            }\n\n            float xVal = getX(batch, xR, xC, d1);\n            float wVal = getW(wR, wC, d1, q);\n            dotProd += xVal * wVal;\n          }\n        }\n        setOutput(dotProd);\n      }\n    "}return e}();r.DepthwiseConv2DProgram=n},{}],85:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e,t,r,n,o){this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];var a=e[0],i=e[1],s=e[2],u=e[3],l=t[0],p=r[0],c=r[1];this.outputShape=[l,p,c,u];var f="bilinear"===n?1:0,h=[i-1+".0",s-1+".0"],d=h[0],m=h[1],g=p>1?[""+(i-1)/(p-1),"(y2-y1) * height_ratio","y1*"+d+" + float(y)*(height_scale)"]:["0.0","0.0","0.5 * (y1+y2) * "+d],v=g[0],y=g[1],x=g[2],b=c>1?[""+(s-1)/(c-1),"(x2-x1) * width_ratio","x1*"+m+" + float(x)*(width_scale)"]:["0.0","0.0","0.5 * (x1+x2) * "+m],_=b[0],w=b[1],T=b[2];this.userCode="\n      const float height_ratio = float("+v+");\n      const float width_ratio = float("+_+");\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int y = coords[1];\n        int x = coords[2];\n        int d = coords[3];\n\n        // get box vals\n        float y1 = getBoxes(b,0);\n        float x1 = getBoxes(b,1);\n        float y2 = getBoxes(b,2);\n        float x2 = getBoxes(b,3);\n\n        // get image in batch index\n        int bInd = round(getBoxInd(b));\n        if(bInd < 0 || bInd >= "+a+") {\n          return;\n        }\n\n        float height_scale = "+y+";\n        float width_scale = "+w+";\n\n        float in_y = "+x+";\n        if( in_y < 0.0 || in_y > "+d+" ) {\n          setOutput(float("+o+"));\n          return;\n        }\n        float in_x = "+T+";\n        if( in_x < 0.0 || in_x > "+m+" ) {\n          setOutput(float("+o+"));\n          return;\n        }\n\n        vec2 sourceFracIndexRC = vec2(in_y,in_x);\n        if("+f+" == 1) {\n          // Compute the four integer indices.\n          ivec2 sourceFloorRC = ivec2(sourceFracIndexRC);\n          ivec2 sourceCeilRC = ivec2(ceil(sourceFracIndexRC));\n\n          float topLeft = getImage(b, sourceFloorRC.x, sourceFloorRC.y, d);\n          float bottomLeft = getImage(b, sourceCeilRC.x, sourceFloorRC.y, d);\n          float topRight = getImage(b, sourceFloorRC.x, sourceCeilRC.y, d);\n          float bottomRight = getImage(b, sourceCeilRC.x, sourceCeilRC.y, d);\n\n          vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);\n\n          float top = topLeft + (topRight - topLeft) * fracRC.y;\n          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;\n          float newValue = top + (bottom - top) * fracRC.x;\n          setOutput(newValue);\n        } else {\n          // Compute the coordinators of nearest neighbor point.\n          ivec2 sourceNearestRC = ivec2(floor(\n            sourceFracIndexRC + vec2(0.5,0.5)));\n          float newValue = getImage(b, sourceNearestRC.x, sourceNearestRC.y, d);\n          setOutput(newValue);\n        }\n      }\n    ";
}return e}();r.CropAndResizeProgram=n},{}],86:[function(e,t,r){"use strict";function n(e,t){if(1===e)return""+t;if(2===e)return t+".x, "+t+".y";if(3===e)return t+".x, "+t+".y, "+t+".z";if(4===e)return t+".x, "+t+".y, "+t+".z, "+t+".w";throw Error("Cumulative sum for rank "+e+" is not yet supported")}function o(e,t){if(1===e)return""+t;if(2===e)return t+".y";if(3===e)return t+".z";if(4===e)return t+".w";throw Error("Cumulative sum for rank "+e+" is not yet supported")}Object.defineProperty(r,"__esModule",{value:!0});var a=e("./shader_compiler"),i=function(){function e(e,t,r){this.variableNames=["x"],this.outputShape=e;var i=e.length,s=e[e.length-1],u=r?"<":">";this.userCode="\n      int getIndex(int i) {\n        "+(r?"return "+s+" -i - 1;":"return i;")+"\n      }\n\n      void main() {\n        "+a.getCoordsDataType(i)+" coords = getOutputCoords();\n        int end = "+o(i,"coords")+";\n        float val = 0.0;\n        for (int i = "+s+" - 1; i >= 0; i -= 1) {\n          int idx = getIndex(i);\n          if (idx "+u+" end) {\n            continue;\n          }\n          if (idx == end && "+t+") {\n            continue;\n          }\n          "+o(i,"coords")+" = idx;\n          val += getX("+n(i,"coords")+");\n        }\n        setOutput(val);\n      }\n    "}return e}();r.CumSumProgram=i},{"./shader_compiler":110}],87:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e,t,r){this.variableNames=["x"],this.outputShape=[],this.outputShape=e,this.blockSize=t,this.dataFormat=r,this.userCode="\n    void main() {\n      ivec4 coords = getOutputCoords();\n      int b = coords[0];\n      int h = "+this.getHeightCoordString()+";\n      int w = "+this.getWidthCoordString()+";\n      int d = "+this.getDepthCoordString()+";\n\n      int in_h = h / "+t+";\n      int offset_h = imod(h, "+t+");\n      int in_w = w / "+t+";\n      int offset_w = imod(w, "+t+");\n      int offset_d = (offset_h * "+t+" + offset_w) *\n        "+this.getOutputDepthSize()+";\n      int in_d = d + offset_d;\n\n      float result = "+this.getInputSamplingString()+";\n      setOutput(result);\n    }\n  "}return e.prototype.getHeightCoordString=function(){return"NHWC"===this.dataFormat?"coords[1]":"coords[2]"},e.prototype.getWidthCoordString=function(){return"NHWC"===this.dataFormat?"coords[2]":"coords[3]"},e.prototype.getDepthCoordString=function(){return"NHWC"===this.dataFormat?"coords[3]":"coords[1]"},e.prototype.getOutputDepthSize=function(){return"NHWC"===this.dataFormat?this.outputShape[3]:this.outputShape[1]},e.prototype.getInputSamplingString=function(){return"NHWC"===this.dataFormat?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"},e}();r.DepthToSpaceProgram=n},{}],88:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e){this.variableNames=["A"],this.outputShape=e,this.userCode="\n      const float FLOAT_MAX = 1.70141184e38;\n      const float FLOAT_MIN = 1.17549435e-38;\n\n      lowp vec4 encode_float(highp float v) {\n        if (isNaN(v)) {\n          return vec4(255, 255, 255, 255);\n        }\n\n        highp float av = abs(v);\n\n        if(av < FLOAT_MIN) {\n          return vec4(0.0, 0.0, 0.0, 0.0);\n        } else if(v > FLOAT_MAX) {\n          return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\n        } else if(v < -FLOAT_MAX) {\n          return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;\n        }\n\n        highp vec4 c = vec4(0,0,0,0);\n\n        highp float e = floor(log2(av));\n        highp float m = exp2(fract(log2(av))) - 1.0;\n\n        c[2] = floor(128.0 * m);\n        m -= c[2] / 128.0;\n        c[1] = floor(32768.0 * m);\n        m -= c[1] / 32768.0;\n        c[0] = floor(8388608.0 * m);\n\n        highp float ebias = e + 127.0;\n        c[3] = floor(ebias / 2.0);\n        ebias -= c[3] * 2.0;\n        c[2] += floor(ebias) * 128.0;\n\n        c[3] += 128.0 * step(0.0, -v);\n\n        return c / 255.0;\n      }\n\n      void main() {\n        float x = getAAtOutCoords();\n        gl_FragColor = encode_float(x);\n      }\n    "}return e}();r.EncodeFloatProgram=n},{}],89:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e){this.variableNames=["A"];var t=e[0],r=e[1];this.outputShape=e,this.userCode="\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2("+r+".0, "+t+".0);\n\n        vec4 values = texture2D(A, uv);\n        float value;\n        if (depth == 0) {\n          value = values.r;\n        } else if (depth == 1) {\n          value = values.g;\n        } else if (depth == 2) {\n          value = values.b;\n        } else if (depth == 3) {\n          value = values.a;\n        }\n\n        setOutput(floor(value * 255.0 + 0.5));\n      }\n    "}return e}();r.FromPixelsProgram=n},{}],90:[function(e,t,r){"use strict";function n(e,t){var r=e.length;if(r>4)throw Error("Gather for rank "+r+" is not yet supported");if(1===r)return"int(getIndices(resRC))";for(var n=["resRC.x","resRC.y","resRC.z","resRC.w"],o=[],a=0;a<e.length;a++)a===t?o.push("int(getIndices("+n[a]+"))"):o.push(""+n[a]);return o.join()}Object.defineProperty(r,"__esModule",{value:!0});var o=e("./shader_compiler"),a=function(){function e(e,t,r){this.variableNames=["A","indices"];var a=e.slice();a[r]=t,this.outputShape=a,this.rank=a.length;var i=o.getCoordsDataType(this.rank),s=n(e,r);this.userCode="\n      void main() {\n        "+i+" resRC = getOutputCoords();\n        setOutput(getA("+s+"));\n      }\n    "}return e}();r.GatherProgram=a},{"./shader_compiler":110}],91:[function(e,t,r){"use strict";function n(e){for(var t=0,r=e.length-1,n=-1;t<=r;){var o=t+r>>1,a=e[o]();a?(n=o,t=o+1):r=o-1}return n}var o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{u(n.next(e))}catch(e){a(e)}}function s(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,s)}u((n=n.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){function r(e){return function(t){return n([e,t])}}function n(r){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,a&&(i=2&r[0]?a.return:r[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,r[1])).done)return i;switch(a=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return u.label++,{value:r[1],done:!1};case 5:u.label++,a=r[1],r=[0];continue;case 7:r=u.ops.pop(),u.trys.pop();continue;default:if(i=u.trys,!(i=i.length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){u=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){u.label=r[1];break}if(6===r[0]&&u.label<i[1]){u.label=i[1],i=r;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(r);break}i[2]&&u.ops.pop(),u.trys.pop();continue}r=t.call(e,u)}catch(e){r=[6,e],a=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var o,a,i,s,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(r,"__esModule",{value:!0});var i=e("../../environment"),s=e("../../util"),u=e("./gpgpu_util"),l=e("./tex_util"),p=e("./webgl_util"),c=function(){function e(e){this.outputTexture=null,this.program=null,this.disposed=!1,this.autoDebugValidate=!1,this.vertexAttrsAreBound=!1,this.itemsToPoll=[],null!=e?this.gl=e:this.gl=u.createWebGLContext(),1===i.ENV.get("WEBGL_VERSION")?(this.textureFloatExtension=p.getExtensionOrThrow(this.gl,"OES_texture_float"),this.colorBufferFloatExtension=this.gl.getExtension("WEBGL_color_buffer_float"),i.ENV.get("WEBGL_RENDER_FLOAT32_ENABLED")||(this.textureHalfFloatExtension=p.getExtensionOrThrow(this.gl,"OES_texture_half_float"),this.colorBufferHalfFloatExtension=this.gl.getExtension("EXT_color_buffer_half_float"))):this.colorBufferFloatExtension=p.getExtensionOrThrow(this.gl,"EXT_color_buffer_float"),this.loseContextExtension=p.getExtensionOrThrow(this.gl,"WEBGL_lose_context"),this.vertexBuffer=u.createVertexBuffer(this.gl),this.indexBuffer=u.createIndexBuffer(this.gl),this.framebuffer=p.createFramebuffer(this.gl),this.textureConfig=u.getTextureConfig(this.gl,this.textureHalfFloatExtension)}return e.prototype.dispose=function(){var e=this;if(!this.disposed){null!=this.program&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),null!=this.outputTexture&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");var t=this.gl;p.callAndCheck(t,function(){return t.finish()}),p.callAndCheck(t,function(){return t.bindFramebuffer(t.FRAMEBUFFER,null)}),p.callAndCheck(t,function(){return t.deleteFramebuffer(e.framebuffer)}),p.callAndCheck(t,function(){return t.bindBuffer(t.ARRAY_BUFFER,null)}),p.callAndCheck(t,function(){return t.deleteBuffer(e.vertexBuffer)}),p.callAndCheck(t,function(){return t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null)}),p.callAndCheck(t,function(){return t.deleteBuffer(e.indexBuffer)}),this.loseContextExtension.loseContext(),this.disposed=!0}},e.prototype.enableAutomaticDebugValidation=function(e){this.autoDebugValidate=e,p.enableDebugWebGLErrorChecking(e)},e.prototype.createFloat32MatrixTexture=function(e,t){return this.throwIfDisposed(),u.createFloat32MatrixTexture(this.gl,e,t,this.textureConfig)},e.prototype.createFloat16MatrixTexture=function(e,t){return this.throwIfDisposed(),u.createFloat16MatrixTexture(this.gl,e,t,this.textureConfig)},e.prototype.createUnsignedBytesMatrixTexture=function(e,t){return this.throwIfDisposed(),u.createUnsignedBytesMatrixTexture(this.gl,e,t,this.textureConfig)},e.prototype.uploadPixelDataToTexture=function(e,t){this.throwIfDisposed(),u.uploadPixelDataToTexture(this.gl,e,t)},e.prototype.createPackedMatrixTexture=function(e,t){return this.throwIfDisposed(),u.createPackedMatrixTexture(this.gl,e,t,this.textureConfig)},e.prototype.deleteMatrixTexture=function(e){var t=this;this.throwIfDisposed(),this.outputTexture===e&&(p.unbindColorTextureFromFramebuffer(this.gl,this.framebuffer),this.outputTexture=null),p.callAndCheck(this.gl,function(){return t.gl.deleteTexture(e)})},e.prototype.uploadMatrixToTexture=function(e,t,r,n){this.throwIfDisposed();var o=p.getNumChannels();return u.uploadMatrixToTexture(this.gl,e,t,r,n,o,this.textureConfig)},e.prototype.uploadMatrixToPackedTexture=function(e,t,r,n){return this.throwIfDisposed(),u.uploadMatrixToPackedTexture(this.gl,e,t,r,n,this.textureConfig)},e.prototype.downloadFloat32MatrixFromOutputTexture=function(e,t,r){var n=this;return this.downloadMatrixDriver(e,function(){return u.downloadFloat32MatrixFromOutputTexture(n.gl,t,r,n.textureConfig)})},e.prototype.downloadByteEncodedFloatMatrixFromOutputTexture=function(e,t,r){var n=this;return this.downloadMatrixDriver(e,function(){return u.downloadByteEncodedFloatMatrixFromOutputTexture(n.gl,t,r,n.textureConfig)})},e.prototype.downloadFloat32MatrixFromBuffer=function(e,t,r){return u.downloadFloat32MatrixFromBuffer(this.gl,e,t,r,this.textureConfig)},e.prototype.maybeCreateBufferFromTexture=function(e,t,r){this.bindTextureToFrameBuffer(e);var n=u.maybeCreateBufferFromOutputTexture(this.gl,e,t,r,this.textureConfig);return this.unbindTextureToFrameBuffer(),n},e.prototype.createAndWaitForFence=function(){var e=this.createFence(this.gl);return this.pollFence(e)},e.prototype.createFence=function(e){var t,r,n=this;if(i.ENV.get("WEBGL_FENCE_API_ENABLED")){var o=e,a=o.fenceSync(o.SYNC_GPU_COMMANDS_COMPLETE,0);e.flush(),r=function(){var e=o.clientWaitSync(a,0,0);return e===o.ALREADY_SIGNALED||e===o.CONDITION_SATISFIED},t=a}else i.ENV.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(t=this.beginQuery(),this.endQuery(),r=function(){return n.isQueryAvailable(t,i.ENV.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}):r=function(){return!0};return{query:t,isFencePassed:r}},e.prototype.downloadMatrixFromPackedTexture=function(e,t,r){var n=this;return this.downloadMatrixDriver(e,function(){return u.downloadMatrixFromPackedOutputTexture(n.gl,t,r,n.textureConfig)})},e.prototype.createProgram=function(e){this.throwIfDisposed();var t=this.gl,r=p.createFragmentShader(t,e),n=u.createVertexShader(t),o=p.createProgram(t);return p.callAndCheck(t,function(){return t.attachShader(o,n)}),p.callAndCheck(t,function(){return t.attachShader(o,r)}),p.linkProgram(t,o),this.autoDebugValidate&&p.validateProgram(t,o),this.vertexAttrsAreBound||(this.setProgram(o),this.vertexAttrsAreBound=u.bindVertexProgramAttributeStreams(t,this.program,this.vertexBuffer)),o},e.prototype.deleteProgram=function(e){var t=this;this.throwIfDisposed(),e===this.program&&(this.program=null),null!=e&&p.callAndCheck(this.gl,function(){return t.gl.deleteProgram(e)})},e.prototype.setProgram=function(e){var t=this;this.throwIfDisposed(),this.program=e,null!=this.program&&this.autoDebugValidate&&p.validateProgram(this.gl,this.program),p.callAndCheck(this.gl,function(){return t.gl.useProgram(e)})},e.prototype.getUniformLocation=function(e,t,r){return void 0===r&&(r=!0),this.throwIfDisposed(),r?p.getProgramUniformLocationOrThrow(this.gl,e,t):p.getProgramUniformLocation(this.gl,e,t)},e.prototype.getAttributeLocation=function(e,t){var r=this;return this.throwIfDisposed(),p.callAndCheck(this.gl,function(){return r.gl.getAttribLocation(e,t)})},e.prototype.getUniformLocationNoThrow=function(e,t){return this.throwIfDisposed(),this.gl.getUniformLocation(e,t)},e.prototype.setInputMatrixTexture=function(e,t,r){this.throwIfDisposed(),this.throwIfNoProgram(),p.bindTextureToProgramUniformSampler(this.gl,this.program,e,t,r)},e.prototype.setOutputMatrixTexture=function(e,t,r){this.setOutputMatrixTextureDriver(e,r,t)},e.prototype.setOutputPackedMatrixTexture=function(e,t,r){this.throwIfDisposed();var n=l.getPackedMatrixTextureShapeWidthHeight(t,r),o=n[0],a=n[1];this.setOutputMatrixTextureDriver(e,o,a)},e.prototype.setOutputMatrixWriteRegion=function(e,t,r,n){this.setOutputMatrixWriteRegionDriver(r,e,n,t)},e.prototype.setOutputPackedMatrixWriteRegion=function(e,t,r,n){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")},e.prototype.debugValidate=function(){null!=this.program&&p.validateProgram(this.gl,this.program),p.validateFramebuffer(this.gl)},e.prototype.executeProgram=function(){this.throwIfDisposed(),this.throwIfNoProgram();var e=this.gl;this.autoDebugValidate&&this.debugValidate(),p.callAndCheck(e,function(){return e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0)})},e.prototype.blockUntilAllProgramsCompleted=function(){var e=this;this.throwIfDisposed(),p.callAndCheck(this.gl,function(){return e.gl.finish()})},e.prototype.getQueryTimerExtension=function(){return null==this.disjointQueryTimerExtension&&(this.disjointQueryTimerExtension=p.getExtensionOrThrow(this.gl,2===i.ENV.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension},e.prototype.getQueryTimerExtensionWebGL2=function(){return this.getQueryTimerExtension()},e.prototype.getQueryTimerExtensionWebGL1=function(){return this.getQueryTimerExtension()},e.prototype.beginQuery=function(){if(2===i.ENV.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){var e=this.gl,t=this.getQueryTimerExtensionWebGL2(),r=e.createQuery();return e.beginQuery(t.TIME_ELAPSED_EXT,r),r}var n=this.getQueryTimerExtensionWebGL1(),o=n.createQueryEXT();return n.beginQueryEXT(n.TIME_ELAPSED_EXT,o),o},e.prototype.endQuery=function(){if(2===i.ENV.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){var e=this.gl,t=this.getQueryTimerExtensionWebGL2();return void e.endQuery(t.TIME_ELAPSED_EXT)}var r=this.getQueryTimerExtensionWebGL1();r.endQueryEXT(r.TIME_ELAPSED_EXT)},e.prototype.waitForQueryAndGetTime=function(e){return o(this,void 0,void 0,function(){var t=this;return a(this,function(r){switch(r.label){case 0:return[4,s.repeatedTry(function(){return t.isQueryAvailable(e,i.ENV.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))})];case 1:return r.sent(),[2,this.getQueryTime(e,i.ENV.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))]}})})},e.prototype.getQueryTime=function(e,t){if(0===t)return null;if(2===t){var r=this.gl,n=r.getQueryParameter(e,r.QUERY_RESULT);return n/1e6}var o=this.getQueryTimerExtensionWebGL1(),n=o.getQueryObjectEXT(e,o.QUERY_RESULT_EXT);return n/1e6},e.prototype.isQueryAvailable=function(e,t){if(0===t)return!0;if(2===t){var r=this.gl,n=this.getQueryTimerExtensionWebGL2(),o=r.getQueryParameter(e,r.QUERY_RESULT_AVAILABLE);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(n.GPU_DISJOINT_EXT)),o&&!this.disjoint}var n=this.getQueryTimerExtensionWebGL1(),o=n.getQueryObjectEXT(e,n.QUERY_RESULT_AVAILABLE_EXT);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(n.GPU_DISJOINT_EXT)),o&&!this.disjoint},e.prototype.pollFence=function(e){var t=this;return new Promise(function(r){t.addItemToPoll(function(){return e.isFencePassed()},function(){return r()})})},e.prototype.pollItems=function(){for(var e=n(this.itemsToPoll.map(function(e){return e.isDoneFn})),t=0;t<=e;++t){var r=this.itemsToPoll[t].resolveFn;r()}this.itemsToPoll=this.itemsToPoll.slice(e+1)},e.prototype.addItemToPoll=function(e,t){var r=this;this.itemsToPoll.push({isDoneFn:e,resolveFn:t}),this.itemsToPoll.length>1||s.repeatedTry(function(){return r.pollItems(),0===r.itemsToPoll.length})},e.prototype.bindTextureToFrameBuffer=function(e){this.throwIfDisposed(),p.bindColorTextureToFramebuffer(this.gl,e,this.framebuffer),this.autoDebugValidate&&p.validateFramebuffer(this.gl)},e.prototype.unbindTextureToFrameBuffer=function(){null!=this.outputTexture?(p.bindColorTextureToFramebuffer(this.gl,this.outputTexture,this.framebuffer),this.autoDebugValidate&&p.validateFramebuffer(this.gl)):p.unbindColorTextureFromFramebuffer(this.gl,this.framebuffer)},e.prototype.downloadMatrixDriver=function(e,t){this.bindTextureToFrameBuffer(e);var r=t();return this.unbindTextureToFrameBuffer(),r},e.prototype.setOutputMatrixTextureDriver=function(e,t,r){this.throwIfDisposed();var n=this.gl;p.bindColorTextureToFramebuffer(n,e,this.framebuffer),this.autoDebugValidate&&p.validateFramebuffer(n),this.outputTexture=e,p.callAndCheck(n,function(){return n.viewport(0,0,t,r)}),p.callAndCheck(n,function(){return n.scissor(0,0,t,r)})},e.prototype.setOutputMatrixWriteRegionDriver=function(e,t,r,n){var o=this;this.throwIfDisposed(),p.callAndCheck(this.gl,function(){return o.gl.scissor(e,t,r,n)})},e.prototype.throwIfDisposed=function(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")},e.prototype.throwIfNoProgram=function(){if(null==this.program)throw new Error("No GPU program is currently set.")},e}();r.GPGPUContext=c,r.binSearchLastTrue=n},{"../../environment":51,"../../util":181,"./gpgpu_util":93,"./tex_util":113,"./webgl_util":118}],92:[function(e,t,r){"use strict";function n(e,t,r,n){for(var o=t.userCode,a=r.map(function(e,r){var n={logicalShape:e.shape,texShape:e.isUniform?null:e.texData.texShape,isUniform:e.isUniform};return{name:t.variableNames[r],shapeInfo:n}}),i=a.map(function(e){return e.shapeInfo}),s={logicalShape:n.shape,texShape:n.texData.texShape,isUniform:!1},l=u.makeShader(a,s,o,t.supportsBroadcasting===!0),p=e.createProgram(l),c={},f=0;f<t.variableNames.length;f++){var h=t.variableNames[f],d=!1;c[h]=e.getUniformLocation(p,h,d)}return{program:t,source:l,webGLProgram:p,uniformLocations:c,gpgpu:e,inShapeInfos:i,outShapeInfo:s}}function o(e,t){if(e.length!==t.length)throw Error("Binary was compiled with "+e.length+" inputs, but "+("was executed with "+t.length+" inputs"));e.forEach(function(e,r){var n=e.logicalShape,o=t[r],a=o.shape;if(!s.arraysEqual(n,a))throw Error("Binary was compiled with different shapes than "+("the current args. Shapes "+n+" and "+a+" must match"));if(!e.isUniform||!o.isUniform){var i=e.texShape,u=o.isUniform?null:o.texData.texShape;if(!s.arraysEqual(i,u))throw Error("Binary was compiled with different texture shapes than the"+(" current args. Shape "+i+" and "+u+" must match"))}})}function a(e,t,r,n){o(e.inShapeInfos,t),o([e.outShapeInfo],[r]);var a=r.texData.texture,i=r.texData.texShape,u=e.gpgpu;u.setOutputMatrixTexture(a,i[0],i[1]),u.setProgram(e.webGLProgram),t.forEach(function(t,r){var n=e.program.variableNames[r],o=e.uniformLocations[n];if(null!=o){if(t.isUniform){if(1===s.sizeFromShape(t.shape))u.gl.uniform1f(o,t.uniformValues[0]);else{var a=t.uniformValues;a instanceof Float32Array||(a=new Float32Array(a)),u.gl.uniform1fv(o,a)}return}var i=t.texData.texture;u.setInputMatrixTexture(i,o,r)}}),null!=n&&n(u,e.webGLProgram),u.executeProgram()}function i(e,t,r){var n="";t.concat(r).forEach(function(e){n+=e.shape+"_"+(e.isUniform?"uniform":e.texData.texShape)});var o=e.userCode,a=(e.supportsBroadcasting===!0).toString(),i=e.constructor.name;return i+="_"+a+"_"+n+"_"+o}Object.defineProperty(r,"__esModule",{value:!0});var s=e("../../util"),u=e("./shader_compiler");r.compileProgram=n,r.runProgram=a,r.makeShaderKey=i},{"../../util":181,"./shader_compiler":110}],93:[function(e,t,r){"use strict";function n(){return{alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0}}function o(e){var t,r=n();return t=null!=e?S.createWebGLRenderingContextFromCanvas(e,r):S.createWebGLRenderingContext(r),S.callAndCheck(t,function(){return t.disable(t.DEPTH_TEST)}),S.callAndCheck(t,function(){return t.disable(t.STENCIL_TEST)}),S.callAndCheck(t,function(){return t.disable(t.BLEND)}),S.callAndCheck(t,function(){return t.disable(t.DITHER)}),S.callAndCheck(t,function(){return t.disable(t.POLYGON_OFFSET_FILL)}),S.callAndCheck(t,function(){return t.disable(t.SAMPLE_COVERAGE)}),S.callAndCheck(t,function(){return t.enable(t.SCISSOR_TEST)}),S.callAndCheck(t,function(){return t.enable(t.CULL_FACE)}),S.callAndCheck(t,function(){return t.cullFace(t.BACK)}),t}function a(e){var t="\n    precision highp float;\n    attribute vec3 clipSpacePos;\n    attribute vec2 uv;\n    varying vec2 resultUV;\n\n    void main() {\n      gl_Position = vec4(clipSpacePos, 1);\n      resultUV = uv;\n    }";return S.createVertexShader(e,t)}function i(e){var t=new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]);return S.createStaticVertexBuffer(e,t)}function s(e){var t=new Uint16Array([0,1,2,2,1,3]);return S.createStaticIndexBuffer(e,t)}function u(e,t){var r,n,o,a,i,s,u,l,p=e;return 2===N.ENV.get("WEBGL_VERSION")?(r=p.R32F,n=p.R16F,o=p.RGBA32F,a=p.RED,s=4,u=1,l=p.HALF_FLOAT):(r=e.RGBA,n=e.RGBA,o=p.RGBA,a=e.RGBA,s=4,u=4,l=null!=t?t.HALF_FLOAT_OES:null),i=e.RGBA,{internalFormatFloat:r,internalFormatHalfFloat:n,internalFormatPackedFloat:o,textureFormatFloat:a,downloadTextureFormat:i,downloadUnpackNumChannels:s,defaultNumChannels:u,textureTypeHalfFloat:l}}function l(e,t,r,n,o,a){S.validateTextureSize(e,t,r);var i=S.createTexture(e),s=e.TEXTURE_2D;return S.callAndCheck(e,function(){return e.bindTexture(s,i)}),S.callAndCheck(e,function(){return e.texParameteri(s,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE)}),S.callAndCheck(e,function(){return e.texParameteri(s,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)}),S.callAndCheck(e,function(){return e.texParameteri(s,e.TEXTURE_MIN_FILTER,e.NEAREST)}),S.callAndCheck(e,function(){return e.texParameteri(s,e.TEXTURE_MAG_FILTER,e.NEAREST)}),S.callAndCheck(e,function(){return e.texImage2D(s,0,n,t,r,0,o,a,null)}),S.callAndCheck(e,function(){return e.bindTexture(e.TEXTURE_2D,null)}),i}function p(e,t,r,n){var o=P.getUnpackedMatrixTextureShapeWidthHeight(t,r),a=o[0],i=o[1];return l(e,a,i,n.internalFormatFloat,n.textureFormatFloat,e.FLOAT)}function c(e,t,r,n){var o=P.getUnpackedMatrixTextureShapeWidthHeight(t,r),a=o[0],i=o[1];return l(e,a,i,n.internalFormatFloat,n.textureFormatFloat,n.textureTypeHalfFloat)}function f(e,t,r,n){var o=P.getUnpackedMatrixTextureShapeWidthHeight(t,r),a=o[0],i=o[1];return l(e,a,i,e.RGBA,e.RGBA,e.UNSIGNED_BYTE)}function h(e,t,r,n){var o=P.getPackedMatrixTextureShapeWidthHeight(t,r),a=o[0],i=o[1];return l(e,a,i,n.internalFormatPackedFloat,e.RGBA,e.FLOAT)}function d(e,t,r){var n=0,o=12,a=20;S.callAndCheck(e,function(){return e.bindBuffer(e.ARRAY_BUFFER,r)});var i=S.bindVertexBufferToProgramAttribute(e,t,"clipSpacePos",r,3,a,n);return i&&S.bindVertexBufferToProgramAttribute(e,t,"uv",r,2,a,o)}function m(e,t,r){S.callAndCheck(e,function(){return e.bindTexture(e.TEXTURE_2D,t)}),S.callAndCheck(e,function(){return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,r)}),S.callAndCheck(e,function(){return e.bindTexture(e.TEXTURE_2D,null)})}function g(e,t,r,n,o,a){S.validateTextureSize(e,r,n),S.callAndCheck(e,function(){return e.bindTexture(e.TEXTURE_2D,t)}),S.callAndCheck(e,function(){return e.texSubImage2D(e.TEXTURE_2D,0,0,0,r,n,a,e.FLOAT,o)}),S.callAndCheck(e,function(){return e.bindTexture(e.TEXTURE_2D,null)})}function v(e,t,r,n,o,a,i){var s,u=P.getUnpackedMatrixTextureShapeWidthHeight(r,n),l=u[0],p=u[1];1===i.defaultNumChannels?s=o:(s=new Float32Array(P.getUnpackedArraySizeFromMatrixSize(o.length,a)),P.encodeMatrixToUnpackedArray(o,s,a)),g(e,t,l,p,s,i.textureFormatFloat)}function y(e,t,r,n,o,a){var i=P.getPackedMatrixTextureShapeWidthHeight(r,n),s=i[0],u=i[1],l=new Float32Array(P.getPackedRGBAArraySizeFromMatrixShape(r,n));P.encodeMatrixToPackedRGBA(o,r,n,l),g(e,t,s,u,l,e.RGBA)}function x(e,t,r,n,o){var a=t;if(2===N.ENV.get("WEBGL_VERSION")){var i=e,s=i.createBuffer();S.callAndCheck(e,function(){return e.bindBuffer(i.PIXEL_PACK_BUFFER,s)});var u=4,l=u*P.getUnpackedArraySizeFromMatrixSize(r*n,o.downloadUnpackNumChannels);S.callAndCheck(e,function(){return e.bufferData(i.PIXEL_PACK_BUFFER,l,e.STATIC_DRAW)}),S.callAndCheck(e,function(){return i.readPixels(0,0,n,r,e.RGBA,e.FLOAT,0)}),S.callAndCheck(e,function(){return e.bindBuffer(i.PIXEL_PACK_BUFFER,null)}),a=s}return a}function b(e,t,r,n,o){var a=e,i=new Float32Array(P.getUnpackedArraySizeFromMatrixSize(r*n,o.downloadUnpackNumChannels));a.bindBuffer(e.ARRAY_BUFFER,t),a.getBufferSubData(e.ARRAY_BUFFER,0,i),a.bindBuffer(e.ARRAY_BUFFER,null);var s=new Float32Array(r*n);return P.decodeMatrixFromUnpackedArray(i,s,o.downloadUnpackNumChannels),s}function _(e,t,r,n){var o=P.getUnpackedMatrixTextureShapeWidthHeight(t,r),a=o[0],i=o[1],s=new Float32Array(P.getUnpackedArraySizeFromMatrixSize(t*r,n.downloadUnpackNumChannels));S.callAndCheck(e,function(){return e.readPixels(0,0,a,i,n.downloadTextureFormat,e.FLOAT,s)});var u=new Float32Array(t*r);return P.decodeMatrixFromUnpackedArray(s,u,n.downloadUnpackNumChannels),u}function w(e,t,r,n){var o=P.getUnpackedMatrixTextureShapeWidthHeight(t,r),a=o[0],i=o[1],s=4,u=new Uint8Array(P.getUnpackedArraySizeFromMatrixSize(t*r,s));return S.callAndCheck(e,function(){return e.readPixels(0,0,a,i,n.downloadTextureFormat,e.UNSIGNED_BYTE,u)}),new Float32Array(u.buffer)}function T(e,t,r,n){var o=P.getPackedMatrixTextureShapeWidthHeight(t,r),a=o[0],i=o[1],s=new Float32Array(P.getPackedRGBAArraySizeFromMatrixShape(t,r));S.callAndCheck(e,function(){return e.readPixels(0,0,a,i,e.RGBA,e.FLOAT,s)});var u=new Float32Array(t*r);return P.decodeMatrixFromPackedRGBA(s,t,r,u)}Object.defineProperty(r,"__esModule",{value:!0});var N=e("../../environment"),P=e("./tex_util"),S=e("./webgl_util");r.getWebGLContextAttributes=n,r.createWebGLContext=o,r.createVertexShader=a,r.createVertexBuffer=i,r.createIndexBuffer=s,r.getTextureConfig=u,r.createFloat32MatrixTexture=p,r.createFloat16MatrixTexture=c,r.createUnsignedBytesMatrixTexture=f,r.createPackedMatrixTexture=h,r.bindVertexProgramAttributeStreams=d,r.uploadPixelDataToTexture=m,r.uploadMatrixToTexture=v,r.uploadMatrixToPackedTexture=y,r.maybeCreateBufferFromOutputTexture=x,r.downloadFloat32MatrixFromBuffer=b,r.downloadFloat32MatrixFromOutputTexture=_,r.downloadByteEncodedFloatMatrixFromOutputTexture=w,r.downloadMatrixFromPackedOutputTexture=T},{"../../environment":51,"./tex_util":113,"./webgl_util":118}],94:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e,t,r,n,o){this.variableNames=["x"],this.outputShape=[];var a=t,i=e[3]-1;this.outputShape=e;var s,u="float("+r+") + float("+n+") * sum";s=.5===o?"inversesqrt("+u+")":1===o?"1.0/("+u+")":"exp(log("+u+") * float(-"+o+"));",this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n        int d = coords[3];\n        float x = getX(b, r, c, d);\n        float sum = 0.0;\n        for (int j = -"+a+"; j <= "+a+"; j++) {\n          int idx = d + j;\n          if (idx >= 0 && idx <=  "+i+") {\n            float z = getX(b, r, c, idx);\n            sum += z * z;\n          }\n        }\n        float val = x * "+s+";\n        setOutput(val);\n      }\n    "}return e}();r.LRNProgram=n},{}],95:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e,t,r,n,o){this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=e,this.depth=e[3],this.depthRadius=t,this.bias=r,this.alpha=n,this.beta=o,this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n\n        float result = 0.0;\n        for (int d = 0; d < "+this.depth+"; ++d) {\n          int depthBegin = int(max(0.0, float(d - "+t+")));\n          int depthEnd = int(min(float("+this.depth+"),\n              float(d + "+t+" + 1)));\n\n          const int MIN_DEPTH_BEGIN = 0;\n          const int MAX_DEPTH_END = "+this.depth+";\n\n          float norm = 0.0;\n          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd) {\n              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);\n            }\n            else {\n              break;\n            }\n          }\n\n          norm = float("+n+") * norm + float("+r+");\n\n          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd){\n              float dyi = -2.0 * float("+n+")\n                * float("+o+")\n                * getInputImage(b ,r ,c, k) * getOutputImage(b, r, c, d)\n                / norm;\n              if (k == d) {\n                dyi += pow(norm, -1.0 * "+o+");\n              }\n              if (k == coords[3]) {\n                dyi *= getDy(b, r, c, d);\n                result += dyi;\n              }\n            }\n            else {\n              break;\n            }\n          }\n      }\n      setOutput(result);\n      }\n    "}return e}();r.LRNGradProgram=n},{}],96:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;var t=e.filterHeight,r=e.filterWidth,n=e.strideHeight,o=e.strideWidth,a=t-1-e.padInfo.top,i=r-1-e.padInfo.left,s=t*r-1;this.userCode="\n      const ivec2 pads = ivec2("+a+", "+i+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+t+"; wR++) {\n          float dyR = float(dyRCorner + wR) / "+n+".0;\n\n          if (dyR < 0.0 || dyR >= "+e.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < "+r+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+o+".0;\n\n            if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n            int maxPosValue = "+s+" - int(getMaxPos(b, idyR, idyC, d));\n\n            // Get the current value, check it against the value from the\n            // position matrix.\n            int curPosValue = wR * "+r+" + wC;\n            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n            dotProd += dyValue * mask;\n          }\n        }\n        setOutput(dotProd);\n      }\n    ";
}return e}();r.MaxPool2DBackpropProgram=n},{}],97:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e,t,r,n){void 0===r&&(r=!1),void 0===n&&(n=!1),this.variableNames=["matrixA","matrixB"];var o=e[0],a=r?e[2]:e[1],i=n?t[1]:t[2],s=r?e[1]:e[2];this.outputShape=[o,a,i];var u=function(e,t){return r?"batch, "+t+" + "+e+", aRow":"batch, aRow, "+t+" + "+e},l=function(e,t){return n?"batch, bCol, "+t+" + "+e:"batch, "+t+" + "+e+", bCol"},p=4*Math.floor(s/4),c=s%4;this.userCode=" float dotARowBCol(int batch, int aRow, int bCol) {\n      float result = 0.0;\n      for (int i = 0; i < "+p+"; i += 4) {\n        vec4 a = vec4(\n          getMatrixA("+u(0,"i")+"),\n          getMatrixA("+u(1,"i")+"),\n          getMatrixA("+u(2,"i")+"),\n          getMatrixA("+u(3,"i")+")\n        );\n        vec4 b = vec4(\n          getMatrixB("+l(0,"i")+"),\n          getMatrixB("+l(1,"i")+"),\n          getMatrixB("+l(2,"i")+"),\n          getMatrixB("+l(3,"i")+")\n        );\n\n        result += dot(a, b);\n      }\n\n      if ("+(1===c)+") {\n        result += getMatrixA("+u(0,p)+") *\n          getMatrixB("+l(0,p)+");\n      } else if ("+(2===c)+") {\n        vec2 a = vec2(\n          getMatrixA("+u(0,p)+"),\n          getMatrixA("+u(1,p)+")\n        );\n        vec2 b = vec2(\n          getMatrixB("+l(0,p)+"),\n          getMatrixB("+l(1,p)+")\n        );\n        result += dot(a, b);\n      } else if ("+(3===c)+") {\n        vec3 a = vec3(\n          getMatrixA("+u(0,p)+"),\n          getMatrixA("+u(1,p)+"),\n          getMatrixA("+u(2,p)+")\n        );\n        vec3 b = vec3(\n          getMatrixB("+l(0,p)+"),\n          getMatrixB("+l(1,p)+"),\n          getMatrixB("+l(2,p)+")\n        );\n        result += dot(a, b);\n      }\n\n      return result;\n    }\n\n    void main() {\n      ivec3 resBRC = getOutputCoords();\n      setOutput(dotARowBCol(resBRC.x, resBRC.y, resBRC.z));\n    }\n    "}return e}();r.MatMulProgram=n},{}],98:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e,t,r){this.variableNames=["probs"],this.outputShape=[e,r],this.userCode="\n      uniform float seed;\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n\n        float r = random(seed);\n        float cdf = 0.0;\n\n        for (int i = 0; i < "+(t-1)+"; i++) {\n          cdf += getProbs(batch, i);\n\n          if (r < cdf) {\n            setOutput(float(i));\n            return;\n          }\n        }\n\n        // If no other event happened, last event happened.\n        setOutput(float("+(t-1)+"));\n      }\n    "}return e.prototype.getCustomSetupFunc=function(e){var t=this;return function(r,n){null==t.seedLoc&&(t.seedLoc=r.getUniformLocation(n,"seed")),r.gl.uniform1f(t.seedLoc,e)}},e}();r.MultinomialProgram=n},{}],99:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e,t,r,n){this.variableNames=["indices"],this.outputShape=[e,t],this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int index = round(getIndices(coords.x));\n        setOutput(mix(float("+n+"), float("+r+"),\n                      float(index == coords.y)));\n      }\n    "}return e}();r.OneHotProgram=n},{}],100:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("./shader_compiler"),o=function(){function e(e,t,r){this.variableNames=["x"],this.outputShape=t.map(function(t,r){return t[0]+e[r]+t[1]});var o=e.length,a=n.getCoordsDataType(o),i=t.map(function(e){return e[0]}).join(","),s=t.map(function(t,r){return t[0]+e[r]}).join(","),u=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,o);return 1===o?void(this.userCode="\n        int start = "+i+";\n        int end = "+s+";\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start || outC >= end) {\n            setOutput(float("+r+"));\n          } else {\n            setOutput(getX(outC - start));\n          }\n        }\n      "):void(this.userCode="\n      "+a+" start = "+a+"("+i+");\n      "+a+" end = "+a+"("+s+");\n\n      void main() {\n        "+a+" outC = getOutputCoords();\n        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {\n          setOutput(float("+r+"));\n        } else {\n          "+a+" coords = outC - start;\n          setOutput(getX("+u+"));\n        }\n      }\n    ")}return e}();r.PadProgram=o},{"./shader_compiler":110}],101:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e,t,r){if(this.variableNames=["x"],"avg"===t&&r)throw new Error("Cannot compute positions for average pool.");var n=e.filterHeight,o=e.filterWidth,a=e.strideHeight,i=e.strideWidth,s=e.padInfo.top,u=e.padInfo.left;this.outputShape=e.outShape;var l="avg"===t,p="0.0";if(l||(p="-1.0 / 0.0"),r){var c=">=";return void(this.userCode="\n        const ivec2 strides = ivec2("+a+", "+i+");\n        const ivec2 pads = ivec2("+s+", "+u+");\n\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int batch = coords[0];\n          int d = coords[3];\n\n          ivec2 xRCCorner = coords.yz * strides - pads;\n          int xRCorner = xRCCorner.x;\n          int xCCorner = xRCCorner.y;\n\n          // max/min x(?, ?, d) to get y(yR, yC, d).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n          float avgValue = 0.0;\n\n          for (int wR = 0; wR < "+n+"; wR++) {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= "+e.inHeight+") {\n              continue;\n            }\n\n            for (int wC = 0; wC < "+o+"; wC++) {\n              int xC = xCCorner + wC;\n\n              if (xC < 0 || xC >= "+e.inWidth+") {\n                continue;\n              }\n\n              float value = getX(batch, xR, xC, d);\n\n              // If a min / max value has already been found, use it. If not,\n              // use the current value.\n              float currMinMaxValue = mix(\n                  value, minMaxValue, minMaxValueFound);\n              if (value "+c+" currMinMaxValue) {\n                minMaxValue = value;\n                minMaxValueFound = 1.0;\n                minMaxPosition = wR * "+o+" + wC;\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      ")}var f="max",h=t+"("+t+"("+t+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"avg"===t&&(h="avgValue / count");var d=4*Math.floor(o/4),m=o%4,g="\n      if ("+l+") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = "+f+"(values, minMaxValue);\n      }\n    ";this.userCode="\n      const ivec2 strides = ivec2("+a+", "+i+");\n      const ivec2 pads = ivec2("+s+", "+u+");\n      const float initializationValue = "+p+";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xR, int xC, int d) {\n        if (xC < 0 || xC >= "+e.inWidth+") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xR, xC, d);\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d = coords[3];\n\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // max/min x(?, ?, d) to get y(yR, yC, d).\n        // ? = to be determined\n        vec4 minMaxValue = vec4("+p+");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wR = 0; wR < "+n+"; wR++) {\n          int xR = xRCorner + wR;\n\n          if (xR < 0 || xR >= "+e.inHeight+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+d+"; wC += 4) {\n            int xC = xCCorner + wC;\n\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + 1, d),\n              getValue(batch, xR, xC + 2, d),\n              getValue(batch, xR, xC + 3, d)\n            );\n\n            "+g+"\n          }\n\n          int xC = xCCorner + "+d+";\n          if ("+(1===m)+") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              initializationValue,\n              initializationValue,\n              initializationValue\n            );\n\n            "+g+"\n          } else if ("+(2===m)+") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + 1, d),\n              initializationValue,\n              initializationValue\n            );\n\n            "+g+"\n          } else if ("+(3===m)+") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + 1, d),\n              getValue(batch, xR, xC + 2, d),\n              initializationValue\n            );\n\n            "+g+"\n          }\n        }\n        setOutput("+h+");\n      }\n    "}return e}();r.Pool2DProgram=n},{}],102:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e,t){this.variableNames=["x"];var r=e.windowSize,n=e.batchSize,o=e.inSize,a=Math.ceil(o/r);this.outputShape=[n,a];var i="0.0",s="";"min"===t?(i="1.0 / 0.0",s="min"):"max"===t&&(i="-1.0 / 0.0",s="max");var u=t+"("+t+"("+t+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"sum"===t?u="sumValue":"all"===t?u="allValue":"any"===t&&(u="anyValue");var l=4*Math.floor(r/4),p=r%4,c="\n      if ("+("sum"===t)+") {\n        sumValue += dot(values, ones);\n      } else {\n        minMaxValue = "+s+"(values, minMaxValue);\n      }\n    ",f="vec4";"all"===t?(i="1.0",c="\n        bool reducedAllValue = all(values);\n        float floatedReducedAllValue = float(reducedAllValue);\n        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);\n      ",f="bvec4"):"any"===t&&(i="0.0",c="\n        bool reducedAnyValue = any(values);\n        float floatedReducedAnyValue = float(reducedAnyValue);\n        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);\n      ",f="bvec4");var h="";o%r>0&&(h="\n        if (inIdx < 0 || inIdx >= "+o+") {\n          return initializationValue;\n        }\n      "),this.userCode="\n      const float initializationValue = "+i+";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        "+h+"\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * "+r+";\n\n        vec4 minMaxValue = vec4("+i+");\n        float sumValue = 0.0;\n        float allValue = 1.0;\n        float anyValue = 0.0;\n\n        for (int i = 0; i < "+l+"; i += 4) {\n          int inIdx = inOffset + i;\n          "+f+" values = "+f+"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          "+c+"\n        }\n\n        int inIdx = inOffset + "+l+";\n        if ("+(1===p)+") {\n          "+f+" values = "+f+"(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          "+c+"\n        } else if ("+(2===p)+") {\n          "+f+" values = "+f+"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          "+c+"\n        } else if ("+(3===p)+") {\n          "+f+" values = "+f+"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          "+c+"\n        }\n        setOutput("+u+");\n      }\n    "}return e}();r.ReduceProgram=n},{}],103:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e,t,r){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t.shape;var n=t.shape,o=n[1],a=n[2],i=e.shape,s=i[1],u=i[2],l=[r&&s>1?o-1:o,r&&u>1?a-1:a],p=[r&&s>1?s-1:s,r&&u>1?u-1:u],c=l[0]/p[0],f=l[1]/p[1],h=1/c,d=1/f,m=2*Math.ceil(h)+2,g=2*Math.ceil(d)+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float("+c+");\n        const float widthScale = float("+f+");\n\n        const float invHeightScale = float("+h+");\n        const float invWidthScale = float("+d+");\n\n        const int winHeight = int("+m+");\n        const int winWidth = int("+g+");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(startRLerp - float(winHeight / 2));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(startCLerp - float(winWidth / 2));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= "+s+") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= "+u+") {\n              continue;\n            }\n\n            float dxR = float(dyR) * heightScale;\n            int topDxRIndex = int(floor(dxR));\n            int bottomDxRIndex = int(min(ceil(dxR), "+(o-1)+".0));\n            float dxRLerp = dxR - float(topDxRIndex);\n            float inverseDxRLerp = 1.0 - dxRLerp;\n\n            float dxC = float(dyC) * widthScale;\n            int leftDxCIndex = int(floor(dxC));\n            int rightDxCIndex = int(min(ceil(dxC), "+(a-1)+".0));\n            float dxCLerp = dxC - float(leftDxCIndex);\n            float inverseDxCLerp = 1.0 - dxCLerp;\n\n            if (r == topDxRIndex && c == leftDxCIndex) {\n              // topLeft\n              accumulator +=\n                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;\n            }\n\n            if (r == topDxRIndex && c == rightDxCIndex) {\n              // topRight\n              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == leftDxCIndex) {\n              // bottomLeft\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == rightDxCIndex) {\n              // bottomRight\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    "}return e}();r.ResizeBilinearBackpropProgram=n},{}],104:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e,t,r,n){this.variableNames=["A"],this.outputShape=[];var o=e[0],a=e[1],i=e[2],s=e[3];this.outputShape=[o,t,r,s];var u=[n&&t>1?a-1:a,n&&r>1?i-1:i],l=[n&&t>1?t-1:t,n&&r>1?r-1:r];this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          "+u[0]/l[0]+",\n          "+u[1]/l[1]+");\n      const vec2 inputShapeRC = vec2("+a+".0, "+i+".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the four integer indices.\n        ivec2 sourceFloorRC = ivec2(sourceFracIndexRC);\n        ivec2 sourceCeilRC = ivec2(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);\n        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);\n        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);\n        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);\n\n        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);\n\n        float top = topLeft + (topRight - topLeft) * fracRC.y;\n        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;\n        float newValue = top + (bottom - top) * fracRC.x;\n\n        setOutput(newValue);\n      }\n    "}return e}();r.ResizeBilinearProgram=n},{}],105:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e,t,r){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t.shape;var n=t.shape,o=n[1],a=n[2],i=e.shape,s=i[1],u=i[2],l=[r&&s>1?o-1:o,r&&u>1?a-1:a],p=[r&&s>1?s-1:s,r&&u>1?u-1:u],c=l[0]/p[0],f=l[1]/p[1],h=1/c,d=1/f,m=2*Math.ceil(h)+2,g=2*Math.ceil(d)+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float("+c+");\n        const float widthScale = float("+f+");\n\n        const float invHeightScale = float("+h+");\n        const float invWidthScale = float("+d+");\n\n        const int winHeight = int("+m+");\n        const int winWidth = int("+g+");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(floor(startRLerp - float(winHeight / 2)));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(floor(startCLerp - float(winWidth / 2)));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= "+s+") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= "+u+") {\n              continue;\n            }\n\n            float sourceFracRow =\n              float("+l[0]+") *\n                (float(dyR) / float("+p[0]+"));\n\n            float sourceFracCol =\n                float("+l[1]+") *\n                  (float(dyC) / float("+p[1]+"));\n\n            int sourceNearestRow = int(min(\n                float(int("+o+") - 1),\n                "+r+" ? float(round(sourceFracRow)) :\n                                  float(floor(sourceFracRow))));\n\n            int sourceNearestCol = int(min(\n                float(int("+a+") - 1),\n                "+r+" ? float(round(sourceFracCol)) :\n                                  float(floor(sourceFracCol))));\n\n            if (r == sourceNearestRow && c == sourceNearestCol) {\n              accumulator += getDy(b, dyR, dyC, d);\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    "}return e}();r.ResizeNearestNeigborBackpropProgram=n},{}],106:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e,t,r,n){this.variableNames=["A"],this.outputShape=[];var o=e[0],a=e[1],i=e[2],s=e[3];this.outputShape=[o,t,r,s];var u=[n&&t>1?a-1:a,n&&r>1?i-1:i],l=[n&&t>1?t-1:t,n&&r>1?r-1:r],p=n?"0.5":"0.0";this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          "+u[0]/l[0]+",\n          "+u[1]/l[1]+");\n      const vec2 inputShapeRC = vec2("+a+".0, "+i+".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec2 sourceNearestRC = ivec2(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + "+p+")));\n\n        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);\n\n        setOutput(newValue);\n      }\n    "}return e}();r.ResizeNearestNeighborProgram=n},{}],107:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("./shader_compiler"),o=function(){function e(e,t){this.variableNames=["x"];var r=e.length;if(r>4)throw new Error("WebGL backend: Reverse of rank-"+r+" tensor is not yet supported");if(this.outputShape=e,1===r)return void(this.userCode="\n        void main() {\n          int coord = getOutputCoords();\n          setOutput(getX("+e[0]+" - coord - 1));\n        }\n      ");var o=function(r){return t.indexOf(r)!==-1&&1!==e[r]?e[r]+" - coords["+r+"] - 1":"coords["+r+"]"},a=e.map(function(e,t){return o(t)}).join(","),i=n.getCoordsDataType(r);this.userCode="\n      void main() {\n        "+i+" coords = getOutputCoords();\n        setOutput(getX("+a+"));\n      }\n    "}return e}();r.ReverseProgram=o},{"./shader_compiler":110}],108:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e,t){this.variableNames=["x","segmentIds"];var r=e.windowSize,n=e.batchSize,o=e.inSize,a=e.numSegments,i=a*Math.ceil(o/r);this.outputShape=[n,i];var s="0.0",u="sumValue",l=4*Math.floor(r/4),p=r%4,c="\n        sumValue += dot(values, filter);\n    ",f="";o%r>0&&(f="\n        if (inIdx < 0 || inIdx >= "+o+") {\n          return initializationValue;\n        }\n      ");var h="";o%r>0&&(h="\n        if (inIdx < 0 || inIdx >= "+o+") {\n          return -1.0;\n        }\n      "),this.userCode="\n      const float initializationValue = "+s+";\n\n      float getValue(int batch, int inIdx) {\n        "+f+"\n        return getX(batch, inIdx);\n      }\n\n      float getSegmentIdAtIndex(int inIdx) {\n        "+h+"\n        return getSegmentIds(inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = int(floor(float(outIdx) / float(\n          "+a+")) * float("+r+"));\n        int currentSeg = int(mod(float(outIdx), float("+a+")));\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < "+l+"; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          vec4 filter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0\n          );\n\n          "+c+"\n        }\n\n        int inIdx = inOffset + "+l+";\n        if ("+(1===p)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));\n\n          vec4 filter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            0,\n            0,\n            0\n          );\n\n          "+c+"\n        } else if ("+(2===p)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          vec4 filter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n              0,\n              0\n          );\n\n          "+c+"\n        } else if ("+(3===p)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          vec4 filter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            0\n          );\n\n          "+c+"\n        }\n        setOutput("+u+");\n      }\n    "}return e}();r.SegmentOpProgram=n},{}],109:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("./shader_compiler"),o=function(){function e(e,t,r){this.variableNames=["c","a","b"],this.outputShape=t;var o,a;if(r>4)throw Error("Where for rank "+r+" is not yet supported");if(1===r)a="resRC",o="resRC";else{for(var i=["resRC.x","resRC.y","resRC.z","resRC.w"],s=[],u=[],l=0;l<t.length;l++)u.push(""+i[l]),l<e&&s.push(""+i[l]);o=s.join(),a=u.join()}var p=n.getCoordsDataType(r);this.userCode="\n      void main() {\n        "+p+" resRC = getOutputCoords();\n        float cVal = getC("+o+");\n        if (cVal >= 1.0) {\n          setOutput(getA("+a+"));\n        } else {\n          setOutput(getB("+a+"));\n        }\n      }\n    "}return e}();r.SelectProgram=o},{"./shader_compiler":110}],110:[function(e,t,r){"use strict";function n(e,t,r,n){var o=e.map(function(e){var t=k.sizeFromShape(e.shapeInfo.logicalShape);return e.shapeInfo.isUniform?"uniform float "+e.name+(t>1?"["+t+"]":"")+";":"uniform sampler2D "+e.name+";"});o=o.join("\n");var s=e.map(function(e){return a(e,t,n)}).join("\n"),u=t.texShape,l=i(t.logicalShape,u),p=[L,D,V,o,l,s,r].join("\n");return p}function o(e){var t=e.shapeInfo.logicalShape;switch(t.length){case 0:return d(e);case 1:return m(e);case 2:return g(e);case 3:return v(e);case 4:return y(e);case 5:return x(e);case 6:return b(e);default:throw new Error(t.length+"-D input sampling is not yet supported")}}function a(e,t,r){var n=_(e);return n+=o(e),(r||k.arraysEqual(e.shapeInfo.logicalShape,t.logicalShape))&&(n+=T(e,t,r)),n}function i(e,t){switch(e.length){case 0:return s();case 1:return u(e,t);case 2:return h(e,t);case 3:return l(e,t);case 4:return p(e,t);case 5:return c(e,t);case 6:return f(e,t);default:throw new Error(e.length+"-D output sampling is not yet supported")}}function s(){return"\n    int getOutputCoords() {\n      return 0;\n    }\n  "}function u(e,t){return 1===t[0]?"\n      int getOutputCoords() {\n        return int(resultUV.x * "+t[1]+".0);\n      }\n    ":1===t[1]?"\n      int getOutputCoords() {\n        return int(resultUV.y * "+t[0]+".0);\n      }\n    ":"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+t[0]+", "+t[1]+"));\n      return resTexRC.x * "+t[1]+" + resTexRC.y;\n    }\n  "}function l(e,t){var r=e[1]*e[2],n=e[2];return"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+t[0]+", "+t[1]+"));\n      int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n      int r = index / "+r+";\n      index -= r * "+r+";\n      int c = index / "+n+";\n      int d = index - c * "+n+";\n      return ivec3(r, c, d);\n    }\n  "}function p(e,t){var r=e[3],n=e[2]*r,o=e[1]*n;return"\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2("+t[0]+", "+t[1]+"));\n      int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n\n      int r = index / "+o+";\n      index -= r * "+o+";\n\n      int c = index / "+n+";\n      index -= c * "+n+";\n\n      int d = index / "+r+";\n      int d2 = index - d * "+r+";\n\n      return ivec4(r, c, d, d2);\n    }\n  "}function c(e,t){var r=e[4],n=e[3]*r,o=e[2]*n,a=e[1]*o;return"\n    ivec5 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx * vec2("+t[0]+",\n                             "+t[1]+"));\n\n      int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n\n      int r = index / "+a+";\n      index -= r * "+a+";\n\n      int c = index / "+o+";\n      index -= c * "+o+";\n\n      int d = index / "+n+";\n      index -= d * "+n+";\n\n      int d2 = index  / "+r+";\n      int d3 = index - d2 * "+r+";\n\n      ivec5 outShape = ivec5(r, c, d, d2, d3);\n      return outShape;\n    }\n  "}function f(e,t){var r=e[5],n=e[4]*r,o=e[3]*n,a=e[2]*o,i=e[1]*a;return"\n    ivec6 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2("+t[0]+", "+t[1]+"));\n      int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n\n      int r = index / "+i+";\n      index -= r * "+i+";\n\n      int c = index / "+a+";\n      index -= c * "+a+";\n\n      int d = index / "+o+";\n      index -= d * "+o+";\n\n      int d2 = index / "+n+";\n      index -= d2 * "+n+";\n\n      int d3 = index / "+r+";\n      int d4 = index - d3 * "+r+";\n\n      ivec6 result = ivec6(r, c, d, d2, d3, d4);\n      return result;\n    }\n  "}function h(e,t){return k.arraysEqual(e,t)?"\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2("+t[0]+", "+t[1]+"));\n      }\n    ":1===e[1]?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2("+t[0]+", "+t[1]+"));\n        int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    ":1===e[0]?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2("+t[0]+", "+t[1]+"));\n        int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n        return ivec2(0, index);\n      }\n    ":"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+t[0]+", "+t[1]+"));\n      int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n      int r = index / "+e[1]+";\n      int c = index - r * "+e[1]+";\n      return ivec2(r, c);\n    }\n  "}function d(e){var t=e.name,r="get"+t.charAt(0).toUpperCase()+t.slice(1);return e.shapeInfo.isUniform?"float "+r+"() {return "+t+";}":"\n    float "+r+"() {\n      return sampleTexture("+t+", halfCR);\n    }\n  "}function m(e){var t=e.name,r="get"+t.charAt(0).toUpperCase()+t.slice(1);return"\n    float "+r+"(int index) {\n      return "+r+"Flat(index);\n    }\n  "}function g(e){var t=e.shapeInfo.logicalShape,r=e.name,n="get"+r.charAt(0).toUpperCase()+r.slice(1),a=e.shapeInfo.texShape;if(null!=a&&k.arraysEqual(t,a)){var i=a[0],s=a[1];return"\n    float "+n+"(int row, int col) {\n      vec2 uv = (vec2(col, row) + halfCR) / vec2("+s+".0, "+i+".0);\n      return sampleTexture("+r+", uv);\n    }\n  "}var u=k.squeezeShape(t),l=u.newShape,p=u.keptDims,c=l;if(c.length<t.length){var f=P(e,c),h=["row","col"];return"\n      "+o(f)+"\n      float "+n+"(int row, int col) {\n        return "+n+"("+S(h,p)+");\n      }\n    "}if(e.shapeInfo.isUniform)return"\n      float "+n+"(int row, int col) {\n        int index = row * "+t[1]+" + col;\n        return "+n+"Flat(index);\n      }\n    ";var d=a[0],m=a[1];return 1===m?"\n    float "+n+"(int row, int col) {\n      int index = row * "+t[1]+" + col;\n      vec2 uv = vec2(0.5, (float(index) + 0.5) / "+d+".0);\n      return sampleTexture("+r+", uv);\n    }\n  ":1===d?"\n    float "+n+"(int row, int col) {\n      int index = row * "+t[1]+" + col;\n      vec2 uv = vec2((float(index) + 0.5) / "+m+".0, 0.5);\n      return sampleTexture("+r+", uv);\n    }\n  ":"\n  float "+n+"(int row, int col) {\n    vec2 uv = UVfrom2D("+d+", "+m+", "+t[1]+", row, col);\n    return sampleTexture("+r+", uv);\n  }\n";
}function v(e){var t=e.shapeInfo.logicalShape,r=e.name,n="get"+r.charAt(0).toUpperCase()+r.slice(1),a=t[1]*t[2],i=t[2],s=k.squeezeShape(t),u=s.newShape,l=s.keptDims,p=u;if(p.length<t.length){var c=P(e,p),f=["row","col","depth"];return"\n        "+o(c)+"\n        float "+n+"(int row, int col, int depth) {\n          return "+n+"("+S(f,l)+");\n        }\n      "}if(e.shapeInfo.isUniform)return"\n      float "+n+"(int row, int col, int depth) {\n        int index = row * "+a+" + col * "+i+" + depth;\n        return "+n+"Flat(index);\n      }\n    ";var h=e.shapeInfo.texShape,d=h[0],m=h[1];return m===a?"\n        float "+n+"(int row, int col, int depth) {\n          int texR = row;\n          int texC = col * "+i+" + depth;\n          vec2 uv = (vec2(texC, texR) + halfCR) /\n                     vec2("+m+".0, "+d+".0);\n          return sampleTexture("+r+", uv);\n        }\n      ":m===i?"\n    float "+n+"(int row, int col, int depth) {\n      int texR = row * "+t[1]+" + col;\n      int texC = depth;\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2("+m+".0, "+d+".0);\n      return sampleTexture("+r+", uv);\n    }\n  ":"\n      float "+n+"(int row, int col, int depth) {\n        vec2 uv = UVfrom3D(\n            "+d+", "+m+", "+a+", "+i+", row, col, depth);\n        return sampleTexture("+r+", uv);\n      }\n  "}function y(e){var t=e.shapeInfo.logicalShape,r=e.name,n="get"+r.charAt(0).toUpperCase()+r.slice(1),a=t[3],i=t[2]*a,s=t[1]*i,u=k.squeezeShape(t),l=u.newShape,p=u.keptDims;if(l.length<t.length){var c=P(e,l),f=["row","col","depth","depth2"];return"\n      "+o(c)+"\n      float "+n+"(int row, int col, int depth, int depth2) {\n        return "+n+"("+S(f,p)+");\n      }\n    "}if(e.shapeInfo.isUniform)return"\n      float "+n+"(int row, int col, int depth, int depth2) {\n        int index = row * "+s+" + col * "+i+" +\n            depth * "+a+" + depth2;\n        return "+n+"Flat(index);\n      }\n    ";var h=e.shapeInfo.texShape,d=h[0],m=h[1];return m===s?"\n      float "+n+"(int row, int col, int depth, int depth2) {\n        int texR = row;\n        int texC = col * "+i+" + depth * "+a+" + depth2;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2("+m+".0, "+d+".0);\n        return sampleTexture("+r+", uv);\n      }\n    ":m===a?"\n      float "+n+"(int row, int col, int depth, int depth2) {\n        int texR = row * "+t[1]*t[2]+" + col * "+t[2]+" + depth;\n        int texC = depth2;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2("+m+".0, "+d+".0);\n        return sampleTexture("+r+", uv);\n      }\n    ":"\n    float "+n+"(int row, int col, int depth, int depth2) {\n      vec2 uv = UVfrom4D("+d+", "+m+", "+s+", "+i+",\n          "+a+", row, col, depth, depth2);\n      return sampleTexture("+r+", uv);\n    }\n  "}function x(e){var t=e.shapeInfo.logicalShape,r=e.name,n="get"+r.charAt(0).toUpperCase()+r.slice(1),a=t[4],i=t[3]*a,s=t[2]*i,u=t[1]*s,l=k.squeezeShape(t),p=l.newShape,c=l.keptDims;if(p.length<t.length){var f=P(e,p),h=["row","col","depth","depth2","depth3"];return"\n      "+o(f)+"\n      float "+n+"(int row, int col, int depth, int depth2, int depth3) {\n        return "+n+"("+S(h,c)+");\n      }\n    "}if(e.shapeInfo.isUniform)return"\n      float "+n+"(int row, int col, int depth, int depth2, int depth3) {\n        int index = row * "+u+" + col * "+s+" +\n            depth * "+i+" + depth2 * "+a+" + depth3;\n        return "+n+"Flat(index);\n      }\n    ";var d=e.shapeInfo.texShape,m=d[0],g=d[1];return g===u?"\n      float "+n+"(int row, int col, int depth, int depth2, int depth3) {\n        int texR = row;\n        int texC = col * "+s+" + depth * "+i+" +\n                   depth2 * "+a+" + depth3;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2("+g+".0, "+m+".0);\n        return sampleTexture("+r+", uv);\n      }\n    ":g===a?"\n      float "+n+"(int row, int col, int depth, int depth2, int depth3) {\n        int texR = row * "+t[1]*t[2]+" + col * "+t[2]+" +\n                   depth * "+t[3]+" + depth2;\n        int texC = depth3;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2("+g+".0, "+m+".0);\n        return sampleTexture("+r+", uv);\n      }\n    ":"\n    float "+n+"(int row, int col, int depth, int depth2, int depth3) {\n      vec2 uv = UVfrom5D("+m+", "+g+", "+u+", "+s+",\n          "+i+", "+a+", row, col, depth, depth2, depth3);\n      return sampleTexture("+r+", uv);\n    }\n  "}function b(e){var t=e.shapeInfo.logicalShape,r=e.name,n="get"+r.charAt(0).toUpperCase()+r.slice(1),a=t[5],i=t[4]*a,s=t[3]*i,u=t[2]*s,l=t[1]*u,p=k.squeezeShape(t),c=p.newShape,f=p.keptDims;if(c.length<t.length){var h=P(e,c),d=["row","col","depth","depth2","depth3","depth4"];return"\n      "+o(h)+"\n      float "+n+"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        return "+n+"("+S(d,f)+");\n      }\n    "}if(e.shapeInfo.isUniform)return"\n      float "+n+"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n        int index = row * "+l+" + col * "+u+" +\n            depth * "+s+" + depth2 * "+i+" + depth3 * "+i+"\n            + depth4\n        return "+n+"Flat(index);\n      }\n    ";var m=e.shapeInfo.texShape,g=m[0],v=m[1];return v===l?"\n      float "+n+"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        int texR = row;\n        int texC = col * "+u+" + depth * "+s+" + depth2;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2("+v+".0, "+g+".0);\n        return sampleTexture("+r+", uv);\n      }\n    ":v===a?"\n      float "+n+"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        int texR = row * "+t[1]*t[2]+" + col * "+t[2]+" + depth;\n        int texC = depth4;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2("+v+".0, "+g+".0);\n        return sampleTexture("+r+", uv);\n      }\n    ":"\n    float "+n+"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n      vec2 uv = UVfrom6D("+g+", "+v+", "+l+", "+u+",\n          "+s+", "+i+", "+a+"\n          ,row, col, depth, depth2, depth3, depth4);\n      return sampleTexture("+r+", uv);\n    }\n  "}function _(e){var t=e.name,r="get"+t.charAt(0).toUpperCase()+t.slice(1)+"Flat",n=k.sizeFromShape(e.shapeInfo.logicalShape);if(e.shapeInfo.isUniform)return 1===n?"float "+r+"(int index) {return "+t+";}":"\n      float "+r+"(int index) {\n        for (int i = 0; i < "+n+"; i++) {\n          if (i == index) {\n            return "+t+"[i];\n          }\n        }\n      }\n    ";var o=e.shapeInfo.texShape,a=o[0],i=o[1];return 1===i&&1===a?"\n      float "+r+"(int index) {\n        return sampleTexture("+t+", halfCR);\n      }\n    ":1===i?"\n      float "+r+"(int index) {\n        vec2 uv = vec2(0.5, (float(index) + 0.5) / "+a+".0);\n        return sampleTexture("+t+", uv);\n      }\n    ":1===a?"\n      float "+r+"(int index) {\n        vec2 uv = vec2((float(index) + 0.5) / "+i+".0, 0.5);\n        return sampleTexture("+t+", uv);\n      }\n    ":"\n    float "+r+"(int index) {\n      vec2 uv = UVfrom1D("+a+", "+i+", index);\n      return sampleTexture("+t+", uv);\n    }\n  "}function w(e,t,r,n){var o=e.shapeInfo.logicalShape.length,a=t.logicalShape.length,i="int";2===a?i="ivec2":3===a?i="ivec3":4===a&&(i="ivec4");var s,u=E.getBroadcastDims(e.shapeInfo.logicalShape,t.logicalShape),l=a-o;s=0===o?"":a<2&&u.length>=1?"coords = 0;":u.map(function(e){return"coords["+(e+l)+"] = 0;"}).join("\n");var p="";return p=a<2&&o>0?"coords":e.shapeInfo.logicalShape.map(function(e,t){return"coords["+(t+l)+"]"}).join(", "),"\n    float "+n+"() {\n      "+i+" coords = getOutputCoords();\n      "+s+"\n      return get"+r+"("+p+");\n    }\n  "}function T(e,t,r){var n=e.name,o=n.charAt(0).toUpperCase()+n.slice(1),a="get"+o+"AtOutCoords",i=E.getBroadcastDims(e.shapeInfo.logicalShape,t.logicalShape),s=e.shapeInfo.logicalShape.length,u=t.logicalShape.length,l=r&&(u>s||i.length>0),p=E.broadcastDimsAreOuter(i),c=e.shapeInfo.isUniform;if(l&&!p)return w(e,t,o,a);var f=k.sizeFromShape(e.shapeInfo.logicalShape),h="";l&&p&&(h="\n        int mainPart = index / "+f+";\n        index -= mainPart * "+f+";\n      ");var d=t.texShape;if(c)return 1===f?"float "+a+"() {return "+n+";}":"\n      float "+a+"() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                              vec2("+d[0]+", "+d[1]+"));\n        int index = resTexRC.x * "+d[1]+" + resTexRC.y;\n        "+h+"\n        return get"+o+"Flat(index);\n      }\n    ";var m=e.shapeInfo.texShape;return k.arraysEqual(m,d)?"\n      float "+a+"() {\n        return sampleTexture("+n+", resultUV);\n      }\n    ":"\n    float "+a+"() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+d[0]+", "+d[1]+"));\n      int index = resTexRC.x * "+d[1]+" + resTexRC.y;\n      "+h+"\n      int texR = index / "+m[1]+";\n      int texC = index - texR * "+m[1]+";\n      vec2 uv = (vec2(texC, texR) + halfCR) /\n                 vec2("+m[1]+".0, "+m[0]+".0);\n\n      return sampleTexture("+n+", uv);\n    }\n  "}function N(e){if(e<=1)return"int";if(2===e)return"ivec2";if(3===e)return"ivec3";if(4===e)return"ivec4";if(5===e)return"ivec5";if(6===e)return"ivec6";throw Error("GPU for rank "+e+" is not yet supported")}function P(e,t){var r=JSON.parse(JSON.stringify(e));return r.shapeInfo.logicalShape=t,r}function S(e,t){return t.map(function(t){return e[t]}).join(", ")}Object.defineProperty(r,"__esModule",{value:!0});var E=e("../../ops/broadcast_util"),k=e("../../util");r.makeShader=n;var A="\nvec2 UVfrom1D(int texNumR, int texNumC, int index) {\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",O="\nvec2 UVfrom2D(int texNumR, int texNumC, int numC, int row, int col) {\n  int index = row * numC + col;\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",I="\nvec2 UVfrom3D(int texNumR, int texNumC, int stride0,\n    int stride1, int row, int col, int depth) {\n  // Explicitly use integer operations as dot() only works on floats.\n  int index = row * stride0 + col * stride1 + depth;\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",C="\nvec2 UVfrom4D(int texNumR, int texNumC, int stride0,\n    int stride1, int stride2, int row, int col, int depth,\n    int depth2) {\n  // Explicitly use integer operations as dot() only works on floats.\n  int index = row * stride0 + col * stride1 + depth * stride2 + depth2;\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",R="\nvec2 UVfrom5D(int texNumR, int texNumC, int stride0,\n    int stride1, int stride2, int stride3, int row, int col, int depth,\n    int depth2, int depth3) {\n  // Explicitly use integer operations as dot() only works on floats.\n  int index = row * stride0 + col * stride1 +\n              depth * stride2 + depth2 * stride3 + depth3;\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",M="\nvec2 UVfrom6D(int texNumR, int texNumC, int stride0,\n    int stride1, int stride2, int stride3, int stride4,\n    int row, int col, int depth, int depth2, int depth3, int depth4) {\n  // Explicitly use integer operations as dot() only works on floats.\n  int index = row * stride0 + col * stride1 + depth * stride2 + depth2 *\n    stride3 + depth3 * stride4 + depth4;\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",D="\n  float sampleTexture(sampler2D textureSampler, vec2 uv) {\n    return texture2D(textureSampler, uv).r;\n  }\n",V="\n  void setOutput(float val) {\n    gl_FragColor = vec4(val, 0, 0, 0);\n  }\n",L="\n  precision highp float;\n  precision highp int;\n  varying vec2 resultUV;\n  const vec2 halfCR = vec2(0.5, 0.5);\n\n  struct ivec5\n  {\n    int x;\n    int y;\n    int z;\n    int w;\n    int u;\n  };\n\n  struct ivec6\n  {\n    int x;\n    int y;\n    int z;\n    int w;\n    int u;\n    int v;\n  };\n\n  bool isNaN(float val) {\n    return (val < 0.0 || 0.0 < val || val == 0.0) ? false : true;\n  }\n\n  bool hasNaN(vec4 values) {\n    vec4 v1 = values * values;\n    vec4 v2 = values * values;\n    return any(notEqual(v1, v2));\n  }\n\n  float getNaN(vec4 values) {\n    return dot(vec4(1), values);\n  }\n\n  int round(float value) {\n    return int(floor(value + 0.5));\n  }\n\n  int imod(int x, int y) {\n    return x - y * (x / y);\n  }\n\n  //Based on the work of Dave Hoskins\n  //https://www.shadertoy.com/view/4djSRW\n  #define HASHSCALE1 443.8975\n  float random(float seed){\n    vec2 p = resultUV * seed;\n    vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);\n    p3 += dot(p3, p3.yzx + 19.19);\n    return fract((p3.x + p3.y) * p3.z);\n  }\n\n  "+A+"\n  "+O+"\n  "+I+"\n  "+C+"\n  "+R+"\n  "+M+"\n";r.getCoordsDataType=N},{"../../ops/broadcast_util":126,"../../util":181}],111:[function(e,t,r){"use strict";function n(e){if(1===e)return"sourceLoc";if(2===e)return"sourceLoc.x, sourceLoc.y";if(3===e)return"sourceLoc.x, sourceLoc.y, sourceLoc.z";if(4===e)return"sourceLoc.x, sourceLoc.y, sourceLoc.z, sourceLoc.w";throw Error("Slicing for rank "+e+" is not yet supported")}Object.defineProperty(r,"__esModule",{value:!0});var o=e("./shader_compiler"),a=function(){function e(e){this.variableNames=["source"],this.outputShape=e,this.rank=e.length;var t=o.getCoordsDataType(this.rank),r=n(this.rank);this.userCode="\n      uniform "+t+" start;\n\n      void main() {\n        "+t+" sourceLoc = start + getOutputCoords();\n        setOutput(getSource("+r+"));\n      }\n    "}return e.prototype.getCustomSetupFunc=function(e){var t=this;if(e.length!==this.rank)throw Error("The rank ("+this.rank+") of the program must match the "+("length of start ("+e.length+")"));return function(r,n){if(null!=t.startLoc||(t.startLoc=r.getUniformLocationNoThrow(n,"start"),null!=t.startLoc))if(1===t.rank)r.gl.uniform1i(t.startLoc,e[0]);else if(2===t.rank)r.gl.uniform2i(t.startLoc,e[0],e[1]);else if(3===t.rank)r.gl.uniform3i(t.startLoc,e[0],e[1],e[2]);else{if(4!==t.rank)throw Error("Slicing for rank "+t.rank+" is not yet supported");r.gl.uniform4i(t.startLoc,e[0],e[1],e[2],e[3])}}},e}();r.SliceProgram=a},{"./shader_compiler":110}],112:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("./shader_compiler"),o=function(){function e(e,t,r,o){this.variableNames=["x"];var a=r.filter(function(e,t){return o.indexOf(t)===-1});this.outputShape=a;var i=r.length,s=n.getCoordsDataType(r.length),u=n.getCoordsDataType(a.length),l="";if(1===i)l="coords * strides + begin";else{var p=0;l=r.map(function(e,t){return o.indexOf(t)===-1?(p++,1===a.length?"coords * strides["+t+"] + begin["+t+"]":"coords["+(p-1)+"] * strides["+t+"] + begin["+t+"]"):"begin["+t+"]"}).join(",")}this.userCode="\n      "+s+" begin = "+s+"("+e+");\n      "+s+" strides = "+s+"("+t+");\n\n      void main() {\n        "+u+" coords = getOutputCoords();\n        setOutput(getX("+l+"));\n      }\n    "}return e}();r.StridedSliceProgram=o},{"./shader_compiler":110}],113:[function(e,t,r){"use strict";function n(e,t){return[t,e]}function o(e,t){return e*t}function a(e,t){return[4*t,e]}function i(e,t){if(e%t!==0)throw new Error("unpackedSize ("+e+") must be a multiple of "+t);return e/t}function s(e,t,r){var n=o(e.length,r);if(t.length<n)throw new Error("unpackedArray length ("+t.length+") must be >= "+n);for(var a=0,i=0;i<e.length;++i)t[a]=e[i],a+=r}function u(e,t,r){var n=i(e.length,r);if(t.length<n)throw new Error("matrix length ("+t.length+") must be >= "+n);for(var o=0,a=0;a<e.length;a+=r)t[o++]=e[a]}function l(e,t,r){var n=e.length*r/4;if(t.length<n)throw new Error("matrix length ("+t.length+") must be >= "+n);for(var o=0,a=0;a<e.length;a+=4)for(var i=0;i<r;i++)t[o++]=e[a+i]}function p(e,t){return[Math.ceil(t/2),Math.ceil(e/2)]}function c(e,t){var r=p(e,t),n=r[0],o=r[1];return n*o*4}function f(e,t,r,n){var o=c(t,r);if(n.length<o)throw new Error("packedRGBA length ("+n.length+") must be >= "+o);for(var a=p(t,r),i=a[0],s=a[1],u=r%2===1,l=t%2===1,f=Math.floor(r/2),h=Math.floor(t/2),d=u?4:0,m=r,g=0,v=0;v<h;++v){for(var y=2*v*r,x=0;x<f;++x){var b=2*x,_=y+b;n[g]=e[_],n[g+1]=e[_+1],n[g+2]=e[_+m],n[g+3]=e[_+m+1],g+=4}g+=d}if(u)for(var _=r-1,g=4*(i-1),w=2*r,d=4*i,v=0;v<h;++v)n[g]=e[_],n[g+2]=e[_+r],_+=w,g+=d;if(l)for(var _=(t-1)*r,g=(s-1)*i*4,x=0;x<f;++x)n[g++]=e[_++],n[g++]=e[_++],g+=2;return u&&l&&(n[n.length-4]=e[e.length-1]),n}function h(e,t,r,n){var o=t*r;if(o<n.length)throw new Error("matrix length ("+n.length+") must be >= "+o);for(var a=r%2===1,i=t%2===1,s=Math.floor(r/2),u=Math.floor(t/2),l=p(t,r),c=l[0],f=l[1],h=a?4:0,d=r+(a?1:0),m=0,g=0,v=r,y=0;y<u;++y){for(var x=0;x<s;++x)n[g++]=e[m++],n[g++]=e[m++],n[v++]=e[m++],n[v++]=e[m++];m+=h,g+=d,v+=d}if(a)for(var m=4*(c-1),b=r-1,h=4*c,d=2*r,y=0;y<u;++y)n[b]=e[m],n[b+r]=e[m+2],m+=h,b+=d;if(i)for(var m=(f-1)*c*4,b=(t-1)*r,x=0;x<s;++x)n[b++]=e[m++],n[b++]=e[m++],m+=2;return a&&i&&(n[n.length-1]=e[e.length-4]),n}Object.defineProperty(r,"__esModule",{value:!0});var d;!function(e){e[e.RENDER=0]="RENDER",e[e.UPLOAD=1]="UPLOAD",e[e.PIXELS=2]="PIXELS",e[e.DOWNLOAD=3]="DOWNLOAD"}(d=r.TextureUsage||(r.TextureUsage={}));var m;!function(e){e[e.FLOAT16=0]="FLOAT16",e[e.FLOAT32=1]="FLOAT32",e[e.UNSIGNED_BYTE=2]="UNSIGNED_BYTE"}(m=r.PhysicalTextureType||(r.PhysicalTextureType={})),r.getUnpackedMatrixTextureShapeWidthHeight=n,r.getUnpackedArraySizeFromMatrixSize=o,r.getColorMatrixTextureShapeWidthHeight=a,r.getMatrixSizeFromUnpackedArraySize=i,r.encodeMatrixToUnpackedArray=s,r.decodeMatrixFromUnpackedArray=u,r.decodeMatrixFromUnpackedColorRGBAArray=l,r.getPackedMatrixTextureShapeWidthHeight=p,r.getPackedRGBAArraySizeFromMatrixShape=c,r.encodeMatrixToPackedRGBA=f,r.decodeMatrixFromPackedRGBA=h},{}],114:[function(e,t,r){"use strict";function n(e){if(e===i.TextureUsage.DOWNLOAD||e===i.TextureUsage.PIXELS)return i.PhysicalTextureType.UNSIGNED_BYTE;if(e===i.TextureUsage.UPLOAD)return i.PhysicalTextureType.FLOAT32;if(e===i.TextureUsage.RENDER)return a.ENV.get("WEBGL_RENDER_FLOAT32_ENABLED")?i.PhysicalTextureType.FLOAT32:i.PhysicalTextureType.FLOAT16;throw new Error("Unknown logical texture type "+e)}function o(e,t){return e[0]+"_"+e[1]+"_"+t}Object.defineProperty(r,"__esModule",{value:!0});var a=e("../../environment"),i=e("./tex_util"),s=function(){function e(e){this.gpgpu=e,this.numUsedTextures=0,this.numFreeTextures=0,this.freeTextures={},this.logEnabled=!1,this.usedTextures={}}return e.prototype.acquireTexture=function(e,t){var r=n(t),a=o(e,r);if(a in this.freeTextures||(this.freeTextures[a]=[]),a in this.usedTextures||(this.usedTextures[a]=[]),this.freeTextures[a].length>0){this.numFreeTextures--,this.numUsedTextures++,this.log();var s=this.freeTextures[a].shift();return this.usedTextures[a].push(s),s}this.numUsedTextures++,this.log();var u;return r===i.PhysicalTextureType.FLOAT32?u=this.gpgpu.createFloat32MatrixTexture(e[0],e[1]):r===i.PhysicalTextureType.FLOAT16?u=this.gpgpu.createFloat16MatrixTexture(e[0],e[1]):r===i.PhysicalTextureType.UNSIGNED_BYTE&&(u=this.gpgpu.createUnsignedBytesMatrixTexture(e[0],e[1])),this.usedTextures[a].push(u),u},e.prototype.releaseTexture=function(e,t,r){var a=n(r),i=o(t,a);i in this.freeTextures||(this.freeTextures[i]=[]),this.freeTextures[i].push(e),this.numFreeTextures++,this.numUsedTextures--;var s=this.usedTextures[i],u=s.indexOf(e);if(u<0)throw new Error("Cannot release a texture that was never provided by this texture manager");s.splice(u,1),this.log()},e.prototype.log=function(){if(this.logEnabled){var e=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used",this.numFreeTextures+" / "+this.numUsedTextures,"("+e+")")}},e.prototype.getNumUsedTextures=function(){return this.numUsedTextures},e.prototype.getNumFreeTextures=function(){return this.numFreeTextures},e.prototype.dispose=function(){var e=this;if(null!=this.freeTextures){for(var t in this.freeTextures)this.freeTextures[t].forEach(function(t){e.gpgpu.deleteMatrixTexture(t)});for(var t in this.usedTextures)this.usedTextures[t].forEach(function(t){e.gpgpu.deleteMatrixTexture(t)});this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0}},e}();r.TextureManager=s},{"../../environment":51,"./tex_util":113}],115:[function(e,t,r){"use strict";function n(e){var t=e.length;if(t>5)throw Error("Tile for rank "+t+" is not yet supported");if(1===t)return"imod(resRC, "+e[0]+")";for(var r=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],n=[],o=0;o<e.length;o++)n.push("imod("+r[o]+", "+e[o]+")");return n.join()}Object.defineProperty(r,"__esModule",{value:!0});var o=e("./shader_compiler"),a=function(){function e(e,t){this.variableNames=["A"];for(var r=new Array(e.length),a=0;a<r.length;a++)r[a]=e[a]*t[a];this.outputShape=r,this.rank=r.length;var i=o.getCoordsDataType(this.rank),s=n(e);this.userCode="\n      void main() {\n        "+i+" resRC = getOutputCoords();\n        setOutput(getA("+s+"));\n      }\n    "}return e}();r.TileProgram=a},{"./shader_compiler":110}],116:[function(e,t,r){"use strict";function n(e){var t=e.length;if(t>6)throw Error("Transpose for rank "+t+" is not yet supported");for(var r=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],n=new Array(t),o=0;o<e.length;o++)n[e[o]]=r[o];return n.join()}Object.defineProperty(r,"__esModule",{value:!0});var o=e("./shader_compiler"),a=function(){function e(e,t){this.variableNames=["A"];for(var r=new Array(e.length),a=0;a<r.length;a++)r[a]=e[t[a]];this.outputShape=r,this.rank=r.length;var i=o.getCoordsDataType(this.rank),s=n(t);this.userCode="\n    void main() {\n      "+i+" resRC = getOutputCoords();\n      setOutput(getA("+s+"));\n    }\n    "}return e}();r.TransposeProgram=a},{"./shader_compiler":110}],117:[function(e,t,r){"use strict";function n(e){return void 0===e&&(e=0),s+("\n    return x > 0.0 ? 1.0 : float("+e+");\n  ")}Object.defineProperty(r,"__esModule",{value:!0});var o=e("../../ops/erf_util"),a=e("../../ops/selu_util"),i=function(){function e(e,t){this.variableNames=["A"],this.outputShape=e,this.userCode="\n      uniform float NAN;\n      float unaryOperation(float x) {\n        "+t+"\n      }\n\n      void main() {\n        float x = getAAtOutCoords();\n        float y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    "}return e.prototype.getCustomSetupFunc=function(){var e=this;return function(t,r){null==e.startLoc&&(e.startLoc=t.getUniformLocationNoThrow(r,"NAN"),null==e.startLoc)||t.gl.uniform1f(e.startLoc,NaN)}},e}();r.UnaryOpProgram=i;var s="if (isNaN(x)) return x;";r.ABS="return abs(x);",r.RELU=s+"\n  return (x < 0.0) ? 0.0 : x;\n",r.ELU="return (x >= 0.0) ? x : (exp(x) - 1.0);",r.SELU="\n  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.\n  // see: https://arxiv.org/abs/1706.02515\n  float scaleAlpha = "+a.SELU_SCALEALPHA+";\n  float scale = "+a.SELU_SCALE+";\n  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);\n",r.STEP=n,r.NEG="return -x;",r.CEIL="return ceil(x);",r.FLOOR="return floor(x);",r.SIGN="\n  if (isNaN(x)) { return 0.0; }\n  return sign(x);\n",r.ROUND="\n  // OpenGL ES does not support round function.\n  // The algorithm is based on banker's rounding.\n  float base = floor(x);\n  if ((x - base) < 0.5) {\n    return floor(x);\n  } else if ((x - base) > 0.5) {\n    return ceil(x);\n  } else {\n    if (mod(base, 2.0) == 0.0) {\n      return base;\n    } else {\n      return base + 1.0;\n    }\n  }\n",r.EXP="return exp(x);",r.EXPM1="return exp(x) - 1.0;",r.LOG="if (x < 0.0) return NAN;\n  return log(x);",r.LOG1P="return log(1.0 + x);",r.SQRT="return sqrt(x);",r.RSQRT="return inversesqrt(x);",r.SIGMOID="return 1.0 / (1.0 + exp(-1.0 * x));",r.SOFTPLUS="\n  float epsilon = 1.1920928955078125e-7;\n  float threshold = log(epsilon) + 2.0;\n\n  bool too_large = x > -threshold;\n  bool too_small = x < threshold;\n\n  float result;\n  float exp_x = exp(x);\n\n  if (too_large){\n    result = x;\n  }\n  else if (too_small){\n    result = exp_x;\n  }\n  else{\n    result = log(exp_x + 1.0);\n  }\n  return result;\n",r.SIN=s+"\n  return sin(x);\n",r.COS=s+"\n  return cos(x);\n",r.TAN="return tan(x);",r.ASIN="return asin(x);",r.ACOS="return acos(x);",r.ATAN=s+"\n  return atan(x);\n",r.SINH="\n  float e2x = exp(x);\n  return (e2x - 1.0 / e2x) / 2.0;\n",r.COSH="\n  float e2x = exp(-x);\n  return (e2x + 1.0 / e2x) / 2.0;\n",r.TANH="\n  float e2x = exp(-2.0 * abs(x));\n  return sign(x) * (1.0 - e2x) / (1.0 + e2x);\n",r.ASINH="return log(x + sqrt(x * x + 1.0));",r.ACOSH=s+"\n  if (x < 1.0) return NAN;\n  return log(x + sqrt(x * x - 1.0));",r.ATANH=s+"\n  if ((x < -1.0) || (x > 1.0)) return NAN;\n  return (log(1.0 + x) - log(1.0 - x)) / 2.0;",r.ERF='\n  // Error function is calculated approximately with elementary function.\n  // See "Handbook of Mathematical Functions with Formulas,\n  // Graphs, and Mathematical Tables", Abramowitz and Stegun.\n  float p = '+o.ERF_P+";\n  float a1 = "+o.ERF_A1+";\n  float a2 = "+o.ERF_A2+";\n  float a3 = "+o.ERF_A3+";\n  float a4 = "+o.ERF_A4+";\n  float a5 = "+o.ERF_A5+";\n\n  float t = 1.0 / (1.0 + p * x);\n  return 1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x);\n",r.SQUARE="return x * x;",r.RECIPROCAL="return 1.0 / x;",r.LOGICAL_NOT="return float(!(x >= 1.0));",r.TO_INT="return float(int(x));"},{"../../ops/erf_util":133,"../../ops/selu_util":153}],118:[function(e,t,r){"use strict";function n(e){var t=document.createElement("canvas");return t.width=1,t.height=1,o(t,e)}function o(e,t){var r,n=B.ENV.get("WEBGL_VERSION");if(2===n?r=e.getContext("webgl2",t):1===n&&(r=e.getContext("webgl",t)||e.getContext("experimental-webgl",t)),0===n||null==r)throw new Error("This browser does not support WebGL.");return r}function a(e,t){var r=t();return s(e),r}function i(e){z=e}function s(e){if(z){var t=e.getError();if(t!==e.NO_ERROR)throw new Error("WebGL Error: "+u(e,t))}}function u(e,t){switch(t){case e.NO_ERROR:return"NO_ERROR";case e.INVALID_ENUM:return"INVALID_ENUM";case e.INVALID_VALUE:return"INVALID_VALUE";case e.INVALID_OPERATION:return"INVALID_OPERATION";case e.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case e.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case e.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return"Unknown error code "+t}}function l(e,t){return M(e,function(){return e.getExtension(t)},'Extension "'+t+'" not supported on this browser.')}function p(e,t){var r=M(e,function(){return e.createShader(e.VERTEX_SHADER)},"Unable to create vertex WebGLShader.");if(a(e,function(){return e.shaderSource(r,t)}),a(e,function(){return e.compileShader(r)}),e.getShaderParameter(r,e.COMPILE_STATUS)===!1)throw console.log(e.getShaderInfoLog(r)),new Error("Failed to compile vertex shader.");return r}function c(e,t){var r=M(e,function(){return e.createShader(e.FRAGMENT_SHADER)},"Unable to create fragment WebGLShader.");if(a(e,function(){return e.shaderSource(r,t)}),a(e,function(){return e.compileShader(r)}),e.getShaderParameter(r,e.COMPILE_STATUS)===!1)throw f(t,e.getShaderInfoLog(r)),new Error("Failed to compile fragment shader.");return r}function f(e,t){var r=j.exec(t);if(null==r)return console.log("Couldn't parse line number in error: "+t),void console.log(e);for(var n=+r[1],o=e.split("\n"),a=o.length.toString().length+2,i=o.map(function(e,t){return F.rightPad((t+1).toString(),a)+e}),s=0,u=0;u<i.length;u++)s=Math.max(i[u].length,s);var l=i.slice(0,n-1),p=i.slice(n-1,n),c=i.slice(n);console.log(l.join("\n")),console.log(t.split("\n")[0]),console.log("%c "+F.rightPad(p[0],s),"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(c.join("\n"))}function h(e){return M(e,function(){return e.createProgram()},"Unable to create WebGLProgram.")}function d(e,t){if(a(e,function(){return e.linkProgram(t)}),e.getProgramParameter(t,e.LINK_STATUS)===!1)throw console.log(e.getProgramInfoLog(t)),new Error("Failed to link vertex and fragment shaders.")}function m(e,t){if(a(e,function(){return e.validateProgram(t)}),e.getProgramParameter(t,e.VALIDATE_STATUS)===!1)throw console.log(e.getProgramInfoLog(t)),new Error("Shader program validation failed.")}function g(e,t){var r=M(e,function(){return e.createBuffer()},"Unable to create WebGLBuffer");return a(e,function(){return e.bindBuffer(e.ARRAY_BUFFER,r)}),a(e,function(){return e.bufferData(e.ARRAY_BUFFER,t,e.STATIC_DRAW)}),r}function v(e,t){var r=M(e,function(){return e.createBuffer()},"Unable to create WebGLBuffer");return a(e,function(){return e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,r)}),a(e,function(){return e.bufferData(e.ELEMENT_ARRAY_BUFFER,t,e.STATIC_DRAW)}),r}function y(e){return null!=L?L:L=a(e,function(){return e.getParameter(e.MAX_TEXTURE_SIZE)})}function x(){return 2===B.ENV.get("WEBGL_VERSION")?1:4}function b(e){return M(e,function(){return e.createTexture()},"Unable to create WebGLTexture.")}function _(e,t,r){var n=y(e);if(t<=0||r<=0){var o="["+t+"x"+r+"]";throw new Error("Requested texture size "+o+" is invalid.")}if(t>n||r>n){var o="["+t+"x"+r+"]",a="["+n+"x"+n+"]";throw new Error("Requested texture size "+o+" greater than WebGL maximum on this browser / GPU "+a+".")}}function w(e){return M(e,function(){return e.createFramebuffer()},"Unable to create WebGLFramebuffer.")}function T(e,t,r,n,o,i,s){var u=e.getAttribLocation(t,r);return u!==-1&&(a(e,function(){return e.bindBuffer(e.ARRAY_BUFFER,n)}),a(e,function(){return e.vertexAttribPointer(u,o,e.FLOAT,!1,i,s)}),a(e,function(){return e.enableVertexAttribArray(u)}),!0)}function N(e,t,r){D(e,r),a(e,function(){return e.activeTexture(e.TEXTURE0+r)}),a(e,function(){return e.bindTexture(e.TEXTURE_2D,t)})}function P(e,t){D(e,t),a(e,function(){return e.activeTexture(e.TEXTURE0+t)}),a(e,function(){return e.bindTexture(e.TEXTURE_2D,null)})}function S(e,t,r){return M(e,function(){return e.getUniformLocation(t,r)},'uniform "'+r+'" not present in program.')}function E(e,t,r){return e.getUniformLocation(t,r)}function k(e,t,r,n,o){a(e,function(){return N(e,r,o)}),a(e,function(){return e.uniform1i(n,o)})}function A(e){a(e,function(){return e.bindFramebuffer(e.FRAMEBUFFER,null)}),a(e,function(){return e.viewport(0,0,e.canvas.width,e.canvas.height)}),a(e,function(){return e.scissor(0,0,e.canvas.width,e.canvas.height)})}function O(e,t,r){a(e,function(){return e.bindFramebuffer(e.FRAMEBUFFER,r)}),a(e,function(){return e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0)})}function I(e,t){a(e,function(){return e.bindFramebuffer(e.FRAMEBUFFER,t)}),a(e,function(){return e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,null,0)})}function C(e){var t=e.checkFramebufferStatus(e.FRAMEBUFFER);if(t!==e.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+R(e,t))}function R(e,t){switch(t){case e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case e.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return"unknown error "+t}}function M(e,t,r){var n=a(e,function(){return t()});if(null==n)throw new Error(r);return n}function D(e,t){var r=e.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,n=t+e.TEXTURE0;if(n<e.TEXTURE0||n>r){var o="[gl.TEXTURE0, gl.TEXTURE"+r+"]";throw new Error("textureUnit must be in "+o+".")}}function V(e,t){if(2!==t.length){var r=F.squeezeShape(t);t=r.newShape}var n=y(e),o=F.sizeFromShape(t);return t.length<=1&&o<=n?[o,1]:2===t.length&&t[0]<=n&&t[1]<=n?t:3===t.length&&t[0]<=n&&t[1]*t[2]<=n?[t[0],t[1]*t[2]]:4===t.length&&t[0]<=n&&t[1]*t[2]*t[3]<=n?[t[0],t[1]*t[2]*t[3]]:F.sizeToSquarishShape(o);
}Object.defineProperty(r,"__esModule",{value:!0});var L=null,F=e("../../util"),B=e("../../environment");r.createWebGLRenderingContext=n,r.createWebGLRenderingContextFromCanvas=o,r.callAndCheck=a;var z=!1;r.enableDebugWebGLErrorChecking=i,r.checkWebGLError=s,r.getWebGLErrorMessage=u,r.getExtensionOrThrow=l,r.createVertexShader=p,r.createFragmentShader=c;var j=/ERROR: [0-9]+:([0-9]+):/g;r.createProgram=h,r.linkProgram=d,r.validateProgram=m,r.createStaticVertexBuffer=g,r.createStaticIndexBuffer=v,r.queryMaxTextureSize=y,r.getNumChannels=x,r.createTexture=b,r.validateTextureSize=_,r.createFramebuffer=w,r.bindVertexBufferToProgramAttribute=T,r.bindTextureUnit=N,r.unbindTextureUnit=P,r.getProgramUniformLocationOrThrow=S,r.getProgramUniformLocation=E,r.bindTextureToProgramUniformSampler=k,r.bindCanvasToFramebuffer=A,r.bindColorTextureToFramebuffer=O,r.unbindColorTextureFromFramebuffer=I,r.validateFramebuffer=C,r.getFramebufferErrorMessage=R,r.getTextureShapeFromLogicalShape=V},{"../../environment":51,"../../util":181}],119:[function(e,t,r){"use strict";function n(e,t){for(var r=[],n=0;n<t.length;n++)t[n]&&r.push(n);for(var a=o.buffer(e,"int32"),i=o.buffer([r.length,e.length],"int32"),n=0;n<r.length;n++){var s=a.indexToLoc(r[n]),u=n*e.length;i.values.set(s,u)}return i.toTensor()}Object.defineProperty(r,"__esModule",{value:!0});var o=e("../ops/array_ops");r.whereImpl=n},{"../ops/array_ops":121}],120:[function(e,t,r){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];a.ENV.get("IS_TEST")||console.warn.apply(console,e)}function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];a.ENV.get("IS_TEST")||console.log.apply(console,e)}Object.defineProperty(r,"__esModule",{value:!0});var a=e("./environment");r.warn=n,r.log=o},{"./environment":51}],121:[function(e,t,r){"use strict";function n(e){var t=D.convertToTensor(e,"x","clone"),r=function(e){return{$x:function(){return e.toFloat()}}};return R.ENV.engine.runKernel(function(e){return M.Tensor.make(t.shape,{dataId:t.dataId},t.dtype)},{$x:t},r)}function o(e,t,n,o){void 0===o&&(o="float32"),null==t&&(t=e);for(var a=A([e,t],o),i=e<=t?e:t,s=0;s<i;++s)a.set(1,s,s);var u=a.toTensor().as2D(e,t);if(null==n)return u;if(1===n.length)return r.tile(r.expandDims(u,0),[n[0],1,1]);if(2===n.length)return r.tile(r.expandDims(r.expandDims(u,0),0),[n[0],n[1],1,1]);if(3===n.length)return r.tile(r.expandDims(r.expandDims(r.expandDims(u,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error("eye() currently supports only 1D and 2D "+("batchShapes, but received "+n.length+"D."))}function a(e,t,r,n,o){if(void 0===t&&(t=0),void 0===r&&(r=1),null!=n&&"bool"===n)throw new Error("Unsupported data type "+n);for(var a=new z.MPRandGauss(t,r,n,!1,o),i=A(e,n),s=0;s<i.values.length;s++)i.values[s]=a.nextValue();return i.toTensor()}function i(e,t,r,n,o){if(void 0===t&&(t=0),void 0===r&&(r=1),null!=n&&"bool"===n)throw new Error("Unsupported data type "+n);for(var a=new z.MPRandGauss(t,r,n,!0,o),i=A(e,n),s=0;s<i.values.length;s++)i.values[s]=a.nextValue();return i.toTensor()}function s(e,t,r,n){void 0===t&&(t=0),void 0===r&&(r=1),void 0===n&&(n="float32");for(var o=A(e,n),a=0;a<o.values.length;a++)o.values[a]=V.randUniform(t,r);return o.toTensor()}function u(e,t,r){var n=V.sizeFromShape(e),o=null;if(null==r||"float32"===r)o=new Float32Array(n);else if("int32"===r)o=new Int32Array(n);else{if("bool"!==r)throw new Error("Unknown data type "+r);o=new Uint8Array(n)}for(var a=0;a<n;a++)o[a]=t();return M.Tensor.make(e,{values:o},r)}function l(e,t,r,n){void 0===n&&(n=!1);var o=D.convertToTensor(e,"logits","multinomial"),a=o.size,i=o.rank;if(a<2)throw new Error("Error in multinomial: you need at least 2 outcomes, but got "+(a+"."));if(i>2)throw new Error("Rank of probabilities must be 1 or 2, but is "+i);r=r||Math.random();var s=1===i?o.as2D(1,-1):o,u=R.ENV.engine.runKernel(function(e){return e.multinomial(s,n,t,r)},{logits2D:s});return 1===i?u.as1D():u}function p(e,t,r,n){void 0===r&&(r=1),void 0===n&&(n=0);var o=D.convertToTensor(e,"indices","oneHot","int32");if(V.assert("int32"===o.dtype,"Indices must be of dtype `int32`"),t<2)throw new Error("Error in oneHot: depth must be >=2, but it is "+t);var a=function(e){return{$indices:function(){return j.zerosLike(o)}}};return R.ENV.engine.runKernel(function(e){return e.oneHot(o,t,r,n)},{$indices:o},a)}function c(e,t){if(void 0===t&&(t=3),t>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");return R.ENV.engine.fromPixels(e,t)}function f(e,t){return I(this,void 0,void 0,function(){var r,n,o,a,i,s,u,l,p,c,f,h,d,m,g,v,y,x,b,_;return C(this,function(w){switch(w.label){case 0:if(r=D.convertToTensor(e,"img","toPixels","int32"),2!==r.rank&&3!==r.rank)throw new Error("toPixels only supports rank 2 or 3 tensors, got rank "+r.rank+".");if(n=r.shape.slice(0,2),o=n[0],a=n[1],i=2===r.rank?1:r.shape[2],i>4||2===i)throw new Error("toPixels only supports depth of size 1, 3 or 4 but got "+i);return s=r.min(),u=r.max(),[4,s.data()];case 1:return l=w.sent()[0],[4,u.data()];case 2:if(p=w.sent()[0],s.dispose(),u.dispose(),"float32"===r.dtype){if(l<0||p>1)throw new Error("Tensor values for a float32 Tensor must be in the "+("range [0 - 1] but got range ["+l+" - "+p+"]."))}else{if("int32"!==r.dtype)throw new Error("Unsupported type for toPixels: "+r.dtype+". Please use float32 or int32 tensors.");if(l<0||p>255)throw new Error("Tensor values for a int32 Tensor must be in the "+("range [0 - 255] but got range ["+l+" - "+p+"]."))}return[4,r.data()];case 3:for(c=w.sent(),f="float32"===r.dtype?255:1,h=new Uint8ClampedArray(a*o*4),d=0;d<o*a;++d)m=void 0,g=void 0,v=void 0,y=void 0,1===i?(m=c[d]*f,g=c[d]*f,v=c[d]*f,y=255):3===i?(m=c[3*d]*f,g=c[3*d+1]*f,v=c[3*d+2]*f,y=255):4===i&&(m=c[4*d]*f,g=c[4*d+1]*f,v=c[4*d+2]*f,y=c[4*d+3]*f),x=4*d,h[x+0]=Math.round(m),h[x+1]=Math.round(g),h[x+2]=Math.round(v),h[x+3]=Math.round(y);return null!=t&&(t.width=a,t.height=o,b=t.getContext("2d"),_=new ImageData(h,a,o),b.putImageData(_,0,0)),r!==e&&r.dispose(),[2,h]}})})}function h(e,t){var r=D.convertToTensor(e,"x","reshape");t=V.inferFromImplicitShape(t,r.size),V.assert(r.size===V.sizeFromShape(t),"new shape and old shape must have the same number of elements.");var n=function(e){return{$x:function(){return e.reshape(r.shape)}}};return R.ENV.engine.runKernel(function(e){return e.reshape(r,t)},{$x:r},n)}function d(e,t){var n=D.convertToTensor(e,"x","squeeze");return r.reshape(n,V.squeezeShape(n.shape,t).newShape)}function m(e,t){var r=D.convertToTensor(e,"x","cast"),n=function(e){return{$x:function(){return e.clone()}}};return R.ENV.engine.runKernel(function(e){return e.cast(r,t)},{$x:r},n)}function g(e,t){var r=D.convertToTensor(e,"x","tile");V.assert(r.rank===t.length,"Error in transpose: rank of input "+r.rank+" "+("must match length of reps "+t+"."));var n=function(e){var n=function(){var n=j.zerosLike(r);if(1===r.rank)for(var o=0;o<t[0];++o)n=n.add(e.slice([o*r.shape[0]],[r.shape[0]]));else if(2===r.rank)for(var o=0;o<t[0];++o)for(var a=0;a<t[1];++a)n=n.add(e.slice([o*r.shape[0],a*r.shape[1]],[r.shape[0],r.shape[1]]));else if(3===r.rank)for(var o=0;o<t[0];++o)for(var a=0;a<t[1];++a)for(var i=0;i<t[2];++i)n=n.add(e.slice([o*r.shape[0],a*r.shape[1],i*r.shape[2]],[r.shape[0],r.shape[1],r.shape[2]]));else{if(4!==r.rank)throw new Error("Gradient for tile operation is not implemented for rank-"+(r.rank+" tensors yet."));for(var o=0;o<t[0];++o)for(var a=0;a<t[1];++a)for(var i=0;i<t[2];++i)for(var s=0;s<t[3];++s)n=n.add(e.slice([o*r.shape[0],a*r.shape[1],i*r.shape[2],s*r.shape[3]],[r.shape[0],r.shape[1],r.shape[2],r.shape[3]]))}return n};return{$x:n}};return R.ENV.engine.runKernel(function(e){return e.tile(r,t)},{$x:r},n)}function v(e,t,n){return void 0===n&&(n=0),V.assert(2===t.length,"Invalid number of paddings. Must be length of 2."),r.pad(e,[t],n)}function y(e,t,n){return void 0===n&&(n=0),V.assert(2===t.length&&2===t[0].length&&2===t[1].length,"Invalid number of paddings. Must be length of 2 each."),r.pad(e,t,n)}function x(e,t,n){return void 0===n&&(n=0),V.assert(3===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length,"Invalid number of paddings. Must be length of 2 each."),r.pad(e,t,n)}function b(e,t,n){return void 0===n&&(n=0),V.assert(4===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length&&2===t[3].length,"Invalid number of paddings. Must be length of 2 each."),r.pad(e,t,n)}function _(e,t,r){void 0===r&&(r=0);var n=D.convertToTensor(e,"x","pad");if(0===n.rank)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");var o=t.map(function(e){return e[0]}),a=function(e){return{$x:function(){return e.slice(o,n.shape)}}};return R.ENV.engine.runKernel(function(e){return e.pad(n,t,r)},{$x:n},a)}function w(e,t){void 0===t&&(t=0);var r=D.convertToTensorArray(e,"tensors","stack");if(V.assert(r.length>=1,"Pass at least one tensor to tf.stack"),1===r.length)return r[0].expandDims(t);var n=r[0].rank,o=r[0].shape,a=r[0].dtype;V.assert(t<=n,"Axis must be <= rank of the tensor"),r.forEach(function(e){V.assertShapesMatch(o,e.shape,"All tensors passed to stack must have matching shapes")}),r.forEach(function(e){V.assert(a===e.dtype,"All tensors passed to stack must have matching dtypes")});var i=r.map(function(e){return e.expandDims(t)});return F.concat(i,t)}function T(e,t,r){var n=D.convertToTensor(e,"x","batchToSpaceND"),o=t.reduce(function(e,t){return e*t});V.assert(n.rank>=1+t.length,"input rank should be > than [blockShape] but got "+n.rank),V.assert(r.length===t.length,"crops.shape[0] must be equal to [blockShape] but got "+r.length),V.assert(n.shape[0]%o===0,"input tensor batch must be divisible by prod( blockShape )");var a=function(e){return{$x:function(){return e.spaceToBatchND(t,r)}}};return R.ENV.engine.runKernel(function(e){return e.batchToSpaceND(n,t,r)},{$x:n},a)}function N(e,t,r){var n=D.convertToTensor(e,"x","spaceToBatchND");V.assert(n.rank>=1+t.length,"input rank "+n.rank+" should be > than [blockShape] "+t.length),V.assert(r.length===t.length,"paddings.shape[0] "+r.length+" must be equal to [blockShape] "+t.length),V.assert(n.shape.reduce(function(e,n,o){return o>0&&o<=t.length?e&&(n+r[o-1][0]+r[o-1][1])%t[o-1]===0:e},!0),"input spatial dimensions "+n.shape.slice(1)+" with paddings "+r.toString()+" must be divisible by blockShapes "+t.toString());var o=function(e){return{$x:function(){return e.batchToSpaceND(t,r)}}};return R.ENV.engine.runKernel(function(e){return e.spaceToBatchND(n,t,r)},{$x:n},o)}function P(e,t){void 0===t&&(t=0);for(var r=D.convertToTensor(e,"x","unstack"),n=r.shape[t],o=Array(r.rank-1).fill(0),a=0,i=0;i<r.rank;i++)i!==t&&(o[a]=r.shape[i],a++);var s;s=Array(n).fill(1);var u=Array(r.rank).fill(0),l=r.shape.slice();return s.map(function(e){l[t]=e;var n=r.slice(u,l);return u[t]+=e,n.reshape(o)})}function S(e,t,r,n){void 0===t&&(t=0),void 0===r&&(r=!1),void 0===n&&(n=!1);var o=D.convertToTensor(e,"x","cumsum");t|=0;var a=L.getAxesPermutation([t],o.rank),i=o;null!=a&&(i=o.transpose(a));var s=L.getInnerMostAxes(1,o.rank)[0],u=function(e){return{permutedX:function(){return e.cumsum(t,r,!n)}}},l=R.ENV.engine.runKernel(function(e){return e.cumsum(i,s,r,n)},{permutedX:i},u);return null!=a&&(l=l.transpose(a)),l}function E(e,t){void 0===t&&(t=0);var n=D.convertToTensor(e,"x","expandDims");V.assert(t<=n.rank,"Axis must be <= rank of the tensor");var o=n.shape.slice();return t<0&&(V.assert(-(n.rank+1)<=t,"Axis must be in the interval ["+-(n.rank+1)+", "+n.rank+"]"),t=n.rank+t+1),o.splice(t,0,1),r.reshape(n,o)}function k(e,t,r){void 0===r&&(r="NHWC");var n=D.convertToTensor(e,"x","depthToSpace"),o="NHWC"===r?n.shape[1]:n.shape[2],a="NHWC"===r?n.shape[2]:n.shape[3],i="NHWC"===r?n.shape[3]:n.shape[1];return V.assert(o*t>=0,"Negative dimension size caused by overflow when multiplying\n      "+o+" and "+t+"  for depthToSpace with input shape\n      "+n.shape),V.assert(a*t>=0,"Negative dimension size caused by overflow when multiplying\n      "+a+" and "+t+" for depthToSpace with input shape\n          "+n.shape),V.assert(i%(t*t)===0,"Dimension size must be evenly divisible by "+t*t+" but is "+i+" for depthToSpace with input shape "+n.shape),R.ENV.engine.runKernel(function(e){return e.depthToSpace(n,t,r)},{$x:n})}function A(e,t,r){return void 0===t&&(t="float32"),new M.TensorBuffer(e,t,r)}function O(e,t){void 0===t&&(t=!1),console.log(e.toString(t))}var I=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{u(n.next(e))}catch(e){a(e)}}function s(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,s)}u((n=n.apply(e,t||[])).next())})},C=this&&this.__generator||function(e,t){function r(e){return function(t){return n([e,t])}}function n(r){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,a&&(i=2&r[0]?a.return:r[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,r[1])).done)return i;switch(a=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return u.label++,{value:r[1],done:!1};case 5:u.label++,a=r[1],r=[0];continue;case 7:r=u.ops.pop(),u.trys.pop();continue;default:if(i=u.trys,!(i=i.length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){u=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){u.label=r[1];break}if(6===r[0]&&u.label<i[1]){u.label=i[1],i=r;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(r);break}i[2]&&u.ops.pop(),u.trys.pop();continue}r=t.call(e,u)}catch(e){r=[6,e],a=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var o,a,i,s,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(r,"__esModule",{value:!0});var R=e("../environment"),M=e("../tensor"),D=e("../tensor_util_env"),V=e("../util"),L=e("./axis_util"),F=e("./concat_split"),B=e("./operation"),z=e("./rand"),j=e("./tensor_ops");r.toPixels=f,r.buffer=A,r.print=O,r.batchToSpaceND=B.op({batchToSpaceND_:T}),r.cast=B.op({cast_:m}),r.clone=B.op({clone_:n}),r.cumsum=B.op({cumsum_:S}),r.depthToSpace=B.op({depthToSpace_:k}),r.expandDims=B.op({expandDims_:E}),r.eye=B.op({eye_:o}),r.fromPixels=B.op({fromPixels_:c}),r.multinomial=B.op({multinomial_:l}),r.oneHot=B.op({oneHot_:p}),r.pad=B.op({pad_:_}),r.pad1d=B.op({pad1d_:v}),r.pad2d=B.op({pad2d_:y}),r.pad3d=B.op({pad3d_:x}),r.pad4d=B.op({pad4d_:b}),r.rand=B.op({rand_:u}),r.randomNormal=B.op({randomNormal_:a}),r.randomUniform=B.op({randomUniform_:s}),r.reshape=B.op({reshape_:h}),r.spaceToBatchND=B.op({spaceToBatchND_:N}),r.squeeze=B.op({squeeze_:d}),r.stack=B.op({stack_:w}),r.tile=B.op({tile_:g}),r.truncatedNormal=B.op({truncatedNormal_:i}),r.unstack=B.op({unstack_:P})},{"../environment":51,"../tensor":174,"../tensor_util_env":177,"../util":181,"./axis_util":123,"./concat_split":129,"./operation":143,"./rand":146,"./tensor_ops":158}],122:[function(e,t,r){"use strict";function n(e,t,r,n){void 0===n&&(n=!0);var o=[];if(n)o=o.concat(t.slice(0)),o.push(e[0]/r),o=o.concat(e.slice(1));else{o=o.concat(e[0]);for(var a=t.length,i=0;i<a;++i)o=o.concat([e[i+1]/t[i],t[i]]);o=o.concat(e.slice(a+1))}return o}function o(e,t,r){void 0===r&&(r=!0);var n=[];if(r){n.push(t);for(var o=t+1;o<e;++o)o<=2*t?(n.push(o),n.push(o-(t+1))):n.push(o)}else{for(var a=[],i=[],o=1;o<e;++o)o>=2*t+1||o%2===1?i.push(o):a.push(o);n.push.apply(n,a),n.push(0),n.push.apply(n,i)}return n}function a(e,t,r,n){void 0===n&&(n=!0);var o=[];n?o.push(e[0]/r):o.push(e[0]*r);for(var a=1;a<e.length;++a)a<=t.length?n?o.push(t[a-1]*e[a]):o.push(e[a]/t[a-1]):o.push(e[a]);return o}function i(e,t){for(var r=[0],n=0;n<t;++n)r.push(e[n][0]);return r}function s(e,t,r){for(var n=e.slice(0,1),o=0;o<r;++o)n.push(e[o+1]-t[o][0]-t[o][1]);return n}Object.defineProperty(r,"__esModule",{value:!0}),r.getReshaped=n,r.getPermuted=o,r.getReshapedPermuted=a,r.getSliceBeginCoords=i,r.getSliceSize=s},{}],123:[function(e,t,r){"use strict";function n(e,t){for(var r=0;r<e.length;++r)if(e[e.length-r-1]!==t-1-r)return!1;return!0}function o(e,t,r){for(var n=e.length+t.length,o=[],a=0,i=0,s=0;s<n;s++)r.indexOf(s)===-1?o.push(e[a++]):o.push(t[i++]);return o}function a(e,t){for(var r=[],n=e.length,o=0;o<n;o++)t.indexOf(o)===-1&&r.push(e[o]);var a=t.map(function(t){return e[t]});return[r,a]}function i(e,t){var r=t.map(function(e){return 1});return o(e,r,t)}function s(e,t){var r=t.length;return e=null==e?t.map(function(e,t){return t}):[].concat(e),f.assert(e.every(function(e){return e>=-r&&e<r}),"All values in axis param must be in range [-"+r+", "+r+") but got axis "+e),f.assert(e.every(function(e){return f.isInt(e)}),"All values in axis param must be integers but got axis "+e),e.map(function(e){return e<0?r+e:e})}function u(e,t,r){f.assert(n(t,r),e+" supports only inner-most axes for now. "+("Got axes "+t+" and rank-"+r+" input."))}function l(e,t){if(n(e,t))return null;for(var r=[],o=0;o<t;++o)e.indexOf(o)===-1&&r.push(o);return e.forEach(function(e){return r.push(e)}),r}function p(e){return e.map(function(e,t){return[t,e]}).sort(function(e,t){return e[1]-t[1]}).map(function(e){return e[0]})}function c(e,t){for(var r=[],n=t-e;n<t;++n)r.push(n);return r}Object.defineProperty(r,"__esModule",{value:!0});var f=e("../util");r.axesAreInnerMostDims=n,r.combineLocations=o,r.computeOutAndReduceShapes=a,r.expandShapeToKeepDim=i,r.parseAxisParam=s,r.assertAxesAreInnerMostDims=u,r.getAxesPermutation=l,r.getUndoAxesPermutation=p,r.getInnerMostAxes=c},{"../util":181}],124:[function(e,t,r){"use strict";function n(e,t,n,o,a,i){void 0===o&&(o=.001);var s,u=l.convertToTensor(e,"x","batchNormalization"),c=l.convertToTensor(t,"mean","batchNormalization"),f=l.convertToTensor(n,"variance","batchNormalization");null!=a&&(s=l.convertToTensor(a,"scale","batchNormalization"));var h;return null!=i&&(h=l.convertToTensor(i,"offset","batchNormalization")),p.assert(2===u.rank,"Error in batchNormalization3D: x must be rank 3 but got rank "+(u.rank+".")),p.assert(2===c.rank||1===c.rank,"Error in batchNormalization2D: mean must be rank 2 or rank 1 but "+("got rank "+c.rank+".")),p.assert(2===f.rank||1===f.rank,"Error in batchNormalization2D: variance must be rank 2 or rank 1 "+("but got rank "+f.rank+".")),null!=s&&p.assert(2===s.rank||1===s.rank,"Error in batchNormalization2D: scale must be rank 2 or rank 1 "+("but got rank "+s.rank+".")),null!=h&&p.assert(2===h.rank||1===h.rank,"Error in batchNormalization2D: offset must be rank 2 or rank 1 "+("but got rank "+h.rank+".")),r.batchNormalization(u,c,f,o,s,h)}function o(e,t,n,o,a,i){void 0===o&&(o=.001);var s,u=l.convertToTensor(e,"x","batchNormalization"),c=l.convertToTensor(t,"mean","batchNormalization"),f=l.convertToTensor(n,"variance","batchNormalization");null!=a&&(s=l.convertToTensor(a,"scale","batchNormalization"));var h;return null!=i&&(h=l.convertToTensor(i,"offset","batchNormalization")),p.assert(3===u.rank,"Error in batchNormalization3D: x must be rank 3 but got rank "+(u.rank+".")),p.assert(3===c.rank||1===c.rank,"Error in batchNormalization3D: mean must be rank 3 or rank 1 but "+("got rank "+c.rank+".")),p.assert(3===f.rank||1===f.rank,"Error in batchNormalization3D: variance must be rank 3 or rank 1 "+("but got rank "+f.rank+".")),null!=s&&p.assert(3===s.rank||1===s.rank,"Error in batchNormalization3D: scale must be rank 3 or rank 1 "+("but got rank "+s.rank+".")),null!=h&&p.assert(3===h.rank||1===h.rank,"Error in batchNormalization3D: offset must be rank 3 or rank 1 "+("but got rank "+h.rank+".")),r.batchNormalization(u,c,f,o,s,h)}function a(e,t,n,o,a,i){void 0===o&&(o=.001);var s,u=l.convertToTensor(e,"x","batchNormalization"),c=l.convertToTensor(t,"mean","batchNormalization"),f=l.convertToTensor(n,"variance","batchNormalization");null!=a&&(s=l.convertToTensor(a,"scale","batchNormalization"));var h;return null!=i&&(h=l.convertToTensor(i,"offset","batchNormalization")),p.assert(4===u.rank,"Error in batchNormalization4D: x must be rank 4 but got rank "+(u.rank+".")),p.assert(4===c.rank||1===c.rank,"Error in batchNormalization4D: mean must be rank 4 or rank 1 but "+("got rank "+c.rank+".")),p.assert(4===f.rank||1===f.rank,"Error in batchNormalization4D: variance must be rank 4 or rank 1 "+("but got rank "+f.rank+".")),null!=s&&p.assert(4===s.rank||1===s.rank,"Error in batchNormalization4D: scale must be rank 4 or rank 1 "+("but got rank "+s.rank+".")),null!=h&&p.assert(4===h.rank||1===h.rank,"Error in batchNormalization4D: offset must be rank 4 or rank 1 "+("but got rank "+h.rank+".")),r.batchNormalization(u,c,f,o,s,h)}function i(e,t,r,n,o,a){void 0===n&&(n=.001);var i,h=l.convertToTensor(e,"x","batchNormalization"),g=l.convertToTensor(t,"mean","batchNormalization"),v=l.convertToTensor(r,"variance","batchNormalization");null!=o&&(i=l.convertToTensor(o,"scale","batchNormalization"));var y;null!=a&&(y=l.convertToTensor(a,"offset","batchNormalization")),p.assert(g.rank===v.rank,"Batch normalization gradient requires mean and variance to have equal ranks."),p.assert(null==y||g.rank===y.rank,"Batch normalization gradient requires mean and offset to have equal ranks."),p.assert(null==i||g.rank===i.rank,"Batch normalization gradient requires mean and scale to have equal ranks.");var x;x=0===h.rank||1===h.rank?h.as4D(1,1,1,h.size):2===h.rank?h.as4D(1,1,h.shape[0],h.shape[1]):3===h.rank?h.as4D(1,h.shape[0],h.shape[1],h.shape[2]):h;var b=function(e){var t=null==i?d.scalar(1):i,r=f.getReductionAxes(g.shape,x.shape),o=[];if(1===g.rank){for(var a=0;a<x.shape.length-1;++a)o.push(x.shape[a]);o.push(1)}var s=h.sub(g),u=e.mul(t),l=m.rsqrt(v.add(d.scalar(n))),p=l.mul(l).mul(l).mul(d.scalar(-.5)),y=function(){return 1===g.rank?e.mul(c.tile(l.as4D(1,1,1,g.shape[0]),o)).mul(t).reshape(h.shape):e.mul(l).mul(t).reshape(h.shape)},b=function(){var e=l.mul(d.scalar(-1)).mul(u);return 1===g.rank&&(e=e.sum(r)),e.reshape(g.shape)},_=function(){var e=p.mul(s).mul(u);return 1===g.rank&&(e=e.sum(r)),e.reshape(g.shape)},w=function(){var t=s.mul(l),n=e.mul(t);return 1===g.rank&&(n=n.sum(r)),n.reshape(g.shape)},T=function(){var t=e;return 1===g.rank&&(t=t.sum(r)),t.reshape(g.shape)};return{$x:y,$mean:b,$variance:_,$scale:w,$offset:T}},_=u.ENV.engine.runKernel(function(e){return e.batchNormalization(x,s(g),s(v),n,s(i),s(y))},{$x:h,$mean:g,$variance:v,$scale:i,$offset:y},b);return _.reshape(h.shape)}function s(e){return null==e?null:0===e.rank?e.as1D():1===e.rank?e:2===e.rank?e.as4D(1,1,e.shape[0],e.shape[1]):3===e.rank?e.as4D(1,e.shape[0],e.shape[1],e.shape[2]):e}Object.defineProperty(r,"__esModule",{value:!0});var u=e("../environment"),l=e("../tensor_util_env"),p=e("../util"),c=e("./array_ops"),f=e("./broadcast_util"),h=e("./operation"),d=e("./tensor_ops"),m=e("./unary_ops");r.batchNormalization2d=h.op({batchNormalization2d_:n}),r.batchNormalization3d=h.op({batchNormalization3d_:o}),r.batchNormalization4d=h.op({batchNormalization4d_:a}),r.batchNormalization=h.op({batchNormalization_:i})},{"../environment":51,"../tensor_util_env":177,"../util":181,"./array_ops":121,"./broadcast_util":126,"./operation":143,"./tensor_ops":158,"./unary_ops":161}],125:[function(e,t,r){"use strict";function n(e,t){var r=S.convertToTensor(e,"a","add"),n=S.convertToTensor(t,"b","add");P.assertTypesMatch(r,n);var o=A.assertAndGetBroadcastShape(r.shape,n.shape),a=function(e){var t=function(){var t=e,n=A.getReductionAxes(r.shape,o);return n.length>0&&(t=t.sum(n)),t.reshape(r.shape)},a=function(){var t=e,r=A.getReductionAxes(n.shape,o);return r.length>0&&(t=t.sum(r)),t.reshape(n.shape)};return{$a:t,$b:a}};return N.ENV.engine.runKernel(function(e){return e.add(r,n)},{$a:r,$b:n},a)}function o(e){k.assert(Array.isArray(e),function(){return"The argument passed to tf.addN() must be a list of tensors"}),k.assert(e.length>=1,function(){return"Must pass at least one tensor to tf.addN(), but got "+e.length});var t=e.map(function(e,t){return S.convertToTensor(e,"tensors"+t,"addN")}),r=t[0];t.forEach(function(e){if(e.dtype!==r.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")}),t.forEach(function(e){if(!k.arraysEqual(e.shape,r.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")});var n=function(e){var r={};return t.forEach(function(t,n){r[n]=function(){return e.clone()}}),r},o=t;return N.ENV.engine.runKernel(function(e){return e.addN(t)},o,n)}function a(e,t){return k.assertShapesMatch(e.shape,t.shape,"Error in addStrict: "),e.add(t)}function i(e,t){var r=S.convertToTensor(e,"a","sub"),n=S.convertToTensor(t,"b","sub");P.assertTypesMatch(r,n);var o=A.assertAndGetBroadcastShape(r.shape,n.shape),a=function(e){var t=function(){var t=e,n=A.getReductionAxes(r.shape,o);return n.length>0&&(t=t.sum(n)),t.reshape(r.shape)},a=function(){var t=e,r=A.getReductionAxes(n.shape,o);return r.length>0&&(t=t.sum(r)),t.neg().reshape(n.shape)};return{$a:t,$b:a}};return N.ENV.engine.runKernel(function(e){return e.subtract(r,n)},{$a:r,$b:n},a)}function s(e,t){return k.assertShapesMatch(e.shape,t.shape,"Error in subStrict: "),e.sub(t)}function u(e,t){var r=S.convertToTensor(e,"base","pow"),n=S.convertToTensor(t,"exp","pow"),o=A.assertAndGetBroadcastShape(r.shape,n.shape);e=r.cast(E.upcastType(r.dtype,n.dtype)),t=n.cast(E.upcastType(r.dtype,n.dtype));var a=function(e,t){var a=t[0],i=function(){var t=e.mul(n.toFloat().mul(a.div(r))),i=A.getReductionAxes(r.shape,o);return i.length>0&&(t=t.sum(i)),t.reshape(r.shape)},s=function(){var t=e.mul(a.mul(r.log()).toFloat()),i=A.getReductionAxes(n.shape,o);return i.length>0&&(t=t.sum(i)),t.reshape(n.shape)};return{$base:i,$exp:s}};return N.ENV.engine.runKernel(function(e,t){return t(e.pow(r,n))},{$base:r,$exp:n},a)}function l(e,t){return k.assertShapesMatch(e.shape,t.shape,"Error in powStrict: "),e.pow(t)}function p(e,t){var r=S.convertToTensor(e,"a","mul"),n=S.convertToTensor(t,"b","mul");P.assertTypesMatch(r,n);var o=A.assertAndGetBroadcastShape(r.shape,n.shape),a=function(e){var t=function(){var t=e.mul(n.toFloat()),a=A.getReductionAxes(r.shape,o);return a.length>0?t.sum(a).reshape(r.shape):t},a=function(){var t=e.mul(r.toFloat()),a=A.getReductionAxes(n.shape,o);return a.length>0?t.sum(a).reshape(n.shape):t};return{$a:t,$b:a}};return N.ENV.engine.runKernel(function(e){return e.multiply(r,n)},{$a:r,$b:n},a)}function c(e,t){return k.assertShapesMatch(e.shape,t.shape,"Error in multiplyStrict: "),e.mul(t)}function f(e,t){var n=S.convertToTensor(e,"a","div"),o=S.convertToTensor(t,"b","div");P.assertTypesMatch(n,o);var a;if("int32"===n.dtype&&"int32"===o.dtype)return r.floorDiv(n,o);a=function(e){return e.realDivide(n,o)};var i=A.assertAndGetBroadcastShape(n.shape,o.shape),s=function(e){var t=function(){var t=e.div(o.toFloat()),r=A.getReductionAxes(n.shape,i);return r.length>0?t.sum(r).reshape(n.shape):t},r=function(){var t=e.mul(n.toFloat()),r=A.getReductionAxes(o.shape,i);r.length>0&&(t=t.sum(r).reshape(o.shape));var a=o.square();return t.div(a.toFloat()).neg()};return{$a:t,$b:r}};return N.ENV.engine.runKernel(a,{$a:n,$b:o},s)}function h(e,t){var r=S.convertToTensor(e,"a","floorDiv"),n=S.convertToTensor(t,"b","floorDiv");P.assertTypesMatch(r,n);var o=function(e){return e.floorDiv(r,n)},a=A.assertAndGetBroadcastShape(r.shape,n.shape),i=function(e){var t=function(){var t=e.div(n.toFloat()),o=A.getReductionAxes(r.shape,a);return o.length>0?t.sum(o).reshape(r.shape):t},o=function(){var t=e.mul(r.toFloat()),o=A.getReductionAxes(n.shape,a);o.length>0&&(t=t.sum(o).reshape(n.shape));var i=n.square();return t.div(i.toFloat()).neg()};return{$a:t,$b:o}};return N.ENV.engine.runKernel(o,{$a:r,$b:n},i)}function d(e,t){return k.assertShapesMatch(e.shape,t.shape,"Error in divideStrict: "),e.div(t)}function m(e,t){var r=S.convertToTensor(e,"a","mod"),n=S.convertToTensor(t,"b","mod");P.assertTypesMatch(r,n);var o=A.assertAndGetBroadcastShape(r.shape,n.shape),a=function(e){var t=function(){var t=A.getReductionAxes(r.shape,o);return t.length>0?e.sum(t).reshape(r.shape):e},a=function(){var t=e.mul(r.div(n).floor().neg()),a=A.getReductionAxes(n.shape,o);return a.length>0?t.sum(a).reshape(n.shape):t};return{$a:t,$b:a}};return N.ENV.engine.runKernel(function(e){return e.mod(r,n)},{$a:r,$b:n},a)}function g(e,t){return k.assertShapesMatch(e.shape,t.shape,"Error in modStrict: "),e.mod(t)}function v(e,t){var r=S.convertToTensor(e,"a","minimum"),n=S.convertToTensor(t,"b","minimum");P.assertTypesMatch(r,n),"bool"===r.dtype&&(r=r.toInt()),"bool"===n.dtype&&(n=n.toInt()),A.assertAndGetBroadcastShape(r.shape,n.shape);var o=function(e){var t=function(){return e.mul(r.lessEqual(n).toFloat())},o=function(){return e.mul(r.greater(n).toFloat())};return{$a:t,$b:o}};return N.ENV.engine.runKernel(function(e){return e.minimum(r,n)},{$a:r,$b:n},o)}function y(e,t){return k.assertShapesMatch(e.shape,t.shape,"Error in minimumStrict: "),e.minimum(t)}function x(e,t){var r=S.convertToTensor(e,"a","maximum"),n=S.convertToTensor(t,"b","maximum");P.assertTypesMatch(r,n),"bool"===r.dtype&&(r=r.toInt()),"bool"===n.dtype&&(n=n.toInt()),A.assertAndGetBroadcastShape(r.shape,n.shape);var o=function(e){var t=function(){return e.mul(r.greaterEqual(n).toFloat())},o=function(){return e.mul(r.less(n).toFloat())};return{$a:t,$b:o}};return N.ENV.engine.runKernel(function(e){return e.maximum(r,n)},{$a:r,$b:n},o)}function b(e,t){return k.assertShapesMatch(e.shape,t.shape,"Error in maximumStrict: "),e.maximum(t)}function _(e,t){var r=S.convertToTensor(e,"a","squaredDifference"),n=S.convertToTensor(t,"b","squaredDifference");P.assertTypesMatch(r,n),A.assertAndGetBroadcastShape(r.shape,n.shape);var o=function(e){var t=I.scalar(2),o=function(){return e.mul(r.sub(n).mul(t))},a=function(){return e.mul(n.sub(r).mul(t))};return{$a:o,$b:a}};return N.ENV.engine.runKernel(function(e){return e.squaredDifference(r,n)},{$a:r,$b:n},o)}function w(e,t){return k.assertShapesMatch(e.shape,t.shape,"Error in squaredDifferenceStrict: "),e.squaredDifference(t)}function T(e,t){var n=S.convertToTensor(e,"a","atan2"),o=S.convertToTensor(t,"b","atan2");P.assertTypesMatch(n,o);var a=A.assertAndGetBroadcastShape(n.shape,o.shape),i=function(e){var t=function(){var t=r.add(n.square(),o.square()),i=e.mul(o.div(t)),s=A.getReductionAxes(n.shape,a);return s.length>0&&(i=i.sum(s)),i.reshape(n.shape)},i=function(){var t=r.add(n.square(),o.square()),i=C.neg(e.mul(n.div(t))),s=A.getReductionAxes(o.shape,a);return s.length>0&&(i=i.sum(s)),i.reshape(o.shape)};return{$a:t,$b:i}};return N.ENV.engine.runKernel(function(e){return e.atan2(n,o)},{$a:n,$b:o},i)}Object.defineProperty(r,"__esModule",{value:!0});var N=e("../environment"),P=e("../tensor_util"),S=e("../tensor_util_env"),E=e("../types"),k=e("../util"),A=e("./broadcast_util"),O=e("./operation"),I=e("./tensor_ops"),C=e("./unary_ops");r.add=O.op({add_:n}),r.addN=O.op({addN_:o}),r.addStrict=O.op({addStrict_:a}),r.atan2=O.op({atan2_:T}),r.div=O.op({div_:f}),r.divStrict=O.op({divStrict_:d}),r.floorDiv=O.op({floorDiv_:h}),r.maximum=O.op({maximum_:x}),r.maximumStrict=O.op({maximumStrict_:b}),r.minimum=O.op({minimum_:v}),r.minimumStrict=O.op({minimumStrict_:y}),r.mod=O.op({mod_:m}),r.modStrict=O.op({modStrict_:g}),r.mul=O.op({mul_:p}),r.mulStrict=O.op({mulStrict_:c}),r.pow=O.op({pow_:u}),r.powStrict=O.op({powStrict_:l}),r.squaredDifference=O.op({squaredDifference_:_}),r.squaredDifferenceStrict=O.op({squaredDifferenceStrict_:w}),r.sub=O.op({sub_:i}),r.subStrict=O.op({subStrict_:s})},{"../environment":51,"../tensor_util":176,"../tensor_util_env":177,"../types":180,"../util":181,"./broadcast_util":126,"./operation":143,"./tensor_ops":158,"./unary_ops":161}],126:[function(e,t,r){"use strict";function n(e,t){for(var r=e.length,n=[],o=0;o<r;o++){var a=r-1-o,i=e[a]||1,s=t[t.length-1-o]||1;s>1&&1===i&&n.unshift(a)}return n}function o(e,t){for(var r=[],n=0;n<t.length;n++){var o=e[e.length-n-1],a=t.length-n-1,i=t[a];(null==o||1===o&&i>1)&&r.unshift(a)}return r}function a(e){for(var t=0;t<e.length;t++)if(e[t]!==t)return!1;return!0}function i(e,t){for(var r=[],n=Math.max(e.length,t.length),o=0;o<n;o++){
var a=e[e.length-o-1];null==a&&(a=1);var i=t[t.length-o-1];if(null==i&&(i=1),1===a)r.unshift(i);else if(1===i)r.unshift(a);else{if(a!==i){var s="Operands could not be broadcast together with shapes "+(e+" and "+t+".");throw Error(s)}r.unshift(a)}}return r}Object.defineProperty(r,"__esModule",{value:!0}),r.getBroadcastDims=n,r.getReductionAxes=o,r.broadcastDimsAreOuter=a,r.assertAndGetBroadcastShape=i},{}],127:[function(e,t,r){"use strict";function n(e,t){var r=v.convertToTensor(e,"a","notEqual"),n=v.convertToTensor(t,"b","notEqual");return g.assertTypesMatch(r,n),x.assertAndGetBroadcastShape(r.shape,n.shape),m.ENV.engine.runKernel(function(e){return e.notEqual(r,n)},{$a:r,$b:n})}function o(e,t){var r=v.convertToTensor(e,"a","notEqualStrict"),n=v.convertToTensor(t,"b","notEqualStrict");return y.assertShapesMatch(r.shape,n.shape,"Error in notEqualStrict: "),r.notEqual(n)}function a(e,t){var r=v.convertToTensor(e,"a","less"),n=v.convertToTensor(t,"b","less");return g.assertTypesMatch(r,n),x.assertAndGetBroadcastShape(r.shape,n.shape),m.ENV.engine.runKernel(function(e){return e.less(r,n)},{$a:r,$b:n})}function i(e,t){var r=v.convertToTensor(e,"a","lessStrict"),n=v.convertToTensor(t,"b","lessStrict");return y.assertShapesMatch(r.shape,n.shape,"Error in lessStrict: "),r.less(n)}function s(e,t){var r=v.convertToTensor(e,"a","equal"),n=v.convertToTensor(t,"b","equal");return g.assertTypesMatch(r,n),x.assertAndGetBroadcastShape(r.shape,n.shape),m.ENV.engine.runKernel(function(e){return e.equal(r,n)},{$a:r,$b:n})}function u(e,t){var r=v.convertToTensor(e,"a","equalStrict"),n=v.convertToTensor(t,"b","equalStrict");return y.assertShapesMatch(r.shape,n.shape,"Error in equalStrict: "),r.equal(n)}function l(e,t){var r=v.convertToTensor(e,"a","lessEqual"),n=v.convertToTensor(t,"b","lessEqual");return g.assertTypesMatch(r,n),x.assertAndGetBroadcastShape(r.shape,n.shape),m.ENV.engine.runKernel(function(e){return e.lessEqual(r,n)},{$a:r,$b:n})}function p(e,t){var r=v.convertToTensor(e,"a","lessEqualStrict"),n=v.convertToTensor(t,"b","lessEqualStrict");return y.assertShapesMatch(r.shape,n.shape,"Error in lessEqualStrict: "),r.lessEqual(n)}function c(e,t){var r=v.convertToTensor(e,"a","greater"),n=v.convertToTensor(t,"b","greater");return g.assertTypesMatch(r,n),x.assertAndGetBroadcastShape(r.shape,n.shape),m.ENV.engine.runKernel(function(e){return e.greater(r,n)},{$a:r,$b:n})}function f(e,t){var r=v.convertToTensor(e,"a","greaterStrict"),n=v.convertToTensor(t,"b","greaterStrict");return y.assertShapesMatch(r.shape,n.shape,"Error in greaterStrict: "),r.greater(n)}function h(e,t){var r=v.convertToTensor(e,"a","greaterEqual"),n=v.convertToTensor(t,"b","greaterEqual");g.assertTypesMatch(r,n),x.assertAndGetBroadcastShape(r.shape,n.shape);var o=function(e){return{$a:function(){return _.zerosLike(r)},$b:function(){return _.zerosLike(n)}}};return m.ENV.engine.runKernel(function(e){return e.greaterEqual(r,n)},{$a:r,$b:n},o)}function d(e,t){var r=v.convertToTensor(e,"a","greaterEqualStrict"),n=v.convertToTensor(t,"b","greaterEqualStrict");return y.assertShapesMatch(r.shape,n.shape,"Error in greaterEqualStrict: "),r.greaterEqual(n)}Object.defineProperty(r,"__esModule",{value:!0});var m=e("../environment"),g=e("../tensor_util"),v=e("../tensor_util_env"),y=e("../util"),x=e("./broadcast_util"),b=e("./operation"),_=e("./tensor_ops");r.equal=b.op({equal_:s}),r.equalStrict=b.op({equalStrict_:u}),r.greater=b.op({greater_:c}),r.greaterEqual=b.op({greaterEqual_:h}),r.greaterEqualStrict=b.op({greaterEqualStrict_:d}),r.greaterStrict=b.op({greaterStrict_:f}),r.less=b.op({less_:a}),r.lessEqual=b.op({lessEqual_:l}),r.lessEqualStrict=b.op({lessEqualStrict_:p}),r.lessStrict=b.op({lessStrict_:i}),r.notEqual=b.op({notEqual_:n}),r.notEqualStrict=b.op({notEqualStrict_:o})},{"../environment":51,"../tensor_util":176,"../tensor_util_env":177,"../util":181,"./broadcast_util":126,"./operation":143,"./tensor_ops":158}],128:[function(e,t,r){"use strict";function n(e,t){var r=s.convertToTensor(e,"real","complex"),n=s.convertToTensor(t,"imag","complex");return u.assertShapesMatch(r.shape,n.shape,"real and imag shapes, "+r.shape+" and "+n.shape+", must match in call to tf.complex()."),i.ENV.engine.runKernel(function(e){return e.complex(r,n)},{$real:r,$imag:n})}function o(e){var t=s.convertToTensor(e,"input","real");return i.ENV.engine.runKernel(function(e){return e.real(t)},{$input:t})}function a(e){var t=s.convertToTensor(e,"input","imag");return i.ENV.engine.runKernel(function(e){return e.imag(t)},{$input:t})}Object.defineProperty(r,"__esModule",{value:!0});var i=e("../environment"),s=e("../tensor_util_env"),u=e("../util"),l=e("./operation");r.complex=l.op({complex_:n}),r.real=l.op({real_:o}),r.imag=l.op({imag_:a})},{"../environment":51,"../tensor_util_env":177,"../util":181,"./operation":143}],129:[function(e,t,r){"use strict";function n(e){return r.concat(e,0)}function o(e,t){return r.concat(e,t)}function a(e,t){return r.concat(e,t)}function i(e,t){return r.concat(e,t)}function s(e,t){void 0===t&&(t=0),c.assert(e.length>=1,"Pass at least one tensor to concat");var n=p.convertToTensorArray(e,"tensors","concat");t=f.parseAxisParam(t,n[0].shape)[0];var o=h.computeOutShape(n.map(function(e){return e.shape}),t);if(0===c.sizeFromShape(o))return m.tensor([],o);if(n=n.filter(function(e){return e.size>0}),1===n.length)return n[0];var a=n.map(function(e){return e.shape});h.assertParamsConsistent(a,t);var i=function(e){var n=a.map(function(e){return e[t]}),o=r.split(e,n,t);return o.map(function(e){return function(){return e}})},s=n;return l.ENV.engine.runKernel(function(e){return e.concat(n,t)},s,i)}function u(e,t,n){void 0===n&&(n=0);var o=p.convertToTensor(e,"x","split");n=f.parseAxisParam(n,o.shape)[0];var a;"number"==typeof t?(c.assert(o.shape[n]%t===0,"Number of splits must evenly divide the axis."),a=Array(t).fill(o.shape[n]/t)):(c.assert(o.shape[n]===t.reduce(function(e,t){return e+t}),"The sum of sizes must match the size of the axis dimension."),a=t);var i=function(e){return{$x:function(){return r.concat(e,n)}}};return l.ENV.engine.runKernel(function(e){return e.split(o,a,n)},{$x:o},i)}Object.defineProperty(r,"__esModule",{value:!0});var l=e("../environment"),p=e("../tensor_util_env"),c=e("../util"),f=e("./axis_util"),h=e("./concat_util"),d=e("./operation"),m=e("./tensor_ops");r.concat=d.op({concat_:s}),r.concat1d=d.op({concat1d_:n}),r.concat2d=d.op({concat2d_:o}),r.concat3d=d.op({concat3d_:a}),r.concat4d=d.op({concat4d_:i}),r.split=d.op({split_:u})},{"../environment":51,"../tensor_util_env":177,"../util":181,"./axis_util":123,"./concat_util":130,"./operation":143,"./tensor_ops":158}],130:[function(e,t,r){"use strict";function n(e,t){var r=e[0].length;e.forEach(function(e,t){a.assert(e.length===r,"Error in concat"+r+"D: rank of tensors["+t+"] must be the same "+("as the rank of the rest ("+r+")"))}),a.assert(t>=0&&t<r,"Error in concat"+r+"D: axis must be between 0 and "+(r-1)+".");var n=e[0];e.forEach(function(e,o){for(var i=0;i<r;i++)a.assert(i===t||e[i]===n[i],"Error in concat"+r+"D: Shape of tensors["+o+"] ("+e+") "+("does not match the shape of the rest ("+n+") ")+("along the non-concatenated axis "+o+"."))})}function o(e,t){for(var r=e[0].slice(),n=1;n<e.length;n++)r[t]+=e[n][t];return r}Object.defineProperty(r,"__esModule",{value:!0});var a=e("../util");r.assertParamsConsistent=n,r.computeOutShape=o},{"../util":181}],131:[function(e,t,r){"use strict";function n(e,t,n,o,a,i,s){void 0===a&&(a="NWC"),void 0===i&&(i=1);var u=g.convertToTensor(e,"x","conv1d"),l=g.convertToTensor(t,"filter","conv1d"),p=u,c=!1;2===u.rank&&(c=!0,p=u.as3D(1,u.shape[0],u.shape[1])),v.assert(3===p.rank,"Error in conv1d: input must be rank 3, but got rank "+p.rank+"."),v.assert(3===l.rank,"Error in conv1d: filter must be rank 3, but got rank "+(l.rank+".")),null!=s&&v.assert(v.isInt(o),"Error in conv1d: pad must be an integer when using, "+("dimRoundingMode "+s+" but got pad "+o+".")),v.assert(p.shape[2]===l.shape[1],"Error in conv1d: depth of input ("+p.shape[2]+") must match "+("input depth for filter "+l.shape[1]+".")),v.assert(f(n,i),"Error in conv1D: Either stride or dilation must be 1. "+("Got stride "+n+" and dilation '"+i+"'")),v.assert("NWC"===a,"Error in conv1d: got dataFormat of "+a+" but only NWC is currently supported.");var h=l.as4D(1,l.shape[0],l.shape[1],l.shape[2]),d=p.as4D(p.shape[0],1,p.shape[1],p.shape[2]),m=[1,n],y=[1,i],x="NHWC",b=r.conv2d(d,h,m,o,x,y,s);return c?b.as2D(b.shape[2],b.shape[3]):b.as3D(b.shape[0],b.shape[2],b.shape[3])}function o(e,t,r,n,o,s,u){void 0===o&&(o="NHWC"),void 0===s&&(s=[1,1]);var l=g.convertToTensor(e,"x","conv2d"),p=g.convertToTensor(t,"filter","conv2d"),h=l,d=!1;3===l.rank&&(d=!0,h=l.as4D(1,l.shape[0],l.shape[1],l.shape[2])),v.assert(4===h.rank,"Error in conv2d: input must be rank 4, but got rank "+h.rank+"."),v.assert(4===p.rank,"Error in conv2d: filter must be rank 4, but got rank "+(p.rank+".")),null!=u&&v.assert(v.isInt(n),"Error in conv2d: pad must be an integer when using, "+("dimRoundingMode "+u+" but got pad "+n+".")),v.assert(h.shape[3]===p.shape[2],"Error in conv2d: depth of input ("+h.shape[3]+") must match "+("input depth for filter "+p.shape[2]+".")),v.assert(f(r,s),"Error in conv2D: Either strides or dilations must be 1. "+("Got strides "+r+" and dilations '"+s+"'")),v.assert("NHWC"===o,"Error in conv2d: got dataFormat of "+o+" but only NHWC is currently supported.");var x=y.computeConv2DInfo(h.shape,p.shape,r,s,n,u),b=function(e){return v.assert(c(s),"Error in gradient of conv2D: dilation rates greater than 1 are not"+("yet supported in gradients. Got dilations '"+s+"'")),{x:function(){return a(h.shape,e,p,r,n)},$filter:function(){return i(h,e,p.shape,r,n)}}},_=m.ENV.engine.runKernel(function(e){return e.conv2d(h,p,x)},{x:h,$filter:p},b);return d?_.as3D(_.shape[1],_.shape[2],_.shape[3]):_}function a(e,t,r,n,o,a){v.assert(e.length===t.rank,"Length of inShape "+("("+e.length+") and rank of dy ("+t.rank+") must match"));var i=e,s=t,u=!1;3===t.rank&&(u=!0,s=t.as4D(1,t.shape[0],t.shape[1],t.shape[2]),i=[1,e[0],e[1],e[2]]);var l=i[3],p=s.shape[3];v.assert(4===i.length,"Error in conv2dDerInput: inShape must be length 4, but got length "+(i.length+".")),v.assert(4===s.rank,"Error in conv2dDerInput: dy must be rank 4, but got rank "+s.rank),v.assert(4===r.rank,"Error in conv2dDerInput: filter must be rank 4, but got rank "+r.rank),v.assert(l===r.shape[2],"Error in conv2dDerInput: depth of input ("+l+") must "+("match input depth for filter "+r.shape[2]+".")),v.assert(p===r.shape[3],"Error in conv2dDerInput: depth of output ("+p+") must "+("match output depth for filter "+r.shape[3]+".")),null!=a&&v.assert(v.isInt(o),"Error in conv2dDerInput: pad must be an integer when using, "+("dimRoundingMode "+a+" but got pad "+o+"."));var c=1,f=y.computeConv2DInfo(i,r.shape,n,c,o,a),h=m.ENV.engine.runKernel(function(e){return e.conv2dDerInput(s,r,f)},{dy4D:s});return u?h.as3D(h.shape[1],h.shape[2],h.shape[3]):h}function i(e,t,r,n,o,a){var i=e;3===e.rank&&(i=e.as4D(1,e.shape[0],e.shape[1],e.shape[2]));var s=t;3===s.rank&&(s=t.as4D(1,t.shape[0],t.shape[1],t.shape[2])),v.assert(4===i.rank,"Error in conv2dDerFilter: input must be rank 4, but got shape "+(i.shape+".")),v.assert(4===s.rank,"Error in conv2dDerFilter: dy must be rank 4, but got shape "+(s.shape+".")),v.assert(4===r.length,"Error in conv2dDerFilter: filterShape must be length 4, but got "+(r+".")),v.assert(i.shape[3]===r[2],"Error in conv2dDerFilter: depth of input "+i.shape[3]+") must "+("match input depth in filter ("+r[2]+".")),v.assert(s.shape[3]===r[3],"Error in conv2dDerFilter: depth of dy ("+s.shape[3]+") must "+("match output depth for filter ("+r[3]+").")),null!=a&&v.assert(v.isInt(o),"Error in conv2dDerFilter: pad must be an integer when using, "+("dimRoundingMode "+a+" but got pad "+o+"."));var u=1,l=y.computeConv2DInfo(i.shape,r,n,u,o,a);return m.ENV.engine.runKernel(function(e){return e.conv2dDerFilter(i,s,l)},{x4D:i,dy4D:s})}function s(e,t,r,n,o,i){var s=g.convertToTensor(e,"x","conv2dTranspose"),u=g.convertToTensor(t,"filter","conv2dTranspose");return a(r,s,u,n,o,i)}function u(e,t,r,n,o,a,i){void 0===o&&(o="NHWC"),void 0===a&&(a=[1,1]);var s=g.convertToTensor(e,"x","depthwiseConv2d"),u=g.convertToTensor(t,"filter","depthwiseConv2d"),l=s,p=!1;3===s.rank&&(p=!0,l=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),v.assert(4===l.rank,"Error in depthwiseConv2d: input must be rank 4, but got "+("rank "+l.rank+".")),v.assert(4===u.rank,"Error in depthwiseConv2d: filter must be rank 4, but got rank "+(u.rank+".")),v.assert(l.shape[3]===u.shape[2],"Error in depthwiseConv2d: number of input channels "+("("+l.shape[3]+") must match the inChannels dimension in ")+("filter "+u.shape[2]+".")),null==a&&(a=[1,1]),v.assert(f(r,a),"Error in depthwiseConv2d: Either strides or dilations must be 1. "+("Got strides "+r+" and dilations '"+a+"'")),null!=i&&v.assert(v.isInt(n),"Error in depthwiseConv2d: pad must be an integer when using, "+("dimRoundingMode "+i+" but got pad "+n+"."));var x=y.computeConv2DInfo(l.shape,u.shape,r,a,n,i,!0),b=function(e){return v.assert(c(a),"Error in gradient of depthwiseConv2d: dilation rates greater than "+("1 are not yet supported. Got dilations '"+a+"'")),{x:function(){return h(l.shape,e,u,x)},$filter:function(){return d(l,e,u.shape,x)}}},_=m.ENV.engine.runKernel(function(e){return e.depthwiseConv2D(l,u,x)},{x:l,$filter:u},b);return p?_.as3D(_.shape[1],_.shape[2],_.shape[3]):_}function l(e,t,n,o,a,i,s){void 0===i&&(i=[1,1]),void 0===s&&(s="NHWC");var u=g.convertToTensor(e,"x","separableConv2d"),l=g.convertToTensor(t,"depthwiseFilter","separableConv2d"),p=g.convertToTensor(n,"pointwiseFilter","separableConv2d"),c=u,f=!1;if(3===u.rank&&(f=!0,c=u.as4D(1,u.shape[0],u.shape[1],u.shape[2])),"NCHW"===s)throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");v.assert(4===c.rank,"Error in separableConv2d: input must be rank 4, but got "+("rank "+c.rank+".")),v.assert(4===l.rank,"Error in separableConv2d: depthwise filter must be rank 4, but got "+("rank "+l.rank+".")),v.assert(4===p.rank,"Error in separableConv2d: pointwise filter must be rank 4, but got "+("rank "+l.rank+".")),v.assert(1===p.shape[0],"Error in separableConv2d: the first dimension of pointwise filter "+(" must be 1, but got "+p.shape[0]+".")),v.assert(1===p.shape[1],"Error in separableConv2d: the second dimension of pointwise filter "+(" must be 1, but got "+p.shape[1]+"."));var h=l.shape[2],d=l.shape[3];v.assert(p.shape[2]===h*d,"Error in separableConv2d: the third dimension of pointwise filter "+("must be "+h*d+", ")+("but got "+p.shape[2]+"."));var m=r.depthwiseConv2d(c,l,o,a,s,i),y=1,x=r.conv2d(m,p,y,"valid",s);return f?x.as3D(x.shape[1],x.shape[2],x.shape[3]):x}function p(e){return"number"==typeof e?[e,e]:e}function c(e){var t=p(e),r=t[0],n=t[1];return 1===r&&1===n}function f(e,t){return c(e)||c(t)}function h(e,t,r,n){var o=t,a=!1;3===t.rank&&(a=!0,o=t.as4D(1,t.shape[0],t.shape[1],t.shape[2]));var i=m.ENV.engine.runKernel(function(e){return e.depthwiseConv2DDerInput(o,r,n)},{dy4D:o});return a?i.as3D(i.shape[1],i.shape[2],i.shape[3]):i}function d(e,t,r,n){var o=e;3===e.rank&&(o=e.as4D(1,e.shape[0],e.shape[1],e.shape[2]));var a=t;return 3===a.rank&&(a=t.as4D(1,t.shape[0],t.shape[1],t.shape[2])),m.ENV.engine.runKernel(function(e){return e.depthwiseConv2DDerFilter(o,a,n)},{x4D:o,dy4D:a})}Object.defineProperty(r,"__esModule",{value:!0});var m=e("../environment"),g=e("../tensor_util_env"),v=e("../util"),y=e("./conv_util"),x=e("./operation");r.conv1d=x.op({conv1d_:n}),r.conv2d=x.op({conv2d_:o}),r.depthwiseConv2d=x.op({depthwiseConv2d_:u}),r.separableConv2d=x.op({separableConv2d_:l}),r.conv2dTranspose=x.op({conv2dTranspose_:s})},{"../environment":51,"../tensor_util_env":177,"../util":181,"./conv_util":132,"./operation":143}],132:[function(e,t,r){"use strict";function n(e,t,r,n,a,i){void 0===i&&(i="channelsLast");var u,l=s(t),p=l[0],c=l[1];if("channelsLast"===i)u=[p,c,e[3],e[3]];else{if("channelsFirst"!==i)throw new Error("Unknown dataFormat "+i);u=[p,c,e[1],e[1]]}var f=1;return o(e,u,r,f,n,a,!1,i)}function o(e,t,r,n,o,a,i,p){void 0===i&&(i=!1),void 0===p&&(p="channelsLast");var c=[-1,-1,-1,-1],f=c[0],h=c[1],d=c[2],m=c[3];if("channelsLast"===p)f=e[0],h=e[1],d=e[2],m=e[3];else{if("channelsFirst"!==p)throw new Error("Unknown dataFormat "+p);f=e[0],m=e[1],h=e[2],d=e[3]}var g,v=t[0],y=t[1],x=t[3],b=s(r),_=b[0],w=b[1],T=s(n),N=T[0],P=T[1],S=u(v,N),E=u(y,P),k=l(o,h,d,_,w,S,E,a),A=k.padInfo,O=k.outHeight,I=k.outWidth,C=i?x*m:x;return"channelsFirst"===p?g=[f,C,O,I]:"channelsLast"===p&&(g=[f,O,I,C]),{batchSize:f,dataFormat:p,inHeight:h,inWidth:d,inChannels:m,outHeight:O,outWidth:I,outChannels:C,padInfo:A,strideHeight:_,strideWidth:w,filterHeight:v,filterWidth:y,dilationHeight:N,dilationWidth:P,inShape:e,outShape:g,filterShape:t}}function a(e,t,r,n,o,a){null==o&&(o=i(e,t,n));var s=e[0],u=e[1],l=p((s-t+2*o)/n+1,a);c.assert(c.isInt(l),"The output # of rows ("+l+") must be an integer. Change the stride and/or zero pad parameters");var f=p((u-t+2*o)/n+1,a);return c.assert(c.isInt(f),"The output # of columns ("+f+") must be an integer. Change the stride and/or zero pad parameters"),[l,f,r]}function i(e,t,r,n){void 0===n&&(n=1);var o=u(t,n);return Math.floor((e[0]*(r-1)-r+o)/2)}function s(e){return"number"==typeof e?[e,e]:e}function u(e,t){return t<=1?e:e+(e-1)*(t-1)}function l(e,t,r,n,o,i,s,u){var l,p,c;if("number"==typeof e){var f=0===e?"VALID":"NUMBER";l={top:e,bottom:e,left:e,right:e,type:f};var h=a([t,r,1],i,1,n,e,u);p=h[0],c=h[1]}else if("same"===e){p=Math.ceil(t/n),c=Math.ceil(r/o);var d=(p-1)*n+i-t,m=(c-1)*o+s-r,g=Math.floor(d/2),v=d-g,y=Math.floor(m/2),x=m-y;l={top:g,bottom:v,left:y,right:x,type:"SAME"}}else{if("valid"!==e)throw Error("Unknown padding parameter: "+e);l={top:0,bottom:0,left:0,right:0,type:"VALID"},p=Math.ceil((t-i+1)/n),c=Math.ceil((r-s+1)/o)}return{padInfo:l,outHeight:p,outWidth:c}}function p(e,t){if(!t)return e;switch(t){case"round":return Math.round(e);case"ceil":return Math.ceil(e);case"floor":return Math.floor(e);default:throw new Error("Unknown roundingMode "+t)}}Object.defineProperty(r,"__esModule",{value:!0});var c=e("../util");r.computePool2DInfo=n,r.computeConv2DInfo=o,r.computeDefaultPad=i},{"../util":181}],133:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ERF_P=.3275911,r.ERF_A1=.254829592,r.ERF_A2=-.284496736,r.ERF_A3=1.421413741,r.ERF_A4=-1.453152027,r.ERF_A5=1.061405429},{}],134:[function(e,t,r){"use strict";function n(e,t,r){void 0===r&&(r=!1);var n=h.convertToTensor(e,"images","resizeBilinear");d.assert(3===n.rank||4===n.rank,"Error in resizeBilinear: x must be rank 3 or 4, but got "+("rank "+n.rank+".")),d.assert(2===t.length,"Error in resizeBilinear: new shape must 2D, but got shape "+(t+"."));var o=n,a=!1;3===n.rank&&(a=!0,o=n.as4D(1,n.shape[0],n.shape[1],n.shape[2]));var i=t[0],s=t[1],u=function(e,t){return e.resizeBilinear(o,i,s,r)},l=function(e,t){return{batchImages:function(){return c.ENV.engine.runKernel(function(t){return t.resizeBilinearBackprop(e,o,r)},{})}}},p=c.ENV.engine.runKernel(u,{batchImages:o},l);return a?p.as3D(p.shape[1],p.shape[2],p.shape[3]):p}function o(e,t,r){void 0===r&&(r=!1);var n=h.convertToTensor(e,"images","resizeNearestNeighbor");d.assert(3===n.rank||4===n.rank,"Error in resizeNearestNeighbor: x must be rank 3 or 4, but got "+("rank "+n.rank+".")),d.assert(2===t.length,"Error in resizeNearestNeighbor: new shape must 2D, but got shape "+(t+".")),d.assert("float32"===n.dtype||"int32"===n.dtype,"`images` must have `int32` or `float32` as dtype");var o=n,a=!1;3===n.rank&&(a=!0,o=n.as4D(1,n.shape[0],n.shape[1],n.shape[2]));var i=t[0],s=t[1],u=function(e,t){return e.resizeNearestNeighbor(o,i,s,r)},l=function(e,t){return{batchImages:function(){return c.ENV.engine.runKernel(function(t){return t.resizeNearestNeighborBackprop(e,o,r)},{})}}},p=c.ENV.engine.runKernel(u,{batchImages:o},l);return a?p.as3D(p.shape[1],p.shape[2],p.shape[3]):p}function a(e,t,r,n,o){void 0===n&&(n=.5),void 0===o&&(o=Number.NEGATIVE_INFINITY);var a=h.convertToTensor(e,"boxes","nonMaxSuppression"),i=h.convertToTensor(t,"scores","nonMaxSuppression"),u=s(a,i,r,n,o);return r=u.maxOutputSize,n=u.iouThreshold,o=u.scoreThreshold,c.ENV.engine.runKernel(function(e){return e.nonMaxSuppression(a,i,r,n,o)},{$boxes:a})}function i(e,t,r,n,o){return void 0===n&&(n=.5),void 0===o&&(o=Number.NEGATIVE_INFINITY),l(this,void 0,void 0,function(){var a,i,u,l,c,d;return p(this,function(p){switch(p.label){case 0:return a=h.convertToTensor(e,"boxes","nonMaxSuppressionAsync"),i=h.convertToTensor(t,"scores","nonMaxSuppressionAsync"),u=s(a,i,r,n,o),r=u.maxOutputSize,n=u.iouThreshold,o=u.scoreThreshold,[4,a.data()];case 1:return l=p.sent(),[4,i.data()];case 2:return c=p.sent(),d=f.nonMaxSuppressionImpl(l,c,r,n,o),a!==e&&a.dispose(),i!==t&&i.dispose(),[2,d]}})})}function s(e,t,r,n,o){null==n&&(n=.5),null==o&&(o=Number.NEGATIVE_INFINITY);var a=e.shape[0];return r=Math.min(r,a),d.assert(0<=n&&n<=1,"iouThreshold must be in [0, 1], but was '"+n+"'"),d.assert(2===e.rank,"boxes must be a 2D tensor, but was of rank '"+e.rank+"'"),d.assert(4===e.shape[1],"boxes must have 4 columns, but 2nd dimension was "+e.shape[1]),d.assert(1===t.rank,"scores must be a 1D tensor"),d.assert(t.shape[0]===a,"scores has incompatible shape with boxes. Expected "+a+", but was "+t.shape[0]),{maxOutputSize:r,iouThreshold:n,scoreThreshold:o}}function u(e,t,r,n,o,a){var i=h.convertToTensor(e,"image","cropAndResize","float32"),s=h.convertToTensor(t,"boxes","cropAndResize","float32"),u=h.convertToTensor(r,"boxInd","cropAndResize","int32");o=o||"bilinear",a=a||0;var l=s.shape[0];d.assert(4===i.rank,"Error in cropAndResize: image must be rank 4,"+("but got rank "+i.rank+".")),d.assert(2===s.rank&&4===s.shape[1],"Error in cropAndResize: boxes must be have size ["+l+",4] "+("but had shape "+s.shape+".")),d.assert(1===u.rank&&u.shape[0]===l,"Error in cropAndResize: boxInd must be have size ["+l+"] "+("but had shape "+s.shape+".")),d.assert("int32"===u.dtype,"Error in cropAndResize: boxInd must be of dtype int32, but got dtype "+(u.dtype+".")),d.assert(2===n.length,"Error in cropAndResize: cropSize must be of length 2, but got length "+(n.length+".")),d.assert(n[0]>=1&&n[1]>=1,"cropSize must be atleast [1,1], but was "+n),d.assert("bilinear"===o||"nearest"===o,"method must be bilinear or nearest, but was "+o);var p=function(e,t){return e.cropAndResize(i,s,u,n,o,a)},f=c.ENV.engine.runKernel(p,{$image:i,$boxes:s});return f}var l=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{u(n.next(e))}catch(e){a(e)}}function s(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,s)}u((n=n.apply(e,t||[])).next())})},p=this&&this.__generator||function(e,t){function r(e){return function(t){return n([e,t])}}function n(r){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,a&&(i=2&r[0]?a.return:r[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,r[1])).done)return i;switch(a=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return u.label++,{value:r[1],done:!1};case 5:u.label++,a=r[1],r=[0];continue;case 7:r=u.ops.pop(),u.trys.pop();continue;default:if(i=u.trys,!(i=i.length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){u=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){u.label=r[1];break}if(6===r[0]&&u.label<i[1]){u.label=i[1],i=r;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(r);break}i[2]&&u.ops.pop(),u.trys.pop();continue}r=t.call(e,u)}catch(e){r=[6,e],a=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var o,a,i,s,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(r,"__esModule",{value:!0});var c=e("../environment"),f=e("../kernels/non_max_suppression_impl"),h=e("../tensor_util_env"),d=e("../util"),m=e("./operation");r.resizeBilinear=m.op({resizeBilinear_:n}),r.resizeNearestNeighbor=m.op({resizeNearestNeighbor_:o}),r.nonMaxSuppression=m.op({nonMaxSuppression_:a}),r.nonMaxSuppressionAsync=i,r.cropAndResize=u},{"../environment":51,"../kernels/non_max_suppression_impl":71,"../tensor_util_env":177,"../util":181,"./operation":143}],135:[function(e,t,r){"use strict";function n(e){var t;if(Array.isArray(e)){t=!1,u.assert(null!=e&&e.length>0,"Gram-Schmidt process: input must not be null, undefined, or empty");for(var r=e[0].shape[0],n=1;n<e.length;++n)u.assert(e[n].shape[0]===r,"Gram-Schmidt: Non-unique lengths found in the input vectors: "+("("+e[n].shape[0]+" vs. "+r+")"))}else t=!0,e=p.split(e,e.shape[0],0).map(function(e){return l.squeeze(e,[0])});u.assert(e.length<=e[0].shape[0],"Gram-Schmidt: Number of vectors ("+e.length+") exceeds "+("number of dimensions ("+e[0].shape[0]+")."));for(var o=[],a=e,s=function(e){o.push(i.ENV.engine.tidy(function(){var t=a[e];if(e>0)for(var r=0;r<e;++r){var n=h.sum(o[r].mulStrict(t)).mul(o[r]);t=t.sub(n)}return t.div(c.norm(t,"euclidean"))}))},n=0;n<e.length;++n)s(n);return t?l.stack(o,0):o}function o(e,t){if(void 0===t&&(t=!1),e.rank<2)throw new Error("qr() requires input tensor to have a rank >= 2, but got rank "+e.rank);if(2===e.rank)return a(e,t);var r=e.shape.slice(0,e.shape.length-2).reduce(function(e,t){return e*t}),n=l.unstack(e.reshape([r,e.shape[e.shape.length-2],e.shape[e.shape.length-1]]),0),o=[],i=[];n.forEach(function(e){var r=a(e,t),n=r[0],s=r[1];o.push(n),i.push(s)});var s=l.stack(o,0).reshape(e.shape),u=l.stack(i,0).reshape(e.shape);return[s,u]}function a(e,t){return void 0===t&&(t=!1),i.ENV.engine.tidy(function(){if(2!==e.shape.length)throw new Error("qr2d() requires a 2D Tensor, but got a "+e.shape.length+"D Tensor.");for(var r=e.shape[0],n=e.shape[1],o=l.eye(r),a=e.clone(),u=d.tensor2d([[1]],[1,1]),p=u.clone(),c=r>=n?n:r,f=function(e){var t,l=a,c=p,f=o;t=i.ENV.engine.tidy(function(){var t=a.slice([e,e],[r-e,1]),i=t.norm(),s=a.slice([e,e],[1,1]),l=s.sign().neg(),c=s.sub(l.mul(i)),f=t.div(c);p=1===f.shape[0]?u.clone():u.concat(f.slice([1,0],[f.shape[0]-1,f.shape[1]]),0);var h=l.matMul(c).div(i).neg(),d=a.slice([e,0],[r-e,n]),m=h.mul(p);a=0===e?d.sub(m.matMul(p.transpose().matMul(d))):a.slice([0,0],[e,n]).concat(d.sub(m.matMul(p.transpose().matMul(d))),0);var g=o.slice([0,e],[r,o.shape[1]-e]);return o=0===e?g.sub(g.matMul(p).matMul(m.transpose())):o.slice([0,0],[r,e]).concat(g.sub(g.matMul(p).matMul(m.transpose())),1),[p,a,o]}),p=t[0],a=t[1],o=t[2],s.dispose([l,c,f])},h=0;h<c;++h)f(h);return!t&&r>n&&(o=o.slice([0,0],[r,n]),a=a.slice([0,0],[n,n])),[o,a]})}Object.defineProperty(r,"__esModule",{value:!0});var i=e("../environment"),s=e("../globals"),u=e("../util"),l=e("./array_ops"),p=e("./concat_split"),c=e("./norm"),f=e("./operation"),h=e("./reduction_ops"),d=e("./tensor_ops");r.gramSchmidt=f.op({gramSchmidt_:n}),r.qr=f.op({qr_:o})},{"../environment":51,"../globals":53,"../util":181,"./array_ops":121,"./concat_split":129,"./norm":142,"./operation":143,"./reduction_ops":148,"./tensor_ops":158}],136:[function(e,t,r){"use strict";function n(e){var t=h.convertToTensor(e,"x","logicalNot","bool");return d.assert("bool"===t.dtype,"Error Array must be of type bool."),c.ENV.engine.runKernel(function(e){return e.logicalNot(t)},{$x:t})}function o(e,t){var r=h.convertToTensor(e,"a","logicalAnd","bool"),n=h.convertToTensor(t,"b","logicalAnd","bool");return d.assert("bool"===r.dtype&&"bool"===n.dtype,"Error Array must be of type bool."),m.assertAndGetBroadcastShape(r.shape,n.shape),c.ENV.engine.runKernel(function(e){return e.logicalAnd(r,n)},{$a:r,$b:n})}function a(e,t){var r=h.convertToTensor(e,"a","logicalOr","bool"),n=h.convertToTensor(t,"b","logicalOr","bool");return d.assert("bool"===r.dtype&&"bool"===n.dtype,"Error Array must be of type bool."),m.assertAndGetBroadcastShape(r.shape,n.shape),c.ENV.engine.runKernel(function(e){return e.logicalOr(r,n)},{$a:r,$b:n})}function i(e,t){var n=h.convertToTensor(e,"a","logicalXor","bool"),o=h.convertToTensor(t,"b","logicalXor","bool");return d.assert("bool"===n.dtype&&"bool"===o.dtype,"Error Array must be of type bool."),m.assertAndGetBroadcastShape(n.shape,o.shape),r.logicalOr(e,t).logicalAnd(r.logicalAnd(e,t).logicalNot())}function s(e,t,r){var n=h.convertToTensor(t,"a","where"),o=h.convertToTensor(r,"b","where"),a=h.convertToTensor(e,"condition","where","bool");d.assert("bool"===a.dtype,"Error Condition must be of type bool."),d.assertShapesMatch(n.shape,o.shape,"Error in where: "),1===a.rank?d.assert(a.shape[0]===n.shape[0],"The first dimension of `a` must match the size of `condition`."):d.assertShapesMatch(a.shape,o.shape,"Error in where: ");var i=function(e){return{$condition:function(){return v.zerosLike(a)},$a:function(){return e.mul(a.cast(n.dtype))},$b:function(){return e.mul(a.logicalNot().cast(o.dtype))}}};return c.ENV.engine.runKernel(function(e){return e.select(a,n,o)},{$condition:a,$a:n,$b:o},i)}function u(e){return l(this,void 0,void 0,function(){var t,r,n;return p(this,function(o){switch(o.label){case 0:return t=h.convertToTensor(e,"condition","where","bool"),d.assert("bool"===t.dtype,"Condition must be of type bool."),[4,t.data()];case 1:return r=o.sent(),n=f.whereImpl(t.shape,r),e!==t&&t.dispose(),[2,n]}})})}var l=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{u(n.next(e))}catch(e){a(e)}}function s(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,s)}u((n=n.apply(e,t||[])).next())})},p=this&&this.__generator||function(e,t){function r(e){return function(t){return n([e,t])}}function n(r){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,a&&(i=2&r[0]?a.return:r[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,r[1])).done)return i;switch(a=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return u.label++,{value:r[1],done:!1};case 5:u.label++,a=r[1],r=[0];continue;case 7:r=u.ops.pop(),u.trys.pop();continue;default:if(i=u.trys,!(i=i.length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){u=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){u.label=r[1];break}if(6===r[0]&&u.label<i[1]){u.label=i[1],i=r;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(r);break}i[2]&&u.ops.pop(),u.trys.pop();continue}r=t.call(e,u)}catch(e){r=[6,e],a=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var o,a,i,s,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(r,"__esModule",{value:!0});var c=e("../environment"),f=e("../kernels/where_impl"),h=e("../tensor_util_env"),d=e("../util"),m=e("./broadcast_util"),g=e("./operation"),v=e("./tensor_ops");r.logicalAnd=g.op({logicalAnd_:o}),r.logicalNot=g.op({logicalNot_:n}),r.logicalOr=g.op({logicalOr_:a}),r.logicalXor=g.op({logicalXor_:i}),r.where=g.op({where_:s}),r.whereAsync=u},{"../environment":51,"../kernels/where_impl":119,"../tensor_util_env":177,"../util":181,"./broadcast_util":126,"./operation":143,"./tensor_ops":158}],137:[function(e,t,r){"use strict";function n(e,t,r){void 0===r&&(r=d.SUM_BY_NONZERO_WEIGHTS);var n=g.convertToTensor(e,"losses","computeWeightedLoss"),o=null;null!=t&&(o=g.convertToTensor(t,"weights","computeWeightedLoss"));var a=null==o?n:n.mul(o);if(r===d.NONE)return a;if(r===d.SUM)return a.sum();if(r===d.MEAN){if(null==o)return a.mean();var i=v.sizeFromShape(n.shape)/v.sizeFromShape(o.shape),s=a.sum().div(o.sum());return i>1?s.div(_.scalar(i)):s}if(r===d.SUM_BY_NONZERO_WEIGHTS){if(null==o)return a.sum().div(_.scalar(n.size));var u=o.mul(_.ones(n.shape)),l=u.notEqual(_.scalar(0)).sum().toFloat();return a.sum().div(l)}throw Error("Unknown reduction: "+r);
}function o(e,t,n,o){void 0===o&&(o=d.SUM_BY_NONZERO_WEIGHTS);var a=g.convertToTensor(e,"labels","absoluteDifference"),i=g.convertToTensor(t,"predictions","absoluteDifference"),s=null;null!=n&&(s=g.convertToTensor(n,"weights","absoluteDifference")),v.assertShapesMatch(a.shape,i.shape,"Error in absoluteDifference: ");var u=a.sub(i).abs();return r.computeWeightedLoss(u,s,o)}function a(e,t,n,o){void 0===o&&(o=d.SUM_BY_NONZERO_WEIGHTS);var a=g.convertToTensor(e,"labels","meanSquaredError"),i=g.convertToTensor(t,"predictions","meanSquaredError"),s=null;null!=n&&(s=g.convertToTensor(n,"weights","meanSquaredError")),v.assertShapesMatch(a.shape,i.shape,"Error in meanSquaredError: ");var u=a.squaredDifference(i);return r.computeWeightedLoss(u,s,o)}function i(e,t,n,o,a){void 0===a&&(a=d.SUM_BY_NONZERO_WEIGHTS);var i=g.convertToTensor(e,"labels","cosineDistance"),s=g.convertToTensor(t,"predictions","cosineDistance"),u=null;null!=o&&(u=g.convertToTensor(o,"weights","cosineDistance")),v.assertShapesMatch(i.shape,s.shape,"Error in cosineDistance: ");var l=_.scalar(1),p=l.sub(i.mul(s).sum(n,!0));return r.computeWeightedLoss(p,u,a)}function s(e,t,n,o){void 0===o&&(o=d.SUM_BY_NONZERO_WEIGHTS);var a=g.convertToTensor(e,"labels","hingeLoss"),i=g.convertToTensor(t,"predictions","hingeLoss"),s=null;null!=n&&(s=g.convertToTensor(n,"weights","hingeLoss")),v.assertShapesMatch(a.shape,i.shape,"Error in hingeLoss: ");var u=_.scalar(1);a=_.scalar(2).mul(a).sub(u);var l=u.sub(a.mul(i)).relu();return r.computeWeightedLoss(l,s,o)}function u(e,t,n,o,a){void 0===o&&(o=1e-7),void 0===a&&(a=d.SUM_BY_NONZERO_WEIGHTS);var i=g.convertToTensor(e,"labels","logLoss"),s=g.convertToTensor(t,"predictions","logLoss"),u=null;null!=n&&(u=g.convertToTensor(n,"weights","logLoss")),v.assertShapesMatch(i.shape,s.shape,"Error in logLoss: ");var l=_.scalar(1),p=_.scalar(o),c=i.mul(s.add(p).log()).neg().sub(l.sub(i).mul(l.sub(s).add(p).log()));return r.computeWeightedLoss(c,u,a)}function l(e,t){var r=g.convertToTensor(e,"labels","sigmoidCrossEntropyWithLogits"),n=g.convertToTensor(t,"logits","sigmoidCrossEntropyWithLogits");v.assertShapesMatch(r.shape,n.shape,"Error in sigmoidCrossEntropyWithLogits: ");var o=n.relu(),a=n.mul(r),i=n.abs().neg().exp().log1p();return o.sub(a).add(i)}function p(e,t,n,o,a){void 0===o&&(o=0),void 0===a&&(a=d.SUM_BY_NONZERO_WEIGHTS);var i=g.convertToTensor(e,"multiClassLabels","sigmoidCrossEntropy"),s=g.convertToTensor(t,"logits","sigmoidCrossEntropy"),u=null;if(null!=n&&(u=g.convertToTensor(n,"weights","sigmoidCrossEntropy")),v.assertShapesMatch(i.shape,s.shape,"Error in sigmoidCrossEntropy: "),o>0){var p=_.scalar(o),c=_.scalar(1),f=_.scalar(.5);i=i.mul(c.sub(p)).add(f.mul(p))}var h=l(i,s);return r.computeWeightedLoss(h,u,a)}function c(e,t,n,o,a){void 0===o&&(o=1),void 0===a&&(a=d.SUM_BY_NONZERO_WEIGHTS);var i=g.convertToTensor(e,"labels","huberLoss"),s=g.convertToTensor(t,"predictions","huberLoss"),u=null;null!=n&&(u=g.convertToTensor(n,"weights","huberLoss")),v.assertShapesMatch(i.shape,s.shape,"Error in huberLoss: ");var l=_.scalar(o),p=s.sub(i).abs(),c=x.minimum(p,l),f=p.sub(c),h=_.scalar(.5).mul(c.square()).add(l.mul(f));return r.computeWeightedLoss(h,u,a)}function f(e,t,r){if(void 0===r&&(r=-1),r===-1&&(r=t.rank-1),r!==t.rank-1)throw Error("Softmax cross entropy along a non-last dimension is not yet "+("supported. Labels / logits was rank "+t.rank+" ")+("and dim was "+r));var n=m.customGrad(function(e,t){var n=!0,o=t.logSumExp([r],n),a=t.toFloat().sub(o),i=a.mul(e).neg(),s=i.sum([r]),u=function(t){var n=y.expandShapeToKeepDim(t.shape,[r]);return[t.reshape(n).mul(e.toFloat().sub(a.exp())),t.reshape(n).mul(a.exp().sub(e.toFloat()))]};return{value:s,gradFunc:u}});return n(e,t)}function h(e,t,n,o,a){void 0===o&&(o=0),void 0===a&&(a=d.SUM_BY_NONZERO_WEIGHTS);var i=g.convertToTensor(e,"onehotLabels","softmaxCrossEntropy"),s=g.convertToTensor(t,"logits","softmaxCrossEntropy"),u=null;if(null!=n&&(u=g.convertToTensor(n,"weights","softmaxCrossEntropy")),v.assertShapesMatch(i.shape,s.shape,"Error in softmaxCrossEntropy: "),o>0){var l=_.scalar(o),p=_.scalar(1),c=_.scalar(i.shape[1]);i=i.mul(p.sub(l)).add(l.div(c))}var h=f(i,s);return r.computeWeightedLoss(h,u,a)}Object.defineProperty(r,"__esModule",{value:!0});var d,m=e("../globals"),g=e("../tensor_util_env"),v=e("../util"),y=e("./axis_util"),x=e("./binary_ops"),b=e("./operation"),_=e("./tensor_ops");!function(e){e[e.NONE=0]="NONE",e[e.MEAN=1]="MEAN",e[e.SUM=2]="SUM",e[e.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"}(d=r.Reduction||(r.Reduction={})),r.absoluteDifference=b.op({absoluteDifference_:o}),r.computeWeightedLoss=b.op({computeWeightedLoss_:n}),r.cosineDistance=b.op({cosineDistance_:i}),r.hingeLoss=b.op({hingeLoss_:s}),r.huberLoss=b.op({huberLoss_:c}),r.logLoss=b.op({logLoss_:u}),r.meanSquaredError=b.op({meanSquaredError_:a}),r.sigmoidCrossEntropy=b.op({sigmoidCrossEntropy_:p}),r.softmaxCrossEntropy=b.op({softmaxCrossEntropy_:h})},{"../globals":53,"../tensor_util_env":177,"../util":181,"./axis_util":123,"./binary_ops":125,"./operation":143,"./tensor_ops":158}],138:[function(e,t,r){"use strict";function n(e,t,r,n,s){void 0===t&&(t=5),void 0===r&&(r=1),void 0===n&&(n=1),void 0===s&&(s=.5);var u=a.convertToTensor(e,"x","localResponseNormalization");i.assert(4===u.rank||3===u.rank,"Error in localResponseNormalization: x must be rank 3 or 4 but got\n               rank "+u.rank+"."),i.assert(i.isInt(t),"Error in localResponseNormalization: depthRadius must be an integer\n                     but got depthRadius "+t+".");var l=u,p=!1;3===u.rank&&(p=!0,l=u.as4D(1,u.shape[0],u.shape[1],u.shape[2]));var c=function(e,a){var i=a[0];return{x4D:function(){return o.ENV.engine.runKernel(function(o){return o.LRNGrad(e,l,i,t,r,n,s)},{})}}},f=o.ENV.engine.runKernel(function(e,o){return o(e.localResponseNormalization4D(l,t,r,n,s))},{x4D:l},c);return p?f.as3D(f.shape[1],f.shape[2],f.shape[3]):f}Object.defineProperty(r,"__esModule",{value:!0});var o=e("../environment"),a=e("../tensor_util_env"),i=e("../util"),s=e("./operation");r.localResponseNormalization=s.op({localResponseNormalization_:n})},{"../environment":51,"../tensor_util_env":177,"../util":181,"./operation":143}],139:[function(e,t,r){"use strict";function n(e,t,r,n){for(var o=a.convertToTensor(t,"data","multiRNNCell"),i=a.convertToTensorArray(r,"c","multiRNNCell"),s=a.convertToTensorArray(n,"h","multiRNNCell"),u=o,l=[],p=0;p<e.length;p++){var c=e[p](u,i[p],s[p]);l.push(c[0]),l.push(c[1]),u=c[1]}for(var f=[],h=[],p=0;p<l.length;p+=2)f.push(l[p]),h.push(l[p+1]);return[f,h]}function o(e,t,r,n,o,i){var s=a.convertToTensor(e,"forgetBias","basicLSTMCell"),u=a.convertToTensor(t,"lstmKernel","basicLSTMCell"),l=a.convertToTensor(r,"lstmBias","basicLSTMCell"),p=a.convertToTensor(n,"data","basicLSTMCell"),c=a.convertToTensor(o,"c","basicLSTMCell"),f=a.convertToTensor(i,"h","basicLSTMCell"),h=p.concat(f,1),d=h.matMul(u),m=d.add(l),g=m.shape[0],v=m.shape[1]/4,y=[g,v],x=m.slice([0,0],y),b=m.slice([0,v],y),_=m.slice([0,2*v],y),w=m.slice([0,3*v],y),T=x.sigmoid().mulStrict(b.tanh()).addStrict(c.mulStrict(s.add(_).sigmoid())),N=T.tanh().mulStrict(w.sigmoid());return[T,N]}Object.defineProperty(r,"__esModule",{value:!0});var a=e("../tensor_util_env"),i=e("./operation");r.basicLSTMCell=i.op({basicLSTMCell_:o}),r.multiRNNCell=i.op({multiRNNCell_:n})},{"../tensor_util_env":177,"./operation":143}],140:[function(e,t,r){"use strict";function n(e,t,r,n){void 0===r&&(r=!1),void 0===n&&(n=!1);var o=s.convertToTensor(e,"a","matMul"),a=s.convertToTensor(t,"b","matMul"),l=r?o.shape[o.rank-2]:o.shape[o.rank-1],p=n?a.shape[a.rank-1]:a.shape[a.rank-2],c=r?o.shape[o.rank-1]:o.shape[o.rank-2],f=n?a.shape[a.rank-2]:a.shape[a.rank-1],h=o.shape.slice(0,-2),d=a.shape.slice(0,-2),m=u.sizeFromShape(h),g=u.sizeFromShape(d);u.assert(o.rank>=2&&a.rank>=2&&o.rank===a.rank,"Error in matMul: inputs must have the same rank of at least 2, "+("got ranks "+o.rank+" and "+a.rank+".")),u.assert(u.arraysEqual(h,d),"Error in matMul: outer dimensions ("+h+") and ("+(d+") of Tensors with shapes "+o.shape+" and ")+(a.shape+" must match.")),u.assert(l===p,"Error in matMul: inner shapes ("+l+") and ("+(p+") of Tensors with shapes "+o.shape+" and ")+(a.shape+" and transposeA="+r)+(" and transposeB="+n+" must match."));var v=o.shape.slice(0,-2).concat([c,f]),y=r?o.as3D(m,l,c):o.as3D(m,c,l),x=n?a.as3D(g,f,p):a.as3D(g,p,f),b=function(e){return r||n?!r&&n?{$a:function(){return e.matMul(x.toFloat(),!1,!1)},$b:function(){return e.matMul(y.toFloat(),!0,!1)}}:r&&!n?{$a:function(){return x.toFloat().matMul(e,!1,!0)},$b:function(){return y.toFloat().matMul(e,!1,!1)}}:{$a:function(){return x.toFloat().matMul(e,!0,!0)},$b:function(){return e.matMul(y.toFloat(),!0,!0)}}:{$a:function(){return e.matMul(x.toFloat(),!1,!0)},$b:function(){return y.toFloat().matMul(e,!0,!1)}}},_=i.ENV.engine.runKernel(function(e){return e.batchMatMul(y,x,r,n)},{$a:y,$b:x},b);return _.reshape(v)}function o(e,t){var r=s.convertToTensor(e,"v1","outerProduct"),n=s.convertToTensor(t,"v2","outerProduct");return u.assert(1===r.rank&&1===n.rank,"Error in outerProduct: inputs must be rank 1, but got ranks "+(r.rank+" and "+n.rank+".")),r.as2D(-1,1).matMul(n.as2D(1,-1))}function a(e,t){var r=s.convertToTensor(e,"t1","dot"),n=s.convertToTensor(t,"t2","dot");u.assert(!(1!==r.rank&&2!==r.rank||1!==n.rank&&2!==n.rank),"Error in dot: inputs must all be rank 1 or 2, but got ranks "+(r.rank+" and "+n.rank+"."));var o=1===r.rank?r.size:r.shape[1],a=1===n.rank?n.size:n.shape[0];return u.assert(o===a,"Error in dot: inner dimensions of inputs must match, but got "+(o+" and "+a+".")),1===r.rank&&1===n.rank?r.as2D(1,-1).matMul(n.as2D(-1,1)).asScalar():1===r.rank&&2===n.rank?r.as2D(1,-1).matMul(n.as2D(n.shape[0],n.shape[1])).as1D():2===r.rank&&1===n.rank?r.matMul(n.as2D(-1,1)).as1D():r.matMul(n.as2D(n.shape[0],n.shape[1]))}Object.defineProperty(r,"__esModule",{value:!0});var i=e("../environment"),s=e("../tensor_util_env"),u=e("../util"),l=e("./operation");r.matMul=l.op({matMul_:n}),r.dot=l.op({dot_:a}),r.outerProduct=l.op({outerProduct_:o})},{"../environment":51,"../tensor_util_env":177,"../util":181,"./operation":143}],141:[function(e,t,r){"use strict";function n(e,t,r,n,u){void 0===u&&(u=!0);var p=a.convertToTensor(e,"v","movingAverage"),c=a.convertToTensor(t,"x","movingAverage"),f=a.convertToTensor(r,"decay","movingAverage");o.assertTypesMatch(p,c),i.assert(i.arraysEqual(p.shape,c.shape),"Shape mismatch in v and x");var h=l.scalar(1),d=h.sub(f),m=c.sub(p).mul(d);if(u){i.assert(null!=n,"When using zeroDebias: true, step is required.");var g=a.convertToTensor(n,"step","movingAverage");m=m.div(h.sub(s.pow(f,g)))}return p.add(m)}Object.defineProperty(r,"__esModule",{value:!0});var o=e("../tensor_util"),a=e("../tensor_util_env"),i=e("../util"),s=e("./binary_ops"),u=e("./operation"),l=e("./tensor_ops");r.movingAverage=u.op({movingAverage_:n})},{"../tensor_util":176,"../tensor_util_env":177,"../util":181,"./binary_ops":125,"./operation":143,"./tensor_ops":158}],142:[function(e,t,r){"use strict";function n(e,t,r,n){void 0===t&&(t="euclidean"),void 0===r&&(r=null),void 0===n&&(n=!1),e=a.convertToTensor(e,"x","norm");var s=o(e,t,r),u=s.shape;if(n){var l=i.parseAxisParam(r,e.shape);u=i.expandShapeToKeepDim(s.shape,l)}return s.reshape(u)}function o(e,t,r){if(void 0===r&&(r=null),0===e.rank)return e.abs();if(1!==e.rank&&null===r)return o(e.reshape([-1]),t,r);if(1===e.rank||"number"==typeof r||r instanceof Array&&1===r.length){if(1===t)return e.abs().sum(r);if(t===1/0)return e.abs().max(r);if(t===-(1/0))return e.abs().min(r);if("euclidean"===t||2===t)return e.abs().pow(u.scalar(2,"int32")).sum(r).sqrt();throw new Error("Error in norm: invalid ord value: "+t)}if(r instanceof Array&&2===r.length){if(1===t)return e.abs().sum(r[0]).max(r[1]-1);if(t===1/0)return e.abs().sum(r[1]).max(r[0]);if(t===-(1/0))return e.abs().sum(r[1]).min(r[0]);if("fro"===t||"euclidean"===t)return e.square().sum(r).sqrt();throw new Error("Error in norm: invalid ord value: "+t)}throw new Error("Error in norm: invalid axis: "+r)}Object.defineProperty(r,"__esModule",{value:!0});var a=e("../tensor_util_env"),i=e("./axis_util"),s=e("./operation"),u=e("./tensor_ops");r.norm=s.op({norm_:n})},{"../tensor_util_env":177,"./axis_util":123,"./operation":143,"./tensor_ops":158}],143:[function(e,t,r){"use strict";function n(e){var t=Object.keys(e);if(1!==t.length)throw new Error("Please provide an object with a single key (operation name) mapping to a function. Got an object with "+(t.length+" keys."));var r=t[0],n=e[r];r.endsWith("_")&&(r=r.substring(0,r.length-1));var a=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];o.ENV.engine.startScope(r);try{var a=n.apply(void 0,e);return a instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),o.ENV.engine.endScope(a),a}catch(e){throw o.ENV.engine.endScope(null),e}};return Object.defineProperty(a,"name",{value:r,configurable:!0}),a}Object.defineProperty(r,"__esModule",{value:!0});var o=e("../environment");r.op=n},{"../environment":51}],144:[function(e,t,r){"use strict";function n(e){for(var t in e)r.hasOwnProperty(t)||(r[t]=e[t])}Object.defineProperty(r,"__esModule",{value:!0}),n(e("./batchnorm")),n(e("./complex_ops")),n(e("./concat_split")),n(e("./conv")),n(e("./matmul")),n(e("./reverse")),n(e("./pool")),n(e("./slice")),n(e("./unary_ops")),n(e("./reduction_ops")),n(e("./compare")),n(e("./binary_ops")),n(e("./relu_ops")),n(e("./logical_ops")),n(e("./array_ops")),n(e("./tensor_ops")),n(e("./transpose")),n(e("./softmax")),n(e("./lrn")),n(e("./norm")),n(e("./segment_ops")),n(e("./lstm")),n(e("./moving_average")),n(e("./strided_slice")),n(e("./topk"));var o=e("./operation");r.op=o.op;var a=e("./loss_ops");r.losses=a;var i=e("./linalg_ops");r.linalg=i;var s=e("./image_ops");r.image=s},{"./array_ops":121,"./batchnorm":124,"./binary_ops":125,"./compare":127,"./complex_ops":128,"./concat_split":129,"./conv":131,"./image_ops":134,"./linalg_ops":135,"./logical_ops":136,"./loss_ops":137,"./lrn":138,"./lstm":139,"./matmul":140,"./moving_average":141,"./norm":142,"./operation":143,"./pool":145,"./reduction_ops":148,"./relu_ops":149,"./reverse":150,"./segment_ops":151,"./slice":154,"./softmax":156,"./strided_slice":157,"./tensor_ops":158,"./topk":159,"./transpose":160,"./unary_ops":161}],145:[function(e,t,r){"use strict";function n(e,t,r,n,o){var i=u.convertToTensor(e,"x","maxPool"),c=i,f=!1;3===i.rank&&(f=!0,c=i.as4D(1,i.shape[0],i.shape[1],i.shape[2])),l.assert(4===c.rank,"Error in maxPool: input must be rank 4 but got rank "+c.rank+"."),null!=o&&l.assert(l.isInt(n),"Error in maxPool: pad must be an integer when using, "+("dimRoundingMode "+o+" but got pad "+n+"."));var h=p.computePool2DInfo(c.shape,t,r,n,o),d=function(e,o){var i=o[0];return{x:function(){return a(e,c,i,t,r,n)}}},m=s.ENV.engine.runKernel(function(e,t){return t(e.maxPool(c,h))},{x:c},d);return f?m.as3D(m.shape[1],m.shape[2],m.shape[3]):m}function o(e,t,r,n,o){var a=u.convertToTensor(e,"x","avgPool");l.assert("float32"===a.dtype,"The input dtype to avgPool must be float32");var c=a,f=!1;3===a.rank&&(f=!0,c=a.as4D(1,a.shape[0],a.shape[1],a.shape[2])),l.assert(4===c.rank,"Error in avgPool: x must be rank 4 but got rank "+c.rank+"."),null!=o&&l.assert(l.isInt(n),"Error in avgPool: pad must be an integer when using, "+("dimRoundingMode "+o+" but got pad "+n+"."));var h=p.computePool2DInfo(c.shape,t,r,n),d=function(e){return{x:function(){return i(e,c,t,r,n)}}},m=s.ENV.engine.runKernel(function(e){return e.avgPool(c,h)},{x:c},d);return m=m.cast(a.dtype),f?m.as3D(m.shape[1],m.shape[2],m.shape[3]):m}function a(e,t,r,n,o,a,i){var c=u.convertToTensor(e,"dy","maxPoolBackprop"),f=u.convertToTensor(t,"input","maxPoolBackprop"),h=u.convertToTensor(r,"output","maxPoolBackprop");l.assert(f.rank===c.rank,"Rank of input ("+f.rank+") does not match rank of dy ("+c.rank+")"),l.assert(4===c.rank,"Error in maxPoolBackprop: dy must be rank 4 but got rank "+(c.rank+".")),l.assert(4===f.rank,"Error in maxPoolBackprop: input must be rank 4 but got rank "+(f.rank+".")),null!=i&&l.assert(l.isInt(a),"Error in maxPoolBackprop: pad must be an integer when using, "+("dimRoundingMode "+i+" but got pad "+a+"."));var d=p.computePool2DInfo(f.shape,n,o,a,i),m=s.ENV.engine.runKernel(function(e){return e.maxPoolBackprop(c,f,h,d)},{$dy:c,$input:f});return m}function i(e,t,r,n,o){var a=u.convertToTensor(e,"dy","avgPoolBackprop"),i=u.convertToTensor(t,"input","avgPoolBackprop");l.assert(i.rank===a.rank,"Rank of input ("+i.rank+") does not match rank of dy ("+a.rank+")");var c=i,f=a,h=!1;3===i.rank&&(h=!0,c=i.as4D(1,i.shape[0],i.shape[1],i.shape[2]),f=a.as4D(1,a.shape[0],a.shape[1],a.shape[2])),l.assert(4===f.rank,"Error in avgPoolBackprop: dy must be rank 4 but got rank "+(f.rank+".")),l.assert(4===c.rank,"Error in avgPoolBackprop: input must be rank 4 but got rank "+(c.rank+"."));var d=p.computePool2DInfo(c.shape,r,n,o),m=s.ENV.engine.runKernel(function(e){return e.avgPoolBackprop(f,c,d)},{dy4D:f,input4D:c});return h?m.as3D(m.shape[1],m.shape[2],m.shape[3]):m}Object.defineProperty(r,"__esModule",{value:!0});var s=e("../environment"),u=e("../tensor_util_env"),l=e("../util"),p=e("./conv_util"),c=e("./operation");r.maxPool=c.op({maxPool_:n}),r.avgPool=c.op({avgPool_:o})},{"../environment":51,"../tensor_util_env":177,"../util":181,"./conv_util":132,"./operation":143}],146:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("seedrandom"),o=function(){function e(e,t,r,o,a){this.mean=e,this.stdDev=t,this.dtype=r,this.nextVal=NaN,this.truncated=o,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);var i=a?a:Math.random();this.random=n.alea(i.toString())}return e.prototype.nextValue=function(){if(!isNaN(this.nextVal)){var e=this.nextVal;return this.nextVal=NaN,e}for(var t,r,n=!1;!n;){var o=void 0,a=void 0,i=void 0;do o=2*this.random()-1,a=2*this.random()-1,i=o*o+a*a;while(i>=1||0===i);var s=Math.sqrt(-2*Math.log(i)/i);t=this.mean+this.stdDev*o*s,r=this.mean+this.stdDev*a*s,this.truncated&&!this.isValidTruncated(t)||(n=!0)}return this.truncated&&!this.isValidTruncated(r)||(this.nextVal=this.convertValue(r)),this.convertValue(t)},e.prototype.convertValue=function(e){return null==this.dtype||"float32"===this.dtype?e:Math.round(e)},e.prototype.isValidTruncated=function(e){return e<=this.upper&&e>=this.lower},e}();r.MPRandGauss=o},{seedrandom:208}],147:[function(e,t,r){"use strict";function n(e){return e<=r.PARALLELIZE_THRESHOLD?e:o.nearestDivisor(e,Math.floor(Math.sqrt(e)))}Object.defineProperty(r,"__esModule",{value:!0});var o=e("../util");r.PARALLELIZE_THRESHOLD=30,r.computeOptimalWindowSize=n},{"../util":181}],148:[function(e,t,r){"use strict";function n(e,t,r){void 0===t&&(t=null),void 0===r&&(r=!1);var n=m.convertToTensor(e,"x","logSumExp"),o=v.parseAxisParam(t,n.shape),a=n.max(o,!0),i=n.sub(a),s=i.exp(),u=s.sum(o),l=u.log(),p=a.reshape(l.shape).add(l);if(r){var c=v.expandShapeToKeepDim(p.shape,o);return p.reshape(c)}return p}function o(e,t,r){void 0===t&&(t=null),void 0===r&&(r=!1);var n=m.convertToTensor(e,"x","sum");"bool"===n.dtype&&(n=n.toInt());var o=v.parseAxisParam(t,n.shape),a=d.customGrad(function(e){var t=v.getAxesPermutation(o,e.rank),n=o,a=e;null!=t&&(a=e.transpose(t),n=v.getInnerMostAxes(n.length,e.rank));var i=h.ENV.engine.runKernel(function(e){return e.sum(a,n)},{permutedX:a});if(r){var s=v.expandShapeToKeepDim(i.shape,o);i=i.reshape(s)}var u=function(t){var r=e.shape.slice();o.forEach(function(e){r[e]=1});var n=t.reshape(r),a=n.mul(x.ones(e.shape,"float32"));return a};return{value:i,gradFunc:u}});return a(n)}function a(e,t,r){void 0===t&&(t=null),void 0===r&&(r=!1);var n=m.convertToTensor(e,"x","mean"),o=v.parseAxisParam(t,n.shape),a=v.computeOutAndReduceShapes(n.shape,o),i=a[1],s=g.sizeFromShape(i),u=d.customGrad(function(e){var n=x.scalar(s),a=n.dtype===e.dtype?e:e.cast(n.dtype),i=a.div(n),u=i.sum(t,r),l=function(t){var r=e.shape.slice();o.forEach(function(e){r[e]=1});var a=t.reshape(r),i=a.mul(x.ones(e.shape,"float32")).div(n);return i};return{value:u,gradFunc:l}});return u(n)}function i(e,t,r){void 0===t&&(t=null),void 0===r&&(r=!1);var n=m.convertToTensor(e,"x","min"),o=v.parseAxisParam(t,n.shape),a=o,i=v.getAxesPermutation(a,n.rank);null!=i&&(n=n.transpose(i),a=v.getInnerMostAxes(a.length,n.rank));var s=h.ENV.engine.runKernel(function(e){return e.min(n,a)},{$x:n});if(r){var u=v.expandShapeToKeepDim(s.shape,o);return s.reshape(u)}return s}function s(e,t,r){void 0===t&&(t=null),void 0===r&&(r=!1);var n=m.convertToTensor(e,"x","max"),o=v.parseAxisParam(t,n.shape),a=o,i=v.getAxesPermutation(a,n.rank);null!=i&&(n=n.transpose(i),a=v.getInnerMostAxes(a.length,n.rank));var s=h.ENV.engine.runKernel(function(e){return e.max(n,a)},{$x:n});if(r){var u=v.expandShapeToKeepDim(s.shape,o);return s.reshape(u)}return s}function u(e,t){void 0===t&&(t=0);var r=m.convertToTensor(e,"x","argMin");null==t&&(t=0);var n=v.parseAxisParam(t,r.shape),o=v.getAxesPermutation(n,r.rank);null!=o&&(r=r.transpose(o),n=v.getInnerMostAxes(n.length,r.rank));var a=function(e){return{$x:function(){return x.zerosLike(r)}}};return h.ENV.engine.runKernel(function(e){return e.argMin(r,n[0])},{$x:r},a)}function l(e,t){void 0===t&&(t=0);var r=m.convertToTensor(e,"x","argMax");null==t&&(t=0);var n=v.parseAxisParam(t,r.shape),o=v.getAxesPermutation(n,r.rank);null!=o&&(r=r.transpose(o),n=v.getInnerMostAxes(n.length,r.rank));var a=function(e){return{$x:function(){return x.zerosLike(r)}}};return h.ENV.engine.runKernel(function(e){return e.argMax(r,n[0])},{$x:r},a)}function p(e,t,r){void 0===t&&(t=null),void 0===r&&(r=!1);var n=m.convertToTensor(e,"x","all","bool");g.assert("bool"===n.dtype,"Error Tensor must be of type bool. Got: "+n.dtype);var o=v.parseAxisParam(t,n.shape),a=o,i=v.getAxesPermutation(a,n.rank);null!=i&&(n=n.transpose(i),a=v.getInnerMostAxes(a.length,n.rank));var s=h.ENV.engine.runKernel(function(e){return e.all(n,a)},{$x:n});if(r){var u=v.expandShapeToKeepDim(s.shape,o);return s.reshape(u)}return s}function c(e,t,r){void 0===t&&(t=null),void 0===r&&(r=!1);var n=m.convertToTensor(e,"x","any","bool");g.assert("bool"===n.dtype,"Error Tensor must be of type bool. Got: "+n.dtype);var o=v.parseAxisParam(t,n.shape),a=o,i=v.getAxesPermutation(a,n.rank);null!=i&&(n=n.transpose(i),a=v.getInnerMostAxes(a.length,n.rank));var s=h.ENV.engine.runKernel(function(e){return e.any(n,a)},{$x:n});if(r){var u=v.expandShapeToKeepDim(s.shape,o);return s.reshape(u)}return s}function f(e,t,r){void 0===t&&(t=null),void 0===r&&(r=!1),e=m.convertToTensor(e,"x","moments");var n=v.parseAxisParam(t,e.shape),o=e.mean(n,r),a=o.shape;r||(a=v.expandShapeToKeepDim(o.shape,n));var i=e.toFloat().sub(o.reshape(a)).square(),s=i.mean(n,r);return{mean:o,variance:s}}Object.defineProperty(r,"__esModule",{value:!0});var h=e("../environment"),d=e("../globals"),m=e("../tensor_util_env"),g=e("../util"),v=e("./axis_util"),y=e("./operation"),x=e("./tensor_ops");r.all=y.op({all_:p}),r.any=y.op({any_:c}),r.argMax=y.op({argMax_:l}),r.argMin=y.op({argMin_:u}),r.logSumExp=y.op({logSumExp_:n}),r.max=y.op({max_:s}),r.mean=y.op({mean_:a}),r.min=y.op({min_:i}),r.moments=y.op({moments_:f}),r.sum=y.op({sum_:o})},{"../environment":51,"../globals":53,"../tensor_util_env":177,"../util":181,"./axis_util":123,"./operation":143,"./tensor_ops":158}],149:[function(e,t,r){"use strict";function n(e){var t=l.convertToTensor(e,"x","relu");if("bool"===t.dtype)return t.toInt();var r=function(e){var r=t.step();return{$x:function(){return e.mulStrict(r.toFloat())}}};return u.ENV.engine.runKernel(function(e){return e.relu(t)},{$x:t},r)}function o(e){var t=l.convertToTensor(e,"x","elu"),r=function(e,t){var r=t[0];return{$x:function(){return u.ENV.engine.runKernel(function(t){return t.eluDer(e,r)},{dy:e,y:r})}}};return u.ENV.engine.runKernel(function(e,r){return r(e.elu(t))},{$x:t},r)}function a(e){var t=l.convertToTensor(e,"x","selu"),r=function(e){return{$x:function(){var r=t.greater(d.scalar(0)),n=d.scalar(h.SELU_SCALEALPHA),o=d.scalar(h.SELU_SCALE),a=e.mul(o),i=e.mul(n).mul(t.toFloat().exp());return c.where(r,a,i)}}};return u.ENV.engine.runKernel(function(e){return e.selu(t)},{$x:t},r)}function i(e,t){void 0===t&&(t=.2);var r=l.convertToTensor(e,"x","leakyRelu");return p.maximum(d.scalar(t).mul(r),r)}function s(e,t){var r=l.convertToTensor(e,"x","prelu"),n=l.convertToTensor(t,"alpha","prelu"),o=d.scalar(0);return p.maximum(o,r).add(n.mul(p.minimum(o,r)))}Object.defineProperty(r,"__esModule",{value:!0});var u=e("../environment"),l=e("../tensor_util_env"),p=e("./binary_ops"),c=e("./logical_ops"),f=e("./operation"),h=e("./selu_util"),d=e("./tensor_ops");r.elu=f.op({elu_:o}),r.leakyRelu=f.op({leakyRelu_:i}),r.prelu=f.op({prelu_:s}),r.relu=f.op({relu_:n}),r.selu=f.op({selu_:a})},{"../environment":51,"../tensor_util_env":177,"./binary_ops":125,"./logical_ops":136,"./operation":143,"./selu_util":153,"./tensor_ops":158}],150:[function(e,t,r){"use strict";function n(e){var t=l.convertToTensor(e,"x","reverse");return p.assert(1===t.rank,"Error in reverse1D: x must be rank 1 but got\n             rank "+t.rank+"."),r.reverse(t,0)}function o(e,t){var n=l.convertToTensor(e,"x","reverse");return p.assert(2===n.rank,"Error in reverse2D: x must be rank 2 but got\n             rank "+n.rank+"."),r.reverse(n,t)}function a(e,t){var n=l.convertToTensor(e,"x","reverse");return p.assert(3===n.rank,"Error in reverse3D: x must be rank 3 but got\n             rank "+n.rank+"."),r.reverse(n,t)}function i(e,t){var n=l.convertToTensor(e,"x","reverse");return p.assert(4===n.rank,"Error in reverse4D: x must be rank 4 but got\n             rank "+n.rank+"."),r.reverse(n,t)}function s(e,t){var r=l.convertToTensor(e,"x","reverse");if(0===r.rank)return r.clone();var n=c.parseAxisParam(t,r.shape),o=function(e){return{$x:function(){return e.reverse(n)}}},a=u.ENV.engine.runKernel(function(e){return e.reverse(r,n)},{$x:r},o);return a.reshapeAs(r)}Object.defineProperty(r,"__esModule",{value:!0});var u=e("../environment"),l=e("../tensor_util_env"),p=e("../util"),c=e("./axis_util"),f=e("./operation");r.reverse=f.op({reverse_:s}),r.reverse1d=f.op({reverse1d_:n}),r.reverse2d=f.op({reverse2d_:o}),r.reverse3d=f.op({reverse3d_:a}),r.reverse4d=f.op({reverse4d_:i})},{"../environment":51,"../tensor_util_env":177,"../util":181,"./axis_util":123,"./operation":143}],151:[function(e,t,r){"use strict";function n(e,t,r){var n=l.convertToTensor(e,"x","unsortedSegmentSum"),o=l.convertToTensor(t,"segmentIds","unsortedSegmentSum","int32");p.assert("int32"===o.dtype,"segmentIds must be of dtype `int32`"),p.assert(p.isInt(r),"numSegments must be of dtype int");var a=function(e){var t=function(){return s(e,o)};return{$x:t}};return u.ENV.engine.runKernel(function(e){return e.unsortedSegmentSum(n,o,r)},{$x:n},a)}function o(e,t,n){void 0===n&&(n=0);var o=l.convertToTensor(e,"x","gather"),s=l.convertToTensor(t,"indices","gather","int32");p.assert("int32"===s.dtype,"Indices must be of dtype `int32`"),n=f.parseAxisParam(n,o.shape)[0];var c=function(e){var t=function(){if(0===n)return r.unsortedSegmentSum(e,s,o.shape[n]);var t=o.shape,u=s.size,l=t.slice(0,n),p=l.length,c=t.slice(n,t.length).slice(1),h=c.length,d=a(0,p),m=a(p+1,p+1+h),g=i([l,[u],c]),v=e.reshape(g),y=s.reshape([u]),x=i([[p],d,m]),b=v.transpose(x),_=r.unsortedSegmentSum(b,y,o.shape[n]),w=f.getUndoAxesPermutation(x);return _=_.transpose(w)};return{$x:t}};return u.ENV.engine.runKernel(function(e){return e.gather(o,s,n)},{$x:o},c)}function a(e,t){for(var r=[],n=e;n<t;++n)r.push(n);return r}function i(e){for(var t=[],r=0;r<e.length;++r)for(var n=0;n<e[r].length;++n)t.push(e[r][n]);return t}function s(e,t){for(var n=h.maximum(t,v.zerosLike(t)),o=r.gather(e,n),a=d.greaterEqual(t,v.scalar(0,"int32")),i=o.rank-a.rank,s=0;s<i;++s)a=c.expandDims(a,s+1);a=m.logicalAnd(a,v.ones(o.shape,"bool"));var u=v.zerosLike(o);return m.where(a,o,u)}Object.defineProperty(r,"__esModule",{value:!0});var u=e("../environment"),l=e("../tensor_util_env"),p=e("../util"),c=e("./array_ops"),f=e("./axis_util"),h=e("./binary_ops"),d=e("./compare"),m=e("./logical_ops"),g=e("./operation"),v=e("./tensor_ops");r.gather=g.op({gather_:o}),r.unsortedSegmentSum=g.op({unsortedSegmentSum_:n})},{"../environment":51,"../tensor_util_env":177,"../util":181,"./array_ops":121,"./axis_util":123,"./binary_ops":125,"./compare":127,"./logical_ops":136,"./operation":143,"./tensor_ops":158}],152:[function(e,t,r){"use strict";function n(e,t){var r,n=!1;for(e<=i.PARALLELIZE_THRESHOLD?(r=e,n=!0):r=a.nearestDivisor(e,Math.floor(Math.sqrt(e)));!n;){if(r>t||r===e){n=!0;break}r=a.nearestDivisor(e,r+1)}return r}function o(e,t,r){for(var n=[],o=e.length,a=0;a<o;a++)a!==t?n.push(e[a]):n.push(r);return n}Object.defineProperty(r,"__esModule",{value:!0});var a=e("../util"),i=e("./reduce_util");r.segOpComputeOptimalWindowSize=n,r.computeOutShape=o},{"../util":181,"./reduce_util":147}],153:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.SELU_SCALEALPHA=1.7580993408473768,r.SELU_SCALE=1.0507009873554805},{}],154:[function(e,t,r){"use strict";function n(e,t,n){var o=l.convertToTensor(e,"x","slice1d");return p.assert(1===o.rank,"slice1d expects a rank-1 tensor, but got a rank-"+o.rank+" tensor"),r.slice(o,[t],[n])}function o(e,t,n){var o=l.convertToTensor(e,"x","slice2d");return p.assert(2===o.rank,"slice1d expects a rank-2 tensor, but got a rank-"+o.rank+" tensor"),r.slice(o,t,n)}function a(e,t,n){var o=l.convertToTensor(e,"x","slice3d");return p.assert(3===o.rank,"slice1d expects a rank-3 tensor, but got a rank-"+o.rank+" tensor"),r.slice(o,t,n)}function i(e,t,n){var o=l.convertToTensor(e,"x","slice4d");return p.assert(4===o.rank,"slice1d expects a rank-4 tensor, but got a rank-"+o.rank+" tensor"),r.slice(o,t,n)}function s(e,t,r){var n=l.convertToTensor(e,"x","slice");if(0===n.rank)throw new Error("Slicing scalar is not possible");var o;o="number"==typeof t?[t].concat(new Array(n.rank-1).fill(0)):t.length<n.rank?t.concat(new Array(n.rank-t.length).fill(0)):t.slice();var a;a=null==r?new Array(n.rank).fill(-1):"number"==typeof r?[r].concat(new Array(n.rank-1).fill(-1)):r.length<n.rank?r.concat(new Array(n.rank-r.length).fill(-1)):r,a=a.map(function(e,t){return e>=0?e:(p.assert(e===-1,"Bad value in size"),n.shape[t]-o[t])}),f.assertParamsValid(n,o,a);var i=n.shape,s=function(e){for(var t=[],r=0;r<e.rank;r++)t.push([o[r],i[r]-o[r]-a[r]]);return{$x:function(){return e.pad(t)}}};return u.ENV.engine.runKernel(function(e){return e.slice(n,o,a)},{$x:n},s)}Object.defineProperty(r,"__esModule",{value:!0});var u=e("../environment"),l=e("../tensor_util_env"),p=e("../util"),c=e("./operation"),f=e("./slice_util");r.slice=c.op({slice_:s}),r.slice1d=c.op({slice1d_:n}),r.slice2d=c.op({slice2d_:o}),r.slice3d=c.op({slice3d_:a}),r.slice4d=c.op({slice4d_:i})},{"../environment":51,"../tensor_util_env":177,"../util":181,"./operation":143,"./slice_util":155}],155:[function(e,t,r){"use strict";function n(e,t,r){s.assert(e.rank===t.length,"Error in slice"+e.rank+"D: Length of begin "+t+" must "+("match the rank of the array ("+e.rank+").")),s.assert(e.rank===r.length,"Error in slice"+e.rank+"D: Length of size "+r+" must "+("match the rank of the array ("+e.rank+")."));for(var n=0;n<e.rank;++n)s.assert(t[n]+r[n]<=e.shape[n],"Error in slice"+e.rank+"D: begin["+n+"] + size["+n+"] "+("("+(t[n]+r[n])+") would overflow input.shape["+n+"] ("+e.shape[n]+")"))}function o(e,t,r,n,o,s,u,l,p){if(void 0===o&&(o=0),void 0===s&&(s=0),void 0===u&&(u=0),void 0===l&&(l=0),void 0===p&&(p=0),0!==u)throw new Error("ellipsis mask is not yet supported");if(0!==l)throw new Error("new axis mask is not yet supported");for(var c=[],f=[],h=[],d=0;d<e.length;d++)c[d]=a(o,t,n,e,d),f[d]=i(s,r,n,e,d),p&1<<d&&(f[d]=c[d]+1,h.push(d));var m=new Array(e.length).fill(0);return m=m.map(function(e,t){for(var r=0,o=c[t];!(n[t]>0?o>=f[t]:o<=f[t]);o+=n[t])r+=1;return r}),[c,m,h]}function a(e,t,r,n,o){var a=t[o];e&1<<o&&(a=r[o]>0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);
var i=n[o];return a<0&&(a+=i),a=s.clamp(0,a,i-1)}function i(e,t,r,n,o){var a=t[o];e&1<<o&&(a=r[o]>0?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);var i=n[o];return a<0&&(a+=i),a=r[o]>0?s.clamp(0,a,i):s.clamp(-1,a,i-1)}Object.defineProperty(r,"__esModule",{value:!0});var s=e("../util");r.assertParamsValid=n,r.getStridedSlicedInfo=o,r.startForAxis=a,r.stopForAxis=i},{"../util":181}],156:[function(e,t,r){"use strict";function n(e,t){void 0===t&&(t=-1);var r=a.convertToTensor(e,"logits","softmax");if(t===-1&&(t=r.rank-1),t!==r.rank-1)throw Error("Softmax along a non-last dimension is not yet supported. "+("Logits was rank "+r.rank+" and dim was "+t));var n=o.customGrad(function(e){var r=!0,n=e.logSumExp([t],r),o=e.toFloat().sub(n),a=o.exp(),i=function(e){var r=e.mul(a),n=!0;return r.sub(r.sum([t],n).mul(a))};return{value:a,gradFunc:i}});return n(r)}Object.defineProperty(r,"__esModule",{value:!0});var o=e("../gradients"),a=e("../tensor_util_env"),i=e("./operation");r.softmax=i.op({softmax_:n})},{"../gradients":54,"../tensor_util_env":177,"./operation":143}],157:[function(e,t,r){"use strict";function n(e,t,r,n,i,s,u,l,p){if(void 0===i&&(i=0),void 0===s&&(s=0),void 0===u&&(u=0),void 0===l&&(l=0),void 0===p&&(p=0),0!==u)throw new Error("ellipsis mask is not yet supported");if(0!==l)throw new Error("new axis mask is not yet supported");var c=a.convertToTensor(e,"x","stridedSlice");return o.ENV.engine.runKernel(function(e){return e.stridedSlice(c,t,r,n,i,s,u,l,p)},{$x:c})}Object.defineProperty(r,"__esModule",{value:!0});var o=e("../environment"),a=e("../tensor_util_env"),i=e("./operation");r.stridedSlice=i.op({stridedSlice_:n})},{"../environment":51,"../tensor_util_env":177,"./operation":143}],158:[function(e,t,r){"use strict";function n(e,t,r){if(void 0===r&&(r="float32"),"complex64"===r)throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(!_.isTypedArray(e)&&!Array.isArray(e)&&"number"!=typeof e&&"boolean"!=typeof e)throw new Error("values passed to tensor(values) must be an array of numbers or booleans, or a TypedArray");var n=_.inferShape(e);return null!=t&&1!==n.length&&_.assertShapesMatch(t,n,"Error creating a new Tensor. "+("Inferred shape ("+n+") does not match the ")+("provided shape ("+t+"). ")),_.isTypedArray(e)||Array.isArray(e)||(e=[e]),t=t||n,x.Tensor.make(t,{values:_.toTypedArray(e,r,y.ENV.get("DEBUG"))},r)}function o(e,t){if(void 0===t&&(t="float32"),(_.isTypedArray(e)||Array.isArray(e))&&"complex64"!==t)throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean)");return n(e,[],t)}function a(e,t){void 0===t&&(t="float32"),_.assertNonNull(e);var r=_.inferShape(e);if(1!==r.length)throw new Error("tensor1d() requires values to be a flat/TypedArray");return n(e,r,t)}function i(e,t,r){if(void 0===r&&(r="float32"),_.assertNonNull(e),null!=t&&2!==t.length)throw new Error("tensor2d() requires shape to have two numbers");var o=_.inferShape(e);if(2!==o.length&&1!==o.length)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(1===o.length&&null==t)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return t=t||o,n(e,t,r)}function s(e,t,r){if(void 0===r&&(r="float32"),_.assertNonNull(e),null!=t&&3!==t.length)throw new Error("tensor3d() requires shape to have three numbers");var o=_.inferShape(e);if(3!==o.length&&1!==o.length)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(1===o.length&&null==t)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return t=t||o,n(e,t,r)}function u(e,t,r){if(void 0===r&&(r="float32"),_.assertNonNull(e),null!=t&&4!==t.length)throw new Error("tensor4d() requires shape to have four numbers");var o=_.inferShape(e);if(4!==o.length&&1!==o.length)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(1===o.length&&null==t)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return t=t||o,n(e,t,r)}function l(e,t,r){if(void 0===r&&(r="float32"),_.assertNonNull(e),null!=t&&5!==t.length)throw new Error("tensor5d() requires shape to have five numbers");var o=_.inferShape(e);if(5!==o.length&&1!==o.length)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(1===o.length&&null==t)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return t=t||o,n(e,t,r)}function p(e,t,r){if(void 0===r&&(r="float32"),_.assertNonNull(e),null!=t&&6!==t.length)throw new Error("tensor6d() requires shape to have six numbers");var o=_.inferShape(e);if(6!==o.length&&1!==o.length)throw new Error("tensor6d() requires values to be number[][][][] or flat/TypedArray");if(1===o.length&&null==t)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return t=t||o,n(e,t,r)}function c(e,t){if(void 0===t&&(t="float32"),"complex64"===t){var r=c(e,"float32"),n=c(e,"float32");return w.complex(r,n)}var o=_.makeOnesTypedArray(_.sizeFromShape(e),t);return x.Tensor.make(e,{values:o},t)}function f(e,t){if(void 0===t&&(t="float32"),"complex64"===t){var r=f(e,"float32"),n=f(e,"float32");return w.complex(r,n)}var o=_.makeZerosTypedArray(_.sizeFromShape(e),t);return x.Tensor.make(e,{values:o},t)}function h(e,t,r){void 0===r&&(r="float32");var n=_.getTypedArrayFromDType(r,_.sizeFromShape(e));return n.fill(t),x.Tensor.make(e,{values:n},r)}function d(e){var t=b.convertToTensor(e,"x","onesLike");return c(t.shape,t.dtype)}function m(e){var t=b.convertToTensor(e,"x","zerosLike");return f(t.shape,t.dtype)}function g(e,t,r){if(0===r)throw new Error("Cannot request zero samples");var n=(t-e)/(r-1),o=_.makeZerosTypedArray(r,"float32");o[0]=e;for(var i=1;i<o.length;i++)o[i]=o[i-1]+n;return a(o,"float32")}function v(e,t,r,n){if(void 0===r&&(r=1),void 0===n&&(n="float32"),0===r)throw new Error("Cannot have a step of zero");var o=e===t,i=e<t&&r<0,s=t<e&&r>1;if(o||i||s)return f([0],n);var u=Math.abs(Math.ceil((t-e)/r)),l=_.makeZerosTypedArray(u,n);t<e&&1===r&&(r=-1),l[0]=e;for(var p=1;p<l.length;p++)l[p]=l[p-1]+r;return a(l,n)}Object.defineProperty(r,"__esModule",{value:!0});var y=e("../environment"),x=e("../tensor"),b=e("../tensor_util_env"),_=e("../util"),w=e("./complex_ops"),T=e("./operation");r.tensor=n,r.scalar=o,r.tensor1d=a,r.tensor2d=i,r.tensor3d=s,r.tensor4d=u,r.tensor5d=l,r.tensor6d=p,r.ones=c,r.zeros=f,r.fill=h,r.linspace=g,r.range=v,r.onesLike=T.op({onesLike_:d}),r.zerosLike=T.op({zerosLike_:m})},{"../environment":51,"../tensor":174,"../tensor_util_env":177,"../util":181,"./complex_ops":128,"./operation":143}],159:[function(e,t,r){"use strict";function n(e,t,r){void 0===t&&(t=1),void 0===r&&(r=!0);var n=a.convertToTensor(e,"x","topk");if(0===n.rank)throw new Error("topk() expects the input to be of rank 1 or higher");var i=n.shape[n.shape.length-1];if(t>i)throw new Error("'k' passed to topk() must be <= the last dimension ("+i+") but got "+t);var s=o.ENV.engine.runKernel(function(e){return e.topk(n,t,r)},{$x:n}),u=s[0],l=s[1];return{values:u,indices:l}}Object.defineProperty(r,"__esModule",{value:!0});var o=e("../environment"),a=e("../tensor_util_env"),i=e("./operation");r.topk=i.op({topk_:n})},{"../environment":51,"../tensor_util_env":177,"./operation":143}],160:[function(e,t,r){"use strict";function n(e,t){var r=a.convertToTensor(e,"x","transpose");if(null==t&&(t=r.shape.map(function(e,t){return t}).reverse()),i.assert(r.rank===t.length,"Error in transpose: rank of input "+r.rank+" "+("must match length of perm "+t+".")),t.forEach(function(e){i.assert(e>=0&&e<r.rank,"All entries in 'perm' must be between 0 and "+(r.rank-1)+(" but got "+t))}),r.rank<=1)return r.clone();var n=function(e){var r=s.getUndoAxesPermutation(t);return{$x:function(){return e.transpose(r)}}};return o.ENV.engine.runKernel(function(e){return e.transpose(r,t)},{$x:r},n)}Object.defineProperty(r,"__esModule",{value:!0});var o=e("../environment"),a=e("../tensor_util_env"),i=e("../util"),s=e("./axis_util"),u=e("./operation");r.transpose=u.op({transpose_:n})},{"../environment":51,"../tensor_util_env":177,"../util":181,"./axis_util":123,"./operation":143}],161:[function(e,t,r){"use strict";function n(e){var t=V.convertToTensor(e,"x","neg"),r=function(e){return{$x:function(){return e.neg()}}};return D.ENV.engine.runKernel(function(e){return e.neg(t)},{$x:t},r)}function o(e){var t=V.convertToTensor(e,"x","ceil"),r=function(e){return{$x:function(){return B.zerosLike(e)}}};return D.ENV.engine.runKernel(function(e){return e.ceil(t)},{$x:t},r)}function a(e){var t=V.convertToTensor(e,"x","floor"),r=function(e){return{$x:function(){return B.zerosLike(e)}}};return D.ENV.engine.runKernel(function(e){return e.floor(t)},{$x:t},r)}function i(e){var t=V.convertToTensor(e,"x","sign"),r=function(e){return{$x:function(){return B.zerosLike(e)}}};return D.ENV.engine.runKernel(function(e){return e.sign(t)},{$x:t},r)}function s(e){var t=V.convertToTensor(e,"x","round"),r=function(e){return{$x:function(){return B.zerosLike(e)}}};return D.ENV.engine.runKernel(function(e){return e.round(t)},{$x:t},r)}function u(e){var t=V.convertToTensor(e,"x","exp"),r=function(e,t){var r=t[0];return{$x:function(){return e.mulStrict(r)}}};return D.ENV.engine.runKernel(function(e,r){return r(e.exp(t))},{$x:t},r)}function l(e){var t=V.convertToTensor(e,"x","expm1"),r=function(e){return{$x:function(){return e.mulStrict(t.exp())}}};return D.ENV.engine.runKernel(function(e){return e.expm1(t)},{$x:t},r)}function p(e){var t=V.convertToTensor(e,"x","log"),r=function(e){return{$x:function(){return e.divStrict(t.toFloat())}}};return D.ENV.engine.runKernel(function(e){return e.log(t)},{$x:t},r)}function c(e){var t=V.convertToTensor(e,"x","log1p"),r=function(e){return{$x:function(){return e.divStrict(t.add(B.scalar(1)))}}};return D.ENV.engine.runKernel(function(e){return e.log1p(t)},{$x:t},r)}function f(e){var t=V.convertToTensor(e,"x","sqrt"),r=function(e){return{$x:function(){return e.divStrict(t.toFloat().sqrt().mul(B.scalar(2)))}}};return D.ENV.engine.runKernel(function(e){return e.sqrt(t)},{$x:t},r)}function h(e){var t=V.convertToTensor(e,"x","rsqrt"),r=function(e){return{$x:function(){return e.divStrict(t.pow(B.scalar(1.5)).mul(B.scalar(2))).neg()}}};return D.ENV.engine.runKernel(function(e){return e.rsqrt(t)},{$x:t},r)}function d(e){var t=V.convertToTensor(e,"x","square"),r=function(e){return{$x:function(){return e.mulStrict(t.toFloat().mul(B.scalar(2)))}}};return D.ENV.engine.runKernel(function(e){return e.square(t)},{$x:t},r)}function m(e){var t=V.convertToTensor(e,"x","reciprocal"),r=function(e){return{$x:function(){return e.divStrict(t.square().neg())}}};return D.ENV.engine.runKernel(function(e){return e.reciprocal(t)},{$x:t},r)}function g(e){var t=V.convertToTensor(e,"x","abs"),r=function(e){return{$x:function(){return e.mulStrict(t.toFloat().step(-1))}}};return D.ENV.engine.runKernel(function(e){return e.abs(t)},{$x:t},r)}function v(e,t,r){var n=V.convertToTensor(e,"x","clipByValue");L.assert(t<=r,"Error in clip: min ("+t+") must be "+("less than or equal to max ("+r+")."));var o=function(e){return{$x:function(){return e.where(n.greaterEqual(B.scalar(t)).logicalAnd(n.lessEqual(B.scalar(r))),B.zerosLike(e))}}};return D.ENV.engine.runKernel(function(e){return e.clip(n,t,r)},{$x:n},o)}function y(e){var t=V.convertToTensor(e,"x","sigmoid"),r=function(e,t){var r=t[0];return{$x:function(){return e.mulStrict(r.mul(B.scalar(1).sub(r)))}}};return D.ENV.engine.runKernel(function(e,r){return r(e.sigmoid(t))},{$x:t},r)}function x(e){var t=V.convertToTensor(e,"x","logSigmoid"),r=function(e){return{$x:function(){return e.mulStrict(t.neg().sigmoid())}}};return D.ENV.engine.runKernel(function(e){return e.softplus(t.neg()).neg()},{$x:t},r)}function b(e){var t=V.convertToTensor(e,"x","softplus"),r=function(e){return{$x:function(){return e.mulStrict(t.sigmoid())}}};return D.ENV.engine.runKernel(function(e){return e.softplus(t)},{$x:t},r)}function _(e){var t=V.convertToTensor(e,"x","sin"),r=function(e){return{$x:function(){return t.toFloat().cos().mulStrict(e)}}};return D.ENV.engine.runKernel(function(e){return e.sin(t)},{$x:t},r)}function w(e){var t=V.convertToTensor(e,"x","cos"),r=function(e){return{$x:function(){return t.toFloat().sin().neg().mulStrict(e)}}};return D.ENV.engine.runKernel(function(e){return e.cos(t)},{$x:t},r)}function T(e){var t=V.convertToTensor(e,"x","tan"),r=function(e){return{$x:function(){return e.divStrict(t.cos().square())}}};return D.ENV.engine.runKernel(function(e){return e.tan(t)},{$x:t},r)}function N(e){var t=V.convertToTensor(e,"x","asin"),r=function(e){return{$x:function(){return e.divStrict(B.scalar(1).sub(t.toFloat().square()).sqrt())}}};return D.ENV.engine.runKernel(function(e){return e.asin(t)},{$x:t},r)}function P(e){var t=V.convertToTensor(e,"x","acos"),r=function(e){return{$x:function(){return e.divStrict(B.scalar(1).sub(t.toFloat().square()).sqrt()).neg()}}};return D.ENV.engine.runKernel(function(e){return e.acos(t)},{$x:t},r)}function S(e){var t=V.convertToTensor(e,"x","atan"),r=function(e){return{$x:function(){return e.divStrict(B.scalar(1).add(t.toFloat().square()))}}};return D.ENV.engine.runKernel(function(e){return e.atan(t)},{$x:t},r)}function E(e){var t=V.convertToTensor(e,"x","sinh"),r=function(e){return{$x:function(){return t.toFloat().cosh().mulStrict(e)}}};return D.ENV.engine.runKernel(function(e){return e.sinh(t)},{$x:t},r)}function k(e){var t=V.convertToTensor(e,"x","cosh"),r=function(e){return{$x:function(){return t.toFloat().sinh().mulStrict(e)}}};return D.ENV.engine.runKernel(function(e){return e.cosh(t)},{$x:t},r)}function A(e){var t=V.convertToTensor(e,"x","tanh"),r=function(e,t){var r=t[0];return{$x:function(){return B.scalar(1).sub(r.square()).mulStrict(e)}}};return D.ENV.engine.runKernel(function(e,r){return r(e.tanh(t))},{$x:t},r)}function O(e){var t=V.convertToTensor(e,"x","asinh"),r=function(e){return{$x:function(){return e.divStrict(B.scalar(1).add(t.toFloat().square()).sqrt())}}};return D.ENV.engine.runKernel(function(e){return e.asinh(t)},{$x:t},r)}function I(e){var t=V.convertToTensor(e,"x","acosh"),r=function(e){return{$x:function(){return e.divStrict(t.toFloat().square().sub(B.scalar(1)).sqrt())}}};return D.ENV.engine.runKernel(function(e){return e.acosh(t)},{$x:t},r)}function C(e){var t=V.convertToTensor(e,"x","atanh"),r=function(e){return{$x:function(){return e.divStrict(B.scalar(1).sub(t.toFloat().square()))}}};return D.ENV.engine.runKernel(function(e){return e.atanh(t)},{$x:t},r)}function R(e){var t=V.convertToTensor(e,"x","erf");L.assert("int32"===t.dtype||"float32"===t.dtype,"Input dtype must be `int32` or `float32`."),"int32"===t.dtype&&(t=t.toFloat());var r=function(e){return{$x:function(){return e.mulStrict(B.scalar(2/Math.sqrt(Math.PI)).mul(t.square().neg().exp()))}}};return D.ENV.engine.runKernel(function(e){return e.erf(t)},{$x:t},r)}function M(e,t){void 0===t&&(t=0);var r=V.convertToTensor(e,"x","step"),n=function(e){return{$x:function(){return B.zerosLike(e)}}};return D.ENV.engine.runKernel(function(e){return e.step(r,t)},{$x:r},n)}Object.defineProperty(r,"__esModule",{value:!0});var D=e("../environment"),V=e("../tensor_util_env"),L=e("../util"),F=e("./operation"),B=e("./tensor_ops");r.abs=F.op({abs_:g}),r.acos=F.op({acos_:P}),r.acosh=F.op({acosh_:I}),r.asin=F.op({asin_:N}),r.asinh=F.op({asinh_:O}),r.atan=F.op({atan_:S}),r.atanh=F.op({atanh_:C}),r.ceil=F.op({ceil_:o}),r.clipByValue=F.op({clipByValue_:v}),r.cos=F.op({cos_:w}),r.cosh=F.op({cosh_:k}),r.erf=F.op({erf_:R}),r.exp=F.op({exp_:u}),r.expm1=F.op({expm1_:l}),r.floor=F.op({floor_:a}),r.log=F.op({log_:p}),r.log1p=F.op({log1p_:c}),r.logSigmoid=F.op({logSigmoid_:x}),r.neg=F.op({neg_:n}),r.reciprocal=F.op({reciprocal_:m}),r.round=F.op({round_:s}),r.rsqrt=F.op({rsqrt_:h}),r.sigmoid=F.op({sigmoid_:y}),r.sign=F.op({sign_:i}),r.sin=F.op({sin_:_}),r.sinh=F.op({sinh_:E}),r.softplus=F.op({softplus_:b}),r.sqrt=F.op({sqrt_:f}),r.square=F.op({square_:d}),r.step=F.op({step_:M}),r.tan=F.op({tan_:T}),r.tanh=F.op({tanh_:A})},{"../environment":51,"../tensor_util_env":177,"../util":181,"./operation":143,"./tensor_ops":158}],162:[function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=e("../environment"),a=e("../globals"),i=e("../ops/ops"),s=e("../serialization"),u=e("./optimizer"),l=function(e){function t(t,r,n){void 0===n&&(n=null);var s=e.call(this)||this;return s.learningRate=t,s.rho=r,s.epsilon=n,s.accumulatedGrads={},s.accumulatedUpdates={},s.c=a.keep(i.scalar(-t)),s.rhoScalar=a.keep(i.scalar(r)),s.oneMinusRho=a.keep(i.scalar(1-r)),null===n&&(n=o.ENV.get("EPSILON")),s.epsilonScalar=a.keep(i.scalar(n)),s}return n(t,e),t.prototype.applyGradients=function(e){var t=this,r=function(r){var s=o.ENV.engine.registeredVariables[r];if(null==n.accumulatedGrads[r]){var u=!1;a.tidy(function(){t.accumulatedGrads[r]=i.zerosLike(s).variable(u)})}if(null==n.accumulatedUpdates[r]){var l=!1;a.tidy(function(){t.accumulatedUpdates[r]=i.zerosLike(s).variable(l)})}var p=e[r],c=n.accumulatedGrads[r],f=n.accumulatedUpdates[r];a.tidy(function(){var e=t.rhoScalar.mul(c).add(t.oneMinusRho.mul(p.square())),n=f.add(t.epsilonScalar).sqrt().div(c.add(t.epsilonScalar).sqrt()).mul(p),o=t.rhoScalar.mul(f).add(t.oneMinusRho.mul(n.square()));t.accumulatedGrads[r].assign(e),t.accumulatedUpdates[r].assign(o);var a=t.c.mul(n).add(s);s.assign(a)})},n=this;for(var s in e)r(s)},t.prototype.dispose=function(){var e=this;this.c.dispose(),this.epsilonScalar.dispose(),this.rhoScalar.dispose(),this.oneMinusRho.dispose(),null!=this.accumulatedUpdates&&(Object.keys(this.accumulatedUpdates).forEach(function(t){return e.accumulatedUpdates[t].dispose()}),Object.keys(this.accumulatedGrads).forEach(function(t){return e.accumulatedGrads[t].dispose()}))},t.prototype.getConfig=function(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}},t.fromConfig=function(e,t){return new e(t.learningRate,t.rho,t.epsilon)},t.className="AdadeltaOptimizer",t}(u.Optimizer);r.AdadeltaOptimizer=l,s.registerClass(l)},{"../environment":51,"../globals":53,"../ops/ops":144,"../serialization":172,"./optimizer":167}],163:[function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=e("../environment"),a=e("../globals"),i=e("../ops/ops"),s=e("../serialization"),u=e("./optimizer"),l=function(e){function t(t,r){void 0===r&&(r=.1);var n=e.call(this)||this;return n.learningRate=t,n.initialAccumulatorValue=r,n.accumulatedGrads={},n.c=a.keep(i.scalar(-t)),n.epsilon=a.keep(i.scalar(o.ENV.get("EPSILON"))),n}return n(t,e),t.prototype.applyGradients=function(e){var t=this,r=function(r){var s=o.ENV.engine.registeredVariables[r];if(null==n.accumulatedGrads[r]){var u=!1;a.tidy(function(){t.accumulatedGrads[r]=i.fill(s.shape,t.initialAccumulatorValue).variable(u)})}var l=e[r],p=n.accumulatedGrads[r];a.tidy(function(){var e=p.add(l.square());t.accumulatedGrads[r].assign(e);var n=t.c.mul(l.div(e.add(t.epsilon).sqrt())).add(s);s.assign(n)})},n=this;for(var s in e)r(s)},t.prototype.dispose=function(){var e=this;this.epsilon.dispose(),this.c.dispose(),null!=this.accumulatedGrads&&Object.keys(this.accumulatedGrads).forEach(function(t){return e.accumulatedGrads[t].dispose()})},t.prototype.getConfig=function(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}},t.fromConfig=function(e,t){return new e(t.learningRate,t.initialAccumulatorValue)},t.className="AdagradOptimizer",t}(u.Optimizer);r.AdagradOptimizer=l,s.registerClass(l)},{"../environment":51,"../globals":53,"../ops/ops":144,"../serialization":172,"./optimizer":167}],164:[function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=e("../environment"),a=e("../globals"),i=e("../ops/ops"),s=e("../serialization"),u=e("./optimizer"),l=function(e){function t(t,r,n,s){void 0===s&&(s=null);var u=e.call(this)||this;return u.learningRate=t,u.beta1=r,u.beta2=n,u.epsilon=s,u.accumulatedFirstMoment={},u.accumulatedSecondMoment={},u.c=a.keep(i.scalar(-t)),u.beta1Scalar=a.keep(i.scalar(r)),u.beta2Scalar=a.keep(i.scalar(n)),a.tidy(function(){u.accBeta1=i.scalar(r).variable(),u.accBeta2=i.scalar(n).variable()}),u.oneMinusBeta1=a.keep(i.scalar(1-r)),u.oneMinusBeta2=a.keep(i.scalar(1-n)),u.one=a.keep(i.scalar(1)),null===s&&(s=o.ENV.get("EPSILON")),u.epsScalar=a.keep(i.scalar(s)),u}return n(t,e),t.prototype.applyGradients=function(e){var t=this;a.tidy(function(){var r=t.one.sub(t.accBeta1),n=t.one.sub(t.accBeta2);for(var a in e){var s=o.ENV.engine.registeredVariables[a];if(null==t.accumulatedFirstMoment[a]){var u=!1;t.accumulatedFirstMoment[a]=i.zerosLike(s).variable(u)}if(null==t.accumulatedSecondMoment[a]){var u=!1;t.accumulatedSecondMoment[a]=i.zerosLike(s).variable(u)}var l=e[a],p=t.accumulatedFirstMoment[a],c=t.accumulatedSecondMoment[a],f=t.beta1Scalar.mul(p).add(t.oneMinusBeta1.mul(l)),h=t.beta2Scalar.mul(c).add(t.oneMinusBeta2.mul(l.square())),d=f.div(r),m=h.div(n);t.accumulatedFirstMoment[a].assign(f),t.accumulatedSecondMoment[a].assign(h);var g=t.c.mul(d.div(t.epsScalar.add(m.sqrt()))).add(s);s.assign(g)}t.accBeta1.assign(t.accBeta1.mul(t.beta1Scalar)),t.accBeta2.assign(t.accBeta2.mul(t.beta2Scalar))})},t.prototype.dispose=function(){var e=this;this.c.dispose(),this.epsScalar.dispose(),this.beta1Scalar.dispose(),this.beta2Scalar.dispose(),this.accBeta1.dispose(),this.accBeta2.dispose(),this.oneMinusBeta1.dispose(),this.oneMinusBeta2.dispose(),this.one.dispose(),null!=this.accumulatedFirstMoment&&Object.keys(this.accumulatedFirstMoment).forEach(function(t){return e.accumulatedFirstMoment[t].dispose()}),null!=this.accumulatedSecondMoment&&Object.keys(this.accumulatedSecondMoment).forEach(function(t){return e.accumulatedSecondMoment[t].dispose()})},t.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}},t.fromConfig=function(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon)},t.className="AdamOptimizer",t}(u.Optimizer);r.AdamOptimizer=l,s.registerClass(l)},{"../environment":51,"../globals":53,"../ops/ops":144,"../serialization":172,"./optimizer":167}],165:[function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=e("../environment"),a=e("../globals"),i=e("../ops/ops"),s=e("../serialization"),u=e("./optimizer"),l=function(e){function t(t,r,n,s,u){void 0===s&&(s=null),void 0===u&&(u=0);var l=e.call(this)||this;return l.learningRate=t,l.beta1=r,l.beta2=n,l.epsilon=s,l.decay=u,l.accumulatedFirstMoment={},l.accumulatedWeightedInfNorm={},l.c=a.keep(i.scalar(-t)),l.beta1Scalar=a.keep(i.scalar(r)),l.beta2Scalar=a.keep(i.scalar(n)),l.decayScalar=a.keep(i.scalar(u)),a.tidy(function(){l.iteration=i.scalar(0).variable(),l.accBeta1=i.scalar(r).variable()}),l.oneMinusBeta1=a.keep(i.scalar(1-r)),l.one=a.keep(i.scalar(1)),null===s&&(s=o.ENV.get("EPSILON")),l.epsScalar=a.keep(i.scalar(s)),l}return n(t,e),t.prototype.applyGradients=function(e){var t=this;a.tidy(function(){var r=t.one.sub(t.accBeta1),n=t.c.div(t.one.add(t.decayScalar.mul(t.iteration)));for(var a in e){var s=o.ENV.engine.registeredVariables[a];if(null==t.accumulatedFirstMoment[a]){var u=!1;t.accumulatedFirstMoment[a]=i.zerosLike(s).variable(u)}if(null==t.accumulatedWeightedInfNorm[a]){var u=!1;t.accumulatedWeightedInfNorm[a]=i.zerosLike(s).variable(u)}var l=e[a],p=t.accumulatedFirstMoment[a],c=t.accumulatedWeightedInfNorm[a],f=t.beta1Scalar.mul(p).add(t.oneMinusBeta1.mul(l)),h=t.beta2Scalar.mul(c),d=l.abs(),m=h.maximum(d);t.accumulatedFirstMoment[a].assign(f),t.accumulatedWeightedInfNorm[a].assign(m);var g=n.div(r).mul(f.div(t.epsScalar.add(m))).add(s);s.assign(g)}t.iteration.assign(t.iteration.add(t.one)),t.accBeta1.assign(t.accBeta1.mul(t.beta1Scalar))})},t.prototype.dispose=function(){var e=this;this.c.dispose(),this.epsScalar.dispose(),this.accBeta1.dispose(),this.beta1Scalar.dispose(),this.beta2Scalar.dispose(),this.oneMinusBeta1.dispose(),this.decayScalar.dispose(),this.iteration.dispose(),this.one.dispose(),null!=this.accumulatedFirstMoment&&Object.keys(this.accumulatedFirstMoment).forEach(function(t){return e.accumulatedFirstMoment[t].dispose()}),null!=this.accumulatedWeightedInfNorm&&Object.keys(this.accumulatedWeightedInfNorm).forEach(function(t){return e.accumulatedWeightedInfNorm[t].dispose()})},t.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}},t.fromConfig=function(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon,t.decay)},t.className="AdamaxOptimizer",t}(u.Optimizer);r.AdamaxOptimizer=l,s.registerClass(l)},{"../environment":51,"../globals":53,"../ops/ops":144,"../serialization":172,"./optimizer":167}],166:[function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=e("../environment"),a=e("../globals"),i=e("../ops/ops"),s=e("../serialization"),u=e("./sgd_optimizer"),l=function(e){function t(t,r,n){void 0===n&&(n=!1);var o=e.call(this,t)||this;return o.learningRate=t,o.momentum=r,o.useNesterov=n,o.m=i.scalar(o.momentum),o.accumulations={},o}return n(t,e),t.prototype.applyGradients=function(e){var t=this,r=function(r){var s=o.ENV.engine.registeredVariables[r];if(null==n.accumulations[r]){var u=!1;a.tidy(function(){t.accumulations[r]=i.zerosLike(s).variable(u)})}var l=n.accumulations[r],p=e[r];a.tidy(function(){var e,n=t.m.mul(l).add(p);e=t.useNesterov?t.c.mul(p.add(n.mul(t.m))).add(s):t.c.mul(n).add(s),t.accumulations[r].assign(n),s.assign(e)})},n=this;for(var s in e)r(s)},t.prototype.dispose=function(){if(e.prototype.dispose.call(this),this.m.dispose(),null!=this.accumulations)for(var t in this.accumulations)this.accumulations[t].dispose()},t.prototype.setMomentum=function(e){this.momentum=e},t.prototype.getConfig=function(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}},t.fromConfig=function(e,t){return new e(t.learningRate,t.momentum,t.useNesterov)},t.className="MomentumOptimizer",t}(u.SGDOptimizer);r.MomentumOptimizer=l,s.registerClass(l)},{"../environment":51,"../globals":53,"../ops/ops":144,"../serialization":172,"./sgd_optimizer":170}],167:[function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=e("../globals"),a=e("../serialization"),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.minimize=function(e,t,r){void 0===t&&(t=!1);var n=this.computeGradients(e,r),o=n.value,a=n.grads;this.applyGradients(a);var i=Object.keys(a);return i.forEach(function(e){return a[e].dispose()}),t?o:(o.dispose(),null)},t.prototype.computeGradients=function(e,t){return o.variableGrads(e,t)},t}(a.Serializable);r.Optimizer=i},{"../globals":53,"../serialization":172}],168:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("./adadelta_optimizer"),o=e("./adagrad_optimizer"),a=e("./adam_optimizer"),i=e("./adamax_optimizer"),s=e("./momentum_optimizer"),u=e("./rmsprop_optimizer"),l=e("./sgd_optimizer"),p=function(){function e(){}return e.sgd=function(e){return new l.SGDOptimizer(e)},e.momentum=function(e,t,r){return void 0===r&&(r=!1),new s.MomentumOptimizer(e,t,r)},e.rmsprop=function(e,t,r,n,o){return void 0===t&&(t=.9),void 0===r&&(r=0),void 0===n&&(n=null),void 0===o&&(o=!1),new u.RMSPropOptimizer(e,t,r,n,o)},e.adam=function(e,t,r,n){return void 0===e&&(e=.001),void 0===t&&(t=.9),void 0===r&&(r=.999),void 0===n&&(n=null),new a.AdamOptimizer(e,t,r,n)},e.adadelta=function(e,t,r){return void 0===e&&(e=.001),void 0===t&&(t=.95),void 0===r&&(r=null),new n.AdadeltaOptimizer(e,t,r)},e.adamax=function(e,t,r,n,o){return void 0===e&&(e=.002),void 0===t&&(t=.9),void 0===r&&(r=.999),void 0===n&&(n=null),void 0===o&&(o=0),new i.AdamaxOptimizer(e,t,r,n,o)},e.adagrad=function(e,t){return void 0===t&&(t=.1),new o.AdagradOptimizer(e,t)},e}();r.OptimizerConstructors=p},{"./adadelta_optimizer":162,"./adagrad_optimizer":163,"./adam_optimizer":164,"./adamax_optimizer":165,"./momentum_optimizer":166,"./rmsprop_optimizer":169,"./sgd_optimizer":170}],169:[function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=e("../environment"),a=e("../globals"),i=e("../ops/ops"),s=e("../serialization"),u=e("./optimizer"),l=function(e){function t(t,r,n,s,u){void 0===r&&(r=.9),void 0===n&&(n=0),void 0===s&&(s=null),void 0===u&&(u=!1);var l=e.call(this)||this;return l.learningRate=t,l.decay=r,l.momentum=n,l.epsilon=s,l.accumulatedMeanSquares={},l.accumulatedMeanGrads={},l.accumulatedMoments={},l.c=a.keep(i.scalar(t)),l.decayScalar=a.keep(i.scalar(r)),l.momentumScalar=a.keep(i.scalar(n)),l.oneMinusDecay=a.keep(i.scalar(1-r)),l.centered=u,null===s&&(s=o.ENV.get("EPSILON")),l.epsilonScalar=a.keep(i.scalar(s)),l}return n(t,e),t.prototype.applyGradients=function(e){var t=this,r=function(r){var s=o.ENV.engine.registeredVariables[r];if(null==n.accumulatedMeanSquares[r]){var u=!1;a.tidy(function(){t.accumulatedMeanSquares[r]=i.zerosLike(s).variable(u)})}if(null==n.accumulatedMeanGrads[r]&&n.centered){var l=!1;a.tidy(function(){t.accumulatedMeanGrads[r]=i.zerosLike(s).variable(l)})}if(null==n.accumulatedMoments[r]){var p=!1;a.tidy(function(){t.accumulatedMoments[r]=i.zerosLike(s).variable(p)})}var c=n.accumulatedMeanSquares[r],f=n.accumulatedMeanGrads[r],h=n.accumulatedMoments[r],d=e[r];a.tidy(function(){var e=t.decayScalar.mul(c).add(t.oneMinusDecay.mul(d.square()));if(t.centered){var n=t.decayScalar.mul(f).add(t.oneMinusDecay.mul(d)),o=t.momentumScalar.mul(h).add(t.c.mul(d).div(e.sub(n.square().add(t.epsilonScalar)).sqrt()));t.accumulatedMeanSquares[r].assign(e),
t.accumulatedMeanGrads[r].assign(n),t.accumulatedMoments[r].assign(o);var a=s.sub(o);s.assign(a)}else{var i=t.decayScalar.mul(c).add(t.oneMinusDecay.mul(d.square())),o=t.momentumScalar.mul(h).add(t.c.mul(d).div(i.add(t.epsilonScalar).sqrt()));t.accumulatedMeanSquares[r].assign(i),t.accumulatedMoments[r].assign(o);var a=s.sub(o);s.assign(a)}})},n=this;for(var s in e)r(s)},t.prototype.dispose=function(){var e=this;this.c.dispose(),this.epsilonScalar.dispose(),this.decayScalar.dispose(),this.momentumScalar.dispose(),this.oneMinusDecay.dispose(),null!=this.accumulatedMeanSquares&&Object.keys(this.accumulatedMeanSquares).forEach(function(t){return e.accumulatedMeanSquares[t].dispose()}),null!=this.accumulatedMeanGrads&&this.centered&&Object.keys(this.accumulatedMeanGrads).forEach(function(t){return e.accumulatedMeanGrads[t].dispose()}),null!=this.accumulatedMoments&&Object.keys(this.accumulatedMoments).forEach(function(t){return e.accumulatedMoments[t].dispose()})},t.prototype.getConfig=function(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}},t.fromConfig=function(e,t){return new e(t.learningRate,t.decay,t.momentum,t.epsilon,t.centered)},t.className="RMSPropOptimizer",t}(u.Optimizer);r.RMSPropOptimizer=l,s.registerClass(l)},{"../environment":51,"../globals":53,"../ops/ops":144,"../serialization":172,"./optimizer":167}],170:[function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=e("../environment"),a=e("../globals"),i=e("../ops/ops"),s=e("../serialization"),u=e("./optimizer"),l=function(e){function t(t){var r=e.call(this)||this;return r.learningRate=t,r.setLearningRate(t),r}return n(t,e),t.prototype.applyGradients=function(e){var t=this,r=Object.keys(e);r.forEach(function(r){var n=e[r],i=o.ENV.engine.registeredVariables[r];a.tidy(function(){var e=t.c.mul(n).add(i);i.assign(e)})})},t.prototype.setLearningRate=function(e){this.learningRate=e,null!=this.c&&this.c.dispose(),this.c=a.keep(i.scalar(-e))},t.prototype.dispose=function(){this.c.dispose()},t.prototype.getConfig=function(){return{learningRate:this.learningRate}},t.fromConfig=function(e,t){return new e(t.learningRate)},t.className="SGDOptimizer",t}(u.Optimizer);r.SGDOptimizer=l,s.registerClass(l)},{"../environment":51,"../globals":53,"../ops/ops":144,"../serialization":172,"./optimizer":167}],171:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("./util"),o=function(){function e(e,t){this.backendTimer=e,this.logger=t,null==t&&(this.logger=new a)}return e.prototype.profileKernel=function(e,t){var r,o=this,a=function(){r=t()},i=this.backendTimer.time(a),s=Array.isArray(r)?r:[r];return s.forEach(function(t){var r=t.dataSync();n.checkComputationForNaN(r,t.dtype,e),i.then(function(n){o.logger.logKernelProfile(e,t,r,n.kernelMs)})}),r},e}();r.Profiler=o;var a=function(){function e(){}return e.prototype.logKernelProfile=function(e,t,r,o){var a=n.rightPad(o+"ms",9),i=n.rightPad(e,25),s=t.rank,u=t.size,l=n.rightPad(t.shape.toString(),14);console.log("%c"+i+"\t%c"+a+"\t%c"+s+"D "+l+"\t%c"+u,"font-weight:bold","color:red","color:blue","color: orange")},e}();r.Logger=a},{"./util":181}],172:[function(e,t,r){"use strict";function n(e){o.assert(null!=e.className,"Class being registered does not have the static className property defined."),o.assert("string"==typeof e.className,"className is required to be a string, but got type "+typeof e.className),o.assert(e.className.length>0,"Class being registered has an empty-string as its className, which is disallowed."),i.register(e)}Object.defineProperty(r,"__esModule",{value:!0});var o=e("./util"),a=function(){function e(){}return e.prototype.getClassName=function(){return this.constructor.className},e.fromConfig=function(e,t){return new e(t)},e}();r.Serializable=a;var i=function(){function e(){this.classNameMap={}}return e.getMap=function(){return null==e.instance&&(e.instance=new e),e.instance},e.register=function(t){e.getMap().classNameMap[t.className]=[t,t.fromConfig]},e}();r.SerializationMap=i,r.registerClass=n},{"./util":181}],173:[function(e,t,r){"use strict";function n(e,t,r){for(var n={},o={},a=0;a<t.length;a++)n[t[a].id]=!0;for(var a=0;a<e.length;a++){var i=e[a],s=i.inputs;for(var u in s){for(var l=s[u],p=!1,c=0;c<t.length;c++)if(n[l.id]){i.outputs.forEach(function(e){return n[e.id]=!0}),p=!0,o[i.id]=!0;break}if(p)break}}var f={};f[r.id]=!0;for(var h={},a=e.length-1;a>=0;a--)for(var i=e[a],s=i.inputs,c=0;c<i.outputs.length;c++)if(f[i.outputs[c].id]){for(var u in s)f[s[u].id]=!0,h[i.id]=!0;break}for(var d=[],a=0;a<e.length;a++){var i=e[a];if(o[i.id]&&h[i.id]){var m={};for(var u in i.inputs){var g=i.inputs[u];n[g.id]&&(m[u]=g)}var v=Object.assign({},i);v.inputs=m,v.outputs=i.outputs,d.push(v)}}return d}function o(e,t){for(var r=(function(r){var n=t[r],o=[];if(n.outputs.forEach(function(t){var r=e[t.id];if(null!=r)o.push(r);else{var n=a.Tensor.make(t.shape,{values:i.makeZerosTypedArray(t.size,t.dtype)},t.dtype);o.push(n)}}),null==n.gradient)throw new Error("Cannot compute gradient: gradient function not found "+("for "+n.name+"."));var s=n.gradient(1===n.outputs.length?o[0]:o);for(var u in n.inputs){if(!(u in s))throw new Error("Cannot backprop through input "+u+". "+("Available gradients found: "+Object.keys(s)+"."));var l=s[u](),p=n.inputs[u];if(!i.arraysEqual(l.shape,p.shape))throw new Error("Error in gradient for op "+n.name+". The gradient of input "+("'"+u+"' has shape '"+l.shape+"', which does not match ")+("the shape of the input '"+p.shape+"'"));if(null==e[p.id])e[p.id]=l;else{var c=e[p.id];e[p.id]=c.add(l),c.dispose()}}}),n=t.length-1;n>=0;n--)r(n)}Object.defineProperty(r,"__esModule",{value:!0});var a=e("./tensor"),i=e("./util");r.getFilteredNodesXToY=n,r.backpropagateGradients=o},{"./tensor":174,"./util":181}],174:[function(e,t,r){"use strict";function n(e){f=e}function o(e){h=e}var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{u(n.next(e))}catch(e){a(e)}}function s(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,s)}u((n=n.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){function r(e){return function(t){return n([e,t])}}function n(r){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,a&&(i=2&r[0]?a.return:r[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,r[1])).done)return i;switch(a=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return u.label++,{value:r[1],done:!1};case 5:u.label++,a=r[1],r=[0];continue;case 7:r=u.ops.pop(),u.trys.pop();continue;default:if(i=u.trys,!(i=i.length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){u=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){u.label=r[1];break}if(6===r[0]&&u.label<i[1]){u.label=i[1],i=r;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(r);break}i[2]&&u.ops.pop(),u.trys.pop();continue}r=t.call(e,u)}catch(e){r=[6,e],a=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var o,a,i,s,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(r,"__esModule",{value:!0});var u=e("./tensor_format"),l=e("./util"),p=e("./util"),c=function(){function e(e,t,r){if(this.dtype=t,this.shape=e.slice(),this.size=l.sizeFromShape(e),null!=r){var n=r.length;l.assert(n===this.size,"Length of values '"+n+"' does not match the size "+("inferred by the shape '"+this.size+"'."))}if("complex64"===t)throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=r||l.getTypedArrayFromDType(t,l.sizeFromShape(this.shape)),this.strides=p.computeStrides(e)}return e.prototype.set=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];0===t.length&&(t=[0]),l.assert(t.length===this.rank,"The number of provided coordinates ("+t.length+") must "+("match the rank ("+this.rank+")"));var n=this.locToIndex(t);this.values[n]=e},e.prototype.get=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];0===e.length&&(e=[0]);for(var r=e[e.length-1],n=0;n<e.length-1;++n)r+=this.strides[n]*e[n];return this.values[r]},e.prototype.locToIndex=function(e){if(0===this.rank)return 0;if(1===this.rank)return e[0];for(var t=e[e.length-1],r=0;r<e.length-1;++r)t+=this.strides[r]*e[r];return t},e.prototype.indexToLoc=function(e){if(0===this.rank)return[];if(1===this.rank)return[e];for(var t=new Array(this.shape.length),r=0;r<t.length-1;++r)t[r]=Math.floor(e/this.strides[r]),e-=t[r]*this.strides[r];return t[t.length-1]=e,t},Object.defineProperty(e.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),e.prototype.toTensor=function(){return d.make(this.shape,{values:this.values},this.dtype)},e}();r.TensorBuffer=c;var f=null,h=null;r.setTensorTracker=n,r.setOpHandler=o;var d=function(){function e(t,r,n,o){this.isDisposedInternal=!1,this.shape=t.slice(),this.dtype=r||"float32",this.size=l.sizeFromShape(t),null!=n&&l.assert(this.size===n.length,"Based on the provided shape, ["+t+"], and dtype "+(this.dtype+", the tensor should have ")+(this.size+" values but has "+n.length)),this.strides=p.computeStrides(t),this.dataId=null!=o?o:{},this.id=e.nextId++,this.rankType=this.rank<5?this.rank.toString():"higher",f().registerTensor(this),null!=n&&f().write(this.dataId,n)}return e.make=function(t,r,n){return new e(t,n,r.values,r.dataId)},e.prototype.flatten=function(){return this.throwIfDisposed(),this.as1D()},e.prototype.asScalar=function(){return this.throwIfDisposed(),l.assert(1===this.size,"The array must have only 1 element."),this.reshape([])},e.prototype.as1D=function(){return this.throwIfDisposed(),this.reshape([this.size])},e.prototype.as2D=function(e,t){return this.throwIfDisposed(),this.reshape([e,t])},e.prototype.as3D=function(e,t,r){return this.throwIfDisposed(),this.reshape([e,t,r])},e.prototype.as4D=function(e,t,r,n){return this.throwIfDisposed(),this.reshape([e,t,r,n])},e.prototype.asType=function(e){return this.throwIfDisposed(),h.cast(this,e)},Object.defineProperty(e.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),e.prototype.get=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];l.assert(e.length===this.rank,"Number of coordinates in get() must match the rank of the tensor"),l.assert("complex64"!==this.dtype,"Tensor.get() is not supported for complex64 tensors yet."),this.throwIfDisposed(),0===e.length&&(e=[0]);for(var r=e[e.length-1],n=0;n<e.length-1;++n)r+=this.strides[n]*e[n];return this.dataSync()[r]},e.prototype.buffer=function(){return h.buffer(this.shape,this.dtype,this.dataSync())},e.prototype.data=function(){return i(this,void 0,void 0,function(){return s(this,function(e){return this.throwIfDisposed(),[2,f().read(this.dataId)]})})},e.prototype.dataSync=function(){return this.throwIfDisposed(),f().readSync(this.dataId)},e.prototype.dispose=function(){this.isDisposed||(f().disposeTensor(this),this.isDisposedInternal=!0)},Object.defineProperty(e.prototype,"isDisposed",{get:function(){return this.isDisposedInternal},enumerable:!0,configurable:!0}),e.prototype.throwIfDisposed=function(){if(this.isDisposed)throw new Error("Tensor is disposed.")},e.prototype.toFloat=function(){return this.asType("float32")},e.prototype.toInt=function(){return this.asType("int32")},e.prototype.toBool=function(){return this.asType("bool")},e.prototype.print=function(e){return void 0===e&&(e=!1),h.print(this,e)},e.prototype.reshape=function(e){return this.throwIfDisposed(),h.reshape(this,e)},e.prototype.reshapeAs=function(e){return this.throwIfDisposed(),this.reshape(e.shape)},e.prototype.expandDims=function(e){return void 0===e&&(e=0),h.expandDims(this,e)},e.prototype.cumsum=function(e,t,r){return void 0===e&&(e=0),void 0===t&&(t=!1),void 0===r&&(r=!1),h.cumsum(this,e,t,r)},e.prototype.squeeze=function(e){return this.throwIfDisposed(),h.squeeze(this,e)},e.prototype.clone=function(){return this.throwIfDisposed(),h.clone(this)},e.prototype.toString=function(e){void 0===e&&(e=!1);var t=this.dataSync();return u.tensorToString(t,this.shape,this.dtype,e)},e.prototype.tile=function(e){return this.throwIfDisposed(),h.tile(this,e)},e.prototype.gather=function(e,t){return void 0===t&&(t=0),this.throwIfDisposed(),h.gather(this,e,t)},e.prototype.matMul=function(e,t,r){return void 0===t&&(t=!1),void 0===r&&(r=!1),this.throwIfDisposed(),h.matMul(this,e,t,r)},e.prototype.dot=function(e){return this.throwIfDisposed(),h.dot(this,e)},e.prototype.norm=function(e,t,r){return void 0===e&&(e="euclidean"),void 0===t&&(t=null),void 0===r&&(r=!1),this.throwIfDisposed(),h.norm(this,e,t,r)},e.prototype.slice=function(e,t){return this.throwIfDisposed(),h.slice(this,e,t)},e.prototype.reverse=function(e){return this.throwIfDisposed(),h.reverse(this,e)},e.prototype.concat=function(e,t){return void 0===t&&(t=0),this.throwIfDisposed(),h.concat([this,e],t)},e.prototype.split=function(e,t){return void 0===t&&(t=0),this.throwIfDisposed(),h.split(this,e,t)},e.prototype.stack=function(e,t){return void 0===t&&(t=0),h.stack([this,e],t)},e.prototype.unstack=function(e,t){return void 0===t&&(t=0),h.unstack(this,t)},e.prototype.pad=function(e,t){return void 0===t&&(t=0),h.pad(this,e,t)},e.prototype.batchNormalization=function(e,t,r,n,o){return void 0===r&&(r=.001),this.throwIfDisposed(),h.batchNormalization(this,e,t,r,n,o)},e.prototype.all=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),h.all(this,e,t)},e.prototype.any=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),h.any(this,e,t)},e.prototype.logSumExp=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),h.logSumExp(this,e,t)},e.prototype.sum=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),h.sum(this,e,t)},e.prototype.mean=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),h.mean(this,e,t)},e.prototype.min=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),h.min(this,e,t)},e.prototype.max=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),h.max(this,e,t)},e.prototype.argMin=function(e){return void 0===e&&(e=null),this.throwIfDisposed(),h.argMin(this,e)},e.prototype.argMax=function(e){return void 0===e&&(e=null),this.throwIfDisposed(),h.argMax(this,e)},e.prototype.cast=function(e){return this.throwIfDisposed(),h.cast(this,e)},e.prototype.add=function(e){return this.throwIfDisposed(),h.add(this,e)},e.prototype.addStrict=function(e){return this.throwIfDisposed(),h.addStrict(this,e)},e.prototype.atan2=function(e){return this.throwIfDisposed(),h.atan2(this,e)},e.prototype.sub=function(e){return this.throwIfDisposed(),h.sub(this,e)},e.prototype.subStrict=function(e){return this.throwIfDisposed(),h.subStrict(this,e)},e.prototype.pow=function(e){return this.throwIfDisposed(),h.pow(this,e)},e.prototype.powStrict=function(e){return this.throwIfDisposed(),h.powStrict(this,e)},e.prototype.mul=function(e){return this.throwIfDisposed(),h.mul(this,e)},e.prototype.mulStrict=function(e){return this.throwIfDisposed(),h.mulStrict(this,e)},e.prototype.div=function(e){return this.throwIfDisposed(),h.div(this,e)},e.prototype.floorDiv=function(e){return this.throwIfDisposed(),h.floorDiv(this,e)},e.prototype.divStrict=function(e){return this.throwIfDisposed(),h.divStrict(this,e)},e.prototype.minimum=function(e){return this.throwIfDisposed(),h.minimum(this,e)},e.prototype.minimumStrict=function(e){return this.throwIfDisposed(),h.minimumStrict(this,e)},e.prototype.maximum=function(e){return this.throwIfDisposed(),h.maximum(this,e)},e.prototype.maximumStrict=function(e){return this.throwIfDisposed(),h.maximumStrict(this,e)},e.prototype.mod=function(e){return this.throwIfDisposed(),h.mod(this,e)},e.prototype.modStrict=function(e){return this.throwIfDisposed(),h.modStrict(this,e)},e.prototype.squaredDifference=function(e){return this.throwIfDisposed(),h.squaredDifference(this,e)},e.prototype.squaredDifferenceStrict=function(e){return this.throwIfDisposed(),h.squaredDifferenceStrict(this,e)},e.prototype.transpose=function(e){return this.throwIfDisposed(),h.transpose(this,e)},e.prototype.notEqual=function(e){return this.throwIfDisposed(),h.notEqual(this,e)},e.prototype.notEqualStrict=function(e){return this.throwIfDisposed(),h.notEqualStrict(this,e)},e.prototype.less=function(e){return this.throwIfDisposed(),h.less(this,e)},e.prototype.lessStrict=function(e){return this.throwIfDisposed(),h.lessStrict(this,e)},e.prototype.equal=function(e){return this.throwIfDisposed(),h.equal(this,e)},e.prototype.equalStrict=function(e){return this.throwIfDisposed(),h.equalStrict(this,e)},e.prototype.lessEqual=function(e){return this.throwIfDisposed(),h.lessEqual(this,e)},e.prototype.lessEqualStrict=function(e){return this.throwIfDisposed(),h.lessEqualStrict(this,e)},e.prototype.greater=function(e){return this.throwIfDisposed(),h.greater(this,e)},e.prototype.greaterStrict=function(e){return this.throwIfDisposed(),h.greaterStrict(this,e)},e.prototype.greaterEqual=function(e){return this.throwIfDisposed(),h.greaterEqual(this,e)},e.prototype.greaterEqualStrict=function(e){return this.throwIfDisposed(),h.greaterEqualStrict(this,e)},e.prototype.logicalAnd=function(e){return this.throwIfDisposed(),h.logicalAnd(this,e)},e.prototype.logicalOr=function(e){return this.throwIfDisposed(),h.logicalOr(this,e)},e.prototype.logicalNot=function(){return this.throwIfDisposed(),h.logicalNot(this)},e.prototype.logicalXor=function(e){return this.throwIfDisposed(),h.logicalXor(this,e)},e.prototype.where=function(e,t){return this.throwIfDisposed(),h.where(e,this,t)},e.prototype.neg=function(){return this.throwIfDisposed(),h.neg(this)},e.prototype.ceil=function(){return this.throwIfDisposed(),h.ceil(this)},e.prototype.floor=function(){return this.throwIfDisposed(),h.floor(this)},e.prototype.sign=function(){return this.throwIfDisposed(),h.sign(this)},e.prototype.exp=function(){return this.throwIfDisposed(),h.exp(this)},e.prototype.expm1=function(){return this.throwIfDisposed(),h.expm1(this)},e.prototype.log=function(){return this.throwIfDisposed(),h.log(this)},e.prototype.log1p=function(){return this.throwIfDisposed(),h.log1p(this)},e.prototype.sqrt=function(){return this.throwIfDisposed(),h.sqrt(this)},e.prototype.rsqrt=function(){return this.throwIfDisposed(),h.rsqrt(this)},e.prototype.square=function(){return this.throwIfDisposed(),h.square(this)},e.prototype.reciprocal=function(){return this.throwIfDisposed(),h.reciprocal(this)},e.prototype.abs=function(){return this.throwIfDisposed(),h.abs(this)},e.prototype.clipByValue=function(e,t){return this.throwIfDisposed(),h.clipByValue(this,e,t)},e.prototype.relu=function(){return this.throwIfDisposed(),h.relu(this)},e.prototype.elu=function(){return this.throwIfDisposed(),h.elu(this)},e.prototype.selu=function(){return this.throwIfDisposed(),h.selu(this)},e.prototype.leakyRelu=function(e){return void 0===e&&(e=.2),this.throwIfDisposed(),h.leakyRelu(this,e)},e.prototype.prelu=function(e){return this.throwIfDisposed(),h.prelu(this,e)},e.prototype.sigmoid=function(){return this.throwIfDisposed(),h.sigmoid(this)},e.prototype.logSigmoid=function(){return this.throwIfDisposed(),h.logSigmoid(this)},e.prototype.softplus=function(){return this.throwIfDisposed(),h.softplus(this)},e.prototype.zerosLike=function(){return this.throwIfDisposed(),h.zerosLike(this)},e.prototype.onesLike=function(){return this.throwIfDisposed(),h.onesLike(this)},e.prototype.sin=function(){return this.throwIfDisposed(),h.sin(this)},e.prototype.cos=function(){return this.throwIfDisposed(),h.cos(this)},e.prototype.tan=function(){return this.throwIfDisposed(),h.tan(this)},e.prototype.asin=function(){return this.throwIfDisposed(),h.asin(this)},e.prototype.acos=function(){return this.throwIfDisposed(),h.acos(this)},e.prototype.atan=function(){return this.throwIfDisposed(),h.atan(this)},e.prototype.sinh=function(){return this.throwIfDisposed(),h.sinh(this)},e.prototype.cosh=function(){return this.throwIfDisposed(),h.cosh(this)},e.prototype.tanh=function(){return this.throwIfDisposed(),h.tanh(this)},e.prototype.asinh=function(){return this.throwIfDisposed(),h.asinh(this)},e.prototype.acosh=function(){return this.throwIfDisposed(),h.acosh(this)},e.prototype.atanh=function(){return this.throwIfDisposed(),h.atanh(this)},e.prototype.erf=function(){return this.throwIfDisposed(),h.erf(this)},e.prototype.round=function(){return this.throwIfDisposed(),h.round(this)},e.prototype.step=function(e){return void 0===e&&(e=0),this.throwIfDisposed(),h.step(this,e)},e.prototype.softmax=function(e){return void 0===e&&(e=-1),this.throwIfDisposed(),h.softmax(this,e)},e.prototype.resizeBilinear=function(e,t){return void 0===t&&(t=!1),this.throwIfDisposed(),h.image.resizeBilinear(this,e,t)},e.prototype.resizeNearestNeighbor=function(e,t){return void 0===t&&(t=!1),this.throwIfDisposed(),h.image.resizeNearestNeighbor(this,e,t)},e.prototype.conv1d=function(e,t,r,n,o,a){return void 0===n&&(n="NWC"),void 0===o&&(o=1),this.throwIfDisposed(),h.conv1d(this,e,t,r,n,o,a)},e.prototype.conv2d=function(e,t,r,n,o,a){return void 0===n&&(n="NHWC"),void 0===o&&(o=[1,1]),this.throwIfDisposed(),h.conv2d(this,e,t,r,n,o,a)},e.prototype.conv2dTranspose=function(e,t,r,n,o){return this.throwIfDisposed(),h.conv2dTranspose(this,e,t,r,n,o)},e.prototype.depthwiseConv2D=function(e,t,r,n,o,a){return void 0===n&&(n="NHWC"),void 0===o&&(o=[1,1]),this.throwIfDisposed(),h.depthwiseConv2d(this,e,t,r,n,o,a)},e.prototype.separableConv2d=function(e,t,r,n,o,a){return void 0===o&&(o=[1,1]),void 0===a&&(a="NHWC"),this.throwIfDisposed(),h.separableConv2d(this,e,t,r,n,o,a)},e.prototype.avgPool=function(e,t,r,n){return this.throwIfDisposed(),h.avgPool(this,e,t,r,n)},e.prototype.maxPool=function(e,t,r,n){return this.throwIfDisposed(),h.maxPool(this,e,t,r,n)},e.prototype.localResponseNormalization=function(e,t,r,n){return void 0===e&&(e=5),void 0===t&&(t=1),void 0===r&&(r=1),void 0===n&&(n=.5),h.localResponseNormalization(this,e,t,r,n)},e.prototype.variable=function(e,t,r){return void 0===e&&(e=!0),this.throwIfDisposed(),m.variable(this,e,t,r)},e.prototype.unsortedSegmentSum=function(e,t){return this.throwIfDisposed(),h.unsortedSegmentSum(this,e,t)},e.prototype.batchToSpaceND=function(e,t){return this.throwIfDisposed(),h.batchToSpaceND(this,e,t)},e.prototype.spaceToBatchND=function(e,t){return this.throwIfDisposed(),h.spaceToBatchND(this,e,t)},e.prototype.topk=function(e,t){return void 0===e&&(e=1),void 0===t&&(t=!0),this.throwIfDisposed(),h.topk(this,e,t)},e.prototype.stridedSlice=function(e,t,r,n,o){return void 0===n&&(n=0),void 0===o&&(o=0),this.throwIfDisposed(),h.stridedSlice(this,e,t,r,n,o)},e.prototype.depthToSpace=function(e,t){return this.throwIfDisposed(),h.depthToSpace(this,e,t)},e.nextId=0,e}();r.Tensor=d,Object.defineProperty(d,Symbol.hasInstance,{value:function(e){return!!e&&null!=e.shape&&null!=e.dtype}});var m=function(e){function t(r,n,o){void 0===n&&(n=!0);var a=e.call(this,r.shape,r.dtype,null,r.dataId)||this;a.trainable=n,a.name=o,null==a.name&&(a.name=t.nextVarId.toString(),t.nextVarId++);try{f().registerVariable(a)}catch(e){throw f().disposeTensor(a),e}return a}return a(t,e),t.variable=function(e,r,n,o){return void 0===r&&(r=!0),null!=o&&o!==e.dtype&&(e=e.asType(o)),new t(e,r,n)},t.prototype.assign=function(e){if(e.dtype!==this.dtype)throw new Error("dtype of the new value ("+e.dtype+") and "+("previous value ("+this.dtype+") must match"));if(!l.arraysEqual(e.shape,this.shape))throw new Error("shape of the new value ("+e.shape+") and "+("previous value ("+this.shape+") must match"));f().disposeTensor(this),this.dataId=e.dataId,f().registerTensor(this)},t.nextVarId=0,t}(d);r.Variable=m,Object.defineProperty(m,Symbol.hasInstance,{value:function(e){return e instanceof d&&null!=e.assign&&e.assign instanceof Function}});var g=m.variable;r.variable=g},{"./tensor_format":175,"./util":181}],175:[function(e,t,r){"use strict";function n(e,t,r,n){var a=u.computeStrides(t),s=o(e,t,r,a),l=t.length,p=i(e,t,r,a,s),c=["Tensor"];return n&&(c.push("  dtype: "+r),c.push("  rank: "+l),c.push("  shape: ["+t+"]"),c.push("  values:")),c.push(p.map(function(e){return"    "+e}).join("\n")),c.join("\n")}function o(e,t,r,n){var o=u.sizeFromShape(t),i=n[n.length-1],l=new Array(i).fill(0),p=t.length,c="complex64"===r?s(e):e;if(p>1)for(var f=0;f<o/i;f++)for(var h=f*i,d=0;d<i;d++)l[d]=Math.max(l[d],a(c[h+d],0).length);return l}function a(e,t){var r;return r=Array.isArray(e)?parseFloat(e[0].toFixed(c))+" + "+(parseFloat(e[1].toFixed(c))+"j"):parseFloat(e.toFixed(c)).toString(),u.rightPad(r,t)}function i(e,t,r,n,o,u){void 0===u&&(u=!0);var c="complex64"===r?2:1,f=t[0],h=t.length;if(0===h){if("complex64"===r){var d=s(e);return[a(d[0],0)]}return[e[0].toString()]}if(1===h){if(f>l){var m=p*c,g=Array.from(e.subarray(0,m)),v=Array.from(e.subarray(f-p*c,f));return"complex64"===r&&(g=s(g),v=s(v)),["["+g.map(function(e,t){return a(e,o[t])}).join(", ")+", ..., "+v.map(function(e,t){return a(e,o[f-p+t])}).join(", ")+"]"]}var y="complex64"===r?s(e):Array.from(e);return["["+y.map(function(e,t){return a(e,o[t])}).join(", ")+"]"]}var x=t.slice(1),b=n.slice(1),_=n[0]*c,w=[];if(f>l){for(var T=0;T<p;T++){var N=T*_,P=N+_;w.push.apply(w,i(e.subarray(N,P),x,r,b,o,!1))}w.push("...");for(var T=f-p;T<f;T++){var N=T*_,P=N+_;w.push.apply(w,i(e.subarray(N,P),x,r,b,o,T===f-1))}}else for(var T=0;T<f;T++){var N=T*_,P=N+_;w.push.apply(w,i(e.subarray(N,P),x,r,b,o,T===f-1))}var S=2===h?",":"";w[0]="["+w[0]+S;for(var T=1;T<w.length-1;T++)w[T]=" "+w[T]+S;for(var E=",\n",T=2;T<h;T++)E+="\n";return w[w.length-1]=" "+w[w.length-1]+"]"+(u?"":E),w}function s(e){for(var t=[],r=0;r<e.length;r+=2)t.push([e[r],e[r+1]]);return t}Object.defineProperty(r,"__esModule",{value:!0});var u=e("./util"),l=20,p=3,c=7;r.tensorToString=n},{"./util":181}],176:[function(e,t,r){"use strict";function n(e,t){c.assert(e.dtype===t.dtype,"The dtypes of the first("+e.dtype+") and"+(" second("+t.dtype+") input must match"))}function o(e,t){for(var r=0;r<t.length;r++)if(t[r].id===e.id)return!0;return!1}function a(e,t){var r=[];if(e instanceof p.Tensor)r.push(e);else for(var n=e,o=0;o<t.length;o++)r.push(n[t[o]]);return r}function i(e,t){if(e.length!==t.length)throw new Error("Cannot unflatten Tensor[], keys and arrays are not of same length.");for(var r={},n=0;n<e.length;n++)r[e[n]]=t[n];return r}function s(e){var t=[],r=new Set;return u(e,t,r),t}function u(e,t,r){if(null!=e){if(e instanceof p.Tensor)return void t.push(e);if(l(e)){var n=e;for(var o in n){var a=n[o];r.has(a)||(r.add(a),u(a,t,r))}}}}function l(e){return Array.isArray(e)||"object"==typeof e}Object.defineProperty(r,"__esModule",{value:!0});var p=e("./tensor"),c=e("./util");r.assertTypesMatch=n,r.isTensorInList=o,r.flattenNameArrayMap=a,r.unflattenToNameArrayMap=i,r.getTensorsInContainer=s},{"./tensor":174,"./util":181}],177:[function(e,t,r){"use strict";function n(e,t,r,n){if(void 0===n&&(n="float32"),n=n||"float32",e instanceof i.Tensor)return e;if(!s.isTypedArray(e)&&!Array.isArray(e)&&"number"!=typeof e&&"boolean"!=typeof e)throw new Error("Argument '"+t+"' passed to '"+r+"' must be a Tensor or TensorLike, but got "+e.constructor.name);var o=s.inferShape(e);return s.isTypedArray(e)||Array.isArray(e)||(e=[e]),i.Tensor.make(o,{values:s.toTypedArray(e,n,a.ENV.get("DEBUG"))},n)}function o(e,t,r){if(!Array.isArray(e))throw new Error("Argument "+t+" passed to "+r+" must be a `Tensor[]` or `TensorLike[]`");var o=e;return o.map(function(e,o){return n(e,t+"["+o+"]",r)})}Object.defineProperty(r,"__esModule",{value:!0});var a=e("./environment"),i=e("./tensor"),s=e("./util");r.convertToTensor=n,r.convertToTensorArray=o},{"./environment":51,"./tensor":174,"./util":181}],178:[function(e,t,r){"use strict";function n(e,t,r){if(null==r&&(r=p.ENV.get("TEST_EPSILON")),e instanceof c.Tensor||t instanceof c.Tensor){if(e instanceof c.Tensor&&t instanceof c.Tensor){if(e.dtype!==t.dtype)throw new Error("Arrays are of different type actual: "+e.dtype+" "+("vs expected: "+t.dtype+"."));if(!f.arraysEqual(e.shape,t.shape))throw new Error("Arrays are of different shape actual: "+e.shape+" "+("vs expected: "+t.shape+"."))}}else{var n=e.constructor.name,o=t.constructor.name;if(n!==o)throw new Error("Arrays are of different type actual: "+n+" vs expected: "+o)}var a,i;if(a=e instanceof c.Tensor?e.dataSync():e,i=t instanceof c.Tensor?t.dataSync():t,a.length!==i.length)throw new Error("Arrays have different lengths actual: "+a.length+" vs "+("expected: "+i.length+".\n")+("Actual:   "+a+".\n")+("Expected: "+i+"."));for(var u=0;u<i.length;++u){var l=a[u],h=i[u];if(!s(l,Number(h),r))throw new Error("Arrays differ: actual["+u+"] = "+l+", expected["+u+"] = "+h+".\n"+("Actual:   "+a+".\n")+("Expected: "+i+"."))}}function o(e,t){e().then(function(){return t.fail()},function(){return t()})}function a(e,t){return n(e,t,0)}function i(e,t,r){if(null==r&&(r=p.ENV.get("TEST_EPSILON")),!s(e,t,r))throw new Error("Numbers differ: actual === "+e+", expected === "+t)}function s(e,t,r){return!(!isNaN(e)||!isNaN(t))||!(isNaN(e)||isNaN(t)||Math.abs(e-t)>r)}function u(e,t,r){var n;n=e instanceof c.Tensor?e.dataSync():e;for(var o=0;o<n.length;o++)if(n[o]<t||n[o]>r)throw new Error("Value out of range:"+n[o]+" low: "+t+", high: "+r)}function l(e,t){expect(new Float32Array(e)).toEqual(new Float32Array(t))}Object.defineProperty(r,"__esModule",{value:!0});var p=e("./environment"),c=e("./tensor"),f=e("./util");r.WEBGL_ENVS={HAS_WEBGL:!0},r.NODE_ENVS={IS_NODE:!0},r.CHROME_ENVS={IS_CHROME:!0},r.BROWSER_ENVS={IS_BROWSER:!0},r.CPU_ENVS={HAS_WEBGL:!1},r.ALL_ENVS={},r.expectArraysClose=n,r.expectPromiseToFail=o,r.expectArraysEqual=a,r.expectNumbersClose=i,r.expectValuesInRange=u,r.expectArrayBuffersEqual=l},{"./environment":51,"./tensor":174,"./util":181}],179:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("./optimizers/adadelta_optimizer"),o=e("./optimizers/adagrad_optimizer"),a=e("./optimizers/adam_optimizer"),i=e("./optimizers/adamax_optimizer"),s=e("./optimizers/momentum_optimizer"),u=e("./optimizers/optimizer_constructors"),l=e("./optimizers/rmsprop_optimizer"),p=e("./optimizers/sgd_optimizer");[s.MomentumOptimizer,p.SGDOptimizer,n.AdadeltaOptimizer,o.AdagradOptimizer,l.RMSPropOptimizer,i.AdamaxOptimizer,a.AdamOptimizer],r.train={sgd:u.OptimizerConstructors.sgd,momentum:u.OptimizerConstructors.momentum,adadelta:u.OptimizerConstructors.adadelta,adagrad:u.OptimizerConstructors.adagrad,rmsprop:u.OptimizerConstructors.rmsprop,adamax:u.OptimizerConstructors.adamax,adam:u.OptimizerConstructors.adam}},{"./optimizers/adadelta_optimizer":162,"./optimizers/adagrad_optimizer":163,"./optimizers/adam_optimizer":164,"./optimizers/adamax_optimizer":165,"./optimizers/momentum_optimizer":166,"./optimizers/optimizer_constructors":168,"./optimizers/rmsprop_optimizer":169,"./optimizers/sgd_optimizer":170}],180:[function(e,t,r){"use strict";function n(e,t){return c[e][t];
}function o(e){return n(e,"int32")}Object.defineProperty(r,"__esModule",{value:!0});var a;!function(e){e.float32="float32",e.int32="int32",e.bool="bool"}(a=r.DType||(r.DType={}));var i;!function(e){e.R0="R0",e.R1="R1",e.R2="R2",e.R3="R3",e.R4="R4",e.R5="R5",e.R6="R6"}(i=r.Rank||(r.Rank={}));var s;!function(e){e.float32="float32",e.int32="int32",e.bool="int32",e.complex64="complex64"}(s||(s={}));var u;!function(e){e.float32="float32",e.int32="int32",e.bool="bool",e.complex64="complex64"}(u||(u={}));var l;!function(e){e.float32="float32",e.int32="float32",e.bool="float32",e.complex64="complex64"}(l||(l={}));var p;!function(e){e.float32="complex64",e.int32="complex64",e.bool="complex64",e.complex64="complex64"}(p||(p={}));var c={float32:l,int32:s,bool:u,complex64:p};r.upcastType=n,r.sumOutType=o},{}],181:[function(e,t,r){(function(e){"use strict";function t(e){for(var t=e.length,r=0,n=0;t>0;)n=Math.random()*t|0,t--,r=e[t],e[t]=e[n],e[n]=r}function n(e,t,r){return Math.max(e,Math.min(t,r))}function o(e,t){var r=Math.random();return t*r+(1-r)*e}function a(e,t){for(var r=0,n=0;n<e.length;n++){var o=Number(e[n])-Number(t[n]);r+=o*o}return r}function i(e,t){if(!e)throw new Error("string"==typeof t?t:t())}function s(e,t,r){void 0===r&&(r=""),i(d(e,t),r+(" Shapes "+e+" and "+t+" must match"))}function u(e){i(null!=e,"The input to the tensor constructor must be a non-null value.")}function l(e,t){if(void 0===t&&(t=[]),Array.isArray(e))for(var r=0;r<e.length;++r)l(e[r],t);else t.push(e);return t}function p(e){var t=e;if(k(e))return[e.length];if(!Array.isArray(e))return[];for(var r=[];t instanceof Array;)r.push(t.length),t=t[0];return e instanceof Array&&c(e,r,[]),r}function c(e,t,r){if(r=r||[],!(e instanceof Array))return void i(0===t.length,function(){return"Element arr["+r.join("][")+"] is a primitive, "+("but should be an array of "+t[0]+" elements")});i(t.length>0,function(){return"Element arr["+r.join("][")+"] should be a primitive, "+("but is an array of "+e.length+" elements")}),i(e.length===t[0],function(){return"Element arr["+r.join("][")+"] should have "+t[0]+" "+("elements, but has "+e.length+" elements")});for(var n=t.slice(1),o=0;o<e.length;++o)c(e[o],n,r.concat(o))}function f(e){if(0===e.length)return 1;for(var t=e[0],r=1;r<e.length;r++)t*=e[r];return t}function h(e){return 0===e.length}function d(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function m(e){return e%1===0}function g(e){if(null!=Math.tanh)return Math.tanh(e);if(e===1/0)return 1;if(e===-(1/0))return-1;var t=Math.exp(2*e);return(t-1)/(t+1)}function v(e){for(var t=Math.floor(Math.sqrt(e));t>1;--t)if(e%t===0)return[t,e/t];return[1,e]}function y(e){for(var r=new Uint32Array(e),n=0;n<e;++n)r[n]=n;return t(r),r}function x(e,t){return t<=e.length?e:e+" ".repeat(t-e.length)}function b(e,t,r){return void 0===t&&(t=function(e){return 0}),new Promise(function(n,o){var a=0,i=function(){if(e())return void n();a++;var s=t(a);return null!=r&&a>=r?void o():void setTimeout(i,s)};i()})}function _(e,t){for(var r=1,n=-1,o=0;o<e.length;++o)if(e[o]>=0)r*=e[o];else if(e[o]===-1){if(n!==-1)throw Error("Shapes can only have 1 implicit size. "+("Found -1 at dim "+n+" and dim "+o));n=o}else if(e[o]<0)throw Error("Shapes can not be < 0. Found "+e[o]+" at dim "+o);if(n===-1){if(t>0&&t!==r)throw Error("Size("+t+") must match the product of shape "+e);return e}if(0===r)throw Error("Cannot infer the missing size in ["+e+"] when there are 0 elements");if(t%r!==0)throw Error("The implicit shape can't be a fractional number. "+("Got "+t+" / "+r));var a=e.slice();return a[n]=t/r,a}function w(e,t){for(var r=[],n=[],o=0,a=0;a<e.length;++a){if(null!=t){if(t[o]===a&&1!==e[a])throw new Error("Can't squeeze axis "+a+" since its dim '"+e[a]+"' is not 1");(null==t[o]||t[o]>a)&&1===e[a]&&(r.push(e[a]),n.push(a)),t[o]<=a&&o++}1!==e[a]&&(r.push(e[a]),n.push(a))}return{newShape:r,keptDims:n}}function T(e,t){var r=null;if(null==e||"float32"===e)r=new Float32Array(t);else if("int32"===e)r=new Int32Array(t);else{if("bool"!==e)throw new Error("Unknown data type "+e);r=new Uint8Array(t)}return r}function N(e,t,r){if("float32"===t)for(var n=0;n<e.length;n++)if(isNaN(e[n]))throw Error("The result of the '"+r+"' has NaNs.")}function P(e,t){if("float32"!==t)for(var r=0;r<e.length;r++)if(isNaN(e[r]))throw Error("NaN is not a valid value for dtype: '"+t+"'.")}function S(e,t){return"complex64"!==t&&(("float32"!==t||"complex64"===e)&&(("int32"!==t||"float32"===e||"complex64"===e)&&("bool"!==t||"bool"!==e)))}function E(e,t,r){if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return r&&P(e,t),new Int32Array(e);if("bool"===t){for(var n=new Uint8Array(e.length),o=0;o<n.length;++o)0!==Math.round(e[o])&&(n[o]=1);return n}throw new Error("Unknown data type "+t)}function k(e){return e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array}function A(e){if("float32"===e||"int32"===e)return 4;if("complex64"===e)return 8;if("bool"===e)return 1;throw new Error("Unknown dtype "+e)}function O(e){return!!(e&&e.constructor&&e.call&&e.apply)}function I(e,t){for(var r=t;r<e;++r)if(e%r===0)return r;return e}function C(e){var t=e.length;if(t<2)return[];var r=new Array(t-1);r[t-2]=e[t-1];for(var n=t-3;n>=0;--n)r[n]=r[n+1]*e[n+1];return r}function R(e,t,r){return M(e,t)?e:(Array.isArray(e)&&(e=l(e)),E(e,t,r))}function M(e,t){return e instanceof Float32Array&&"float32"===t||e instanceof Int32Array&&"int32"===t||e instanceof Uint8Array&&"bool"===t}function D(e,t){for(var r=V(e,t),n=0;n<r.length;n++)r[n]=1;return r}function V(e,t){if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t)return new Uint8Array(e);throw new Error("Unknown data type "+t)}function L(){if("undefined"!=typeof performance)return performance.now();if("undefined"!=typeof e){var t=e.hrtime();return 1e3*t[0]+t[1]/1e6}throw new Error("Cannot measure time in this environment. You should run tf.js in the browser or in Node.js")}Object.defineProperty(r,"__esModule",{value:!0}),r.shuffle=t,r.clamp=n,r.randUniform=o,r.distSquared=a,r.assert=i,r.assertShapesMatch=s,r.assertNonNull=u,r.flatten=l,r.inferShape=p,r.sizeFromShape=f,r.isScalarShape=h,r.arraysEqual=d,r.isInt=m,r.tanh=g,r.sizeToSquarishShape=v,r.createShuffledIndices=y,r.rightPad=x,r.repeatedTry=b,r.inferFromImplicitShape=_,r.squeezeShape=w,r.getTypedArrayFromDType=T,r.checkComputationForNaN=N,r.checkConversionForNaN=P,r.hasEncodingLoss=S,r.isTypedArray=k,r.bytesPerElement=A,r.isFunction=O,r.nearestDivisor=I,r.computeStrides=C,r.toTypedArray=R,r.makeOnesTypedArray=D,r.makeZerosTypedArray=V,r.now=L}).call(this,e("_process"))},{_process:196}],182:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n="0.12.18";r.version=n},{}],183:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("./kernels/webgl/gpgpu_util");r.gpgpu_util=n;var o=e("./kernels/webgl/webgl_util");r.webgl_util=o;var a=e("./kernels/backend_webgl");r.MathBackendWebGL=a.MathBackendWebGL;var i=e("./kernels/webgl/gpgpu_context");r.GPGPUContext=i.GPGPUContext},{"./kernels/backend_webgl":69,"./kernels/webgl/gpgpu_context":91,"./kernels/webgl/gpgpu_util":93,"./kernels/webgl/webgl_util":118}],184:[function(e,t,r){"use strict";function n(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function o(e){var t=n(e),r=t[0],o=t[1];return 3*(r+o)/4-o}function a(e,t,r){return 3*(t+r)/4-r}function i(e){for(var t,r=n(e),o=r[0],i=r[1],s=new f(a(e,o,i)),u=0,l=i>0?o-4:o,p=0;p<l;p+=4)t=c[e.charCodeAt(p)]<<18|c[e.charCodeAt(p+1)]<<12|c[e.charCodeAt(p+2)]<<6|c[e.charCodeAt(p+3)],s[u++]=t>>16&255,s[u++]=t>>8&255,s[u++]=255&t;return 2===i&&(t=c[e.charCodeAt(p)]<<2|c[e.charCodeAt(p+1)]>>4,s[u++]=255&t),1===i&&(t=c[e.charCodeAt(p)]<<10|c[e.charCodeAt(p+1)]<<4|c[e.charCodeAt(p+2)]>>2,s[u++]=t>>8&255,s[u++]=255&t),s}function s(e){return p[e>>18&63]+p[e>>12&63]+p[e>>6&63]+p[63&e]}function u(e,t,r){for(var n,o=[],a=t;a<r;a+=3)n=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),o.push(s(n));return o.join("")}function l(e){for(var t,r=e.length,n=r%3,o=[],a=16383,i=0,s=r-n;i<s;i+=a)o.push(u(e,i,i+a>s?s:i+a));return 1===n?(t=e[r-1],o.push(p[t>>2]+p[t<<4&63]+"==")):2===n&&(t=(e[r-2]<<8)+e[r-1],o.push(p[t>>10]+p[t>>4&63]+p[t<<2&63]+"=")),o.join("")}r.byteLength=o,r.toByteArray=i,r.fromByteArray=l;for(var p=[],c=[],f="undefined"!=typeof Uint8Array?Uint8Array:Array,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=0,m=h.length;d<m;++d)p[d]=h[d],c[h.charCodeAt(d)]=d;c["-".charCodeAt(0)]=62,c["_".charCodeAt(0)]=63},{}],185:[function(e,t,r){},{}],186:[function(e,t,r){(function(t,n){"use strict";function o(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}function a(){return n.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function i(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return n.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=n.prototype):(null===e&&(e=new n(t)),e.length=t),e}function n(e,t,r){if(!(n.TYPED_ARRAY_SUPPORT||this instanceof n))return new n(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return p(this,e)}return s(this,e,t,r)}function s(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?h(e,t,r,n):"string"==typeof t?c(e,t,r):d(e,t)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function l(e,t,r,n){return u(t),t<=0?i(e,t):void 0!==r?"string"==typeof n?i(e,t).fill(r,n):i(e,t).fill(r):i(e,t)}function p(e,t){if(u(t),e=i(e,t<0?0:0|m(t)),!n.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function c(e,t,r){if("string"==typeof r&&""!==r||(r="utf8"),!n.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var o=0|v(t,r);e=i(e,o);var a=e.write(t,r);return a!==o&&(e=e.slice(0,a)),e}function f(e,t){var r=t.length<0?0:0|m(t.length);e=i(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function h(e,t,r,o){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(o||0))throw new RangeError("'length' is out of bounds");return t=void 0===r&&void 0===o?new Uint8Array(t):void 0===o?new Uint8Array(t,r):new Uint8Array(t,r,o),n.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=n.prototype):e=f(e,t),e}function d(e,t){if(n.isBuffer(t)){var r=0|m(t.length);return e=i(e,r),0===e.length?e:(t.copy(e,0,0,r),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||K(t.length)?i(e,0):f(e,t);if("Buffer"===t.type&&Z(t.data))return f(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function m(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function g(e){return+e!=e&&(e=0),n.alloc(+e)}function v(e,t){if(n.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var o=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return W(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return X(e).length;default:if(o)return W(e).length;t=(""+t).toLowerCase(),o=!0}}function y(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if(r>>>=0,t>>>=0,r<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return R(this,t,r);case"utf8":case"utf-8":return A(this,t,r);case"ascii":return I(this,t,r);case"latin1":case"binary":return C(this,t,r);case"base64":return k(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function x(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function b(e,t,r,o,a){if(0===e.length)return-1;if("string"==typeof r?(o=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=a?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(a)return-1;r=e.length-1}else if(r<0){if(!a)return-1;r=0}if("string"==typeof t&&(t=n.from(t,o)),n.isBuffer(t))return 0===t.length?-1:_(e,t,r,o,a);if("number"==typeof t)return t&=255,n.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?a?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):_(e,[t],r,o,a);throw new TypeError("val must be string, number or Buffer")}function _(e,t,r,n,o){function a(e,t){return 1===i?e[t]:e.readUInt16BE(t*i)}var i=1,s=e.length,u=t.length;if(void 0!==n&&(n=String(n).toLowerCase(),"ucs2"===n||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;i=2,s/=2,u/=2,r/=2}var l;if(o){var p=-1;for(l=r;l<s;l++)if(a(e,l)===a(t,p===-1?0:l-p)){if(p===-1&&(p=l),l-p+1===u)return p*i}else p!==-1&&(l-=l-p),p=-1}else for(r+u>s&&(r=s-u),l=r;l>=0;l--){for(var c=!0,f=0;f<u;f++)if(a(e,l+f)!==a(t,f)){c=!1;break}if(c)return l}return-1}function w(e,t,r,n){r=Number(r)||0;var o=e.length-r;n?(n=Number(n),n>o&&(n=o)):n=o;var a=t.length;if(a%2!==0)throw new TypeError("Invalid hex string");n>a/2&&(n=a/2);for(var i=0;i<n;++i){var s=parseInt(t.substr(2*i,2),16);if(isNaN(s))return i;e[r+i]=s}return i}function T(e,t,r,n){return Y(W(t,e.length-r),e,r,n)}function N(e,t,r,n){return Y(H(t),e,r,n)}function P(e,t,r,n){return N(e,t,r,n)}function S(e,t,r,n){return Y(X(t),e,r,n)}function E(e,t,r,n){return Y($(t,e.length-r),e,r,n)}function k(e,t,r){return 0===t&&r===e.length?Q.fromByteArray(e):Q.fromByteArray(e.slice(t,r))}function A(e,t,r){r=Math.min(e.length,r);for(var n=[],o=t;o<r;){var a=e[o],i=null,s=a>239?4:a>223?3:a>191?2:1;if(o+s<=r){var u,l,p,c;switch(s){case 1:a<128&&(i=a);break;case 2:u=e[o+1],128===(192&u)&&(c=(31&a)<<6|63&u,c>127&&(i=c));break;case 3:u=e[o+1],l=e[o+2],128===(192&u)&&128===(192&l)&&(c=(15&a)<<12|(63&u)<<6|63&l,c>2047&&(c<55296||c>57343)&&(i=c));break;case 4:u=e[o+1],l=e[o+2],p=e[o+3],128===(192&u)&&128===(192&l)&&128===(192&p)&&(c=(15&a)<<18|(63&u)<<12|(63&l)<<6|63&p,c>65535&&c<1114112&&(i=c))}}null===i?(i=65533,s=1):i>65535&&(i-=65536,n.push(i>>>10&1023|55296),i=56320|1023&i),n.push(i),o+=s}return O(n)}function O(e){var t=e.length;if(t<=ee)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=ee));return r}function I(e,t,r){var n="";r=Math.min(e.length,r);for(var o=t;o<r;++o)n+=String.fromCharCode(127&e[o]);return n}function C(e,t,r){var n="";r=Math.min(e.length,r);for(var o=t;o<r;++o)n+=String.fromCharCode(e[o]);return n}function R(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var o="",a=t;a<r;++a)o+=q(e[a]);return o}function M(e,t,r){for(var n=e.slice(t,r),o="",a=0;a<n.length;a+=2)o+=String.fromCharCode(n[a]+256*n[a+1]);return o}function D(e,t,r){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function V(e,t,r,o,a,i){if(!n.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>a||t<i)throw new RangeError('"value" argument is out of bounds');if(r+o>e.length)throw new RangeError("Index out of range")}function L(e,t,r,n){t<0&&(t=65535+t+1);for(var o=0,a=Math.min(e.length-r,2);o<a;++o)e[r+o]=(t&255<<8*(n?o:1-o))>>>8*(n?o:1-o)}function F(e,t,r,n){t<0&&(t=4294967295+t+1);for(var o=0,a=Math.min(e.length-r,4);o<a;++o)e[r+o]=t>>>8*(n?o:3-o)&255}function B(e,t,r,n,o,a){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function z(e,t,r,n,o){return o||B(e,t,r,4,3.4028234663852886e38,-3.4028234663852886e38),J.write(e,t,r,n,23,4),r+4}function j(e,t,r,n,o){return o||B(e,t,r,8,1.7976931348623157e308,-1.7976931348623157e308),J.write(e,t,r,n,52,8),r+8}function U(e){if(e=G(e).replace(te,""),e.length<2)return"";for(;e.length%4!==0;)e+="=";return e}function G(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function q(e){return e<16?"0"+e.toString(16):e.toString(16)}function W(e,t){t=t||1/0;for(var r,n=e.length,o=null,a=[],i=0;i<n;++i){if(r=e.charCodeAt(i),r>55295&&r<57344){if(!o){if(r>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(i+1===n){(t-=3)>-1&&a.push(239,191,189);continue}o=r;continue}if(r<56320){(t-=3)>-1&&a.push(239,191,189),o=r;continue}r=(o-55296<<10|r-56320)+65536}else o&&(t-=3)>-1&&a.push(239,191,189);if(o=null,r<128){if((t-=1)<0)break;a.push(r)}else if(r<2048){if((t-=2)<0)break;a.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;a.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return a}function H(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}function $(e,t){for(var r,n,o,a=[],i=0;i<e.length&&!((t-=2)<0);++i)r=e.charCodeAt(i),n=r>>8,o=r%256,a.push(o),a.push(n);return a}function X(e){return Q.toByteArray(U(e))}function Y(e,t,r,n){for(var o=0;o<n&&!(o+r>=t.length||o>=e.length);++o)t[o+r]=e[o];return o}function K(e){return e!==e}var Q=e("base64-js"),J=e("ieee754"),Z=e("isarray");r.Buffer=n,r.SlowBuffer=g,r.INSPECT_MAX_BYTES=50,n.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:o(),r.kMaxLength=a(),n.poolSize=8192,n._augment=function(e){return e.__proto__=n.prototype,e},n.from=function(e,t,r){return s(null,e,t,r)},n.TYPED_ARRAY_SUPPORT&&(n.prototype.__proto__=Uint8Array.prototype,n.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&n[Symbol.species]===n&&Object.defineProperty(n,Symbol.species,{value:null,configurable:!0})),n.alloc=function(e,t,r){return l(null,e,t,r)},n.allocUnsafe=function(e){return p(null,e)},n.allocUnsafeSlow=function(e){return p(null,e)},n.isBuffer=function(e){return!(null==e||!e._isBuffer)},n.compare=function(e,t){if(!n.isBuffer(e)||!n.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,o=t.length,a=0,i=Math.min(r,o);a<i;++a)if(e[a]!==t[a]){r=e[a],o=t[a];break}return r<o?-1:o<r?1:0},n.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},n.concat=function(e,t){if(!Z(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return n.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var o=n.allocUnsafe(t),a=0;for(r=0;r<e.length;++r){var i=e[r];if(!n.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(o,a),a+=i.length}return o},n.byteLength=v,n.prototype._isBuffer=!0,n.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)x(this,t,t+1);return this},n.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)x(this,t,t+3),x(this,t+1,t+2);return this},n.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)x(this,t,t+7),x(this,t+1,t+6),x(this,t+2,t+5),x(this,t+3,t+4);return this},n.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?A(this,0,e):y.apply(this,arguments)},n.prototype.equals=function(e){if(!n.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===n.compare(this,e)},n.prototype.inspect=function(){var e="",t=r.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},n.prototype.compare=function(e,t,r,o,a){if(!n.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===o&&(o=0),void 0===a&&(a=this.length),t<0||r>e.length||o<0||a>this.length)throw new RangeError("out of range index");if(o>=a&&t>=r)return 0;if(o>=a)return-1;if(t>=r)return 1;if(t>>>=0,r>>>=0,o>>>=0,a>>>=0,this===e)return 0;for(var i=a-o,s=r-t,u=Math.min(i,s),l=this.slice(o,a),p=e.slice(t,r),c=0;c<u;++c)if(l[c]!==p[c]){i=l[c],s=p[c];break}return i<s?-1:s<i?1:0},n.prototype.includes=function(e,t,r){return this.indexOf(e,t,r)!==-1},n.prototype.indexOf=function(e,t,r){return b(this,e,t,r,!0)},n.prototype.lastIndexOf=function(e,t,r){return b(this,e,t,r,!1)},n.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var o=this.length-t;if((void 0===r||r>o)&&(r=o),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var a=!1;;)switch(n){case"hex":return w(this,e,t,r);case"utf8":case"utf-8":return T(this,e,t,r);case"ascii":return N(this,e,t,r);case"latin1":case"binary":return P(this,e,t,r);case"base64":return S(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,t,r);default:if(a)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),a=!0}},n.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var ee=4096;n.prototype.slice=function(e,t){var r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r,e<0&&(e=0)):e>r&&(e=r),t<0?(t+=r,t<0&&(t=0)):t>r&&(t=r),t<e&&(t=e);var o;if(n.TYPED_ARRAY_SUPPORT)o=this.subarray(e,t),o.__proto__=n.prototype;else{var a=t-e;o=new n(a,void 0);for(var i=0;i<a;++i)o[i]=this[i+e]}return o},n.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||D(e,t,this.length);for(var n=this[e],o=1,a=0;++a<t&&(o*=256);)n+=this[e+a]*o;return n},n.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||D(e,t,this.length);for(var n=this[e+--t],o=1;t>0&&(o*=256);)n+=this[e+--t]*o;return n},n.prototype.readUInt8=function(e,t){return t||D(e,1,this.length),this[e]},n.prototype.readUInt16LE=function(e,t){return t||D(e,2,this.length),this[e]|this[e+1]<<8},n.prototype.readUInt16BE=function(e,t){return t||D(e,2,this.length),this[e]<<8|this[e+1]},n.prototype.readUInt32LE=function(e,t){return t||D(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},n.prototype.readUInt32BE=function(e,t){return t||D(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},n.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||D(e,t,this.length);for(var n=this[e],o=1,a=0;++a<t&&(o*=256);)n+=this[e+a]*o;return o*=128,n>=o&&(n-=Math.pow(2,8*t)),n},n.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||D(e,t,this.length);for(var n=t,o=1,a=this[e+--n];n>0&&(o*=256);)a+=this[e+--n]*o;return o*=128,a>=o&&(a-=Math.pow(2,8*t)),a},n.prototype.readInt8=function(e,t){return t||D(e,1,this.length),128&this[e]?(255-this[e]+1)*-1:this[e]},n.prototype.readInt16LE=function(e,t){t||D(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},n.prototype.readInt16BE=function(e,t){t||D(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},n.prototype.readInt32LE=function(e,t){return t||D(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},n.prototype.readInt32BE=function(e,t){return t||D(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},n.prototype.readFloatLE=function(e,t){return t||D(e,4,this.length),J.read(this,e,!0,23,4)},n.prototype.readFloatBE=function(e,t){return t||D(e,4,this.length),J.read(this,e,!1,23,4)},n.prototype.readDoubleLE=function(e,t){return t||D(e,8,this.length),J.read(this,e,!0,52,8)},n.prototype.readDoubleBE=function(e,t){return t||D(e,8,this.length),J.read(this,e,!1,52,8)},n.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t|=0,r|=0,!n){var o=Math.pow(2,8*r)-1;V(this,e,t,r,o,0)}var a=1,i=0;for(this[t]=255&e;++i<r&&(a*=256);)this[t+i]=e/a&255;return t+r},n.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t|=0,r|=0,!n){var o=Math.pow(2,8*r)-1;V(this,e,t,r,o,0)}var a=r-1,i=1;for(this[t+a]=255&e;--a>=0&&(i*=256);)this[t+a]=e/i&255;return t+r},n.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||V(this,e,t,1,255,0),n.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},n.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||V(this,e,t,2,65535,0),n.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):L(this,e,t,!0),t+2},n.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||V(this,e,t,2,65535,0),n.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):L(this,e,t,!1),t+2},n.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||V(this,e,t,4,4294967295,0),n.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):F(this,e,t,!0),t+4},n.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||V(this,e,t,4,4294967295,0),n.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):F(this,e,t,!1),t+4},n.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var o=Math.pow(2,8*r-1);V(this,e,t,r,o-1,-o)}var a=0,i=1,s=0;for(this[t]=255&e;++a<r&&(i*=256);)e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/i>>0)-s&255;return t+r},n.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var o=Math.pow(2,8*r-1);V(this,e,t,r,o-1,-o)}var a=r-1,i=1,s=0;for(this[t+a]=255&e;--a>=0&&(i*=256);)e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/i>>0)-s&255;return t+r},n.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||V(this,e,t,1,127,-128),n.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},n.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||V(this,e,t,2,32767,-32768),n.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):L(this,e,t,!0),t+2},n.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||V(this,e,t,2,32767,-32768),n.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):L(this,e,t,!1),t+2},n.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||V(this,e,t,4,2147483647,-2147483648),n.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):F(this,e,t,!0),t+4},n.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||V(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),n.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):F(this,e,t,!1),t+4},n.prototype.writeFloatLE=function(e,t,r){return z(this,e,t,!0,r)},n.prototype.writeFloatBE=function(e,t,r){return z(this,e,t,!1,r)},n.prototype.writeDoubleLE=function(e,t,r){return j(this,e,t,!0,r)},n.prototype.writeDoubleBE=function(e,t,r){return j(this,e,t,!1,r)},n.prototype.copy=function(e,t,r,o){if(r||(r=0),o||0===o||(o=this.length),t>=e.length&&(t=e.length),t||(t=0),o>0&&o<r&&(o=r),o===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(o<0)throw new RangeError("sourceEnd out of bounds");o>this.length&&(o=this.length),e.length-t<o-r&&(o=e.length-t+r);var a,i=o-r;if(this===e&&r<t&&t<o)for(a=i-1;a>=0;--a)e[a+t]=this[a+r];else if(i<1e3||!n.TYPED_ARRAY_SUPPORT)for(a=0;a<i;++a)e[a+t]=this[a+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+i),t);return i},n.prototype.fill=function(e,t,r,o){if("string"==typeof e){if("string"==typeof t?(o=t,t=0,r=this.length):"string"==typeof r&&(o=r,r=this.length),1===e.length){var a=e.charCodeAt(0);a<256&&(e=a)}if(void 0!==o&&"string"!=typeof o)throw new TypeError("encoding must be a string");if("string"==typeof o&&!n.isEncoding(o))throw new TypeError("Unknown encoding: "+o)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0);var i;if("number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{var s=n.isBuffer(e)?e:W(new n(e,o).toString()),u=s.length;for(i=0;i<r-t;++i)this[i+t]=s[i%u]}return this};var te=/[^+\/0-9A-Za-z-_]/g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer)},{"base64-js":184,buffer:186,ieee754:194,isarray:187}],187:[function(e,t,r){var n={}.toString;t.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},{}],188:[function(e,t,r){(function(e){(function(e,t,r,n,o){!function(){"use strict";function t(e,r,n){return("string"==typeof r?r:r.toString()).replace(e.define||s,function(t,r,o,a){return 0===r.indexOf("def.")&&(r=r.substring(4)),r in n||(":"===o?(e.defineParams&&a.replace(e.defineParams,function(e,t,o){n[r]={arg:t,text:o}}),r in n||(n[r]=a)):new Function("def","def['"+r+"']="+a)(n)),""}).replace(e.use||s,function(r,o){e.useParams&&(o=o.replace(e.useParams,function(e,t,r,o){if(n[r]&&n[r].arg&&o){var a=(r+":"+o).replace(/'|\\/g,"_");return n.__exp=n.__exp||{},n.__exp[a]=n[r].text.replace(new RegExp("(^|[^\\w$])"+n[r].arg+"([^\\w$])","g"),"$1"+o+"$2"),t+"def.__exp['"+a+"']"}}));var a=new Function("def","return "+o)(n);return a?t(e,a,n):a})}function r(e){return e.replace(/\\('|\\)/g,"$1").replace(/[\r\t\n]/g," ")}var o,a={name:"doT",version:"1.1.1",templateSettings:{evaluate:/\{\{([\s\S]+?(\}?)+)\}\}/g,interpolate:/\{\{=([\s\S]+?)\}\}/g,encode:/\{\{!([\s\S]+?)\}\}/g,use:/\{\{#([\s\S]+?)\}\}/g,useParams:/(^|[^\w$])def(?:\.|\[[\'\"])([\w$\.]+)(?:[\'\"]\])?\s*\:\s*([\w$\.]+|\"[^\"]+\"|\'[^\']+\'|\{[^\}]+\})/g,define:/\{\{##\s*([\w\.$]+)\s*(\:|=)([\s\S]+?)#\}\}/g,defineParams:/^\s*([\w$]+):([\s\S]+)/,conditional:/\{\{\?(\?)?\s*([\s\S]*?)\s*\}\}/g,iterate:/\{\{~\s*(?:\}\}|([\s\S]+?)\s*\:\s*([\w$]+)\s*(?:\:\s*([\w$]+))?\s*\}\})/g,varname:"it",strip:!0,append:!0,selfcontained:!1,doNotSkipEncoded:!1},template:void 0,compile:void 0,log:!0};a.encodeHTMLSource=function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},r=e?/[&<>"'\/]/g:/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return e?e.toString().replace(r,function(e){return t[e]||e}):""}},o=function(){return this||(0,eval)("this")}(),"undefined"!=typeof e&&e.exports?e.exports=a:"function"==typeof n&&n.amd?n(function(){return a}):o.doT=a;var i={append:{start:"'+(",end:")+'",startencode:"'+encodeHTML("},split:{start:"';out+=(",end:");out+='",startencode:"';out+=encodeHTML("}},s=/$^/;a.template=function(e,n,u){n=n||a.templateSettings;var l,p,c=n.append?i.append:i.split,f=0,h=n.use||n.define?t(n,e,u||{}):e;h=("var out='"+(n.strip?h.replace(/(^|\r|\n)\t* +| +\t*(\r|\n|$)/g," ").replace(/\r|\n|\t|\/\*[\s\S]*?\*\//g,""):h).replace(/'|\\/g,"\\$&").replace(n.interpolate||s,function(e,t){return c.start+r(t)+c.end}).replace(n.encode||s,function(e,t){return l=!0,c.startencode+r(t)+c.end}).replace(n.conditional||s,function(e,t,n){return t?n?"';}else if("+r(n)+"){out+='":"';}else{out+='":n?"';if("+r(n)+"){out+='":"';}out+='"}).replace(n.iterate||s,function(e,t,n,o){return t?(f+=1,p=o||"i"+f,t=r(t),"';var arr"+f+"="+t+";if(arr"+f+"){var "+n+","+p+"=-1,l"+f+"=arr"+f+".length-1;while("+p+"<l"+f+"){"+n+"=arr"+f+"["+p+"+=1];out+='"):"';} } out+='"}).replace(n.evaluate||s,function(e,t){return"';"+r(t)+"out+='"})+"';return out;").replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r").replace(/(\s|;|\}|^|\{)out\+='';/g,"$1").replace(/\+''/g,""),l&&(n.selfcontained||!o||o._encodeHTML||(o._encodeHTML=a.encodeHTMLSource(n.doNotSkipEncoded)),
h="var encodeHTML = typeof _encodeHTML !== 'undefined' ? _encodeHTML : ("+a.encodeHTMLSource.toString()+"("+(n.doNotSkipEncoded||"")+"));"+h);try{return new Function(n.varname,h)}catch(e){throw"undefined"!=typeof console&&console.log("Could not create a template function: "+h),e}},a.compile=function(e,t){return a.template(e,null,t)}}(),o("undefined"!=typeof doT?doT:window.doT)}).call(e,void 0,void 0,void 0,void 0,function(e){t.exports=e})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],189:[function(e,t,r){(function(e){!function(e,r){"use strict";var n={},o=e.document,a=e.GreenSockGlobals=e.GreenSockGlobals||e;if(a.TweenLite)return a.TweenLite;var i,s,u,l,p,c=function(e){var t,r=e.split("."),n=a;for(t=0;t<r.length;t++)n[r[t]]=n=n[r[t]]||{};return n},f=c("com.greensock"),h=1e-10,d=function(e){var t,r=[],n=e.length;for(t=0;t!==n;r.push(e[t++]));return r},m=function(){},g=function(){var e=Object.prototype.toString,t=e.call([]);return function(r){return null!=r&&(r instanceof Array||"object"==typeof r&&!!r.push&&e.call(r)===t)}}(),v={},y=function(o,i,s,u){this.sc=v[o]?v[o].sc:[],v[o]=this,this.gsClass=null,this.func=s;var l=[];this.check=function(p){for(var f,h,d,m,g=i.length,x=g;--g>-1;)(f=v[i[g]]||new y(i[g],[])).gsClass?(l[g]=f.gsClass,x--):p&&f.sc.push(this);if(0===x&&s){if(h=("com.greensock."+o).split("."),d=h.pop(),m=c(h.join("."))[d]=this.gsClass=s.apply(s,l),u)if(a[d]=n[d]=m,"undefined"!=typeof t&&t.exports)if(o===r){t.exports=n[r]=m;for(g in n)m[g]=n[g]}else n[r]&&(n[r][d]=m);else"function"==typeof define&&define.amd&&define((e.GreenSockAMDPath?e.GreenSockAMDPath+"/":"")+o.split(".").pop(),[],function(){return m});for(g=0;g<this.sc.length;g++)this.sc[g].check()}},this.check(!0)},x=e._gsDefine=function(e,t,r,n){return new y(e,t,r,n)},b=f._class=function(e,t,r){return t=t||function(){},x(e,[],function(){return t},r),t};x.globals=a;var _=[0,0,1,1],w=b("easing.Ease",function(e,t,r,n){this._func=e,this._type=r||0,this._power=n||0,this._params=t?_.concat(t):_},!0),T=w.map={},N=w.register=function(e,t,r,n){for(var o,a,i,s,u=t.split(","),l=u.length,p=(r||"easeIn,easeOut,easeInOut").split(",");--l>-1;)for(a=u[l],o=n?b("easing."+a,null,!0):f.easing[a]||{},i=p.length;--i>-1;)s=p[i],T[a+"."+s]=T[s+a]=o[s]=e.getRatio?e:e[s]||new e};for(u=w.prototype,u._calcEnd=!1,u.getRatio=function(e){if(this._func)return this._params[0]=e,this._func.apply(null,this._params);var t=this._type,r=this._power,n=1===t?1-e:2===t?e:e<.5?2*e:2*(1-e);return 1===r?n*=n:2===r?n*=n*n:3===r?n*=n*n*n:4===r&&(n*=n*n*n*n),1===t?1-n:2===t?n:e<.5?n/2:1-n/2},i=["Linear","Quad","Cubic","Quart","Quint,Strong"],s=i.length;--s>-1;)u=i[s]+",Power"+s,N(new w(null,null,1,s),u,"easeOut",!0),N(new w(null,null,2,s),u,"easeIn"+(0===s?",easeNone":"")),N(new w(null,null,3,s),u,"easeInOut");T.linear=f.easing.Linear.easeIn,T.swing=f.easing.Quad.easeInOut;var P=b("events.EventDispatcher",function(e){this._listeners={},this._eventTarget=e||this});u=P.prototype,u.addEventListener=function(e,t,r,n,o){o=o||0;var a,i,s=this._listeners[e],u=0;for(this!==l||p||l.wake(),null==s&&(this._listeners[e]=s=[]),i=s.length;--i>-1;)a=s[i],a.c===t&&a.s===r?s.splice(i,1):0===u&&a.pr<o&&(u=i+1);s.splice(u,0,{c:t,s:r,up:n,pr:o})},u.removeEventListener=function(e,t){var r,n=this._listeners[e];if(n)for(r=n.length;--r>-1;)if(n[r].c===t)return void n.splice(r,1)},u.dispatchEvent=function(e){var t,r,n,o=this._listeners[e];if(o)for(t=o.length,t>1&&(o=o.slice(0)),r=this._eventTarget;--t>-1;)n=o[t],n&&(n.up?n.c.call(n.s||r,{type:e,target:r}):n.c.call(n.s||r))};var S=e.requestAnimationFrame,E=e.cancelAnimationFrame,k=Date.now||function(){return(new Date).getTime()},A=k();for(i=["ms","moz","webkit","o"],s=i.length;--s>-1&&!S;)S=e[i[s]+"RequestAnimationFrame"],E=e[i[s]+"CancelAnimationFrame"]||e[i[s]+"CancelRequestAnimationFrame"];b("Ticker",function(e,t){var r,n,a,i,s,u=this,c=k(),f=!(t===!1||!S)&&"auto",d=500,g=33,v="tick",y=function(e){var t,o,l=k()-A;l>d&&(c+=l-g),A+=l,u.time=(A-c)/1e3,t=u.time-s,(!r||t>0||e===!0)&&(u.frame++,s+=t+(t>=i?.004:i-t),o=!0),e!==!0&&(a=n(y)),o&&u.dispatchEvent(v)};P.call(u),u.time=u.frame=0,u.tick=function(){y(!0)},u.lagSmoothing=function(e,t){return arguments.length?(d=e||1/h,void(g=Math.min(t,d,0))):d<1/h},u.sleep=function(){null!=a&&(f&&E?E(a):clearTimeout(a),n=m,a=null,u===l&&(p=!1))},u.wake=function(e){null!==a?u.sleep():e?c+=-A+(A=k()):u.frame>10&&(A=k()-d+5),n=0===r?m:f&&S?S:function(e){return setTimeout(e,1e3*(s-u.time)+1|0)},u===l&&(p=!0),y(2)},u.fps=function(e){return arguments.length?(r=e,i=1/(r||60),s=this.time+i,void u.wake()):r},u.useRAF=function(e){return arguments.length?(u.sleep(),f=e,void u.fps(r)):f},u.fps(e),setTimeout(function(){"auto"===f&&u.frame<5&&"hidden"!==(o||{}).visibilityState&&u.useRAF(!1)},1500)}),u=f.Ticker.prototype=new f.events.EventDispatcher,u.constructor=f.Ticker;var O=b("core.Animation",function(e,t){if(this.vars=t=t||{},this._duration=this._totalDuration=e||0,this._delay=Number(t.delay)||0,this._timeScale=1,this._active=t.immediateRender===!0,this.data=t.data,this._reversed=t.reversed===!0,K){p||l.wake();var r=this.vars.useFrames?Y:K;r.add(this,r._time),this.vars.paused&&this.paused(!0)}});l=O.ticker=new f.Ticker,u=O.prototype,u._dirty=u._gc=u._initted=u._paused=!1,u._totalTime=u._time=0,u._rawPrevTime=-1,u._next=u._last=u._onUpdate=u._timeline=u.timeline=null,u._paused=!1;var I=function(){p&&k()-A>2e3&&("hidden"!==(o||{}).visibilityState||!l.lagSmoothing())&&l.wake();var e=setTimeout(I,2e3);e.unref&&e.unref()};I(),u.play=function(e,t){return null!=e&&this.seek(e,t),this.reversed(!1).paused(!1)},u.pause=function(e,t){return null!=e&&this.seek(e,t),this.paused(!0)},u.resume=function(e,t){return null!=e&&this.seek(e,t),this.paused(!1)},u.seek=function(e,t){return this.totalTime(Number(e),t!==!1)},u.restart=function(e,t){return this.reversed(!1).paused(!1).totalTime(e?-this._delay:0,t!==!1,!0)},u.reverse=function(e,t){return null!=e&&this.seek(e||this.totalDuration(),t),this.reversed(!0).paused(!1)},u.render=function(e,t,r){},u.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,!this._gc&&this.timeline||this._enabled(!0),this},u.isActive=function(){var e,t=this._timeline,r=this._startTime;return!t||!this._gc&&!this._paused&&t.isActive()&&(e=t.rawTime(!0))>=r&&e<r+this.totalDuration()/this._timeScale-1e-7},u._enabled=function(e,t){return p||l.wake(),this._gc=!e,this._active=this.isActive(),t!==!0&&(e&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!e&&this.timeline&&this._timeline._remove(this,!0)),!1},u._kill=function(e,t){return this._enabled(!1,!1)},u.kill=function(e,t){return this._kill(e,t),this},u._uncache=function(e){for(var t=e?this:this.timeline;t;)t._dirty=!0,t=t.timeline;return this},u._swapSelfInParams=function(e){for(var t=e.length,r=e.concat();--t>-1;)"{self}"===e[t]&&(r[t]=this);return r},u._callback=function(e){var t=this.vars,r=t[e],n=t[e+"Params"],o=t[e+"Scope"]||t.callbackScope||this,a=n?n.length:0;switch(a){case 0:r.call(o);break;case 1:r.call(o,n[0]);break;case 2:r.call(o,n[0],n[1]);break;default:r.apply(o,n)}},u.eventCallback=function(e,t,r,n){if("on"===(e||"").substr(0,2)){var o=this.vars;if(1===arguments.length)return o[e];null==t?delete o[e]:(o[e]=t,o[e+"Params"]=g(r)&&r.join("").indexOf("{self}")!==-1?this._swapSelfInParams(r):r,o[e+"Scope"]=n),"onUpdate"===e&&(this._onUpdate=t)}return this},u.delay=function(e){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+e-this._delay),this._delay=e,this):this._delay},u.duration=function(e){return arguments.length?(this._duration=this._totalDuration=e,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==e&&this.totalTime(this._totalTime*(e/this._duration),!0),this):(this._dirty=!1,this._duration)},u.totalDuration=function(e){return this._dirty=!1,arguments.length?this.duration(e):this._totalDuration},u.time=function(e,t){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(e>this._duration?this._duration:e,t)):this._time},u.totalTime=function(e,t,r){if(p||l.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(e<0&&!r&&(e+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var n=this._totalDuration,o=this._timeline;if(e>n&&!r&&(e=n),this._startTime=(this._paused?this._pauseTime:o._time)-(this._reversed?n-e:e)/this._timeScale,o._dirty||this._uncache(!1),o._timeline)for(;o._timeline;)o._timeline._time!==(o._startTime+o._totalTime)/o._timeScale&&o.totalTime(o._totalTime,!0),o=o._timeline}this._gc&&this._enabled(!0,!1),this._totalTime===e&&0!==this._duration||(V.length&&J(),this.render(e,t,!1),V.length&&J())}return this},u.progress=u.totalProgress=function(e,t){var r=this.duration();return arguments.length?this.totalTime(r*e,t):r?this._time/r:this.ratio},u.startTime=function(e){return arguments.length?(e!==this._startTime&&(this._startTime=e,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,e-this._delay)),this):this._startTime},u.endTime=function(e){return this._startTime+(0!=e?this.totalDuration():this.duration())/this._timeScale},u.timeScale=function(e){if(!arguments.length)return this._timeScale;var t,r;for(e=e||h,this._timeline&&this._timeline.smoothChildTiming&&(t=this._pauseTime,r=t||0===t?t:this._timeline.totalTime(),this._startTime=r-(r-this._startTime)*this._timeScale/e),this._timeScale=e,r=this.timeline;r&&r.timeline;)r._dirty=!0,r.totalDuration(),r=r.timeline;return this},u.reversed=function(e){return arguments.length?(e!=this._reversed&&(this._reversed=e,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},u.paused=function(e){if(!arguments.length)return this._paused;var t,r,n=this._timeline;return e!=this._paused&&n&&(p||e||l.wake(),t=n.rawTime(),r=t-this._pauseTime,!e&&n.smoothChildTiming&&(this._startTime+=r,this._uncache(!1)),this._pauseTime=e?t:null,this._paused=e,this._active=this.isActive(),!e&&0!==r&&this._initted&&this.duration()&&(t=n.smoothChildTiming?this._totalTime:(t-this._startTime)/this._timeScale,this.render(t,t===this._totalTime,!0))),this._gc&&!e&&this._enabled(!0,!1),this};var C=b("core.SimpleTimeline",function(e){O.call(this,0,e),this.autoRemoveChildren=this.smoothChildTiming=!0});u=C.prototype=new O,u.constructor=C,u.kill()._gc=!1,u._first=u._last=u._recent=null,u._sortChildren=!1,u.add=u.insert=function(e,t,r,n){var o,a;if(e._startTime=Number(t||0)+e._delay,e._paused&&this!==e._timeline&&(e._pauseTime=this.rawTime()-(e._timeline.rawTime()-e._pauseTime)),e.timeline&&e.timeline._remove(e,!0),e.timeline=e._timeline=this,e._gc&&e._enabled(!0,!0),o=this._last,this._sortChildren)for(a=e._startTime;o&&o._startTime>a;)o=o._prev;return o?(e._next=o._next,o._next=e):(e._next=this._first,this._first=e),e._next?e._next._prev=e:this._last=e,e._prev=o,this._recent=e,this._timeline&&this._uncache(!0),this},u._remove=function(e,t){return e.timeline===this&&(t||e._enabled(!1,!0),e._prev?e._prev._next=e._next:this._first===e&&(this._first=e._next),e._next?e._next._prev=e._prev:this._last===e&&(this._last=e._prev),e._next=e._prev=e.timeline=null,e===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},u.render=function(e,t,r){var n,o=this._first;for(this._totalTime=this._time=this._rawPrevTime=e;o;)n=o._next,(o._active||e>=o._startTime&&!o._paused&&!o._gc)&&(o._reversed?o.render((o._dirty?o.totalDuration():o._totalDuration)-(e-o._startTime)*o._timeScale,t,r):o.render((e-o._startTime)*o._timeScale,t,r)),o=n},u.rawTime=function(){return p||l.wake(),this._totalTime};var R=b("TweenLite",function(t,r,n){if(O.call(this,r,n),this.render=R.prototype.render,null==t)throw"Cannot tween a null target.";this.target=t="string"!=typeof t?t:R.selector(t)||t;var o,a,i,s=t.jquery||t.length&&t!==e&&t[0]&&(t[0]===e||t[0].nodeType&&t[0].style&&!t.nodeType),u=this.vars.overwrite;if(this._overwrite=u=null==u?X[R.defaultOverwrite]:"number"==typeof u?u>>0:X[u],(s||t instanceof Array||t.push&&g(t))&&"number"!=typeof t[0])for(this._targets=i=d(t),this._propLookup=[],this._siblings=[],o=0;o<i.length;o++)a=i[o],a?"string"!=typeof a?a.length&&a!==e&&a[0]&&(a[0]===e||a[0].nodeType&&a[0].style&&!a.nodeType)?(i.splice(o--,1),this._targets=i=i.concat(d(a))):(this._siblings[o]=Z(a,this,!1),1===u&&this._siblings[o].length>1&&te(a,this,null,1,this._siblings[o])):(a=i[o--]=R.selector(a),"string"==typeof a&&i.splice(o+1,1)):i.splice(o--,1);else this._propLookup={},this._siblings=Z(t,this,!1),1===u&&this._siblings.length>1&&te(t,this,null,1,this._siblings);(this.vars.immediateRender||0===r&&0===this._delay&&this.vars.immediateRender!==!1)&&(this._time=-h,this.render(Math.min(0,-this._delay)))},!0),M=function(t){return t&&t.length&&t!==e&&t[0]&&(t[0]===e||t[0].nodeType&&t[0].style&&!t.nodeType)},D=function(e,t){var r,n={};for(r in e)$[r]||r in t&&"transform"!==r&&"x"!==r&&"y"!==r&&"width"!==r&&"height"!==r&&"className"!==r&&"border"!==r||!(!q[r]||q[r]&&q[r]._autoCSS)||(n[r]=e[r],delete e[r]);e.css=n};u=R.prototype=new O,u.constructor=R,u.kill()._gc=!1,u.ratio=0,u._firstPT=u._targets=u._overwrittenProps=u._startAt=null,u._notifyPluginsOfEnabled=u._lazy=!1,R.version="1.20.5",R.defaultEase=u._ease=new w(null,null,1,1),R.defaultOverwrite="auto",R.ticker=l,R.autoSleep=120,R.lagSmoothing=function(e,t){l.lagSmoothing(e,t)},R.selector=e.$||e.jQuery||function(t){var r=e.$||e.jQuery;return r?(R.selector=r,r(t)):(o||(o=e.document),o?o.querySelectorAll?o.querySelectorAll(t):o.getElementById("#"===t.charAt(0)?t.substr(1):t):t)};var V=[],L={},F=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,B=/[\+-]=-?[\.\d]/,z=function(e){for(var t,r=this._firstPT,n=1e-6;r;)t=r.blob?1===e&&null!=this.end?this.end:e?this.join(""):this.start:r.c*e+r.s,r.m?t=r.m.call(this._tween,t,this._target||r.t,this._tween):t<n&&t>-n&&!r.blob&&(t=0),r.f?r.fp?r.t[r.p](r.fp,t):r.t[r.p](t):r.t[r.p]=t,r=r._next},j=function(e,t,r,n){var o,a,i,s,u,l,p,c=[],f=0,h="",d=0;for(c.start=e,c.end=t,e=c[0]=e+"",t=c[1]=t+"",r&&(r(c),e=c[0],t=c[1]),c.length=0,o=e.match(F)||[],a=t.match(F)||[],n&&(n._next=null,n.blob=1,c._firstPT=c._applyPT=n),u=a.length,s=0;s<u;s++)p=a[s],l=t.substr(f,t.indexOf(p,f)-f),h+=l||!s?l:",",f+=l.length,d?d=(d+1)%5:"rgba("===l.substr(-5)&&(d=1),p===o[s]||o.length<=s?h+=p:(h&&(c.push(h),h=""),i=parseFloat(o[s]),c.push(i),c._firstPT={_next:c._firstPT,t:c,p:c.length-1,s:i,c:("="===p.charAt(1)?parseInt(p.charAt(0)+"1",10)*parseFloat(p.substr(2)):parseFloat(p)-i)||0,f:0,m:d&&d<4?Math.round:0}),f+=p.length;return h+=t.substr(f),h&&c.push(h),c.setRatio=z,B.test(t)&&(c.end=null),c},U=function(e,t,r,n,o,a,i,s,u){"function"==typeof n&&(n=n(u||0,e));var l,p=typeof e[t],c="function"!==p?"":t.indexOf("set")||"function"!=typeof e["get"+t.substr(3)]?t:"get"+t.substr(3),f="get"!==r?r:c?i?e[c](i):e[c]():e[t],h="string"==typeof n&&"="===n.charAt(1),d={t:e,p:t,s:f,f:"function"===p,pg:0,n:o||t,m:a?"function"==typeof a?a:Math.round:0,pr:0,c:h?parseInt(n.charAt(0)+"1",10)*parseFloat(n.substr(2)):parseFloat(n)-f||0};if(("number"!=typeof f||"number"!=typeof n&&!h)&&(i||isNaN(f)||!h&&isNaN(n)||"boolean"==typeof f||"boolean"==typeof n?(d.fp=i,l=j(f,h?parseFloat(d.s)+d.c+(d.s+"").replace(/[0-9\-\.]/g,""):n,s||R.defaultStringFilter,d),d={t:l,p:"setRatio",s:0,c:1,f:2,pg:0,n:o||t,pr:0,m:0}):(d.s=parseFloat(f),h||(d.c=parseFloat(n)-d.s||0))),d.c)return(d._next=this._firstPT)&&(d._next._prev=d),this._firstPT=d,d},G=R._internals={isArray:g,isSelector:M,lazyTweens:V,blobDif:j},q=R._plugins={},W=G.tweenLookup={},H=0,$=G.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1,stringFilter:1,id:1,yoyoEase:1},X={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,true:1,false:0},Y=O._rootFramesTimeline=new C,K=O._rootTimeline=new C,Q=30,J=G.lazyRender=function(){var e,t=V.length;for(L={};--t>-1;)e=V[t],e&&e._lazy!==!1&&(e.render(e._lazy[0],e._lazy[1],!0),e._lazy=!1);V.length=0};K._startTime=l.time,Y._startTime=l.frame,K._active=Y._active=!0,setTimeout(J,1),O._updateRoot=R.render=function(){var e,t,r;if(V.length&&J(),K.render((l.time-K._startTime)*K._timeScale,!1,!1),Y.render((l.frame-Y._startTime)*Y._timeScale,!1,!1),V.length&&J(),l.frame>=Q){Q=l.frame+(parseInt(R.autoSleep,10)||120);for(r in W){for(t=W[r].tweens,e=t.length;--e>-1;)t[e]._gc&&t.splice(e,1);0===t.length&&delete W[r]}if(r=K._first,(!r||r._paused)&&R.autoSleep&&!Y._first&&1===l._listeners.tick.length){for(;r&&r._paused;)r=r._next;r||l.sleep()}}},l.addEventListener("tick",O._updateRoot);var Z=function(e,t,r){var n,o,a=e._gsTweenID;if(W[a||(e._gsTweenID=a="t"+H++)]||(W[a]={target:e,tweens:[]}),t&&(n=W[a].tweens,n[o=n.length]=t,r))for(;--o>-1;)n[o]===t&&n.splice(o,1);return W[a].tweens},ee=function(e,t,r,n){var o,a,i=e.vars.onOverwrite;return i&&(o=i(e,t,r,n)),i=R.onOverwrite,i&&(a=i(e,t,r,n)),o!==!1&&a!==!1},te=function(e,t,r,n,o){var a,i,s,u;if(1===n||n>=4){for(u=o.length,a=0;a<u;a++)if((s=o[a])!==t)s._gc||s._kill(null,e,t)&&(i=!0);else if(5===n)break;return i}var l,p=t._startTime+h,c=[],f=0,d=0===t._duration;for(a=o.length;--a>-1;)(s=o[a])===t||s._gc||s._paused||(s._timeline!==t._timeline?(l=l||re(t,0,d),0===re(s,l,d)&&(c[f++]=s)):s._startTime<=p&&s._startTime+s.totalDuration()/s._timeScale>p&&((d||!s._initted)&&p-s._startTime<=2e-10||(c[f++]=s)));for(a=f;--a>-1;)if(s=c[a],2===n&&s._kill(r,e,t)&&(i=!0),2!==n||!s._firstPT&&s._initted){if(2!==n&&!ee(s,t))continue;s._enabled(!1,!1)&&(i=!0)}return i},re=function(e,t,r){for(var n=e._timeline,o=n._timeScale,a=e._startTime;n._timeline;){if(a+=n._startTime,o*=n._timeScale,n._paused)return-100;n=n._timeline}return a/=o,a>t?a-t:r&&a===t||!e._initted&&a-t<2*h?h:(a+=e.totalDuration()/e._timeScale/o)>t+h?0:a-t-h};u._init=function(){var e,t,r,n,o,a,i=this.vars,s=this._overwrittenProps,u=this._duration,l=!!i.immediateRender,p=i.ease;if(i.startAt){this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),o={};for(n in i.startAt)o[n]=i.startAt[n];if(o.data="isStart",o.overwrite=!1,o.immediateRender=!0,o.lazy=l&&i.lazy!==!1,o.startAt=o.delay=null,o.onUpdate=i.onUpdate,o.onUpdateParams=i.onUpdateParams,o.onUpdateScope=i.onUpdateScope||i.callbackScope||this,this._startAt=R.to(this.target||{},0,o),l)if(this._time>0)this._startAt=null;else if(0!==u)return}else if(i.runBackwards&&0!==u)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{0!==this._time&&(l=!1),r={};for(n in i)$[n]&&"autoCSS"!==n||(r[n]=i[n]);if(r.overwrite=0,r.data="isFromStart",r.lazy=l&&i.lazy!==!1,r.immediateRender=l,this._startAt=R.to(this.target,0,r),l){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=p=p?p instanceof w?p:"function"==typeof p?new w(p,i.easeParams):T[p]||R.defaultEase:R.defaultEase,i.easeParams instanceof Array&&p.config&&(this._ease=p.config.apply(p,i.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(a=this._targets.length,e=0;e<a;e++)this._initProps(this._targets[e],this._propLookup[e]={},this._siblings[e],s?s[e]:null,e)&&(t=!0);else t=this._initProps(this.target,this._propLookup,this._siblings,s,0);if(t&&R._onPluginEvent("_onInitAllProps",this),s&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),i.runBackwards)for(r=this._firstPT;r;)r.s+=r.c,r.c=-r.c,r=r._next;this._onUpdate=i.onUpdate,this._initted=!0},u._initProps=function(t,r,n,o,a){var i,s,u,l,p,c;if(null==t)return!1;L[t._gsTweenID]&&J(),this.vars.css||t.style&&t!==e&&t.nodeType&&q.css&&this.vars.autoCSS!==!1&&D(this.vars,t);for(i in this.vars)if(c=this.vars[i],$[i])c&&(c instanceof Array||c.push&&g(c))&&c.join("").indexOf("{self}")!==-1&&(this.vars[i]=c=this._swapSelfInParams(c,this));else if(q[i]&&(l=new q[i])._onInitTween(t,this.vars[i],this,a)){for(this._firstPT=p={_next:this._firstPT,t:l,p:"setRatio",s:0,c:1,f:1,n:i,pg:1,pr:l._priority,m:0},s=l._overwriteProps.length;--s>-1;)r[l._overwriteProps[s]]=this._firstPT;(l._priority||l._onInitAllProps)&&(u=!0),(l._onDisable||l._onEnable)&&(this._notifyPluginsOfEnabled=!0),p._next&&(p._next._prev=p)}else r[i]=U.call(this,t,i,"get",c,i,0,null,this.vars.stringFilter,a);return o&&this._kill(o,t)?this._initProps(t,r,n,o,a):this._overwrite>1&&this._firstPT&&n.length>1&&te(t,this,r,this._overwrite,n)?(this._kill(r,t),this._initProps(t,r,n,o,a)):(this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration)&&(L[t._gsTweenID]=!0),u)},u.render=function(e,t,r){var n,o,a,i,s=this._time,u=this._duration,l=this._rawPrevTime;if(e>=u-1e-7&&e>=0)this._totalTime=this._time=u,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(n=!0,o="onComplete",r=r||this._timeline.autoRemoveChildren),0===u&&(this._initted||!this.vars.lazy||r)&&(this._startTime===this._timeline._duration&&(e=0),(l<0||e<=0&&e>=-1e-7||l===h&&"isPause"!==this.data)&&l!==e&&(r=!0,l>h&&(o="onReverseComplete")),this._rawPrevTime=i=!t||e||l===e?e:h);else if(e<1e-7)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==s||0===u&&l>0)&&(o="onReverseComplete",n=this._reversed),e<0&&(this._active=!1,0===u&&(this._initted||!this.vars.lazy||r)&&(l>=0&&(l!==h||"isPause"!==this.data)&&(r=!0),this._rawPrevTime=i=!t||e||l===e?e:h)),(!this._initted||this._startAt&&this._startAt.progress())&&(r=!0);else if(this._totalTime=this._time=e,this._easeType){var p=e/u,c=this._easeType,f=this._easePower;(1===c||3===c&&p>=.5)&&(p=1-p),3===c&&(p*=2),1===f?p*=p:2===f?p*=p*p:3===f?p*=p*p*p:4===f&&(p*=p*p*p*p),1===c?this.ratio=1-p:2===c?this.ratio=p:e/u<.5?this.ratio=p/2:this.ratio=1-p/2}else this.ratio=this._ease.getRatio(e/u);if(this._time!==s||r){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!r&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=s,this._rawPrevTime=l,V.push(this),void(this._lazy=[e,t]);this._time&&!n?this.ratio=this._ease.getRatio(this._time/u):n&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==s&&e>=0&&(this._active=!0),0===s&&(this._startAt&&(e>=0?this._startAt.render(e,!0,r):o||(o="_dummyGS")),this.vars.onStart&&(0===this._time&&0!==u||t||this._callback("onStart"))),a=this._firstPT;a;)a.f?a.t[a.p](a.c*this.ratio+a.s):a.t[a.p]=a.c*this.ratio+a.s,a=a._next;this._onUpdate&&(e<0&&this._startAt&&e!==-1e-4&&this._startAt.render(e,!0,r),t||(this._time!==s||n||r)&&this._callback("onUpdate")),o&&(this._gc&&!r||(e<0&&this._startAt&&!this._onUpdate&&e!==-1e-4&&this._startAt.render(e,!0,r),n&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[o]&&this._callback(o),0===u&&this._rawPrevTime===h&&i!==h&&(this._rawPrevTime=0)))}},u._kill=function(e,t,r){if("all"===e&&(e=null),null==e&&(null==t||t===this.target))return this._lazy=!1,this._enabled(!1,!1);t="string"!=typeof t?t||this._targets||this.target:R.selector(t)||t;var n,o,a,i,s,u,l,p,c,f=r&&this._time&&r._startTime===this._startTime&&this._timeline===r._timeline;if((g(t)||M(t))&&"number"!=typeof t[0])for(n=t.length;--n>-1;)this._kill(e,t[n],r)&&(u=!0);else{if(this._targets){for(n=this._targets.length;--n>-1;)if(t===this._targets[n]){s=this._propLookup[n]||{},this._overwrittenProps=this._overwrittenProps||[],o=this._overwrittenProps[n]=e?this._overwrittenProps[n]||{}:"all";break}}else{if(t!==this.target)return!1;s=this._propLookup,o=this._overwrittenProps=e?this._overwrittenProps||{}:"all"}if(s){if(l=e||s,p=e!==o&&"all"!==o&&e!==s&&("object"!=typeof e||!e._tempKill),r&&(R.onOverwrite||this.vars.onOverwrite)){for(a in l)s[a]&&(c||(c=[]),c.push(a));if((c||!e)&&!ee(this,r,t,c))return!1}for(a in l)(i=s[a])&&(f&&(i.f?i.t[i.p](i.s):i.t[i.p]=i.s,u=!0),i.pg&&i.t._kill(l)&&(u=!0),i.pg&&0!==i.t._overwriteProps.length||(i._prev?i._prev._next=i._next:i===this._firstPT&&(this._firstPT=i._next),i._next&&(i._next._prev=i._prev),i._next=i._prev=null),delete s[a]),p&&(o[a]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return u},u.invalidate=function(){return this._notifyPluginsOfEnabled&&R._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],O.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-h,this.render(Math.min(0,-this._delay))),this},u._enabled=function(e,t){if(p||l.wake(),e&&this._gc){var r,n=this._targets;if(n)for(r=n.length;--r>-1;)this._siblings[r]=Z(n[r],this,!0);else this._siblings=Z(this.target,this,!0)}return O.prototype._enabled.call(this,e,t),!(!this._notifyPluginsOfEnabled||!this._firstPT)&&R._onPluginEvent(e?"_onEnable":"_onDisable",this)},R.to=function(e,t,r){return new R(e,t,r)},R.from=function(e,t,r){return r.runBackwards=!0,r.immediateRender=0!=r.immediateRender,new R(e,t,r)},R.fromTo=function(e,t,r,n){return n.startAt=r,n.immediateRender=0!=n.immediateRender&&0!=r.immediateRender,new R(e,t,n)},R.delayedCall=function(e,t,r,n,o){return new R(t,0,{delay:e,onComplete:t,onCompleteParams:r,callbackScope:n,onReverseComplete:t,onReverseCompleteParams:r,immediateRender:!1,lazy:!1,useFrames:o,overwrite:0})},R.set=function(e,t){return new R(e,0,t)},R.getTweensOf=function(e,t){if(null==e)return[];e="string"!=typeof e?e:R.selector(e)||e;var r,n,o,a;if((g(e)||M(e))&&"number"!=typeof e[0]){for(r=e.length,n=[];--r>-1;)n=n.concat(R.getTweensOf(e[r],t));for(r=n.length;--r>-1;)for(a=n[r],o=r;--o>-1;)a===n[o]&&n.splice(r,1)}else if(e._gsTweenID)for(n=Z(e).concat(),r=n.length;--r>-1;)(n[r]._gc||t&&!n[r].isActive())&&n.splice(r,1);return n||[]},R.killTweensOf=R.killDelayedCallsTo=function(e,t,r){"object"==typeof t&&(r=t,t=!1);for(var n=R.getTweensOf(e,t),o=n.length;--o>-1;)n[o]._kill(r,e)};var ne=b("plugins.TweenPlugin",function(e,t){this._overwriteProps=(e||"").split(","),this._propName=this._overwriteProps[0],this._priority=t||0,this._super=ne.prototype},!0);if(u=ne.prototype,ne.version="1.19.0",ne.API=2,u._firstPT=null,u._addTween=U,u.setRatio=z,u._kill=function(e){var t,r=this._overwriteProps,n=this._firstPT;if(null!=e[this._propName])this._overwriteProps=[];else for(t=r.length;--t>-1;)null!=e[r[t]]&&r.splice(t,1);for(;n;)null!=e[n.n]&&(n._next&&(n._next._prev=n._prev),n._prev?(n._prev._next=n._next,n._prev=null):this._firstPT===n&&(this._firstPT=n._next)),n=n._next;return!1},u._mod=u._roundProps=function(e){for(var t,r=this._firstPT;r;)t=e[this._propName]||null!=r.n&&e[r.n.split(this._propName+"_").join("")],t&&"function"==typeof t&&(2===r.f?r.t._applyPT.m=t:r.m=t),r=r._next},R._onPluginEvent=function(e,t){var r,n,o,a,i,s=t._firstPT;if("_onInitAllProps"===e){for(;s;){for(i=s._next,n=o;n&&n.pr>s.pr;)n=n._next;(s._prev=n?n._prev:a)?s._prev._next=s:o=s,(s._next=n)?n._prev=s:a=s,s=i}s=t._firstPT=o}for(;s;)s.pg&&"function"==typeof s.t[e]&&s.t[e]()&&(r=!0),s=s._next;return r},ne.activate=function(e){for(var t=e.length;--t>-1;)e[t].API===ne.API&&(q[(new e[t])._propName]=e[t]);return!0},x.plugin=function(e){if(!(e&&e.propName&&e.init&&e.API))throw"illegal plugin definition.";var t,r=e.propName,n=e.priority||0,o=e.overwriteProps,a={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_mod",mod:"_mod",initAll:"_onInitAllProps"},i=b("plugins."+r.charAt(0).toUpperCase()+r.substr(1)+"Plugin",function(){ne.call(this,r,n),this._overwriteProps=o||[]},e.global===!0),s=i.prototype=new ne(r);s.constructor=i,i.API=e.API;for(t in a)"function"==typeof e[t]&&(s[a[t]]=e[t]);return i.version=e.version,ne.activate([i]),i},i=e._gsQueue){for(s=0;s<i.length;s++)i[s]();for(u in v)v[u].func||e.console.log("GSAP encountered missing dependency: "+u)}p=!1}("undefined"!=typeof t&&t.exports&&"undefined"!=typeof e?e:this||window,"TweenLite")}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],190:[function(e,t,r){(function(e){!function(e,r){"use strict";var n={},o=e.document,a=e.GreenSockGlobals=e.GreenSockGlobals||e;if(a.TweenLite)return a.TweenLite;var i,s,u,l,p,c=function(e){var t,r=e.split("."),n=a;for(t=0;t<r.length;t++)n[r[t]]=n=n[r[t]]||{};return n},f=c("com.greensock"),h=1e-10,d=function(e){var t,r=[],n=e.length;for(t=0;t!==n;r.push(e[t++]));return r},m=function(){},g=function(){var e=Object.prototype.toString,t=e.call([]);return function(r){return null!=r&&(r instanceof Array||"object"==typeof r&&!!r.push&&e.call(r)===t)}}(),v={},y=function(o,i,s,u){this.sc=v[o]?v[o].sc:[],v[o]=this,this.gsClass=null,this.func=s;var l=[];this.check=function(p){for(var f,h,d,m,g=i.length,x=g;--g>-1;)(f=v[i[g]]||new y(i[g],[])).gsClass?(l[g]=f.gsClass,x--):p&&f.sc.push(this);if(0===x&&s){if(h=("com.greensock."+o).split("."),d=h.pop(),m=c(h.join("."))[d]=this.gsClass=s.apply(s,l),u)if(a[d]=n[d]=m,"undefined"!=typeof t&&t.exports)if(o===r){t.exports=n[r]=m;for(g in n)m[g]=n[g]}else n[r]&&(n[r][d]=m);else"function"==typeof define&&define.amd&&define((e.GreenSockAMDPath?e.GreenSockAMDPath+"/":"")+o.split(".").pop(),[],function(){return m});for(g=0;g<this.sc.length;g++)this.sc[g].check()}},this.check(!0)},x=e._gsDefine=function(e,t,r,n){return new y(e,t,r,n)},b=f._class=function(e,t,r){return t=t||function(){},x(e,[],function(){return t},r),t};x.globals=a;var _=[0,0,1,1],w=b("easing.Ease",function(e,t,r,n){this._func=e,this._type=r||0,this._power=n||0,this._params=t?_.concat(t):_},!0),T=w.map={},N=w.register=function(e,t,r,n){for(var o,a,i,s,u=t.split(","),l=u.length,p=(r||"easeIn,easeOut,easeInOut").split(",");--l>-1;)for(a=u[l],o=n?b("easing."+a,null,!0):f.easing[a]||{},i=p.length;--i>-1;)s=p[i],T[a+"."+s]=T[s+a]=o[s]=e.getRatio?e:e[s]||new e};for(u=w.prototype,u._calcEnd=!1,u.getRatio=function(e){if(this._func)return this._params[0]=e,this._func.apply(null,this._params);var t=this._type,r=this._power,n=1===t?1-e:2===t?e:e<.5?2*e:2*(1-e);return 1===r?n*=n:2===r?n*=n*n:3===r?n*=n*n*n:4===r&&(n*=n*n*n*n),1===t?1-n:2===t?n:e<.5?n/2:1-n/2},i=["Linear","Quad","Cubic","Quart","Quint,Strong"],s=i.length;--s>-1;)u=i[s]+",Power"+s,N(new w(null,null,1,s),u,"easeOut",!0),N(new w(null,null,2,s),u,"easeIn"+(0===s?",easeNone":"")),N(new w(null,null,3,s),u,"easeInOut");T.linear=f.easing.Linear.easeIn,T.swing=f.easing.Quad.easeInOut;var P=b("events.EventDispatcher",function(e){this._listeners={},this._eventTarget=e||this});u=P.prototype,u.addEventListener=function(e,t,r,n,o){o=o||0;var a,i,s=this._listeners[e],u=0;for(this!==l||p||l.wake(),null==s&&(this._listeners[e]=s=[]),i=s.length;--i>-1;)a=s[i],a.c===t&&a.s===r?s.splice(i,1):0===u&&a.pr<o&&(u=i+1);s.splice(u,0,{c:t,s:r,up:n,pr:o})},u.removeEventListener=function(e,t){var r,n=this._listeners[e];if(n)for(r=n.length;--r>-1;)if(n[r].c===t)return void n.splice(r,1)},u.dispatchEvent=function(e){var t,r,n,o=this._listeners[e];if(o)for(t=o.length,t>1&&(o=o.slice(0)),r=this._eventTarget;--t>-1;)n=o[t],n&&(n.up?n.c.call(n.s||r,{type:e,target:r}):n.c.call(n.s||r))};var S=e.requestAnimationFrame,E=e.cancelAnimationFrame,k=Date.now||function(){return(new Date).getTime()},A=k();for(i=["ms","moz","webkit","o"],s=i.length;--s>-1&&!S;)S=e[i[s]+"RequestAnimationFrame"],E=e[i[s]+"CancelAnimationFrame"]||e[i[s]+"CancelRequestAnimationFrame"];b("Ticker",function(e,t){var r,n,a,i,s,u=this,c=k(),f=!(t===!1||!S)&&"auto",d=500,g=33,v="tick",y=function(e){var t,o,l=k()-A;l>d&&(c+=l-g),A+=l,u.time=(A-c)/1e3,t=u.time-s,
(!r||t>0||e===!0)&&(u.frame++,s+=t+(t>=i?.004:i-t),o=!0),e!==!0&&(a=n(y)),o&&u.dispatchEvent(v)};P.call(u),u.time=u.frame=0,u.tick=function(){y(!0)},u.lagSmoothing=function(e,t){return arguments.length?(d=e||1/h,void(g=Math.min(t,d,0))):d<1/h},u.sleep=function(){null!=a&&(f&&E?E(a):clearTimeout(a),n=m,a=null,u===l&&(p=!1))},u.wake=function(e){null!==a?u.sleep():e?c+=-A+(A=k()):u.frame>10&&(A=k()-d+5),n=0===r?m:f&&S?S:function(e){return setTimeout(e,1e3*(s-u.time)+1|0)},u===l&&(p=!0),y(2)},u.fps=function(e){return arguments.length?(r=e,i=1/(r||60),s=this.time+i,void u.wake()):r},u.useRAF=function(e){return arguments.length?(u.sleep(),f=e,void u.fps(r)):f},u.fps(e),setTimeout(function(){"auto"===f&&u.frame<5&&"hidden"!==(o||{}).visibilityState&&u.useRAF(!1)},1500)}),u=f.Ticker.prototype=new f.events.EventDispatcher,u.constructor=f.Ticker;var O=b("core.Animation",function(e,t){if(this.vars=t=t||{},this._duration=this._totalDuration=e||0,this._delay=Number(t.delay)||0,this._timeScale=1,this._active=t.immediateRender===!0,this.data=t.data,this._reversed=t.reversed===!0,K){p||l.wake();var r=this.vars.useFrames?Y:K;r.add(this,r._time),this.vars.paused&&this.paused(!0)}});l=O.ticker=new f.Ticker,u=O.prototype,u._dirty=u._gc=u._initted=u._paused=!1,u._totalTime=u._time=0,u._rawPrevTime=-1,u._next=u._last=u._onUpdate=u._timeline=u.timeline=null,u._paused=!1;var I=function(){p&&k()-A>2e3&&("hidden"!==(o||{}).visibilityState||!l.lagSmoothing())&&l.wake();var e=setTimeout(I,2e3);e.unref&&e.unref()};I(),u.play=function(e,t){return null!=e&&this.seek(e,t),this.reversed(!1).paused(!1)},u.pause=function(e,t){return null!=e&&this.seek(e,t),this.paused(!0)},u.resume=function(e,t){return null!=e&&this.seek(e,t),this.paused(!1)},u.seek=function(e,t){return this.totalTime(Number(e),t!==!1)},u.restart=function(e,t){return this.reversed(!1).paused(!1).totalTime(e?-this._delay:0,t!==!1,!0)},u.reverse=function(e,t){return null!=e&&this.seek(e||this.totalDuration(),t),this.reversed(!0).paused(!1)},u.render=function(e,t,r){},u.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,!this._gc&&this.timeline||this._enabled(!0),this},u.isActive=function(){var e,t=this._timeline,r=this._startTime;return!t||!this._gc&&!this._paused&&t.isActive()&&(e=t.rawTime(!0))>=r&&e<r+this.totalDuration()/this._timeScale-1e-7},u._enabled=function(e,t){return p||l.wake(),this._gc=!e,this._active=this.isActive(),t!==!0&&(e&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!e&&this.timeline&&this._timeline._remove(this,!0)),!1},u._kill=function(e,t){return this._enabled(!1,!1)},u.kill=function(e,t){return this._kill(e,t),this},u._uncache=function(e){for(var t=e?this:this.timeline;t;)t._dirty=!0,t=t.timeline;return this},u._swapSelfInParams=function(e){for(var t=e.length,r=e.concat();--t>-1;)"{self}"===e[t]&&(r[t]=this);return r},u._callback=function(e){var t=this.vars,r=t[e],n=t[e+"Params"],o=t[e+"Scope"]||t.callbackScope||this,a=n?n.length:0;switch(a){case 0:r.call(o);break;case 1:r.call(o,n[0]);break;case 2:r.call(o,n[0],n[1]);break;default:r.apply(o,n)}},u.eventCallback=function(e,t,r,n){if("on"===(e||"").substr(0,2)){var o=this.vars;if(1===arguments.length)return o[e];null==t?delete o[e]:(o[e]=t,o[e+"Params"]=g(r)&&r.join("").indexOf("{self}")!==-1?this._swapSelfInParams(r):r,o[e+"Scope"]=n),"onUpdate"===e&&(this._onUpdate=t)}return this},u.delay=function(e){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+e-this._delay),this._delay=e,this):this._delay},u.duration=function(e){return arguments.length?(this._duration=this._totalDuration=e,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==e&&this.totalTime(this._totalTime*(e/this._duration),!0),this):(this._dirty=!1,this._duration)},u.totalDuration=function(e){return this._dirty=!1,arguments.length?this.duration(e):this._totalDuration},u.time=function(e,t){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(e>this._duration?this._duration:e,t)):this._time},u.totalTime=function(e,t,r){if(p||l.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(e<0&&!r&&(e+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var n=this._totalDuration,o=this._timeline;if(e>n&&!r&&(e=n),this._startTime=(this._paused?this._pauseTime:o._time)-(this._reversed?n-e:e)/this._timeScale,o._dirty||this._uncache(!1),o._timeline)for(;o._timeline;)o._timeline._time!==(o._startTime+o._totalTime)/o._timeScale&&o.totalTime(o._totalTime,!0),o=o._timeline}this._gc&&this._enabled(!0,!1),this._totalTime===e&&0!==this._duration||(V.length&&J(),this.render(e,t,!1),V.length&&J())}return this},u.progress=u.totalProgress=function(e,t){var r=this.duration();return arguments.length?this.totalTime(r*e,t):r?this._time/r:this.ratio},u.startTime=function(e){return arguments.length?(e!==this._startTime&&(this._startTime=e,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,e-this._delay)),this):this._startTime},u.endTime=function(e){return this._startTime+(0!=e?this.totalDuration():this.duration())/this._timeScale},u.timeScale=function(e){if(!arguments.length)return this._timeScale;var t,r;for(e=e||h,this._timeline&&this._timeline.smoothChildTiming&&(t=this._pauseTime,r=t||0===t?t:this._timeline.totalTime(),this._startTime=r-(r-this._startTime)*this._timeScale/e),this._timeScale=e,r=this.timeline;r&&r.timeline;)r._dirty=!0,r.totalDuration(),r=r.timeline;return this},u.reversed=function(e){return arguments.length?(e!=this._reversed&&(this._reversed=e,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},u.paused=function(e){if(!arguments.length)return this._paused;var t,r,n=this._timeline;return e!=this._paused&&n&&(p||e||l.wake(),t=n.rawTime(),r=t-this._pauseTime,!e&&n.smoothChildTiming&&(this._startTime+=r,this._uncache(!1)),this._pauseTime=e?t:null,this._paused=e,this._active=this.isActive(),!e&&0!==r&&this._initted&&this.duration()&&(t=n.smoothChildTiming?this._totalTime:(t-this._startTime)/this._timeScale,this.render(t,t===this._totalTime,!0))),this._gc&&!e&&this._enabled(!0,!1),this};var C=b("core.SimpleTimeline",function(e){O.call(this,0,e),this.autoRemoveChildren=this.smoothChildTiming=!0});u=C.prototype=new O,u.constructor=C,u.kill()._gc=!1,u._first=u._last=u._recent=null,u._sortChildren=!1,u.add=u.insert=function(e,t,r,n){var o,a;if(e._startTime=Number(t||0)+e._delay,e._paused&&this!==e._timeline&&(e._pauseTime=this.rawTime()-(e._timeline.rawTime()-e._pauseTime)),e.timeline&&e.timeline._remove(e,!0),e.timeline=e._timeline=this,e._gc&&e._enabled(!0,!0),o=this._last,this._sortChildren)for(a=e._startTime;o&&o._startTime>a;)o=o._prev;return o?(e._next=o._next,o._next=e):(e._next=this._first,this._first=e),e._next?e._next._prev=e:this._last=e,e._prev=o,this._recent=e,this._timeline&&this._uncache(!0),this},u._remove=function(e,t){return e.timeline===this&&(t||e._enabled(!1,!0),e._prev?e._prev._next=e._next:this._first===e&&(this._first=e._next),e._next?e._next._prev=e._prev:this._last===e&&(this._last=e._prev),e._next=e._prev=e.timeline=null,e===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},u.render=function(e,t,r){var n,o=this._first;for(this._totalTime=this._time=this._rawPrevTime=e;o;)n=o._next,(o._active||e>=o._startTime&&!o._paused&&!o._gc)&&(o._reversed?o.render((o._dirty?o.totalDuration():o._totalDuration)-(e-o._startTime)*o._timeScale,t,r):o.render((e-o._startTime)*o._timeScale,t,r)),o=n},u.rawTime=function(){return p||l.wake(),this._totalTime};var R=b("TweenLite",function(t,r,n){if(O.call(this,r,n),this.render=R.prototype.render,null==t)throw"Cannot tween a null target.";this.target=t="string"!=typeof t?t:R.selector(t)||t;var o,a,i,s=t.jquery||t.length&&t!==e&&t[0]&&(t[0]===e||t[0].nodeType&&t[0].style&&!t.nodeType),u=this.vars.overwrite;if(this._overwrite=u=null==u?X[R.defaultOverwrite]:"number"==typeof u?u>>0:X[u],(s||t instanceof Array||t.push&&g(t))&&"number"!=typeof t[0])for(this._targets=i=d(t),this._propLookup=[],this._siblings=[],o=0;o<i.length;o++)a=i[o],a?"string"!=typeof a?a.length&&a!==e&&a[0]&&(a[0]===e||a[0].nodeType&&a[0].style&&!a.nodeType)?(i.splice(o--,1),this._targets=i=i.concat(d(a))):(this._siblings[o]=Z(a,this,!1),1===u&&this._siblings[o].length>1&&te(a,this,null,1,this._siblings[o])):(a=i[o--]=R.selector(a),"string"==typeof a&&i.splice(o+1,1)):i.splice(o--,1);else this._propLookup={},this._siblings=Z(t,this,!1),1===u&&this._siblings.length>1&&te(t,this,null,1,this._siblings);(this.vars.immediateRender||0===r&&0===this._delay&&this.vars.immediateRender!==!1)&&(this._time=-h,this.render(Math.min(0,-this._delay)))},!0),M=function(t){return t&&t.length&&t!==e&&t[0]&&(t[0]===e||t[0].nodeType&&t[0].style&&!t.nodeType)},D=function(e,t){var r,n={};for(r in e)$[r]||r in t&&"transform"!==r&&"x"!==r&&"y"!==r&&"width"!==r&&"height"!==r&&"className"!==r&&"border"!==r||!(!q[r]||q[r]&&q[r]._autoCSS)||(n[r]=e[r],delete e[r]);e.css=n};u=R.prototype=new O,u.constructor=R,u.kill()._gc=!1,u.ratio=0,u._firstPT=u._targets=u._overwrittenProps=u._startAt=null,u._notifyPluginsOfEnabled=u._lazy=!1,R.version="1.20.5",R.defaultEase=u._ease=new w(null,null,1,1),R.defaultOverwrite="auto",R.ticker=l,R.autoSleep=120,R.lagSmoothing=function(e,t){l.lagSmoothing(e,t)},R.selector=e.$||e.jQuery||function(t){var r=e.$||e.jQuery;return r?(R.selector=r,r(t)):(o||(o=e.document),o?o.querySelectorAll?o.querySelectorAll(t):o.getElementById("#"===t.charAt(0)?t.substr(1):t):t)};var V=[],L={},F=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,B=/[\+-]=-?[\.\d]/,z=function(e){for(var t,r=this._firstPT,n=1e-6;r;)t=r.blob?1===e&&null!=this.end?this.end:e?this.join(""):this.start:r.c*e+r.s,r.m?t=r.m.call(this._tween,t,this._target||r.t,this._tween):t<n&&t>-n&&!r.blob&&(t=0),r.f?r.fp?r.t[r.p](r.fp,t):r.t[r.p](t):r.t[r.p]=t,r=r._next},j=function(e,t,r,n){var o,a,i,s,u,l,p,c=[],f=0,h="",d=0;for(c.start=e,c.end=t,e=c[0]=e+"",t=c[1]=t+"",r&&(r(c),e=c[0],t=c[1]),c.length=0,o=e.match(F)||[],a=t.match(F)||[],n&&(n._next=null,n.blob=1,c._firstPT=c._applyPT=n),u=a.length,s=0;s<u;s++)p=a[s],l=t.substr(f,t.indexOf(p,f)-f),h+=l||!s?l:",",f+=l.length,d?d=(d+1)%5:"rgba("===l.substr(-5)&&(d=1),p===o[s]||o.length<=s?h+=p:(h&&(c.push(h),h=""),i=parseFloat(o[s]),c.push(i),c._firstPT={_next:c._firstPT,t:c,p:c.length-1,s:i,c:("="===p.charAt(1)?parseInt(p.charAt(0)+"1",10)*parseFloat(p.substr(2)):parseFloat(p)-i)||0,f:0,m:d&&d<4?Math.round:0}),f+=p.length;return h+=t.substr(f),h&&c.push(h),c.setRatio=z,B.test(t)&&(c.end=null),c},U=function(e,t,r,n,o,a,i,s,u){"function"==typeof n&&(n=n(u||0,e));var l,p=typeof e[t],c="function"!==p?"":t.indexOf("set")||"function"!=typeof e["get"+t.substr(3)]?t:"get"+t.substr(3),f="get"!==r?r:c?i?e[c](i):e[c]():e[t],h="string"==typeof n&&"="===n.charAt(1),d={t:e,p:t,s:f,f:"function"===p,pg:0,n:o||t,m:a?"function"==typeof a?a:Math.round:0,pr:0,c:h?parseInt(n.charAt(0)+"1",10)*parseFloat(n.substr(2)):parseFloat(n)-f||0};if(("number"!=typeof f||"number"!=typeof n&&!h)&&(i||isNaN(f)||!h&&isNaN(n)||"boolean"==typeof f||"boolean"==typeof n?(d.fp=i,l=j(f,h?parseFloat(d.s)+d.c+(d.s+"").replace(/[0-9\-\.]/g,""):n,s||R.defaultStringFilter,d),d={t:l,p:"setRatio",s:0,c:1,f:2,pg:0,n:o||t,pr:0,m:0}):(d.s=parseFloat(f),h||(d.c=parseFloat(n)-d.s||0))),d.c)return(d._next=this._firstPT)&&(d._next._prev=d),this._firstPT=d,d},G=R._internals={isArray:g,isSelector:M,lazyTweens:V,blobDif:j},q=R._plugins={},W=G.tweenLookup={},H=0,$=G.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1,stringFilter:1,id:1,yoyoEase:1},X={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,true:1,false:0},Y=O._rootFramesTimeline=new C,K=O._rootTimeline=new C,Q=30,J=G.lazyRender=function(){var e,t=V.length;for(L={};--t>-1;)e=V[t],e&&e._lazy!==!1&&(e.render(e._lazy[0],e._lazy[1],!0),e._lazy=!1);V.length=0};K._startTime=l.time,Y._startTime=l.frame,K._active=Y._active=!0,setTimeout(J,1),O._updateRoot=R.render=function(){var e,t,r;if(V.length&&J(),K.render((l.time-K._startTime)*K._timeScale,!1,!1),Y.render((l.frame-Y._startTime)*Y._timeScale,!1,!1),V.length&&J(),l.frame>=Q){Q=l.frame+(parseInt(R.autoSleep,10)||120);for(r in W){for(t=W[r].tweens,e=t.length;--e>-1;)t[e]._gc&&t.splice(e,1);0===t.length&&delete W[r]}if(r=K._first,(!r||r._paused)&&R.autoSleep&&!Y._first&&1===l._listeners.tick.length){for(;r&&r._paused;)r=r._next;r||l.sleep()}}},l.addEventListener("tick",O._updateRoot);var Z=function(e,t,r){var n,o,a=e._gsTweenID;if(W[a||(e._gsTweenID=a="t"+H++)]||(W[a]={target:e,tweens:[]}),t&&(n=W[a].tweens,n[o=n.length]=t,r))for(;--o>-1;)n[o]===t&&n.splice(o,1);return W[a].tweens},ee=function(e,t,r,n){var o,a,i=e.vars.onOverwrite;return i&&(o=i(e,t,r,n)),i=R.onOverwrite,i&&(a=i(e,t,r,n)),o!==!1&&a!==!1},te=function(e,t,r,n,o){var a,i,s,u;if(1===n||n>=4){for(u=o.length,a=0;a<u;a++)if((s=o[a])!==t)s._gc||s._kill(null,e,t)&&(i=!0);else if(5===n)break;return i}var l,p=t._startTime+h,c=[],f=0,d=0===t._duration;for(a=o.length;--a>-1;)(s=o[a])===t||s._gc||s._paused||(s._timeline!==t._timeline?(l=l||re(t,0,d),0===re(s,l,d)&&(c[f++]=s)):s._startTime<=p&&s._startTime+s.totalDuration()/s._timeScale>p&&((d||!s._initted)&&p-s._startTime<=2e-10||(c[f++]=s)));for(a=f;--a>-1;)if(s=c[a],2===n&&s._kill(r,e,t)&&(i=!0),2!==n||!s._firstPT&&s._initted){if(2!==n&&!ee(s,t))continue;s._enabled(!1,!1)&&(i=!0)}return i},re=function(e,t,r){for(var n=e._timeline,o=n._timeScale,a=e._startTime;n._timeline;){if(a+=n._startTime,o*=n._timeScale,n._paused)return-100;n=n._timeline}return a/=o,a>t?a-t:r&&a===t||!e._initted&&a-t<2*h?h:(a+=e.totalDuration()/e._timeScale/o)>t+h?0:a-t-h};u._init=function(){var e,t,r,n,o,a,i=this.vars,s=this._overwrittenProps,u=this._duration,l=!!i.immediateRender,p=i.ease;if(i.startAt){this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),o={};for(n in i.startAt)o[n]=i.startAt[n];if(o.data="isStart",o.overwrite=!1,o.immediateRender=!0,o.lazy=l&&i.lazy!==!1,o.startAt=o.delay=null,o.onUpdate=i.onUpdate,o.onUpdateParams=i.onUpdateParams,o.onUpdateScope=i.onUpdateScope||i.callbackScope||this,this._startAt=R.to(this.target||{},0,o),l)if(this._time>0)this._startAt=null;else if(0!==u)return}else if(i.runBackwards&&0!==u)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{0!==this._time&&(l=!1),r={};for(n in i)$[n]&&"autoCSS"!==n||(r[n]=i[n]);if(r.overwrite=0,r.data="isFromStart",r.lazy=l&&i.lazy!==!1,r.immediateRender=l,this._startAt=R.to(this.target,0,r),l){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=p=p?p instanceof w?p:"function"==typeof p?new w(p,i.easeParams):T[p]||R.defaultEase:R.defaultEase,i.easeParams instanceof Array&&p.config&&(this._ease=p.config.apply(p,i.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(a=this._targets.length,e=0;e<a;e++)this._initProps(this._targets[e],this._propLookup[e]={},this._siblings[e],s?s[e]:null,e)&&(t=!0);else t=this._initProps(this.target,this._propLookup,this._siblings,s,0);if(t&&R._onPluginEvent("_onInitAllProps",this),s&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),i.runBackwards)for(r=this._firstPT;r;)r.s+=r.c,r.c=-r.c,r=r._next;this._onUpdate=i.onUpdate,this._initted=!0},u._initProps=function(t,r,n,o,a){var i,s,u,l,p,c;if(null==t)return!1;L[t._gsTweenID]&&J(),this.vars.css||t.style&&t!==e&&t.nodeType&&q.css&&this.vars.autoCSS!==!1&&D(this.vars,t);for(i in this.vars)if(c=this.vars[i],$[i])c&&(c instanceof Array||c.push&&g(c))&&c.join("").indexOf("{self}")!==-1&&(this.vars[i]=c=this._swapSelfInParams(c,this));else if(q[i]&&(l=new q[i])._onInitTween(t,this.vars[i],this,a)){for(this._firstPT=p={_next:this._firstPT,t:l,p:"setRatio",s:0,c:1,f:1,n:i,pg:1,pr:l._priority,m:0},s=l._overwriteProps.length;--s>-1;)r[l._overwriteProps[s]]=this._firstPT;(l._priority||l._onInitAllProps)&&(u=!0),(l._onDisable||l._onEnable)&&(this._notifyPluginsOfEnabled=!0),p._next&&(p._next._prev=p)}else r[i]=U.call(this,t,i,"get",c,i,0,null,this.vars.stringFilter,a);return o&&this._kill(o,t)?this._initProps(t,r,n,o,a):this._overwrite>1&&this._firstPT&&n.length>1&&te(t,this,r,this._overwrite,n)?(this._kill(r,t),this._initProps(t,r,n,o,a)):(this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration)&&(L[t._gsTweenID]=!0),u)},u.render=function(e,t,r){var n,o,a,i,s=this._time,u=this._duration,l=this._rawPrevTime;if(e>=u-1e-7&&e>=0)this._totalTime=this._time=u,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(n=!0,o="onComplete",r=r||this._timeline.autoRemoveChildren),0===u&&(this._initted||!this.vars.lazy||r)&&(this._startTime===this._timeline._duration&&(e=0),(l<0||e<=0&&e>=-1e-7||l===h&&"isPause"!==this.data)&&l!==e&&(r=!0,l>h&&(o="onReverseComplete")),this._rawPrevTime=i=!t||e||l===e?e:h);else if(e<1e-7)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==s||0===u&&l>0)&&(o="onReverseComplete",n=this._reversed),e<0&&(this._active=!1,0===u&&(this._initted||!this.vars.lazy||r)&&(l>=0&&(l!==h||"isPause"!==this.data)&&(r=!0),this._rawPrevTime=i=!t||e||l===e?e:h)),(!this._initted||this._startAt&&this._startAt.progress())&&(r=!0);else if(this._totalTime=this._time=e,this._easeType){var p=e/u,c=this._easeType,f=this._easePower;(1===c||3===c&&p>=.5)&&(p=1-p),3===c&&(p*=2),1===f?p*=p:2===f?p*=p*p:3===f?p*=p*p*p:4===f&&(p*=p*p*p*p),1===c?this.ratio=1-p:2===c?this.ratio=p:e/u<.5?this.ratio=p/2:this.ratio=1-p/2}else this.ratio=this._ease.getRatio(e/u);if(this._time!==s||r){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!r&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=s,this._rawPrevTime=l,V.push(this),void(this._lazy=[e,t]);this._time&&!n?this.ratio=this._ease.getRatio(this._time/u):n&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==s&&e>=0&&(this._active=!0),0===s&&(this._startAt&&(e>=0?this._startAt.render(e,!0,r):o||(o="_dummyGS")),this.vars.onStart&&(0===this._time&&0!==u||t||this._callback("onStart"))),a=this._firstPT;a;)a.f?a.t[a.p](a.c*this.ratio+a.s):a.t[a.p]=a.c*this.ratio+a.s,a=a._next;this._onUpdate&&(e<0&&this._startAt&&e!==-1e-4&&this._startAt.render(e,!0,r),t||(this._time!==s||n||r)&&this._callback("onUpdate")),o&&(this._gc&&!r||(e<0&&this._startAt&&!this._onUpdate&&e!==-1e-4&&this._startAt.render(e,!0,r),n&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[o]&&this._callback(o),0===u&&this._rawPrevTime===h&&i!==h&&(this._rawPrevTime=0)))}},u._kill=function(e,t,r){if("all"===e&&(e=null),null==e&&(null==t||t===this.target))return this._lazy=!1,this._enabled(!1,!1);t="string"!=typeof t?t||this._targets||this.target:R.selector(t)||t;var n,o,a,i,s,u,l,p,c,f=r&&this._time&&r._startTime===this._startTime&&this._timeline===r._timeline;if((g(t)||M(t))&&"number"!=typeof t[0])for(n=t.length;--n>-1;)this._kill(e,t[n],r)&&(u=!0);else{if(this._targets){for(n=this._targets.length;--n>-1;)if(t===this._targets[n]){s=this._propLookup[n]||{},this._overwrittenProps=this._overwrittenProps||[],o=this._overwrittenProps[n]=e?this._overwrittenProps[n]||{}:"all";break}}else{if(t!==this.target)return!1;s=this._propLookup,o=this._overwrittenProps=e?this._overwrittenProps||{}:"all"}if(s){if(l=e||s,p=e!==o&&"all"!==o&&e!==s&&("object"!=typeof e||!e._tempKill),r&&(R.onOverwrite||this.vars.onOverwrite)){for(a in l)s[a]&&(c||(c=[]),c.push(a));if((c||!e)&&!ee(this,r,t,c))return!1}for(a in l)(i=s[a])&&(f&&(i.f?i.t[i.p](i.s):i.t[i.p]=i.s,u=!0),i.pg&&i.t._kill(l)&&(u=!0),i.pg&&0!==i.t._overwriteProps.length||(i._prev?i._prev._next=i._next:i===this._firstPT&&(this._firstPT=i._next),i._next&&(i._next._prev=i._prev),i._next=i._prev=null),delete s[a]),p&&(o[a]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return u},u.invalidate=function(){return this._notifyPluginsOfEnabled&&R._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],O.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-h,this.render(Math.min(0,-this._delay))),this},u._enabled=function(e,t){if(p||l.wake(),e&&this._gc){var r,n=this._targets;if(n)for(r=n.length;--r>-1;)this._siblings[r]=Z(n[r],this,!0);else this._siblings=Z(this.target,this,!0)}return O.prototype._enabled.call(this,e,t),!(!this._notifyPluginsOfEnabled||!this._firstPT)&&R._onPluginEvent(e?"_onEnable":"_onDisable",this)},R.to=function(e,t,r){return new R(e,t,r)},R.from=function(e,t,r){return r.runBackwards=!0,r.immediateRender=0!=r.immediateRender,new R(e,t,r)},R.fromTo=function(e,t,r,n){return n.startAt=r,n.immediateRender=0!=n.immediateRender&&0!=r.immediateRender,new R(e,t,n)},R.delayedCall=function(e,t,r,n,o){return new R(t,0,{delay:e,onComplete:t,onCompleteParams:r,callbackScope:n,onReverseComplete:t,onReverseCompleteParams:r,immediateRender:!1,lazy:!1,useFrames:o,overwrite:0})},R.set=function(e,t){return new R(e,0,t)},R.getTweensOf=function(e,t){if(null==e)return[];e="string"!=typeof e?e:R.selector(e)||e;var r,n,o,a;if((g(e)||M(e))&&"number"!=typeof e[0]){for(r=e.length,n=[];--r>-1;)n=n.concat(R.getTweensOf(e[r],t));for(r=n.length;--r>-1;)for(a=n[r],o=r;--o>-1;)a===n[o]&&n.splice(r,1)}else if(e._gsTweenID)for(n=Z(e).concat(),r=n.length;--r>-1;)(n[r]._gc||t&&!n[r].isActive())&&n.splice(r,1);return n||[]},R.killTweensOf=R.killDelayedCallsTo=function(e,t,r){"object"==typeof t&&(r=t,t=!1);for(var n=R.getTweensOf(e,t),o=n.length;--o>-1;)n[o]._kill(r,e)};var ne=b("plugins.TweenPlugin",function(e,t){this._overwriteProps=(e||"").split(","),this._propName=this._overwriteProps[0],this._priority=t||0,this._super=ne.prototype},!0);if(u=ne.prototype,ne.version="1.19.0",ne.API=2,u._firstPT=null,u._addTween=U,u.setRatio=z,u._kill=function(e){var t,r=this._overwriteProps,n=this._firstPT;if(null!=e[this._propName])this._overwriteProps=[];else for(t=r.length;--t>-1;)null!=e[r[t]]&&r.splice(t,1);for(;n;)null!=e[n.n]&&(n._next&&(n._next._prev=n._prev),n._prev?(n._prev._next=n._next,n._prev=null):this._firstPT===n&&(this._firstPT=n._next)),n=n._next;return!1},u._mod=u._roundProps=function(e){for(var t,r=this._firstPT;r;)t=e[this._propName]||null!=r.n&&e[r.n.split(this._propName+"_").join("")],t&&"function"==typeof t&&(2===r.f?r.t._applyPT.m=t:r.m=t),r=r._next},R._onPluginEvent=function(e,t){var r,n,o,a,i,s=t._firstPT;if("_onInitAllProps"===e){for(;s;){for(i=s._next,n=o;n&&n.pr>s.pr;)n=n._next;(s._prev=n?n._prev:a)?s._prev._next=s:o=s,(s._next=n)?n._prev=s:a=s,s=i}s=t._firstPT=o}for(;s;)s.pg&&"function"==typeof s.t[e]&&s.t[e]()&&(r=!0),s=s._next;return r},ne.activate=function(e){for(var t=e.length;--t>-1;)e[t].API===ne.API&&(q[(new e[t])._propName]=e[t]);return!0},x.plugin=function(e){if(!(e&&e.propName&&e.init&&e.API))throw"illegal plugin definition.";var t,r=e.propName,n=e.priority||0,o=e.overwriteProps,a={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_mod",mod:"_mod",initAll:"_onInitAllProps"},i=b("plugins."+r.charAt(0).toUpperCase()+r.substr(1)+"Plugin",function(){ne.call(this,r,n),this._overwriteProps=o||[]},e.global===!0),s=i.prototype=new ne(r);s.constructor=i,i.API=e.API;for(t in a)"function"==typeof e[t]&&(s[a[t]]=e[t]);return i.version=e.version,ne.activate([i]),i},i=e._gsQueue){for(s=0;s<i.length;s++)i[s]();for(u in v)v[u].func||e.console.log("GSAP encountered missing dependency: "+u)}p=!1}("undefined"!=typeof t&&t.exports&&"undefined"!=typeof e?e:this||window,"TweenLite")}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],191:[function(e,t,r){(function(r){var n="undefined"!=typeof t&&t.exports&&"undefined"!=typeof r?r:this||window;(n._gsQueue||(n._gsQueue=[])).push(function(){"use strict";n._gsDefine("easing.Back",["easing.Ease"],function(e){var t,r,o,a,i=n.GreenSockGlobals||n,s=i.com.greensock,u=2*Math.PI,l=Math.PI/2,p=s._class,c=function(t,r){var n=p("easing."+t,function(){},!0),o=n.prototype=new e;return o.constructor=n,o.getRatio=r,n},f=e.register||function(){},h=function(e,t,r,n,o){var a=p("easing."+e,{easeOut:new t,easeIn:new r,easeInOut:new n},!0);return f(a,e),a},d=function(e,t,r){this.t=e,this.v=t,r&&(this.next=r,r.prev=this,this.c=r.v-t,this.gap=r.t-e)},m=function(t,r){var n=p("easing."+t,function(e){this._p1=e||0===e?e:1.70158,this._p2=1.525*this._p1},!0),o=n.prototype=new e;return o.constructor=n,o.getRatio=r,o.config=function(e){return new n(e)},n},g=h("Back",m("BackOut",function(e){return(e-=1)*e*((this._p1+1)*e+this._p1)+1}),m("BackIn",function(e){return e*e*((this._p1+1)*e-this._p1)}),m("BackInOut",function(e){return(e*=2)<1?.5*e*e*((this._p2+1)*e-this._p2):.5*((e-=2)*e*((this._p2+1)*e+this._p2)+2)})),v=p("easing.SlowMo",function(e,t,r){t=t||0===t?t:.7,null==e?e=.7:e>1&&(e=1),this._p=1!==e?t:0,this._p1=(1-e)/2,this._p2=e,this._p3=this._p1+this._p2,this._calcEnd=r===!0},!0),y=v.prototype=new e;return y.constructor=v,y.getRatio=function(e){var t=e+(.5-e)*this._p;return e<this._p1?this._calcEnd?1-(e=1-e/this._p1)*e:t-(e=1-e/this._p1)*e*e*e*t:e>this._p3?this._calcEnd?1===e?0:1-(e=(e-this._p3)/this._p1)*e:t+(e-t)*(e=(e-this._p3)/this._p1)*e*e*e:this._calcEnd?1:t},v.ease=new v(.7,.7),y.config=v.config=function(e,t,r){return new v(e,t,r)},t=p("easing.SteppedEase",function(e,t){e=e||1,this._p1=1/e,this._p2=e+(t?0:1),this._p3=t?1:0},!0),y=t.prototype=new e,y.constructor=t,y.getRatio=function(e){return e<0?e=0:e>=1&&(e=.999999999),((this._p2*e|0)+this._p3)*this._p1},y.config=t.config=function(e,r){return new t(e,r)},r=p("easing.ExpoScaleEase",function(e,t,r){this._p1=Math.log(t/e),this._p2=t-e,this._p3=e,this._ease=r},!0),y=r.prototype=new e,y.constructor=r,y.getRatio=function(e){return this._ease&&(e=this._ease.getRatio(e)),(this._p3*Math.exp(this._p1*e)-this._p3)/this._p2},y.config=r.config=function(e,t,n){return new r(e,t,n)},o=p("easing.RoughEase",function(t){t=t||{};for(var r,n,o,a,i,s,u=t.taper||"none",l=[],p=0,c=0|(t.points||20),f=c,h=t.randomize!==!1,m=t.clamp===!0,g=t.template instanceof e?t.template:null,v="number"==typeof t.strength?.4*t.strength:.4;--f>-1;)r=h?Math.random():1/c*f,n=g?g.getRatio(r):r,"none"===u?o=v:"out"===u?(a=1-r,o=a*a*v):"in"===u?o=r*r*v:r<.5?(a=2*r,o=a*a*.5*v):(a=2*(1-r),o=a*a*.5*v),h?n+=Math.random()*o-.5*o:f%2?n+=.5*o:n-=.5*o,m&&(n>1?n=1:n<0&&(n=0)),l[p++]={x:r,y:n};for(l.sort(function(e,t){return e.x-t.x}),s=new d(1,1,null),f=c;--f>-1;)i=l[f],s=new d(i.x,i.y,s);this._prev=new d(0,0,0!==s.t?s:s.next)},!0),y=o.prototype=new e,y.constructor=o,y.getRatio=function(e){var t=this._prev;if(e>t.t){for(;t.next&&e>=t.t;)t=t.next;t=t.prev}else for(;t.prev&&e<=t.t;)t=t.prev;return this._prev=t,t.v+(e-t.t)/t.gap*t.c},y.config=function(e){return new o(e)},o.ease=new o,h("Bounce",c("BounceOut",function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}),c("BounceIn",function(e){return(e=1-e)<1/2.75?1-7.5625*e*e:e<2/2.75?1-(7.5625*(e-=1.5/2.75)*e+.75):e<2.5/2.75?1-(7.5625*(e-=2.25/2.75)*e+.9375):1-(7.5625*(e-=2.625/2.75)*e+.984375)}),c("BounceInOut",function(e){var t=e<.5;return e=t?1-2*e:2*e-1,e<1/2.75?e*=7.5625*e:e=e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375,t?.5*(1-e):.5*e+.5})),h("Circ",c("CircOut",function(e){return Math.sqrt(1-(e-=1)*e)}),c("CircIn",function(e){return-(Math.sqrt(1-e*e)-1)}),c("CircInOut",function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)})),a=function(t,r,n){var o=p("easing."+t,function(e,t){this._p1=e>=1?e:1,this._p2=(t||n)/(e<1?e:1),this._p3=this._p2/u*(Math.asin(1/this._p1)||0),this._p2=u/this._p2},!0),a=o.prototype=new e;return a.constructor=o,a.getRatio=r,a.config=function(e,t){return new o(e,t)},o},h("Elastic",a("ElasticOut",function(e){return this._p1*Math.pow(2,-10*e)*Math.sin((e-this._p3)*this._p2)+1},.3),a("ElasticIn",function(e){return-(this._p1*Math.pow(2,10*(e-=1))*Math.sin((e-this._p3)*this._p2))},.3),a("ElasticInOut",function(e){return(e*=2)<1?-.5*(this._p1*Math.pow(2,10*(e-=1))*Math.sin((e-this._p3)*this._p2)):this._p1*Math.pow(2,-10*(e-=1))*Math.sin((e-this._p3)*this._p2)*.5+1},.45)),h("Expo",c("ExpoOut",function(e){return 1-Math.pow(2,-10*e)}),c("ExpoIn",function(e){return Math.pow(2,10*(e-1))-.001}),c("ExpoInOut",function(e){return(e*=2)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*(e-1)))})),h("Sine",c("SineOut",function(e){return Math.sin(e*l)}),c("SineIn",function(e){return-Math.cos(e*l)+1}),c("SineInOut",function(e){return-.5*(Math.cos(Math.PI*e)-1)})),p("easing.EaseLookup",{find:function(t){return e.map[t]}},!0),f(i.SlowMo,"SlowMo","ease,"),f(o,"RoughEase","ease,"),f(t,"SteppedEase","ease,"),g},!0)}),n._gsDefine&&n._gsQueue.pop()(),function(){"use strict";var r=function(){return n.GreenSockGlobals||n};"undefined"!=typeof t&&t.exports?(e("../TweenLite.js"),t.exports=r()):"function"==typeof define&&define.amd&&define(["TweenLite"],r)}()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../TweenLite.js":189}],192:[function(e,t,r){(function(r){var n="undefined"!=typeof t&&t.exports&&"undefined"!=typeof r?r:this||window;(n._gsQueue||(n._gsQueue=[])).push(function(){"use strict";n._gsDefine.plugin({propName:"attr",API:2,version:"0.6.1",init:function(e,t,r,n){var o,a;if("function"!=typeof e.setAttribute)return!1;for(o in t)a=t[o],"function"==typeof a&&(a=a(n,e)),this._addTween(e,"setAttribute",e.getAttribute(o)+"",a+"",o,!1,o),this._overwriteProps.push(o);return!0}})}),n._gsDefine&&n._gsQueue.pop()(),function(r){"use strict";var o=function(){return(n.GreenSockGlobals||n)[r]};"undefined"!=typeof t&&t.exports?(e("../TweenLite.js"),t.exports=o()):"function"==typeof define&&define.amd&&define(["TweenLite"],o)}("AttrPlugin")}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../TweenLite.js":189}],193:[function(e,t,r){(function(r){var n="undefined"!=typeof t&&t.exports&&"undefined"!=typeof r?r:this||window;(n._gsQueue||(n._gsQueue=[])).push(function(){"use strict";n._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(e,t){var r,o,a,i,s=function(){e.call(this,"css"),this._overwriteProps.length=0,this.setRatio=s.prototype.setRatio},u=n._gsDefine.globals,l={},p=s.prototype=new e("css");p.constructor=s,s.version="1.20.5",s.API=2,s.defaultTransformPerspective=0,s.defaultSkewType="compensated",s.defaultSmoothOrigin=!0,p="px",s.suffixMap={top:p,right:p,bottom:p,left:p,width:p,height:p,fontSize:p,padding:p,margin:p,perspective:p,lineHeight:""};var c,f,h,d,m,g,v,y,x=/(?:\-|\.|\b)(\d|\.|e\-)+/g,b=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,_=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,w=/(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,T=/(?:\d|\-|\+|=|#|\.)*/g,N=/opacity *= *([^)]*)/i,P=/opacity:([^;]*)/i,S=/alpha\(opacity *=.+?\)/i,E=/^(rgb|hsl)/,k=/([A-Z])/g,A=/-([a-z])/gi,O=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,I=function(e,t){return t.toUpperCase()},C=/(?:Left|Right|Width)/i,R=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,M=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,D=/,(?=[^\)]*(?:\(|$))/gi,V=/[\s,\(]/i,L=Math.PI/180,F=180/Math.PI,B={},z={
style:{}},j=n.document||{createElement:function(){return z}},U=function(e,t){return j.createElementNS?j.createElementNS(t||"http://www.w3.org/1999/xhtml",e):j.createElement(e)},G=U("div"),q=U("img"),W=s._internals={_specialProps:l},H=(n.navigator||{}).userAgent||"",$=function(){var e=H.indexOf("Android"),t=U("a");return h=H.indexOf("Safari")!==-1&&H.indexOf("Chrome")===-1&&(e===-1||parseFloat(H.substr(e+8,2))>3),m=h&&parseFloat(H.substr(H.indexOf("Version/")+8,2))<6,d=H.indexOf("Firefox")!==-1,(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(H)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(H))&&(g=parseFloat(RegExp.$1)),!!t&&(t.style.cssText="top:1px;opacity:.55;",/^0.55/.test(t.style.opacity))}(),X=function(e){return N.test("string"==typeof e?e:(e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?parseFloat(RegExp.$1)/100:1},Y=function(e){n.console&&console.log(e)},K="",Q="",J=function(e,t){t=t||G;var r,n,o=t.style;if(void 0!==o[e])return e;for(e=e.charAt(0).toUpperCase()+e.substr(1),r=["O","Moz","ms","Ms","Webkit"],n=5;--n>-1&&void 0===o[r[n]+e];);return n>=0?(Q=3===n?"ms":r[n],K="-"+Q.toLowerCase()+"-",Q+e):null},Z=("undefined"!=typeof window?window:j.defaultView||{getComputedStyle:function(){}}).getComputedStyle,ee=s.getStyle=function(e,t,r,n,o){var a;return $||"opacity"!==t?(!n&&e.style[t]?a=e.style[t]:(r=r||Z(e))?a=r[t]||r.getPropertyValue(t)||r.getPropertyValue(t.replace(k,"-$1").toLowerCase()):e.currentStyle&&(a=e.currentStyle[t]),null==o||a&&"none"!==a&&"auto"!==a&&"auto auto"!==a?a:o):X(e)},te=W.convertToPixels=function(e,r,n,o,a){if("px"===o||!o&&"lineHeight"!==r)return n;if("auto"===o||!n)return 0;var i,u,l,p=C.test(r),c=e,f=G.style,h=n<0,d=1===n;if(h&&(n=-n),d&&(n*=100),"lineHeight"!==r||o)if("%"===o&&r.indexOf("border")!==-1)i=n/100*(p?e.clientWidth:e.clientHeight);else{if(f.cssText="border:0 solid red;position:"+ee(e,"position")+";line-height:0;","%"!==o&&c.appendChild&&"v"!==o.charAt(0)&&"rem"!==o)f[p?"borderLeftWidth":"borderTopWidth"]=n+o;else{if(c=e.parentNode||j.body,ee(c,"display").indexOf("flex")!==-1&&(f.position="absolute"),u=c._gsCache,l=t.ticker.frame,u&&p&&u.time===l)return u.width*n/100;f[p?"width":"height"]=n+o}c.appendChild(G),i=parseFloat(G[p?"offsetWidth":"offsetHeight"]),c.removeChild(G),p&&"%"===o&&s.cacheWidths!==!1&&(u=c._gsCache=c._gsCache||{},u.time=l,u.width=i/n*100),0!==i||a||(i=te(e,r,n,o,!0))}else u=Z(e).lineHeight,e.style.lineHeight=n,i=parseFloat(Z(e).lineHeight),e.style.lineHeight=u;return d&&(i/=100),h?-i:i},re=W.calculateOffset=function(e,t,r){if("absolute"!==ee(e,"position",r))return 0;var n="left"===t?"Left":"Top",o=ee(e,"margin"+n,r);return e["offset"+n]-(te(e,t,parseFloat(o),o.replace(T,""))||0)},ne=function(e,t){var r,n,o,a={};if(t=t||Z(e,null))if(r=t.length)for(;--r>-1;)o=t[r],o.indexOf("-transform")!==-1&&Oe!==o||(a[o.replace(A,I)]=t.getPropertyValue(o));else for(r in t)r.indexOf("Transform")!==-1&&Ae!==r||(a[r]=t[r]);else if(t=e.currentStyle||e.style)for(r in t)"string"==typeof r&&void 0===a[r]&&(a[r.replace(A,I)]=t[r]);return $||(a.opacity=X(e)),n=qe(e,t,!1),a.rotation=n.rotation,a.skewX=n.skewX,a.scaleX=n.scaleX,a.scaleY=n.scaleY,a.x=n.x,a.y=n.y,Ce&&(a.z=n.z,a.rotationX=n.rotationX,a.rotationY=n.rotationY,a.scaleZ=n.scaleZ),a.filters&&delete a.filters,a},oe=function(e,t,r,n,o){var a,i,s,u={},l=e.style;for(i in r)"cssText"!==i&&"length"!==i&&isNaN(i)&&(t[i]!==(a=r[i])||o&&o[i])&&i.indexOf("Origin")===-1&&("number"!=typeof a&&"string"!=typeof a||(u[i]="auto"!==a||"left"!==i&&"top"!==i?""!==a&&"auto"!==a&&"none"!==a||"string"!=typeof t[i]||""===t[i].replace(w,"")?a:0:re(e,i),void 0!==l[i]&&(s=new xe(l,i,l[i],s))));if(n)for(i in n)"className"!==i&&(u[i]=n[i]);return{difs:u,firstMPT:s}},ae={width:["Left","Right"],height:["Top","Bottom"]},ie=["marginLeft","marginRight","marginTop","marginBottom"],se=function(e,t,r){if("svg"===(e.nodeName+"").toLowerCase())return(r||Z(e))[t]||0;if(e.getCTM&&je(e))return e.getBBox()[t]||0;var n=parseFloat("width"===t?e.offsetWidth:e.offsetHeight),o=ae[t],a=o.length;for(r=r||Z(e,null);--a>-1;)n-=parseFloat(ee(e,"padding"+o[a],r,!0))||0,n-=parseFloat(ee(e,"border"+o[a]+"Width",r,!0))||0;return n},ue=function(e,t){if("contain"===e||"auto"===e||"auto auto"===e)return e+" ";null!=e&&""!==e||(e="0 0");var r,n=e.split(" "),o=e.indexOf("left")!==-1?"0%":e.indexOf("right")!==-1?"100%":n[0],a=e.indexOf("top")!==-1?"0%":e.indexOf("bottom")!==-1?"100%":n[1];if(n.length>3&&!t){for(n=e.split(", ").join(",").split(","),e=[],r=0;r<n.length;r++)e.push(ue(n[r]));return e.join(",")}return null==a?a="center"===o?"50%":"0":"center"===a&&(a="50%"),("center"===o||isNaN(parseFloat(o))&&(o+"").indexOf("=")===-1)&&(o="50%"),e=o+" "+a+(n.length>2?" "+n[2]:""),t&&(t.oxp=o.indexOf("%")!==-1,t.oyp=a.indexOf("%")!==-1,t.oxr="="===o.charAt(1),t.oyr="="===a.charAt(1),t.ox=parseFloat(o.replace(w,"")),t.oy=parseFloat(a.replace(w,"")),t.v=e),t||e},le=function(e,t){return"function"==typeof e&&(e=e(y,v)),"string"==typeof e&&"="===e.charAt(1)?parseInt(e.charAt(0)+"1",10)*parseFloat(e.substr(2)):parseFloat(e)-parseFloat(t)||0},pe=function(e,t){return"function"==typeof e&&(e=e(y,v)),null==e?t:"string"==typeof e&&"="===e.charAt(1)?parseInt(e.charAt(0)+"1",10)*parseFloat(e.substr(2))+t:parseFloat(e)||0},ce=function(e,t,r,n){var o,a,i,s,u,l=1e-6;return"function"==typeof e&&(e=e(y,v)),null==e?s=t:"number"==typeof e?s=e:(o=360,a=e.split("_"),u="="===e.charAt(1),i=(u?parseInt(e.charAt(0)+"1",10)*parseFloat(a[0].substr(2)):parseFloat(a[0]))*(e.indexOf("rad")===-1?1:F)-(u?0:t),a.length&&(n&&(n[r]=t+i),e.indexOf("short")!==-1&&(i%=o,i!==i%(o/2)&&(i=i<0?i+o:i-o)),e.indexOf("_cw")!==-1&&i<0?i=(i+9999999999*o)%o-(i/o|0)*o:e.indexOf("ccw")!==-1&&i>0&&(i=(i-9999999999*o)%o-(i/o|0)*o)),s=t+i),s<l&&s>-l&&(s=0),s},fe={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},he=function(e,t,r){return e=e<0?e+1:e>1?e-1:e,255*(6*e<1?t+(r-t)*e*6:e<.5?r:3*e<2?t+(r-t)*(2/3-e)*6:t)+.5|0},de=s.parseColor=function(e,t){var r,n,o,a,i,s,u,l,p,c,f;if(e)if("number"==typeof e)r=[e>>16,e>>8&255,255&e];else{if(","===e.charAt(e.length-1)&&(e=e.substr(0,e.length-1)),fe[e])r=fe[e];else if("#"===e.charAt(0))4===e.length&&(n=e.charAt(1),o=e.charAt(2),a=e.charAt(3),e="#"+n+n+o+o+a+a),e=parseInt(e.substr(1),16),r=[e>>16,e>>8&255,255&e];else if("hsl"===e.substr(0,3))if(r=f=e.match(x),t){if(e.indexOf("=")!==-1)return e.match(b)}else i=Number(r[0])%360/360,s=Number(r[1])/100,u=Number(r[2])/100,o=u<=.5?u*(s+1):u+s-u*s,n=2*u-o,r.length>3&&(r[3]=Number(r[3])),r[0]=he(i+1/3,n,o),r[1]=he(i,n,o),r[2]=he(i-1/3,n,o);else r=e.match(x)||fe.transparent;r[0]=Number(r[0]),r[1]=Number(r[1]),r[2]=Number(r[2]),r.length>3&&(r[3]=Number(r[3]))}else r=fe.black;return t&&!f&&(n=r[0]/255,o=r[1]/255,a=r[2]/255,l=Math.max(n,o,a),p=Math.min(n,o,a),u=(l+p)/2,l===p?i=s=0:(c=l-p,s=u>.5?c/(2-l-p):c/(l+p),i=l===n?(o-a)/c+(o<a?6:0):l===o?(a-n)/c+2:(n-o)/c+4,i*=60),r[0]=i+.5|0,r[1]=100*s+.5|0,r[2]=100*u+.5|0),r},me=function(e,t){var r,n,o,a=e.match(ge)||[],i=0,s="";if(!a.length)return e;for(r=0;r<a.length;r++)n=a[r],o=e.substr(i,e.indexOf(n,i)-i),i+=o.length+n.length,n=de(n,t),3===n.length&&n.push(1),s+=o+(t?"hsla("+n[0]+","+n[1]+"%,"+n[2]+"%,"+n[3]:"rgba("+n.join(","))+")";return s+e.substr(i)},ge="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";for(p in fe)ge+="|"+p+"\\b";ge=new RegExp(ge+")","gi"),s.colorStringFilter=function(e){var t,r=e[0]+" "+e[1];ge.test(r)&&(t=r.indexOf("hsl(")!==-1||r.indexOf("hsla(")!==-1,e[0]=me(e[0],t),e[1]=me(e[1],t)),ge.lastIndex=0},t.defaultStringFilter||(t.defaultStringFilter=s.colorStringFilter);var ve=function(e,t,r,n){if(null==e)return function(e){return e};var o,a=t?(e.match(ge)||[""])[0]:"",i=e.split(a).join("").match(_)||[],s=e.substr(0,e.indexOf(i[0])),u=")"===e.charAt(e.length-1)?")":"",l=e.indexOf(" ")!==-1?" ":",",p=i.length,c=p>0?i[0].replace(x,""):"";return p?o=t?function(e){var t,f,h,d;if("number"==typeof e)e+=c;else if(n&&D.test(e)){for(d=e.replace(D,"|").split("|"),h=0;h<d.length;h++)d[h]=o(d[h]);return d.join(",")}if(t=(e.match(ge)||[a])[0],f=e.split(t).join("").match(_)||[],h=f.length,p>h--)for(;++h<p;)f[h]=r?f[(h-1)/2|0]:i[h];return s+f.join(l)+l+t+u+(e.indexOf("inset")!==-1?" inset":"")}:function(e){var t,a,f;if("number"==typeof e)e+=c;else if(n&&D.test(e)){for(a=e.replace(D,"|").split("|"),f=0;f<a.length;f++)a[f]=o(a[f]);return a.join(",")}if(t=e.match(_)||[],f=t.length,p>f--)for(;++f<p;)t[f]=r?t[(f-1)/2|0]:i[f];return s+t.join(l)+u}:function(e){return e}},ye=function(e){return e=e.split(","),function(t,r,n,o,a,i,s){var u,l=(r+"").split(" ");for(s={},u=0;u<4;u++)s[e[u]]=l[u]=l[u]||l[(u-1)/2>>0];return o.parse(t,s,a,i)}},xe=(W._setPluginRatio=function(e){this.plugin.setRatio(e);for(var t,r,n,o,a,i=this.data,s=i.proxy,u=i.firstMPT,l=1e-6;u;)t=s[u.v],u.r?t=u.r(t):t<l&&t>-l&&(t=0),u.t[u.p]=t,u=u._next;if(i.autoRotate&&(i.autoRotate.rotation=i.mod?i.mod.call(this._tween,s.rotation,this.t,this._tween):s.rotation),1===e||0===e)for(u=i.firstMPT,a=1===e?"e":"b";u;){if(r=u.t,r.type){if(1===r.type){for(o=r.xs0+r.s+r.xs1,n=1;n<r.l;n++)o+=r["xn"+n]+r["xs"+(n+1)];r[a]=o}}else r[a]=r.s+r.xs0;u=u._next}},function(e,t,r,n,o){this.t=e,this.p=t,this.v=r,this.r=o,n&&(n._prev=this,this._next=n)}),be=(W._parseToProxy=function(e,t,r,n,o,a){var i,s,u,l,p,c=n,f={},h={},d=r._transform,m=B;for(r._transform=null,B=t,n=p=r.parse(e,t,n,o),B=m,a&&(r._transform=d,c&&(c._prev=null,c._prev&&(c._prev._next=null)));n&&n!==c;){if(n.type<=1&&(s=n.p,h[s]=n.s+n.c,f[s]=n.s,a||(l=new xe(n,"s",s,l,n.r),n.c=0),1===n.type))for(i=n.l;--i>0;)u="xn"+i,s=n.p+"_"+u,h[s]=n.data[u],f[s]=n[u],a||(l=new xe(n,u,s,l,n.rxp[u]));n=n._next}return{proxy:f,end:h,firstMPT:l,pt:p}},W.CSSPropTween=function(e,t,n,o,a,s,u,l,p,c,f){this.t=e,this.p=t,this.s=n,this.c=o,this.n=u||t,e instanceof be||i.push(this.n),this.r=l?"function"==typeof l?l:Math.round:l,this.type=s||0,p&&(this.pr=p,r=!0),this.b=void 0===c?n:c,this.e=void 0===f?n+o:f,a&&(this._next=a,a._prev=this)}),_e=function(e,t,r,n,o,a){var i=new be(e,t,r,n-r,o,-1,a);return i.b=r,i.e=i.xs0=n,i},we=s.parseComplex=function(e,t,r,n,o,a,i,u,l,p){r=r||a||"","function"==typeof n&&(n=n(y,v)),i=new be(e,t,0,0,i,p?2:1,null,!1,u,r,n),n+="",o&&ge.test(n+r)&&(n=[r,n],s.colorStringFilter(n),r=n[0],n=n[1]);var f,h,d,m,g,_,w,T,N,P,S,E,k,A=r.split(", ").join(",").split(" "),O=n.split(", ").join(",").split(" "),I=A.length,C=c!==!1;for(n.indexOf(",")===-1&&r.indexOf(",")===-1||((n+r).indexOf("rgb")!==-1||(n+r).indexOf("hsl")!==-1?(A=A.join(" ").replace(D,", ").split(" "),O=O.join(" ").replace(D,", ").split(" ")):(A=A.join(" ").split(",").join(", ").split(" "),O=O.join(" ").split(",").join(", ").split(" ")),I=A.length),I!==O.length&&(A=(a||"").split(" "),I=A.length),i.plugin=l,i.setRatio=p,ge.lastIndex=0,f=0;f<I;f++)if(m=A[f],g=O[f]+"",T=parseFloat(m),T||0===T)i.appendXtra("",T,le(g,T),g.replace(b,""),!(!C||g.indexOf("px")===-1)&&Math.round,!0);else if(o&&ge.test(m))E=g.indexOf(")")+1,E=")"+(E?g.substr(E):""),k=g.indexOf("hsl")!==-1&&$,P=g,m=de(m,k),g=de(g,k),N=m.length+g.length>6,N&&!$&&0===g[3]?(i["xs"+i.l]+=i.l?" transparent":"transparent",i.e=i.e.split(O[f]).join("transparent")):($||(N=!1),k?i.appendXtra(P.substr(0,P.indexOf("hsl"))+(N?"hsla(":"hsl("),m[0],le(g[0],m[0]),",",!1,!0).appendXtra("",m[1],le(g[1],m[1]),"%,",!1).appendXtra("",m[2],le(g[2],m[2]),N?"%,":"%"+E,!1):i.appendXtra(P.substr(0,P.indexOf("rgb"))+(N?"rgba(":"rgb("),m[0],g[0]-m[0],",",Math.round,!0).appendXtra("",m[1],g[1]-m[1],",",Math.round).appendXtra("",m[2],g[2]-m[2],N?",":E,Math.round),N&&(m=m.length<4?1:m[3],i.appendXtra("",m,(g.length<4?1:g[3])-m,E,!1))),ge.lastIndex=0;else if(_=m.match(x)){if(w=g.match(b),!w||w.length!==_.length)return i;for(d=0,h=0;h<_.length;h++)S=_[h],P=m.indexOf(S,d),i.appendXtra(m.substr(d,P-d),Number(S),le(w[h],S),"",!(!C||"px"!==m.substr(P+S.length,2))&&Math.round,0===h),d=P+S.length;i["xs"+i.l]+=m.substr(d)}else i["xs"+i.l]+=i.l||i["xs"+i.l]?" "+g:g;if(n.indexOf("=")!==-1&&i.data){for(E=i.xs0+i.data.s,f=1;f<i.l;f++)E+=i["xs"+f]+i.data["xn"+f];i.e=E+i["xs"+f]}return i.l||(i.type=-1,i.xs0=i.e),i.xfirst||i},Te=9;for(p=be.prototype,p.l=p.pr=0;--Te>0;)p["xn"+Te]=0,p["xs"+Te]="";p.xs0="",p._next=p._prev=p.xfirst=p.data=p.plugin=p.setRatio=p.rxp=null,p.appendXtra=function(e,t,r,n,o,a){var i=this,s=i.l;return i["xs"+s]+=a&&(s||i["xs"+s])?" "+e:e||"",r||0===s||i.plugin?(i.l++,i.type=i.setRatio?2:1,i["xs"+i.l]=n||"",s>0?(i.data["xn"+s]=t+r,i.rxp["xn"+s]=o,i["xn"+s]=t,i.plugin||(i.xfirst=new be(i,"xn"+s,t,r,i.xfirst||i,0,i.n,o,i.pr),i.xfirst.xs0=0),i):(i.data={s:t+r},i.rxp={},i.s=t,i.c=r,i.r=o,i)):(i["xs"+s]+=t+(n||""),i)};var Ne=function(e,t){t=t||{},this.p=t.prefix?J(e)||e:e,l[e]=l[this.p]=this,this.format=t.formatter||ve(t.defaultValue,t.color,t.collapsible,t.multi),t.parser&&(this.parse=t.parser),this.clrs=t.color,this.multi=t.multi,this.keyword=t.keyword,this.dflt=t.defaultValue,this.pr=t.priority||0},Pe=W._registerComplexSpecialProp=function(e,t,r){"object"!=typeof t&&(t={parser:r});var n,o,a=e.split(","),i=t.defaultValue;for(r=r||[i],n=0;n<a.length;n++)t.prefix=0===n&&t.prefix,t.defaultValue=r[n]||i,o=new Ne(a[n],t)},Se=W._registerPluginProp=function(e){if(!l[e]){var t=e.charAt(0).toUpperCase()+e.substr(1)+"Plugin";Pe(e,{parser:function(e,r,n,o,a,i,s){var p=u.com.greensock.plugins[t];return p?(p._cssRegister(),l[n].parse(e,r,n,o,a,i,s)):(Y("Error: "+t+" js file not loaded."),a)}})}};p=Ne.prototype,p.parseComplex=function(e,t,r,n,o,a){var i,s,u,l,p,c,f=this.keyword;if(this.multi&&(D.test(r)||D.test(t)?(s=t.replace(D,"|").split("|"),u=r.replace(D,"|").split("|")):f&&(s=[t],u=[r])),u){for(l=u.length>s.length?u.length:s.length,i=0;i<l;i++)t=s[i]=s[i]||this.dflt,r=u[i]=u[i]||this.dflt,f&&(p=t.indexOf(f),c=r.indexOf(f),p!==c&&(c===-1?s[i]=s[i].split(f).join(""):p===-1&&(s[i]+=" "+f)));t=s.join(", "),r=u.join(", ")}return we(e,this.p,t,r,this.clrs,this.dflt,n,this.pr,o,a)},p.parse=function(e,t,r,n,o,i,s){return this.parseComplex(e.style,this.format(ee(e,this.p,a,!1,this.dflt)),this.format(t),o,i)},s.registerSpecialProp=function(e,t,r){Pe(e,{parser:function(e,n,o,a,i,s,u){var l=new be(e,o,0,0,i,2,o,!1,r);return l.plugin=s,l.setRatio=t(e,n,a._tween,o),l},priority:r})},s.useSVGTransformAttr=!0;var Ee,ke="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),Ae=J("transform"),Oe=K+"transform",Ie=J("transformOrigin"),Ce=null!==J("perspective"),Re=W.Transform=function(){this.perspective=parseFloat(s.defaultTransformPerspective)||0,this.force3D=!(s.defaultForce3D===!1||!Ce)&&(s.defaultForce3D||"auto")},Me=n.SVGElement,De=function(e,t,r){var n,o=j.createElementNS("http://www.w3.org/2000/svg",e),a=/([a-z])([A-Z])/g;for(n in r)o.setAttributeNS(null,n.replace(a,"$1-$2").toLowerCase(),r[n]);return t.appendChild(o),o},Ve=j.documentElement||{},Le=function(){var e,t,r,o=g||/Android/i.test(H)&&!n.chrome;return j.createElementNS&&!o&&(e=De("svg",Ve),t=De("rect",e,{width:100,height:50,x:100}),r=t.getBoundingClientRect().width,t.style[Ie]="50% 50%",t.style[Ae]="scaleX(0.5)",o=r===t.getBoundingClientRect().width&&!(d&&Ce),Ve.removeChild(e)),o}(),Fe=function(e,t,r,n,o,a){var i,u,l,p,c,f,h,d,m,g,v,y,x,b,_=e._gsTransform,w=Ge(e,!0);_&&(x=_.xOrigin,b=_.yOrigin),(!n||(i=n.split(" ")).length<2)&&(h=e.getBBox(),0===h.x&&0===h.y&&h.width+h.height===0&&(h={x:parseFloat(e.hasAttribute("x")?e.getAttribute("x"):e.hasAttribute("cx")?e.getAttribute("cx"):0)||0,y:parseFloat(e.hasAttribute("y")?e.getAttribute("y"):e.hasAttribute("cy")?e.getAttribute("cy"):0)||0,width:0,height:0}),t=ue(t).split(" "),i=[(t[0].indexOf("%")!==-1?parseFloat(t[0])/100*h.width:parseFloat(t[0]))+h.x,(t[1].indexOf("%")!==-1?parseFloat(t[1])/100*h.height:parseFloat(t[1]))+h.y]),r.xOrigin=p=parseFloat(i[0]),r.yOrigin=c=parseFloat(i[1]),n&&w!==Ue&&(f=w[0],h=w[1],d=w[2],m=w[3],g=w[4],v=w[5],y=f*m-h*d,y&&(u=p*(m/y)+c*(-d/y)+(d*v-m*g)/y,l=p*(-h/y)+c*(f/y)-(f*v-h*g)/y,p=r.xOrigin=i[0]=u,c=r.yOrigin=i[1]=l)),_&&(a&&(r.xOffset=_.xOffset,r.yOffset=_.yOffset,_=r),o||o!==!1&&s.defaultSmoothOrigin!==!1?(u=p-x,l=c-b,_.xOffset+=u*w[0]+l*w[2]-u,_.yOffset+=u*w[1]+l*w[3]-l):_.xOffset=_.yOffset=0),a||e.setAttribute("data-svg-origin",i.join(" "))},Be=function(e){var t,r=U("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),n=this.parentNode,o=this.nextSibling,a=this.style.cssText;if(Ve.appendChild(r),r.appendChild(this),this.style.display="block",e)try{t=this.getBBox(),this._originalGetBBox=this.getBBox,this.getBBox=Be}catch(e){}else this._originalGetBBox&&(t=this._originalGetBBox());return o?n.insertBefore(this,o):n.appendChild(this),Ve.removeChild(r),this.style.cssText=a,t},ze=function(e){try{return e.getBBox()}catch(t){return Be.call(e,!0)}},je=function(e){return!(!Me||!e.getCTM||e.parentNode&&!e.ownerSVGElement||!ze(e))},Ue=[1,0,0,1,0,0],Ge=function(e,t){var r,n,o,a,i,s,u=e._gsTransform||new Re,l=1e5,p=e.style;if(Ae?n=ee(e,Oe,null,!0):e.currentStyle&&(n=e.currentStyle.filter.match(R),n=n&&4===n.length?[n[0].substr(4),Number(n[2].substr(4)),Number(n[1].substr(4)),n[3].substr(4),u.x||0,u.y||0].join(","):""),r=!n||"none"===n||"matrix(1, 0, 0, 1, 0, 0)"===n,!Ae||!(s=!Z(e)||"none"===Z(e).display)&&e.parentNode||(s&&(a=p.display,p.display="block"),e.parentNode||(i=1,Ve.appendChild(e)),n=ee(e,Oe,null,!0),r=!n||"none"===n||"matrix(1, 0, 0, 1, 0, 0)"===n,a?p.display=a:s&&Xe(p,"display"),i&&Ve.removeChild(e)),(u.svg||e.getCTM&&je(e))&&(r&&(p[Ae]+"").indexOf("matrix")!==-1&&(n=p[Ae],r=0),o=e.getAttribute("transform"),r&&o&&(o=e.transform.baseVal.consolidate().matrix,n="matrix("+o.a+","+o.b+","+o.c+","+o.d+","+o.e+","+o.f+")",r=0)),r)return Ue;for(o=(n||"").match(x)||[],Te=o.length;--Te>-1;)a=Number(o[Te]),o[Te]=(i=a-(a|=0))?(i*l+(i<0?-.5:.5)|0)/l+a:a;return t&&o.length>6?[o[0],o[1],o[4],o[5],o[12],o[13]]:o},qe=W.getTransform=function(e,r,n,o){if(e._gsTransform&&n&&!o)return e._gsTransform;var a,i,u,l,p,c,f=n?e._gsTransform||new Re:new Re,h=f.scaleX<0,d=2e-5,m=1e5,g=Ce?parseFloat(ee(e,Ie,r,!1,"0 0 0").split(" ")[2])||f.zOrigin||0:0,v=parseFloat(s.defaultTransformPerspective)||0;if(f.svg=!(!e.getCTM||!je(e)),f.svg&&(Fe(e,ee(e,Ie,r,!1,"50% 50%")+"",f,e.getAttribute("data-svg-origin")),Ee=s.useSVGTransformAttr||Le),a=Ge(e),a!==Ue){if(16===a.length){var y,x,b,_,w,T=a[0],N=a[1],P=a[2],S=a[3],E=a[4],k=a[5],A=a[6],O=a[7],I=a[8],C=a[9],R=a[10],M=a[12],D=a[13],V=a[14],L=a[11],B=Math.atan2(A,R);f.zOrigin&&(V=-f.zOrigin,M=I*V-a[12],D=C*V-a[13],V=R*V+f.zOrigin-a[14]),f.rotationX=B*F,B&&(_=Math.cos(-B),w=Math.sin(-B),y=E*_+I*w,x=k*_+C*w,b=A*_+R*w,I=E*-w+I*_,C=k*-w+C*_,R=A*-w+R*_,L=O*-w+L*_,E=y,k=x,A=b),B=Math.atan2(-P,R),f.rotationY=B*F,B&&(_=Math.cos(-B),w=Math.sin(-B),y=T*_-I*w,x=N*_-C*w,b=P*_-R*w,C=N*w+C*_,R=P*w+R*_,L=S*w+L*_,T=y,N=x,P=b),B=Math.atan2(N,T),f.rotation=B*F,B&&(_=Math.cos(B),w=Math.sin(B),y=T*_+N*w,x=E*_+k*w,b=I*_+C*w,N=N*_-T*w,k=k*_-E*w,C=C*_-I*w,T=y,E=x,I=b),f.rotationX&&Math.abs(f.rotationX)+Math.abs(f.rotation)>359.9&&(f.rotationX=f.rotation=0,f.rotationY=180-f.rotationY),B=Math.atan2(E,k),f.scaleX=(Math.sqrt(T*T+N*N+P*P)*m+.5|0)/m,f.scaleY=(Math.sqrt(k*k+A*A)*m+.5|0)/m,f.scaleZ=(Math.sqrt(I*I+C*C+R*R)*m+.5|0)/m,T/=f.scaleX,E/=f.scaleY,N/=f.scaleX,k/=f.scaleY,Math.abs(B)>d?(f.skewX=B*F,E=0,"simple"!==f.skewType&&(f.scaleY*=1/Math.cos(B))):f.skewX=0,f.perspective=L?1/(L<0?-L:L):0,f.x=M,f.y=D,f.z=V,f.svg&&(f.x-=f.xOrigin-(f.xOrigin*T-f.yOrigin*E),f.y-=f.yOrigin-(f.yOrigin*N-f.xOrigin*k))}else if(!Ce||o||!a.length||f.x!==a[4]||f.y!==a[5]||!f.rotationX&&!f.rotationY){var z=a.length>=6,j=z?a[0]:1,U=a[1]||0,G=a[2]||0,q=z?a[3]:1;f.x=a[4]||0,f.y=a[5]||0,u=Math.sqrt(j*j+U*U),l=Math.sqrt(q*q+G*G),p=j||U?Math.atan2(U,j)*F:f.rotation||0,c=G||q?Math.atan2(G,q)*F+p:f.skewX||0,f.scaleX=u,f.scaleY=l,f.rotation=p,f.skewX=c,Ce&&(f.rotationX=f.rotationY=f.z=0,f.perspective=v,f.scaleZ=1),f.svg&&(f.x-=f.xOrigin-(f.xOrigin*j+f.yOrigin*G),f.y-=f.yOrigin-(f.xOrigin*U+f.yOrigin*q))}Math.abs(f.skewX)>90&&Math.abs(f.skewX)<270&&(h?(f.scaleX*=-1,f.skewX+=f.rotation<=0?180:-180,f.rotation+=f.rotation<=0?180:-180):(f.scaleY*=-1,f.skewX+=f.skewX<=0?180:-180)),f.zOrigin=g;for(i in f)f[i]<d&&f[i]>-d&&(f[i]=0)}return n&&(e._gsTransform=f,f.svg&&(Ee&&e.style[Ae]?t.delayedCall(.001,function(){Xe(e.style,Ae)}):!Ee&&e.getAttribute("transform")&&t.delayedCall(.001,function(){e.removeAttribute("transform")}))),f},We=function(e){var t,r,n=this.data,o=-n.rotation*L,a=o+n.skewX*L,i=1e5,s=(Math.cos(o)*n.scaleX*i|0)/i,u=(Math.sin(o)*n.scaleX*i|0)/i,l=(Math.sin(a)*-n.scaleY*i|0)/i,p=(Math.cos(a)*n.scaleY*i|0)/i,c=this.t.style,f=this.t.currentStyle;if(f){r=u,u=-l,l=-r,t=f.filter,c.filter="";var h,d,m=this.t.offsetWidth,v=this.t.offsetHeight,y="absolute"!==f.position,x="progid:DXImageTransform.Microsoft.Matrix(M11="+s+", M12="+u+", M21="+l+", M22="+p,b=n.x+m*n.xPercent/100,_=n.y+v*n.yPercent/100;if(null!=n.ox&&(h=(n.oxp?m*n.ox*.01:n.ox)-m/2,d=(n.oyp?v*n.oy*.01:n.oy)-v/2,b+=h-(h*s+d*u),_+=d-(h*l+d*p)),y?(h=m/2,d=v/2,x+=", Dx="+(h-(h*s+d*u)+b)+", Dy="+(d-(h*l+d*p)+_)+")"):x+=", sizingMethod='auto expand')",t.indexOf("DXImageTransform.Microsoft.Matrix(")!==-1?c.filter=t.replace(M,x):c.filter=x+" "+t,0!==e&&1!==e||1===s&&0===u&&0===l&&1===p&&(y&&x.indexOf("Dx=0, Dy=0")===-1||N.test(t)&&100!==parseFloat(RegExp.$1)||t.indexOf(t.indexOf("Alpha"))===-1&&c.removeAttribute("filter")),!y){var w,P,S,E=g<8?1:-1;for(h=n.ieOffsetX||0,d=n.ieOffsetY||0,n.ieOffsetX=Math.round((m-((s<0?-s:s)*m+(u<0?-u:u)*v))/2+b),n.ieOffsetY=Math.round((v-((p<0?-p:p)*v+(l<0?-l:l)*m))/2+_),Te=0;Te<4;Te++)P=ie[Te],w=f[P],r=w.indexOf("px")!==-1?parseFloat(w):te(this.t,P,parseFloat(w),w.replace(T,""))||0,S=r!==n[P]?Te<2?-n.ieOffsetX:-n.ieOffsetY:Te<2?h-n.ieOffsetX:d-n.ieOffsetY,c[P]=(n[P]=Math.round(r-S*(0===Te||2===Te?1:E)))+"px"}}},He=W.set3DTransformRatio=W.setTransformRatio=function(e){var t,r,n,o,a,i,s,u,l,p,c,f,h,m,g,v,y,x,b,_,w,T,N,P=this.data,S=this.t.style,E=P.rotation,k=P.rotationX,A=P.rotationY,O=P.scaleX,I=P.scaleY,C=P.scaleZ,R=P.x,M=P.y,D=P.z,V=P.svg,F=P.perspective,B=P.force3D,z=P.skewY,j=P.skewX;if(z&&(j+=z,E+=z),((1===e||0===e)&&"auto"===B&&(this.tween._totalTime===this.tween._totalDuration||!this.tween._totalTime)||!B)&&!D&&!F&&!A&&!k&&1===C||Ee&&V||!Ce)return void(E||j||V?(E*=L,T=j*L,N=1e5,r=Math.cos(E)*O,a=Math.sin(E)*O,n=Math.sin(E-T)*-I,i=Math.cos(E-T)*I,T&&"simple"===P.skewType&&(t=Math.tan(T-z*L),t=Math.sqrt(1+t*t),n*=t,i*=t,z&&(t=Math.tan(z*L),t=Math.sqrt(1+t*t),r*=t,a*=t)),V&&(R+=P.xOrigin-(P.xOrigin*r+P.yOrigin*n)+P.xOffset,M+=P.yOrigin-(P.xOrigin*a+P.yOrigin*i)+P.yOffset,Ee&&(P.xPercent||P.yPercent)&&(g=this.t.getBBox(),R+=.01*P.xPercent*g.width,M+=.01*P.yPercent*g.height),g=1e-6,R<g&&R>-g&&(R=0),M<g&&M>-g&&(M=0)),b=(r*N|0)/N+","+(a*N|0)/N+","+(n*N|0)/N+","+(i*N|0)/N+","+R+","+M+")",V&&Ee?this.t.setAttribute("transform","matrix("+b):S[Ae]=(P.xPercent||P.yPercent?"translate("+P.xPercent+"%,"+P.yPercent+"%) matrix(":"matrix(")+b):S[Ae]=(P.xPercent||P.yPercent?"translate("+P.xPercent+"%,"+P.yPercent+"%) matrix(":"matrix(")+O+",0,0,"+I+","+R+","+M+")");if(d&&(g=1e-4,O<g&&O>-g&&(O=C=2e-5),I<g&&I>-g&&(I=C=2e-5),!F||P.z||P.rotationX||P.rotationY||(F=0)),E||j)E*=L,v=r=Math.cos(E),y=a=Math.sin(E),j&&(E-=j*L,v=Math.cos(E),y=Math.sin(E),"simple"===P.skewType&&(t=Math.tan((j-z)*L),t=Math.sqrt(1+t*t),v*=t,y*=t,P.skewY&&(t=Math.tan(z*L),t=Math.sqrt(1+t*t),r*=t,a*=t))),n=-y,i=v;else{if(!(A||k||1!==C||F||V))return void(S[Ae]=(P.xPercent||P.yPercent?"translate("+P.xPercent+"%,"+P.yPercent+"%) translate3d(":"translate3d(")+R+"px,"+M+"px,"+D+"px)"+(1!==O||1!==I?" scale("+O+","+I+")":""));r=i=1,n=a=0}p=1,o=s=u=l=c=f=0,h=F?-1/F:0,m=P.zOrigin,g=1e-6,_=",",w="0",E=A*L,E&&(v=Math.cos(E),y=Math.sin(E),u=-y,c=h*-y,o=r*y,s=a*y,p=v,h*=v,r*=v,a*=v),E=k*L,E&&(v=Math.cos(E),y=Math.sin(E),t=n*v+o*y,x=i*v+s*y,l=p*y,f=h*y,o=n*-y+o*v,s=i*-y+s*v,p*=v,h*=v,n=t,i=x),1!==C&&(o*=C,s*=C,p*=C,h*=C),1!==I&&(n*=I,i*=I,l*=I,f*=I),1!==O&&(r*=O,a*=O,u*=O,c*=O),(m||V)&&(m&&(R+=o*-m,M+=s*-m,D+=p*-m+m),V&&(R+=P.xOrigin-(P.xOrigin*r+P.yOrigin*n)+P.xOffset,M+=P.yOrigin-(P.xOrigin*a+P.yOrigin*i)+P.yOffset),R<g&&R>-g&&(R=w),M<g&&M>-g&&(M=w),D<g&&D>-g&&(D=0)),b=P.xPercent||P.yPercent?"translate("+P.xPercent+"%,"+P.yPercent+"%) matrix3d(":"matrix3d(",b+=(r<g&&r>-g?w:r)+_+(a<g&&a>-g?w:a)+_+(u<g&&u>-g?w:u),b+=_+(c<g&&c>-g?w:c)+_+(n<g&&n>-g?w:n)+_+(i<g&&i>-g?w:i),k||A||1!==C?(b+=_+(l<g&&l>-g?w:l)+_+(f<g&&f>-g?w:f)+_+(o<g&&o>-g?w:o),b+=_+(s<g&&s>-g?w:s)+_+(p<g&&p>-g?w:p)+_+(h<g&&h>-g?w:h)+_):b+=",0,0,0,0,1,0,",b+=R+_+M+_+D+_+(F?1+-D/F:1)+")",S[Ae]=b};p=Re.prototype,p.x=p.y=p.z=p.skewX=p.skewY=p.rotation=p.rotationX=p.rotationY=p.zOrigin=p.xPercent=p.yPercent=p.xOffset=p.yOffset=0,p.scaleX=p.scaleY=p.scaleZ=1,Pe("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin",{parser:function(e,t,r,n,o,i,u){if(n._lastParsedTransform===u)return o;n._lastParsedTransform=u;var l,p=u.scale&&"function"==typeof u.scale?u.scale:0;"function"==typeof u[r]&&(l=u[r],u[r]=t),p&&(u.scale=p(y,e));var c,f,h,d,m,g,x,b,_,w=e._gsTransform,T=e.style,N=1e-6,P=ke.length,S=u,E={},k="transformOrigin",A=qe(e,a,!0,S.parseTransform),O=S.transform&&("function"==typeof S.transform?S.transform(y,v):S.transform);if(A.skewType=S.skewType||A.skewType||s.defaultSkewType,n._transform=A,O&&"string"==typeof O&&Ae)f=G.style,f[Ae]=O,f.display="block",f.position="absolute",O.indexOf("%")!==-1&&(f.width=ee(e,"width"),f.height=ee(e,"height")),j.body.appendChild(G),c=qe(G,null,!1),"simple"===A.skewType&&(c.scaleY*=Math.cos(c.skewX*L)),A.svg&&(g=A.xOrigin,x=A.yOrigin,c.x-=A.xOffset,c.y-=A.yOffset,(S.transformOrigin||S.svgOrigin)&&(O={},Fe(e,ue(S.transformOrigin),O,S.svgOrigin,S.smoothOrigin,!0),g=O.xOrigin,x=O.yOrigin,c.x-=O.xOffset-A.xOffset,c.y-=O.yOffset-A.yOffset),(g||x)&&(b=Ge(G,!0),c.x-=g-(g*b[0]+x*b[2]),c.y-=x-(g*b[1]+x*b[3]))),j.body.removeChild(G),c.perspective||(c.perspective=A.perspective),null!=S.xPercent&&(c.xPercent=pe(S.xPercent,A.xPercent)),null!=S.yPercent&&(c.yPercent=pe(S.yPercent,A.yPercent));else if("object"==typeof S){if(c={scaleX:pe(null!=S.scaleX?S.scaleX:S.scale,A.scaleX),scaleY:pe(null!=S.scaleY?S.scaleY:S.scale,A.scaleY),scaleZ:pe(S.scaleZ,A.scaleZ),x:pe(S.x,A.x),y:pe(S.y,A.y),z:pe(S.z,A.z),xPercent:pe(S.xPercent,A.xPercent),yPercent:pe(S.yPercent,A.yPercent),perspective:pe(S.transformPerspective,A.perspective)},m=S.directionalRotation,null!=m)if("object"==typeof m)for(f in m)S[f]=m[f];else S.rotation=m;"string"==typeof S.x&&S.x.indexOf("%")!==-1&&(c.x=0,c.xPercent=pe(S.x,A.xPercent)),"string"==typeof S.y&&S.y.indexOf("%")!==-1&&(c.y=0,c.yPercent=pe(S.y,A.yPercent)),c.rotation=ce("rotation"in S?S.rotation:"shortRotation"in S?S.shortRotation+"_short":"rotationZ"in S?S.rotationZ:A.rotation,A.rotation,"rotation",E),Ce&&(c.rotationX=ce("rotationX"in S?S.rotationX:"shortRotationX"in S?S.shortRotationX+"_short":A.rotationX||0,A.rotationX,"rotationX",E),c.rotationY=ce("rotationY"in S?S.rotationY:"shortRotationY"in S?S.shortRotationY+"_short":A.rotationY||0,A.rotationY,"rotationY",E)),c.skewX=ce(S.skewX,A.skewX),c.skewY=ce(S.skewY,A.skewY)}for(Ce&&null!=S.force3D&&(A.force3D=S.force3D,d=!0),h=A.force3D||A.z||A.rotationX||A.rotationY||c.z||c.rotationX||c.rotationY||c.perspective,h||null==S.scale||(c.scaleZ=1);--P>-1;)_=ke[P],O=c[_]-A[_],(O>N||O<-N||null!=S[_]||null!=B[_])&&(d=!0,o=new be(A,_,A[_],O,o),_ in E&&(o.e=E[_]),o.xs0=0,o.plugin=i,n._overwriteProps.push(o.n));return O=S.transformOrigin,A.svg&&(O||S.svgOrigin)&&(g=A.xOffset,x=A.yOffset,Fe(e,ue(O),c,S.svgOrigin,S.smoothOrigin),o=_e(A,"xOrigin",(w?A:c).xOrigin,c.xOrigin,o,k),o=_e(A,"yOrigin",(w?A:c).yOrigin,c.yOrigin,o,k),g===A.xOffset&&x===A.yOffset||(o=_e(A,"xOffset",w?g:A.xOffset,A.xOffset,o,k),o=_e(A,"yOffset",w?x:A.yOffset,A.yOffset,o,k)),O="0px 0px"),(O||Ce&&h&&A.zOrigin)&&(Ae?(d=!0,_=Ie,O=(O||ee(e,_,a,!1,"50% 50%"))+"",o=new be(T,_,0,0,o,-1,k),o.b=T[_],o.plugin=i,Ce?(f=A.zOrigin,O=O.split(" "),A.zOrigin=(O.length>2&&(0===f||"0px"!==O[2])?parseFloat(O[2]):f)||0,o.xs0=o.e=O[0]+" "+(O[1]||"50%")+" 0px",o=new be(A,"zOrigin",0,0,o,-1,o.n),o.b=f,o.xs0=o.e=A.zOrigin):o.xs0=o.e=O):ue(O+"",A)),d&&(n._transformType=A.svg&&Ee||!h&&3!==this._transformType?2:3),l&&(u[r]=l),p&&(u.scale=p),o},prefix:!0}),Pe("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),Pe("borderRadius",{defaultValue:"0px",parser:function(e,t,r,n,i,s){t=this.format(t);var u,l,p,c,f,h,d,m,g,v,y,x,b,_,w,T,N=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],P=e.style;for(g=parseFloat(e.offsetWidth),v=parseFloat(e.offsetHeight),u=t.split(" "),l=0;l<N.length;l++)this.p.indexOf("border")&&(N[l]=J(N[l])),f=c=ee(e,N[l],a,!1,"0px"),f.indexOf(" ")!==-1&&(c=f.split(" "),f=c[0],c=c[1]),h=p=u[l],d=parseFloat(f),x=f.substr((d+"").length),b="="===h.charAt(1),b?(m=parseInt(h.charAt(0)+"1",10),h=h.substr(2),m*=parseFloat(h),y=h.substr((m+"").length-(m<0?1:0))||""):(m=parseFloat(h),y=h.substr((m+"").length)),""===y&&(y=o[r]||x),y!==x&&(_=te(e,"borderLeft",d,x),w=te(e,"borderTop",d,x),"%"===y?(f=_/g*100+"%",c=w/v*100+"%"):"em"===y?(T=te(e,"borderLeft",1,"em"),f=_/T+"em",c=w/T+"em"):(f=_+"px",c=w+"px"),b&&(h=parseFloat(f)+m+y,p=parseFloat(c)+m+y)),i=we(P,N[l],f+" "+c,h+" "+p,!1,"0px",i);return i},prefix:!0,formatter:ve("0px 0px 0px 0px",!1,!0)}),Pe("borderBottomLeftRadius,borderBottomRightRadius,borderTopLeftRadius,borderTopRightRadius",{defaultValue:"0px",parser:function(e,t,r,n,o,i){return we(e.style,r,this.format(ee(e,r,a,!1,"0px 0px")),this.format(t),!1,"0px",o)},prefix:!0,formatter:ve("0px 0px",!1,!0)}),Pe("backgroundPosition",{defaultValue:"0 0",parser:function(e,t,r,n,o,i){var s,u,l,p,c,f,h="background-position",d=a||Z(e,null),m=this.format((d?g?d.getPropertyValue(h+"-x")+" "+d.getPropertyValue(h+"-y"):d.getPropertyValue(h):e.currentStyle.backgroundPositionX+" "+e.currentStyle.backgroundPositionY)||"0 0"),v=this.format(t);if(m.indexOf("%")!==-1!=(v.indexOf("%")!==-1)&&v.split(",").length<2&&(f=ee(e,"backgroundImage").replace(O,""),f&&"none"!==f)){for(s=m.split(" "),u=v.split(" "),q.setAttribute("src",f),l=2;--l>-1;)m=s[l],p=m.indexOf("%")!==-1,p!==(u[l].indexOf("%")!==-1)&&(c=0===l?e.offsetWidth-q.width:e.offsetHeight-q.height,s[l]=p?parseFloat(m)/100*c+"px":parseFloat(m)/c*100+"%");m=s.join(" ")}return this.parseComplex(e.style,m,v,o,i)},formatter:ue}),Pe("backgroundSize",{defaultValue:"0 0",formatter:function(e){return e+="","co"===e.substr(0,2)?e:ue(e.indexOf(" ")===-1?e+" "+e:e)}}),Pe("perspective",{defaultValue:"0px",prefix:!0}),Pe("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),Pe("transformStyle",{prefix:!0}),Pe("backfaceVisibility",{prefix:!0}),Pe("userSelect",{prefix:!0}),Pe("margin",{parser:ye("marginTop,marginRight,marginBottom,marginLeft")}),Pe("padding",{parser:ye("paddingTop,paddingRight,paddingBottom,paddingLeft")}),Pe("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(e,t,r,n,o,i){var s,u,l;return g<9?(u=e.currentStyle,l=g<8?" ":",",s="rect("+u.clipTop+l+u.clipRight+l+u.clipBottom+l+u.clipLeft+")",t=this.format(t).split(",").join(l)):(s=this.format(ee(e,this.p,a,!1,this.dflt)),t=this.format(t)),this.parseComplex(e.style,s,t,o,i)}}),Pe("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),Pe("autoRound,strictUnits",{parser:function(e,t,r,n,o){return o}}),Pe("border",{defaultValue:"0px solid #000",parser:function(e,t,r,n,o,i){var s=ee(e,"borderTopWidth",a,!1,"0px"),u=this.format(t).split(" "),l=u[0].replace(T,"");return"px"!==l&&(s=parseFloat(s)/te(e,"borderTopWidth",1,l)+l),this.parseComplex(e.style,this.format(s+" "+ee(e,"borderTopStyle",a,!1,"solid")+" "+ee(e,"borderTopColor",a,!1,"#000")),u.join(" "),o,i);
},color:!0,formatter:function(e){var t=e.split(" ");return t[0]+" "+(t[1]||"solid")+" "+(e.match(ge)||["#000"])[0]}}),Pe("borderWidth",{parser:ye("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),Pe("float,cssFloat,styleFloat",{parser:function(e,t,r,n,o,a){var i=e.style,s="cssFloat"in i?"cssFloat":"styleFloat";return new be(i,s,0,0,o,-1,r,!1,0,i[s],t)}});var $e=function(e){var t,r=this.t,n=r.filter||ee(this.data,"filter")||"",o=this.s+this.c*e|0;100===o&&(n.indexOf("atrix(")===-1&&n.indexOf("radient(")===-1&&n.indexOf("oader(")===-1?(r.removeAttribute("filter"),t=!ee(this.data,"filter")):(r.filter=n.replace(S,""),t=!0)),t||(this.xn1&&(r.filter=n=n||"alpha(opacity="+o+")"),n.indexOf("pacity")===-1?0===o&&this.xn1||(r.filter=n+" alpha(opacity="+o+")"):r.filter=n.replace(N,"opacity="+o))};Pe("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(e,t,r,n,o,i){var s=parseFloat(ee(e,"opacity",a,!1,"1")),u=e.style,l="autoAlpha"===r;return"string"==typeof t&&"="===t.charAt(1)&&(t=("-"===t.charAt(0)?-1:1)*parseFloat(t.substr(2))+s),l&&1===s&&"hidden"===ee(e,"visibility",a)&&0!==t&&(s=0),$?o=new be(u,"opacity",s,t-s,o):(o=new be(u,"opacity",100*s,100*(t-s),o),o.xn1=l?1:0,u.zoom=1,o.type=2,o.b="alpha(opacity="+o.s+")",o.e="alpha(opacity="+(o.s+o.c)+")",o.data=e,o.plugin=i,o.setRatio=$e),l&&(o=new be(u,"visibility",0,0,o,-1,null,!1,0,0!==s?"inherit":"hidden",0===t?"hidden":"inherit"),o.xs0="inherit",n._overwriteProps.push(o.n),n._overwriteProps.push(r)),o}});var Xe=function(e,t){t&&(e.removeProperty?("ms"!==t.substr(0,2)&&"webkit"!==t.substr(0,6)||(t="-"+t),e.removeProperty(t.replace(k,"-$1").toLowerCase())):e.removeAttribute(t))},Ye=function(e){if(this.t._gsClassPT=this,1===e||0===e){this.t.setAttribute("class",0===e?this.b:this.e);for(var t=this.data,r=this.t.style;t;)t.v?r[t.p]=t.v:Xe(r,t.p),t=t._next;1===e&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)};Pe("className",{parser:function(e,t,n,o,i,s,u){var l,p,c,f,h,d=e.getAttribute("class")||"",m=e.style.cssText;if(i=o._classNamePT=new be(e,n,0,0,i,2),i.setRatio=Ye,i.pr=-11,r=!0,i.b=d,p=ne(e,a),c=e._gsClassPT){for(f={},h=c.data;h;)f[h.p]=1,h=h._next;c.setRatio(1)}return e._gsClassPT=i,i.e="="!==t.charAt(1)?t:d.replace(new RegExp("(?:\\s|^)"+t.substr(2)+"(?![\\w-])"),"")+("+"===t.charAt(0)?" "+t.substr(2):""),e.setAttribute("class",i.e),l=oe(e,p,ne(e),u,f),e.setAttribute("class",d),i.data=l.firstMPT,e.style.cssText=m,i=i.xfirst=o.parse(e,l.difs,i,s)}});var Ke=function(e){if((1===e||0===e)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var t,r,n,o,a,i=this.t.style,s=l.transform.parse;if("all"===this.e)i.cssText="",o=!0;else for(t=this.e.split(" ").join("").split(","),n=t.length;--n>-1;)r=t[n],l[r]&&(l[r].parse===s?o=!0:r="transformOrigin"===r?Ie:l[r].p),Xe(i,r);o&&(Xe(i,Ae),a=this.t._gsTransform,a&&(a.svg&&(this.t.removeAttribute("data-svg-origin"),this.t.removeAttribute("transform")),delete this.t._gsTransform))}};for(Pe("clearProps",{parser:function(e,t,n,o,a){return a=new be(e,n,0,0,a,2),a.setRatio=Ke,a.e=t,a.pr=-10,a.data=o._tween,r=!0,a}}),p="bezier,throwProps,physicsProps,physics2D".split(","),Te=p.length;Te--;)Se(p[Te]);p=s.prototype,p._firstPT=p._lastParsedTransform=p._transform=null,p._onInitTween=function(e,t,n,u){if(!e.nodeType)return!1;this._target=v=e,this._tween=n,this._vars=t,y=u,c=t.autoRound,r=!1,o=t.suffixMap||s.suffixMap,a=Z(e,""),i=this._overwriteProps;var p,d,g,x,b,_,w,T,N,S=e.style;if(f&&""===S.zIndex&&(p=ee(e,"zIndex",a),"auto"!==p&&""!==p||this._addLazySet(S,"zIndex",0)),"string"==typeof t&&(x=S.cssText,p=ne(e,a),S.cssText=x+";"+t,p=oe(e,p,ne(e)).difs,!$&&P.test(t)&&(p.opacity=parseFloat(RegExp.$1)),t=p,S.cssText=x),t.className?this._firstPT=d=l.className.parse(e,t.className,"className",this,null,null,t):this._firstPT=d=this.parse(e,t,null),this._transformType){for(N=3===this._transformType,Ae?h&&(f=!0,""===S.zIndex&&(w=ee(e,"zIndex",a),"auto"!==w&&""!==w||this._addLazySet(S,"zIndex",0)),m&&this._addLazySet(S,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(N?"visible":"hidden"))):S.zoom=1,g=d;g&&g._next;)g=g._next;T=new be(e,"transform",0,0,null,2),this._linkCSSP(T,null,g),T.setRatio=Ae?He:We,T.data=this._transform||qe(e,a,!0),T.tween=n,T.pr=-1,i.pop()}if(r){for(;d;){for(_=d._next,g=x;g&&g.pr>d.pr;)g=g._next;(d._prev=g?g._prev:b)?d._prev._next=d:x=d,(d._next=g)?g._prev=d:b=d,d=_}this._firstPT=x}return!0},p.parse=function(e,t,r,n){var i,s,u,p,f,h,d,m,g,x,b=e.style;for(i in t){if(h=t[i],"function"==typeof h&&(h=h(y,v)),s=l[i])r=s.parse(e,h,i,this,r,n,t);else{if("--"===i.substr(0,2)){this._tween._propLookup[i]=this._addTween.call(this._tween,e.style,"setProperty",Z(e).getPropertyValue(i)+"",h+"",i,!1,i);continue}f=ee(e,i,a)+"",g="string"==typeof h,"color"===i||"fill"===i||"stroke"===i||i.indexOf("Color")!==-1||g&&E.test(h)?(g||(h=de(h),h=(h.length>3?"rgba(":"rgb(")+h.join(",")+")"),r=we(b,i,f,h,!0,"transparent",r,0,n)):g&&V.test(h)?r=we(b,i,f,h,!0,null,r,0,n):(u=parseFloat(f),d=u||0===u?f.substr((u+"").length):"",""!==f&&"auto"!==f||("width"===i||"height"===i?(u=se(e,i,a),d="px"):"left"===i||"top"===i?(u=re(e,i,a),d="px"):(u="opacity"!==i?0:1,d="")),x=g&&"="===h.charAt(1),x?(p=parseInt(h.charAt(0)+"1",10),h=h.substr(2),p*=parseFloat(h),m=h.replace(T,"")):(p=parseFloat(h),m=g?h.replace(T,""):""),""===m&&(m=i in o?o[i]:d),h=p||0===p?(x?p+u:p)+m:t[i],d!==m&&(""===m&&"lineHeight"!==i||(p||0===p)&&u&&(u=te(e,i,u,d),"%"===m?(u/=te(e,i,100,"%")/100,t.strictUnits!==!0&&(f=u+"%")):"em"===m||"rem"===m||"vw"===m||"vh"===m?u/=te(e,i,1,m):"px"!==m&&(p=te(e,i,p,m),m="px"),x&&(p||0===p)&&(h=p+u+m))),x&&(p+=u),!u&&0!==u||!p&&0!==p?void 0!==b[i]&&(h||h+""!="NaN"&&null!=h)?(r=new be(b,i,p||u||0,0,r,-1,i,!1,0,f,h),r.xs0="none"!==h||"display"!==i&&i.indexOf("Style")===-1?h:f):Y("invalid "+i+" tween value: "+t[i]):(r=new be(b,i,u,p-u,r,0,i,c!==!1&&("px"===m||"zIndex"===i),0,f,h),r.xs0=m))}n&&r&&!r.plugin&&(r.plugin=n)}return r},p.setRatio=function(e){var t,r,n,o=this._firstPT,a=1e-6;if(1!==e||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(e||this._tween._time!==this._tween._duration&&0!==this._tween._time||this._tween._rawPrevTime===-1e-6)for(;o;){if(t=o.c*e+o.s,o.r?t=o.r(t):t<a&&t>-a&&(t=0),o.type)if(1===o.type)if(n=o.l,2===n)o.t[o.p]=o.xs0+t+o.xs1+o.xn1+o.xs2;else if(3===n)o.t[o.p]=o.xs0+t+o.xs1+o.xn1+o.xs2+o.xn2+o.xs3;else if(4===n)o.t[o.p]=o.xs0+t+o.xs1+o.xn1+o.xs2+o.xn2+o.xs3+o.xn3+o.xs4;else if(5===n)o.t[o.p]=o.xs0+t+o.xs1+o.xn1+o.xs2+o.xn2+o.xs3+o.xn3+o.xs4+o.xn4+o.xs5;else{for(r=o.xs0+t+o.xs1,n=1;n<o.l;n++)r+=o["xn"+n]+o["xs"+(n+1)];o.t[o.p]=r}else o.type===-1?o.t[o.p]=o.xs0:o.setRatio&&o.setRatio(e);else o.t[o.p]=t+o.xs0;o=o._next}else for(;o;)2!==o.type?o.t[o.p]=o.b:o.setRatio(e),o=o._next;else for(;o;){if(2!==o.type)if(o.r&&o.type!==-1)if(t=o.r(o.s+o.c),o.type){if(1===o.type){for(n=o.l,r=o.xs0+t+o.xs1,n=1;n<o.l;n++)r+=o["xn"+n]+o["xs"+(n+1)];o.t[o.p]=r}}else o.t[o.p]=t+o.xs0;else o.t[o.p]=o.e;else o.setRatio(e);o=o._next}},p._enableTransforms=function(e){this._transform=this._transform||qe(this._target,a,!0),this._transformType=this._transform.svg&&Ee||!e&&3!==this._transformType?2:3};var Qe=function(e){this.t[this.p]=this.e,this.data._linkCSSP(this,this._next,null,!0)};p._addLazySet=function(e,t,r){var n=this._firstPT=new be(e,t,0,0,this._firstPT,2);n.e=r,n.setRatio=Qe,n.data=this},p._linkCSSP=function(e,t,r,n){return e&&(t&&(t._prev=e),e._next&&(e._next._prev=e._prev),e._prev?e._prev._next=e._next:this._firstPT===e&&(this._firstPT=e._next,n=!0),r?r._next=e:n||null!==this._firstPT||(this._firstPT=e),e._next=t,e._prev=r),e},p._mod=function(e){for(var t=this._firstPT;t;)"function"==typeof e[t.p]&&(t.r=e[t.p]),t=t._next},p._kill=function(t){var r,n,o,a=t;if(t.autoAlpha||t.alpha){a={};for(n in t)a[n]=t[n];a.opacity=1,a.autoAlpha&&(a.visibility=1)}for(t.className&&(r=this._classNamePT)&&(o=r.xfirst,o&&o._prev?this._linkCSSP(o._prev,r._next,o._prev._prev):o===this._firstPT&&(this._firstPT=r._next),r._next&&this._linkCSSP(r._next,r._next._next,o._prev),this._classNamePT=null),r=this._firstPT;r;)r.plugin&&r.plugin!==n&&r.plugin._kill&&(r.plugin._kill(t),n=r.plugin),r=r._next;return e.prototype._kill.call(this,a)};var Je=function(e,t,r){var n,o,a,i;if(e.slice)for(o=e.length;--o>-1;)Je(e[o],t,r);else for(n=e.childNodes,o=n.length;--o>-1;)a=n[o],i=a.type,a.style&&(t.push(ne(a)),r&&r.push(a)),1!==i&&9!==i&&11!==i||!a.childNodes.length||Je(a,t,r)};return s.cascadeTo=function(e,r,n){var o,a,i,s,u=t.to(e,r,n),l=[u],p=[],c=[],f=[],h=t._internals.reservedProps;for(e=u._targets||u.target,Je(e,p,f),u.render(r,!0,!0),Je(e,c),u.render(0,!0,!0),u._enabled(!0),o=f.length;--o>-1;)if(a=oe(f[o],p[o],c[o]),a.firstMPT){a=a.difs;for(i in n)h[i]&&(a[i]=n[i]);s={};for(i in a)s[i]=p[o][i];l.push(t.fromTo(f[o],r,s,a))}return l},e.activate([s]),s},!0)}),n._gsDefine&&n._gsQueue.pop()(),function(r){"use strict";var o=function(){return(n.GreenSockGlobals||n)[r]};"undefined"!=typeof t&&t.exports?(e("../TweenLite.js"),t.exports=o()):"function"==typeof define&&define.amd&&define(["TweenLite"],o)}("CSSPlugin")}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../TweenLite.js":189}],194:[function(e,t,r){r.read=function(e,t,r,n,o){var a,i,s=8*o-n-1,u=(1<<s)-1,l=u>>1,p=-7,c=r?o-1:0,f=r?-1:1,h=e[t+c];for(c+=f,a=h&(1<<-p)-1,h>>=-p,p+=s;p>0;a=256*a+e[t+c],c+=f,p-=8);for(i=a&(1<<-p)-1,a>>=-p,p+=n;p>0;i=256*i+e[t+c],c+=f,p-=8);if(0===a)a=1-l;else{if(a===u)return i?NaN:(h?-1:1)*(1/0);i+=Math.pow(2,n),a-=l}return(h?-1:1)*i*Math.pow(2,a-n)},r.write=function(e,t,r,n,o,a){var i,s,u,l=8*a-o-1,p=(1<<l)-1,c=p>>1,f=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:a-1,d=n?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,i=p):(i=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-i))<1&&(i--,u*=2),t+=i+c>=1?f/u:f*Math.pow(2,1-c),t*u>=2&&(i++,u/=2),i+c>=p?(s=0,i=p):i+c>=1?(s=(t*u-1)*Math.pow(2,o),i+=c):(s=t*Math.pow(2,c-1)*Math.pow(2,o),i=0));o>=8;e[r+h]=255&s,h+=d,s/=256,o-=8);for(i=i<<o|s,l+=o;l>0;e[r+h]=255&i,h+=d,i/=256,l-=8);e[r+h-d]|=128*m}},{}],195:[function(e,t,r){(function(e){(function(e,t,r,n,o){!function(t,r){"use strict";"object"==typeof e&&"object"==typeof e.exports?e.exports=t.document?r(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return r(e)}:r(t)}("undefined"!=typeof window?window:this,function(e,t){"use strict";function r(e,t,r){t=t||se;var n,o=t.createElement("script");if(o.text=e,r)for(n in _e)r[n]&&(o[n]=r[n]);t.head.appendChild(o).parentNode.removeChild(o)}function o(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?he[de.call(e)]||"object":typeof e}function a(e){var t=!!e&&"length"in e&&e.length,r=o(e);return!xe(e)&&!be(e)&&("array"===r||0===t||"number"==typeof t&&t>0&&t-1 in e)}function i(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}function s(e,t,r){return xe(t)?Te.grep(e,function(e,n){return!!t.call(e,n,e)!==r}):t.nodeType?Te.grep(e,function(e){return e===t!==r}):"string"!=typeof t?Te.grep(e,function(e){return fe.call(t,e)>-1!==r}):Te.filter(t,e,r)}function u(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function l(e){var t={};return Te.each(e.match(De)||[],function(e,r){t[r]=!0}),t}function p(e){return e}function c(e){throw e}function f(e,t,r,n){var o;try{e&&xe(o=e.promise)?o.call(e).done(t).fail(r):e&&xe(o=e.then)?o.call(e,t,r):t.apply(void 0,[e].slice(n))}catch(e){r.apply(void 0,[e])}}function h(){se.removeEventListener("DOMContentLoaded",h),e.removeEventListener("load",h),Te.ready()}function d(e,t){return t.toUpperCase()}function m(e){return e.replace(Be,"ms-").replace(ze,d)}function g(){this.expando=Te.expando+g.uid++}function v(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:qe.test(e)?JSON.parse(e):e)}function y(e,t,r){var n;if(void 0===r&&1===e.nodeType)if(n="data-"+t.replace(We,"-$&").toLowerCase(),r=e.getAttribute(n),"string"==typeof r){try{r=v(r)}catch(e){}Ge.set(e,t,r)}else r=void 0;return r}function x(e,t,r,n){var o,a,i=20,s=n?function(){return n.cur()}:function(){return Te.css(e,t,"")},u=s(),l=r&&r[3]||(Te.cssNumber[t]?"":"px"),p=(Te.cssNumber[t]||"px"!==l&&+u)&&$e.exec(Te.css(e,t));if(p&&p[3]!==l){for(u/=2,l=l||p[3],p=+u||1;i--;)Te.style(e,t,p+l),(1-a)*(1-(a=s()/u||.5))<=0&&(i=0),p/=a;p*=2,Te.style(e,t,p+l),r=r||[]}return r&&(p=+p||+u||0,o=r[1]?p+(r[1]+1)*r[2]:+r[2],n&&(n.unit=l,n.start=p,n.end=o)),o}function b(e){var t,r=e.ownerDocument,n=e.nodeName,o=Qe[n];return o?o:(t=r.body.appendChild(r.createElement(n)),o=Te.css(t,"display"),t.parentNode.removeChild(t),"none"===o&&(o="block"),Qe[n]=o,o)}function _(e,t){for(var r,n,o=[],a=0,i=e.length;a<i;a++)n=e[a],n.style&&(r=n.style.display,t?("none"===r&&(o[a]=Ue.get(n,"display")||null,o[a]||(n.style.display="")),""===n.style.display&&Ye(n)&&(o[a]=b(n))):"none"!==r&&(o[a]="none",Ue.set(n,"display",r)));for(a=0;a<i;a++)null!=o[a]&&(e[a].style.display=o[a]);return e}function w(e,t){var r;return r="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&i(e,t)?Te.merge([e],r):r}function T(e,t){for(var r=0,n=e.length;r<n;r++)Ue.set(e[r],"globalEval",!t||Ue.get(t[r],"globalEval"))}function N(e,t,r,n,a){for(var i,s,u,l,p,c,f=t.createDocumentFragment(),h=[],d=0,m=e.length;d<m;d++)if(i=e[d],i||0===i)if("object"===o(i))Te.merge(h,i.nodeType?[i]:i);else if(rt.test(i)){for(s=s||f.appendChild(t.createElement("div")),u=(Ze.exec(i)||["",""])[1].toLowerCase(),l=tt[u]||tt._default,s.innerHTML=l[1]+Te.htmlPrefilter(i)+l[2],c=l[0];c--;)s=s.lastChild;Te.merge(h,s.childNodes),s=f.firstChild,s.textContent=""}else h.push(t.createTextNode(i));for(f.textContent="",d=0;i=h[d++];)if(n&&Te.inArray(i,n)>-1)a&&a.push(i);else if(p=Te.contains(i.ownerDocument,i),s=w(f.appendChild(i),"script"),p&&T(s),r)for(c=0;i=s[c++];)et.test(i.type||"")&&r.push(i);return f}function P(){return!0}function S(){return!1}function E(){try{return se.activeElement}catch(e){}}function k(e,t,r,n,o,a){var i,s;if("object"==typeof t){"string"!=typeof r&&(n=n||r,r=void 0);for(s in t)k(e,s,r,n,t[s],a);return e}if(null==n&&null==o?(o=r,n=r=void 0):null==o&&("string"==typeof r?(o=n,n=void 0):(o=n,n=r,r=void 0)),o===!1)o=S;else if(!o)return e;return 1===a&&(i=o,o=function(e){return Te().off(e),i.apply(this,arguments)},o.guid=i.guid||(i.guid=Te.guid++)),e.each(function(){Te.event.add(this,t,o,n,r)})}function A(e,t){return i(e,"table")&&i(11!==t.nodeType?t:t.firstChild,"tr")?Te(e).children("tbody")[0]||e:e}function O(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function I(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function C(e,t){var r,n,o,a,i,s,u,l;if(1===t.nodeType){if(Ue.hasData(e)&&(a=Ue.access(e),i=Ue.set(t,a),l=a.events)){delete i.handle,i.events={};for(o in l)for(r=0,n=l[o].length;r<n;r++)Te.event.add(t,o,l[o][r])}Ge.hasData(e)&&(s=Ge.access(e),u=Te.extend({},s),Ge.set(t,u))}}function R(e,t){var r=t.nodeName.toLowerCase();"input"===r&&Je.test(e.type)?t.checked=e.checked:"input"!==r&&"textarea"!==r||(t.defaultValue=e.defaultValue)}function M(e,t,n,o){t=pe.apply([],t);var a,i,s,u,l,p,c=0,f=e.length,h=f-1,d=t[0],m=xe(d);if(m||f>1&&"string"==typeof d&&!ye.checkClone&&lt.test(d))return e.each(function(r){var a=e.eq(r);m&&(t[0]=d.call(this,r,a.html())),M(a,t,n,o)});if(f&&(a=N(t,e[0].ownerDocument,!1,e,o),i=a.firstChild,1===a.childNodes.length&&(a=i),i||o)){for(s=Te.map(w(a,"script"),O),u=s.length;c<f;c++)l=a,c!==h&&(l=Te.clone(l,!0,!0),u&&Te.merge(s,w(l,"script"))),n.call(e[c],l,c);if(u)for(p=s[s.length-1].ownerDocument,Te.map(s,I),c=0;c<u;c++)l=s[c],et.test(l.type||"")&&!Ue.access(l,"globalEval")&&Te.contains(p,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?Te._evalUrl&&Te._evalUrl(l.src):r(l.textContent.replace(pt,""),p,l))}return e}function D(e,t,r){for(var n,o=t?Te.filter(t,e):e,a=0;null!=(n=o[a]);a++)r||1!==n.nodeType||Te.cleanData(w(n)),n.parentNode&&(r&&Te.contains(n.ownerDocument,n)&&T(w(n,"script")),n.parentNode.removeChild(n));return e}function V(e,t,r){var n,o,a,i,s=e.style;return r=r||ft(e),r&&(i=r.getPropertyValue(t)||r[t],""!==i||Te.contains(e.ownerDocument,e)||(i=Te.style(e,t)),!ye.pixelBoxStyles()&&ct.test(i)&&ht.test(t)&&(n=s.width,o=s.minWidth,a=s.maxWidth,s.minWidth=s.maxWidth=s.width=i,i=r.width,s.width=n,s.minWidth=o,s.maxWidth=a)),void 0!==i?i+"":i}function L(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function F(e){if(e in xt)return e;for(var t=e[0].toUpperCase()+e.slice(1),r=yt.length;r--;)if(e=yt[r]+t,e in xt)return e}function B(e){var t=Te.cssProps[e];return t||(t=Te.cssProps[e]=F(e)||e),t}function z(e,t,r){var n=$e.exec(t);return n?Math.max(0,n[2]-(r||0))+(n[3]||"px"):t}function j(e,t,r,n,o,a){var i="width"===t?1:0,s=0,u=0;if(r===(n?"border":"content"))return 0;for(;i<4;i+=2)"margin"===r&&(u+=Te.css(e,r+Xe[i],!0,o)),n?("content"===r&&(u-=Te.css(e,"padding"+Xe[i],!0,o)),"margin"!==r&&(u-=Te.css(e,"border"+Xe[i]+"Width",!0,o))):(u+=Te.css(e,"padding"+Xe[i],!0,o),"padding"!==r?u+=Te.css(e,"border"+Xe[i]+"Width",!0,o):s+=Te.css(e,"border"+Xe[i]+"Width",!0,o));return!n&&a>=0&&(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-a-u-s-.5))),u}function U(e,t,r){var n=ft(e),o=V(e,t,n),a="border-box"===Te.css(e,"boxSizing",!1,n),i=a;if(ct.test(o)){if(!r)return o;o="auto"}return i=i&&(ye.boxSizingReliable()||o===e.style[t]),("auto"===o||!parseFloat(o)&&"inline"===Te.css(e,"display",!1,n))&&(o=e["offset"+t[0].toUpperCase()+t.slice(1)],i=!0),o=parseFloat(o)||0,o+j(e,t,r||(a?"border":"content"),i,n,o)+"px"}function G(e,t,r,n,o){return new G.prototype.init(e,t,r,n,o)}function q(){_t&&(se.hidden===!1&&e.requestAnimationFrame?e.requestAnimationFrame(q):e.setTimeout(q,Te.fx.interval),Te.fx.tick())}function W(){return e.setTimeout(function(){bt=void 0}),bt=Date.now()}function H(e,t){var r,n=0,o={height:e};for(t=t?1:0;n<4;n+=2-t)r=Xe[n],o["margin"+r]=o["padding"+r]=e;return t&&(o.opacity=o.width=e),o}function $(e,t,r){for(var n,o=(K.tweeners[t]||[]).concat(K.tweeners["*"]),a=0,i=o.length;a<i;a++)if(n=o[a].call(r,t,e))return n}function X(e,t,r){var n,o,a,i,s,u,l,p,c="width"in t||"height"in t,f=this,h={},d=e.style,m=e.nodeType&&Ye(e),g=Ue.get(e,"fxshow");r.queue||(i=Te._queueHooks(e,"fx"),null==i.unqueued&&(i.unqueued=0,s=i.empty.fire,i.empty.fire=function(){i.unqueued||s()}),i.unqueued++,f.always(function(){f.always(function(){i.unqueued--,Te.queue(e,"fx").length||i.empty.fire()})}));for(n in t)if(o=t[n],wt.test(o)){if(delete t[n],a=a||"toggle"===o,o===(m?"hide":"show")){if("show"!==o||!g||void 0===g[n])continue;m=!0}h[n]=g&&g[n]||Te.style(e,n)}if(u=!Te.isEmptyObject(t),u||!Te.isEmptyObject(h)){c&&1===e.nodeType&&(r.overflow=[d.overflow,d.overflowX,d.overflowY],l=g&&g.display,null==l&&(l=Ue.get(e,"display")),p=Te.css(e,"display"),"none"===p&&(l?p=l:(_([e],!0),l=e.style.display||l,p=Te.css(e,"display"),_([e]))),("inline"===p||"inline-block"===p&&null!=l)&&"none"===Te.css(e,"float")&&(u||(f.done(function(){d.display=l}),null==l&&(p=d.display,l="none"===p?"":p)),d.display="inline-block")),r.overflow&&(d.overflow="hidden",f.always(function(){d.overflow=r.overflow[0],d.overflowX=r.overflow[1],d.overflowY=r.overflow[2]})),u=!1;for(n in h)u||(g?"hidden"in g&&(m=g.hidden):g=Ue.access(e,"fxshow",{display:l}),a&&(g.hidden=!m),m&&_([e],!0),f.done(function(){m||_([e]),Ue.remove(e,"fxshow");for(n in h)Te.style(e,n,h[n])})),u=$(m?g[n]:0,n,f),n in g||(g[n]=u.start,m&&(u.end=u.start,u.start=0))}}function Y(e,t){var r,n,o,a,i;for(r in e)if(n=m(r),o=t[n],a=e[r],Array.isArray(a)&&(o=a[1],a=e[r]=a[0]),r!==n&&(e[n]=a,delete e[r]),i=Te.cssHooks[n],i&&"expand"in i){a=i.expand(a),delete e[n];for(r in a)r in e||(e[r]=a[r],t[r]=o)}else t[n]=o}function K(e,t,r){var n,o,a=0,i=K.prefilters.length,s=Te.Deferred().always(function(){delete u.elem}),u=function(){if(o)return!1;for(var t=bt||W(),r=Math.max(0,l.startTime+l.duration-t),n=r/l.duration||0,a=1-n,i=0,u=l.tweens.length;i<u;i++)l.tweens[i].run(a);return s.notifyWith(e,[l,a,r]),a<1&&u?r:(u||s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:Te.extend({},t),opts:Te.extend(!0,{specialEasing:{},easing:Te.easing._default},r),originalProperties:t,originalOptions:r,startTime:bt||W(),duration:r.duration,tweens:[],createTween:function(t,r){var n=Te.Tween(e,l.opts,t,r,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(n),n},stop:function(t){var r=0,n=t?l.tweens.length:0;if(o)return this;for(o=!0;r<n;r++)l.tweens[r].run(1);return t?(s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l,t])):s.rejectWith(e,[l,t]),this}}),p=l.props;for(Y(p,l.opts.specialEasing);a<i;a++)if(n=K.prefilters[a].call(l,e,p,l.opts))return xe(n.stop)&&(Te._queueHooks(l.elem,l.opts.queue).stop=n.stop.bind(n)),n;return Te.map(p,$,l),xe(l.opts.start)&&l.opts.start.call(e,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),Te.fx.timer(Te.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l}function Q(e){var t=e.match(De)||[];return t.join(" ")}function J(e){return e.getAttribute&&e.getAttribute("class")||""}function Z(e){return Array.isArray(e)?e:"string"==typeof e?e.match(De)||[]:[]}function ee(e,t,r,n){var a;if(Array.isArray(t))Te.each(t,function(t,o){r||Mt.test(e)?n(e,o):ee(e+"["+("object"==typeof o&&null!=o?t:"")+"]",o,r,n)});else if(r||"object"!==o(t))n(e,t);else for(a in t)ee(e+"["+a+"]",t[a],r,n)}function te(e){return function(t,r){"string"!=typeof t&&(r=t,t="*");var n,o=0,a=t.toLowerCase().match(De)||[];if(xe(r))for(;n=a[o++];)"+"===n[0]?(n=n.slice(1)||"*",(e[n]=e[n]||[]).unshift(r)):(e[n]=e[n]||[]).push(r)}}function re(e,t,r,n){function o(s){var u;return a[s]=!0,Te.each(e[s]||[],function(e,s){var l=s(t,r,n);return"string"!=typeof l||i||a[l]?i?!(u=l):void 0:(t.dataTypes.unshift(l),o(l),!1)}),u}var a={},i=e===Ht;return o(t.dataTypes[0])||!a["*"]&&o("*")}function ne(e,t){var r,n,o=Te.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((o[r]?e:n||(n={}))[r]=t[r]);return n&&Te.extend(!0,e,n),e}function oe(e,t,r){for(var n,o,a,i,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===n&&(n=e.mimeType||t.getResponseHeader("Content-Type"));if(n)for(o in s)if(s[o]&&s[o].test(n)){u.unshift(o);break}if(u[0]in r)a=u[0];else{for(o in r){if(!u[0]||e.converters[o+" "+u[0]]){a=o;break}i||(i=o)}a=a||i}if(a)return a!==u[0]&&u.unshift(a),r[a]}function ae(e,t,r,n){var o,a,i,s,u,l={},p=e.dataTypes.slice();if(p[1])for(i in e.converters)l[i.toLowerCase()]=e.converters[i];for(a=p.shift();a;)if(e.responseFields[a]&&(r[e.responseFields[a]]=t),!u&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=a,a=p.shift())if("*"===a)a=u;else if("*"!==u&&u!==a){if(i=l[u+" "+a]||l["* "+a],!i)for(o in l)if(s=o.split(" "),s[1]===a&&(i=l[u+" "+s[0]]||l["* "+s[0]])){i===!0?i=l[o]:l[o]!==!0&&(a=s[0],p.unshift(s[1]));break}if(i!==!0)if(i&&e.throws)t=i(t);else try{t=i(t)}catch(e){return{state:"parsererror",error:i?e:"No conversion from "+u+" to "+a}}}return{state:"success",data:t}}var ie=[],se=e.document,ue=Object.getPrototypeOf,le=ie.slice,pe=ie.concat,ce=ie.push,fe=ie.indexOf,he={},de=he.toString,me=he.hasOwnProperty,ge=me.toString,ve=ge.call(Object),ye={},xe=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},be=function(e){return null!=e&&e===e.window},_e={type:!0,src:!0,noModule:!0},we="3.3.1",Te=function(e,t){return new Te.fn.init(e,t)},Ne=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;Te.fn=Te.prototype={jquery:we,constructor:Te,length:0,toArray:function(){return le.call(this)},get:function(e){return null==e?le.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=Te.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return Te.each(this,e)},map:function(e){return this.pushStack(Te.map(this,function(t,r){return e.call(t,r,t)}))},slice:function(){return this.pushStack(le.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,r=+e+(e<0?t:0);return this.pushStack(r>=0&&r<t?[this[r]]:[])},end:function(){return this.prevObject||this.constructor()},push:ce,sort:ie.sort,splice:ie.splice},Te.extend=Te.fn.extend=function(){var e,t,r,n,o,a,i=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof i&&(l=i,i=arguments[s]||{},s++),"object"==typeof i||xe(i)||(i={}),s===u&&(i=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)r=i[t],n=e[t],i!==n&&(l&&n&&(Te.isPlainObject(n)||(o=Array.isArray(n)))?(o?(o=!1,a=r&&Array.isArray(r)?r:[]):a=r&&Te.isPlainObject(r)?r:{},i[t]=Te.extend(l,a,n)):void 0!==n&&(i[t]=n));return i},Te.extend({expando:"jQuery"+(we+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,r;return!(!e||"[object Object]"!==de.call(e))&&(!(t=ue(e))||(r=me.call(t,"constructor")&&t.constructor,"function"==typeof r&&ge.call(r)===ve))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e){r(e)},each:function(e,t){var r,n=0;if(a(e))for(r=e.length;n<r&&t.call(e[n],n,e[n])!==!1;n++);else for(n in e)if(t.call(e[n],n,e[n])===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(Ne,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(a(Object(e))?Te.merge(r,"string"==typeof e?[e]:e):ce.call(r,e)),r},inArray:function(e,t,r){return null==t?-1:fe.call(t,e,r)},merge:function(e,t){for(var r=+t.length,n=0,o=e.length;n<r;n++)e[o++]=t[n];return e.length=o,e},grep:function(e,t,r){for(var n,o=[],a=0,i=e.length,s=!r;a<i;a++)n=!t(e[a],a),n!==s&&o.push(e[a]);return o},map:function(e,t,r){var n,o,i=0,s=[];if(a(e))for(n=e.length;i<n;i++)o=t(e[i],i,r),null!=o&&s.push(o);else for(i in e)o=t(e[i],i,r),null!=o&&s.push(o);return pe.apply([],s)},guid:1,support:ye}),"function"==typeof Symbol&&(Te.fn[Symbol.iterator]=ie[Symbol.iterator]),Te.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){he["[object "+t+"]"]=t.toLowerCase()});var Pe=function(e){function t(e,t,r,n){var o,a,i,s,u,l,p,f=t&&t.ownerDocument,d=t?t.nodeType:9;if(r=r||[],"string"!=typeof e||!e||1!==d&&9!==d&&11!==d)return r;if(!n&&((t?t.ownerDocument||t:j)!==R&&C(t),t=t||R,D)){if(11!==d&&(u=ve.exec(e)))if(o=u[1]){if(9===d){if(!(i=t.getElementById(o)))return r;if(i.id===o)return r.push(i),r}else if(f&&(i=f.getElementById(o))&&B(t,i)&&i.id===o)return r.push(i),r}else{if(u[2])return J.apply(r,t.getElementsByTagName(e)),r;if((o=u[3])&&w.getElementsByClassName&&t.getElementsByClassName)return J.apply(r,t.getElementsByClassName(o)),r}if(w.qsa&&!H[e+" "]&&(!V||!V.test(e))){if(1!==d)f=t,p=e;else if("object"!==t.nodeName.toLowerCase()){for((s=t.getAttribute("id"))?s=s.replace(_e,we):t.setAttribute("id",s=z),l=S(e),a=l.length;a--;)l[a]="#"+s+" "+h(l[a]);p=l.join(","),f=ye.test(e)&&c(t.parentNode)||t}if(p)try{return J.apply(r,f.querySelectorAll(p)),r}catch(e){}finally{s===z&&t.removeAttribute("id")}}}return k(e.replace(se,"$1"),t,r,n)}function r(){function e(r,n){return t.push(r+" ")>T.cacheLength&&delete e[t.shift()],e[r+" "]=n}var t=[];return e}function n(e){return e[z]=!0,e}function o(e){var t=R.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function a(e,t){for(var r=e.split("|"),n=r.length;n--;)T.attrHandle[r[n]]=t}function i(e,t){var r=t&&e,n=r&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(n)return n;if(r)for(;r=r.nextSibling;)if(r===t)return-1;return e?1:-1}function s(e){return function(t){var r=t.nodeName.toLowerCase();return"input"===r&&t.type===e}}function u(e){return function(t){var r=t.nodeName.toLowerCase();return("input"===r||"button"===r)&&t.type===e}}function l(e){return function(t){return"form"in t?t.parentNode&&t.disabled===!1?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&Ne(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function p(e){return n(function(t){return t=+t,n(function(r,n){for(var o,a=e([],r.length,t),i=a.length;i--;)r[o=a[i]]&&(r[o]=!(n[o]=r[o]))})})}function c(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function f(){}function h(e){for(var t=0,r=e.length,n="";t<r;t++)n+=e[t].value;return n}function d(e,t,r){var n=t.dir,o=t.next,a=o||n,i=r&&"parentNode"===a,s=G++;return t.first?function(t,r,o){for(;t=t[n];)if(1===t.nodeType||i)return e(t,r,o);return!1}:function(t,r,u){var l,p,c,f=[U,s];if(u){for(;t=t[n];)if((1===t.nodeType||i)&&e(t,r,u))return!0}else for(;t=t[n];)if(1===t.nodeType||i)if(c=t[z]||(t[z]={}),p=c[t.uniqueID]||(c[t.uniqueID]={}),o&&o===t.nodeName.toLowerCase())t=t[n]||t;else{if((l=p[a])&&l[0]===U&&l[1]===s)return f[2]=l[2];if(p[a]=f,f[2]=e(t,r,u))return!0}return!1}}function m(e){return e.length>1?function(t,r,n){for(var o=e.length;o--;)if(!e[o](t,r,n))return!1;return!0}:e[0]}function g(e,r,n){for(var o=0,a=r.length;o<a;o++)t(e,r[o],n);return n}function v(e,t,r,n,o){for(var a,i=[],s=0,u=e.length,l=null!=t;s<u;s++)(a=e[s])&&(r&&!r(a,n,o)||(i.push(a),l&&t.push(s)));return i}function y(e,t,r,o,a,i){return o&&!o[z]&&(o=y(o)),a&&!a[z]&&(a=y(a,i)),n(function(n,i,s,u){var l,p,c,f=[],h=[],d=i.length,m=n||g(t||"*",s.nodeType?[s]:s,[]),y=!e||!n&&t?m:v(m,f,e,s,u),x=r?a||(n?e:d||o)?[]:i:y;if(r&&r(y,x,s,u),o)for(l=v(x,h),o(l,[],s,u),p=l.length;p--;)(c=l[p])&&(x[h[p]]=!(y[h[p]]=c));if(n){if(a||e){if(a){for(l=[],p=x.length;p--;)(c=x[p])&&l.push(y[p]=c);a(null,x=[],l,u)}for(p=x.length;p--;)(c=x[p])&&(l=a?ee(n,c):f[p])>-1&&(n[l]=!(i[l]=c))}}else x=v(x===i?x.splice(d,x.length):x),a?a(null,i,x,u):J.apply(i,x)})}function x(e){for(var t,r,n,o=e.length,a=T.relative[e[0].type],i=a||T.relative[" "],s=a?1:0,u=d(function(e){return e===t},i,!0),l=d(function(e){return ee(t,e)>-1},i,!0),p=[function(e,r,n){var o=!a&&(n||r!==A)||((t=r).nodeType?u(e,r,n):l(e,r,n));return t=null,o}];s<o;s++)if(r=T.relative[e[s].type])p=[d(m(p),r)];else{if(r=T.filter[e[s].type].apply(null,e[s].matches),r[z]){for(n=++s;n<o&&!T.relative[e[n].type];n++);return y(s>1&&m(p),s>1&&h(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(se,"$1"),r,s<n&&x(e.slice(s,n)),n<o&&x(e=e.slice(n)),n<o&&h(e))}p.push(r)}return m(p)}function b(e,r){var o=r.length>0,a=e.length>0,i=function(n,i,s,u,l){var p,c,f,h=0,d="0",m=n&&[],g=[],y=A,x=n||a&&T.find.TAG("*",l),b=U+=null==y?1:Math.random()||.1,_=x.length;for(l&&(A=i===R||i||l);d!==_&&null!=(p=x[d]);d++){if(a&&p){for(c=0,i||p.ownerDocument===R||(C(p),s=!D);f=e[c++];)if(f(p,i||R,s)){u.push(p);break}l&&(U=b)}o&&((p=!f&&p)&&h--,n&&m.push(p))}if(h+=d,o&&d!==h){for(c=0;f=r[c++];)f(m,g,i,s);if(n){if(h>0)for(;d--;)m[d]||g[d]||(g[d]=K.call(u));g=v(g)}J.apply(u,g),l&&!n&&g.length>0&&h+r.length>1&&t.uniqueSort(u)}return l&&(U=b,A=y),m};return o?n(i):i}var _,w,T,N,P,S,E,k,A,O,I,C,R,M,D,V,L,F,B,z="sizzle"+1*new Date,j=e.document,U=0,G=0,q=r(),W=r(),H=r(),$=function(e,t){return e===t&&(I=!0),0},X={}.hasOwnProperty,Y=[],K=Y.pop,Q=Y.push,J=Y.push,Z=Y.slice,ee=function(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",re="[\\x20\\t\\r\\n\\f]",ne="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",oe="\\["+re+"*("+ne+")(?:"+re+"*([*^$|!~]?=)"+re+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ne+"))|)"+re+"*\\]",ae=":("+ne+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+oe+")*)|.*)\\)|)",ie=new RegExp(re+"+","g"),se=new RegExp("^"+re+"+|((?:^|[^\\\\])(?:\\\\.)*)"+re+"+$","g"),ue=new RegExp("^"+re+"*,"+re+"*"),le=new RegExp("^"+re+"*([>+~]|"+re+")"+re+"*"),pe=new RegExp("="+re+"*([^\\]'\"]*?)"+re+"*\\]","g"),ce=new RegExp(ae),fe=new RegExp("^"+ne+"$"),he={ID:new RegExp("^#("+ne+")"),CLASS:new RegExp("^\\.("+ne+")"),TAG:new RegExp("^("+ne+"|[*])"),ATTR:new RegExp("^"+oe),
PSEUDO:new RegExp("^"+ae),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+re+"*(even|odd|(([+-]|)(\\d*)n|)"+re+"*(?:([+-]|)"+re+"*(\\d+)|))"+re+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+re+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+re+"*((?:-\\d)?\\d*)"+re+"*\\)|)(?=[^-]|$)","i")},de=/^(?:input|select|textarea|button)$/i,me=/^h\d$/i,ge=/^[^{]+\{\s*\[native \w/,ve=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ye=/[+~]/,xe=new RegExp("\\\\([\\da-f]{1,6}"+re+"?|("+re+")|.)","ig"),be=function(e,t,r){var n="0x"+t-65536;return n!==n||r?t:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},_e=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,we=function(e,t){return t?"\0"===e?"":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},Te=function(){C()},Ne=d(function(e){return e.disabled===!0&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{J.apply(Y=Z.call(j.childNodes),j.childNodes),Y[j.childNodes.length].nodeType}catch(e){J={apply:Y.length?function(e,t){Q.apply(e,Z.call(t))}:function(e,t){for(var r=e.length,n=0;e[r++]=t[n++];);e.length=r-1}}}w=t.support={},P=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},C=t.setDocument=function(e){var t,r,n=e?e.ownerDocument||e:j;return n!==R&&9===n.nodeType&&n.documentElement?(R=n,M=R.documentElement,D=!P(R),j!==R&&(r=R.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",Te,!1):r.attachEvent&&r.attachEvent("onunload",Te)),w.attributes=o(function(e){return e.className="i",!e.getAttribute("className")}),w.getElementsByTagName=o(function(e){return e.appendChild(R.createComment("")),!e.getElementsByTagName("*").length}),w.getElementsByClassName=ge.test(R.getElementsByClassName),w.getById=o(function(e){return M.appendChild(e).id=z,!R.getElementsByName||!R.getElementsByName(z).length}),w.getById?(T.filter.ID=function(e){var t=e.replace(xe,be);return function(e){return e.getAttribute("id")===t}},T.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&D){var r=t.getElementById(e);return r?[r]:[]}}):(T.filter.ID=function(e){var t=e.replace(xe,be);return function(e){var r="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return r&&r.value===t}},T.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&D){var r,n,o,a=t.getElementById(e);if(a){if(r=a.getAttributeNode("id"),r&&r.value===e)return[a];for(o=t.getElementsByName(e),n=0;a=o[n++];)if(r=a.getAttributeNode("id"),r&&r.value===e)return[a]}return[]}}),T.find.TAG=w.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):w.qsa?t.querySelectorAll(e):void 0}:function(e,t){var r,n=[],o=0,a=t.getElementsByTagName(e);if("*"===e){for(;r=a[o++];)1===r.nodeType&&n.push(r);return n}return a},T.find.CLASS=w.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&D)return t.getElementsByClassName(e)},L=[],V=[],(w.qsa=ge.test(R.querySelectorAll))&&(o(function(e){M.appendChild(e).innerHTML="<a id='"+z+"'></a><select id='"+z+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&V.push("[*^$]="+re+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||V.push("\\["+re+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+z+"-]").length||V.push("~="),e.querySelectorAll(":checked").length||V.push(":checked"),e.querySelectorAll("a#"+z+"+*").length||V.push(".#.+[+~]")}),o(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=R.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&V.push("name"+re+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&V.push(":enabled",":disabled"),M.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&V.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),V.push(",.*:")})),(w.matchesSelector=ge.test(F=M.matches||M.webkitMatchesSelector||M.mozMatchesSelector||M.oMatchesSelector||M.msMatchesSelector))&&o(function(e){w.disconnectedMatch=F.call(e,"*"),F.call(e,"[s!='']:x"),L.push("!=",ae)}),V=V.length&&new RegExp(V.join("|")),L=L.length&&new RegExp(L.join("|")),t=ge.test(M.compareDocumentPosition),B=t||ge.test(M.contains)?function(e,t){var r=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(r.contains?r.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},$=t?function(e,t){if(e===t)return I=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r?r:(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&r||!w.sortDetached&&t.compareDocumentPosition(e)===r?e===R||e.ownerDocument===j&&B(j,e)?-1:t===R||t.ownerDocument===j&&B(j,t)?1:O?ee(O,e)-ee(O,t):0:4&r?-1:1)}:function(e,t){if(e===t)return I=!0,0;var r,n=0,o=e.parentNode,a=t.parentNode,s=[e],u=[t];if(!o||!a)return e===R?-1:t===R?1:o?-1:a?1:O?ee(O,e)-ee(O,t):0;if(o===a)return i(e,t);for(r=e;r=r.parentNode;)s.unshift(r);for(r=t;r=r.parentNode;)u.unshift(r);for(;s[n]===u[n];)n++;return n?i(s[n],u[n]):s[n]===j?-1:u[n]===j?1:0},R):R},t.matches=function(e,r){return t(e,null,null,r)},t.matchesSelector=function(e,r){if((e.ownerDocument||e)!==R&&C(e),r=r.replace(pe,"='$1']"),w.matchesSelector&&D&&!H[r+" "]&&(!L||!L.test(r))&&(!V||!V.test(r)))try{var n=F.call(e,r);if(n||w.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return t(r,R,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==R&&C(e),B(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==R&&C(e);var r=T.attrHandle[t.toLowerCase()],n=r&&X.call(T.attrHandle,t.toLowerCase())?r(e,t,!D):void 0;return void 0!==n?n:w.attributes||!D?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null},t.escape=function(e){return(e+"").replace(_e,we)},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,r=[],n=0,o=0;if(I=!w.detectDuplicates,O=!w.sortStable&&e.slice(0),e.sort($),I){for(;t=e[o++];)t===e[o]&&(n=r.push(o));for(;n--;)e.splice(r[n],1)}return O=null,e},N=t.getText=function(e){var t,r="",n=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)r+=N(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[n++];)r+=N(t);return r},T=t.selectors={cacheLength:50,createPseudo:n,match:he,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(xe,be),e[3]=(e[3]||e[4]||e[5]||"").replace(xe,be),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,r=!e[6]&&e[2];return he.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":r&&ce.test(r)&&(t=S(r,!0))&&(t=r.indexOf(")",r.length-t)-r.length)&&(e[0]=e[0].slice(0,t),e[2]=r.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(xe,be).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=q[e+" "];return t||(t=new RegExp("(^|"+re+")"+e+"("+re+"|$)"))&&q(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,r,n){return function(o){var a=t.attr(o,e);return null==a?"!="===r:!r||(a+="","="===r?a===n:"!="===r?a!==n:"^="===r?n&&0===a.indexOf(n):"*="===r?n&&a.indexOf(n)>-1:"$="===r?n&&a.slice(-n.length)===n:"~="===r?(" "+a.replace(ie," ")+" ").indexOf(n)>-1:"|="===r&&(a===n||a.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,r,n,o){var a="nth"!==e.slice(0,3),i="last"!==e.slice(-4),s="of-type"===t;return 1===n&&0===o?function(e){return!!e.parentNode}:function(t,r,u){var l,p,c,f,h,d,m=a!==i?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!u&&!s,x=!1;if(g){if(a){for(;m;){for(f=t;f=f[m];)if(s?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;d=m="only"===e&&!d&&"nextSibling"}return!0}if(d=[i?g.firstChild:g.lastChild],i&&y){for(f=g,c=f[z]||(f[z]={}),p=c[f.uniqueID]||(c[f.uniqueID]={}),l=p[e]||[],h=l[0]===U&&l[1],x=h&&l[2],f=h&&g.childNodes[h];f=++h&&f&&f[m]||(x=h=0)||d.pop();)if(1===f.nodeType&&++x&&f===t){p[e]=[U,h,x];break}}else if(y&&(f=t,c=f[z]||(f[z]={}),p=c[f.uniqueID]||(c[f.uniqueID]={}),l=p[e]||[],h=l[0]===U&&l[1],x=h),x===!1)for(;(f=++h&&f&&f[m]||(x=h=0)||d.pop())&&((s?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++x||(y&&(c=f[z]||(f[z]={}),p=c[f.uniqueID]||(c[f.uniqueID]={}),p[e]=[U,x]),f!==t)););return x-=o,x===n||x%n===0&&x/n>=0}}},PSEUDO:function(e,r){var o,a=T.pseudos[e]||T.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return a[z]?a(r):a.length>1?(o=[e,e,"",r],T.setFilters.hasOwnProperty(e.toLowerCase())?n(function(e,t){for(var n,o=a(e,r),i=o.length;i--;)n=ee(e,o[i]),e[n]=!(t[n]=o[i])}):function(e){return a(e,0,o)}):a}},pseudos:{not:n(function(e){var t=[],r=[],o=E(e.replace(se,"$1"));return o[z]?n(function(e,t,r,n){for(var a,i=o(e,null,n,[]),s=e.length;s--;)(a=i[s])&&(e[s]=!(t[s]=a))}):function(e,n,a){return t[0]=e,o(t,null,a,r),t[0]=null,!r.pop()}}),has:n(function(e){return function(r){return t(e,r).length>0}}),contains:n(function(e){return e=e.replace(xe,be),function(t){return(t.textContent||t.innerText||N(t)).indexOf(e)>-1}}),lang:n(function(e){return fe.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(xe,be).toLowerCase(),function(t){var r;do if(r=D?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return r=r.toLowerCase(),r===e||0===r.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var r=e.location&&e.location.hash;return r&&r.slice(1)===t.id},root:function(e){return e===M},focus:function(e){return e===R.activeElement&&(!R.hasFocus||R.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:l(!1),disabled:l(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!T.pseudos.empty(e)},header:function(e){return me.test(e.nodeName)},input:function(e){return de.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:p(function(){return[0]}),last:p(function(e,t){return[t-1]}),eq:p(function(e,t,r){return[r<0?r+t:r]}),even:p(function(e,t){for(var r=0;r<t;r+=2)e.push(r);return e}),odd:p(function(e,t){for(var r=1;r<t;r+=2)e.push(r);return e}),lt:p(function(e,t,r){for(var n=r<0?r+t:r;--n>=0;)e.push(n);return e}),gt:p(function(e,t,r){for(var n=r<0?r+t:r;++n<t;)e.push(n);return e})}},T.pseudos.nth=T.pseudos.eq;for(_ in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})T.pseudos[_]=s(_);for(_ in{submit:!0,reset:!0})T.pseudos[_]=u(_);return f.prototype=T.filters=T.pseudos,T.setFilters=new f,S=t.tokenize=function(e,r){var n,o,a,i,s,u,l,p=W[e+" "];if(p)return r?0:p.slice(0);for(s=e,u=[],l=T.preFilter;s;){n&&!(o=ue.exec(s))||(o&&(s=s.slice(o[0].length)||s),u.push(a=[])),n=!1,(o=le.exec(s))&&(n=o.shift(),a.push({value:n,type:o[0].replace(se," ")}),s=s.slice(n.length));for(i in T.filter)!(o=he[i].exec(s))||l[i]&&!(o=l[i](o))||(n=o.shift(),a.push({value:n,type:i,matches:o}),s=s.slice(n.length));if(!n)break}return r?s.length:s?t.error(e):W(e,u).slice(0)},E=t.compile=function(e,t){var r,n=[],o=[],a=H[e+" "];if(!a){for(t||(t=S(e)),r=t.length;r--;)a=x(t[r]),a[z]?n.push(a):o.push(a);a=H(e,b(o,n)),a.selector=e}return a},k=t.select=function(e,t,r,n){var o,a,i,s,u,l="function"==typeof e&&e,p=!n&&S(e=l.selector||e);if(r=r||[],1===p.length){if(a=p[0]=p[0].slice(0),a.length>2&&"ID"===(i=a[0]).type&&9===t.nodeType&&D&&T.relative[a[1].type]){if(t=(T.find.ID(i.matches[0].replace(xe,be),t)||[])[0],!t)return r;l&&(t=t.parentNode),e=e.slice(a.shift().value.length)}for(o=he.needsContext.test(e)?0:a.length;o--&&(i=a[o],!T.relative[s=i.type]);)if((u=T.find[s])&&(n=u(i.matches[0].replace(xe,be),ye.test(a[0].type)&&c(t.parentNode)||t))){if(a.splice(o,1),e=n.length&&h(a),!e)return J.apply(r,n),r;break}}return(l||E(e,p))(n,t,!D,r,!t||ye.test(e)&&c(t.parentNode)||t),r},w.sortStable=z.split("").sort($).join("")===z,w.detectDuplicates=!!I,C(),w.sortDetached=o(function(e){return 1&e.compareDocumentPosition(R.createElement("fieldset"))}),o(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||a("type|href|height|width",function(e,t,r){if(!r)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),w.attributes&&o(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||a("value",function(e,t,r){if(!r&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),o(function(e){return null==e.getAttribute("disabled")})||a(te,function(e,t,r){var n;if(!r)return e[t]===!0?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null}),t}(e);Te.find=Pe,Te.expr=Pe.selectors,Te.expr[":"]=Te.expr.pseudos,Te.uniqueSort=Te.unique=Pe.uniqueSort,Te.text=Pe.getText,Te.isXMLDoc=Pe.isXML,Te.contains=Pe.contains,Te.escapeSelector=Pe.escape;var Se=function(e,t,r){for(var n=[],o=void 0!==r;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&Te(e).is(r))break;n.push(e)}return n},Ee=function(e,t){for(var r=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&r.push(e);return r},ke=Te.expr.match.needsContext,Ae=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;Te.filter=function(e,t,r){var n=t[0];return r&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?Te.find.matchesSelector(n,e)?[n]:[]:Te.find.matches(e,Te.grep(t,function(e){return 1===e.nodeType}))},Te.fn.extend({find:function(e){var t,r,n=this.length,o=this;if("string"!=typeof e)return this.pushStack(Te(e).filter(function(){for(t=0;t<n;t++)if(Te.contains(o[t],this))return!0}));for(r=this.pushStack([]),t=0;t<n;t++)Te.find(e,o[t],r);return n>1?Te.uniqueSort(r):r},filter:function(e){return this.pushStack(s(this,e||[],!1))},not:function(e){return this.pushStack(s(this,e||[],!0))},is:function(e){return!!s(this,"string"==typeof e&&ke.test(e)?Te(e):e||[],!1).length}});var Oe,Ie=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Ce=Te.fn.init=function(e,t,r){var n,o;if(!e)return this;if(r=r||Oe,"string"==typeof e){if(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:Ie.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||r).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof Te?t[0]:t,Te.merge(this,Te.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:se,!0)),Ae.test(n[1])&&Te.isPlainObject(t))for(n in t)xe(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return o=se.getElementById(n[2]),o&&(this[0]=o,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):xe(e)?void 0!==r.ready?r.ready(e):e(Te):Te.makeArray(e,this)};Ce.prototype=Te.fn,Oe=Te(se);var Re=/^(?:parents|prev(?:Until|All))/,Me={children:!0,contents:!0,next:!0,prev:!0};Te.fn.extend({has:function(e){var t=Te(e,this),r=t.length;return this.filter(function(){for(var e=0;e<r;e++)if(Te.contains(this,t[e]))return!0})},closest:function(e,t){var r,n=0,o=this.length,a=[],i="string"!=typeof e&&Te(e);if(!ke.test(e))for(;n<o;n++)for(r=this[n];r&&r!==t;r=r.parentNode)if(r.nodeType<11&&(i?i.index(r)>-1:1===r.nodeType&&Te.find.matchesSelector(r,e))){a.push(r);break}return this.pushStack(a.length>1?Te.uniqueSort(a):a)},index:function(e){return e?"string"==typeof e?fe.call(Te(e),this[0]):fe.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(Te.uniqueSort(Te.merge(this.get(),Te(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),Te.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Se(e,"parentNode")},parentsUntil:function(e,t,r){return Se(e,"parentNode",r)},next:function(e){return u(e,"nextSibling")},prev:function(e){return u(e,"previousSibling")},nextAll:function(e){return Se(e,"nextSibling")},prevAll:function(e){return Se(e,"previousSibling")},nextUntil:function(e,t,r){return Se(e,"nextSibling",r)},prevUntil:function(e,t,r){return Se(e,"previousSibling",r)},siblings:function(e){return Ee((e.parentNode||{}).firstChild,e)},children:function(e){return Ee(e.firstChild)},contents:function(e){return i(e,"iframe")?e.contentDocument:(i(e,"template")&&(e=e.content||e),Te.merge([],e.childNodes))}},function(e,t){Te.fn[e]=function(r,n){var o=Te.map(this,t,r);return"Until"!==e.slice(-5)&&(n=r),n&&"string"==typeof n&&(o=Te.filter(n,o)),this.length>1&&(Me[e]||Te.uniqueSort(o),Re.test(e)&&o.reverse()),this.pushStack(o)}});var De=/[^\x20\t\r\n\f]+/g;Te.Callbacks=function(e){e="string"==typeof e?l(e):Te.extend({},e);var t,r,n,a,i=[],s=[],u=-1,p=function(){for(a=a||e.once,n=t=!0;s.length;u=-1)for(r=s.shift();++u<i.length;)i[u].apply(r[0],r[1])===!1&&e.stopOnFalse&&(u=i.length,r=!1);e.memory||(r=!1),t=!1,a&&(i=r?[]:"")},c={add:function(){return i&&(r&&!t&&(u=i.length-1,s.push(r)),function t(r){Te.each(r,function(r,n){xe(n)?e.unique&&c.has(n)||i.push(n):n&&n.length&&"string"!==o(n)&&t(n)})}(arguments),r&&!t&&p()),this},remove:function(){return Te.each(arguments,function(e,t){for(var r;(r=Te.inArray(t,i,r))>-1;)i.splice(r,1),r<=u&&u--}),this},has:function(e){return e?Te.inArray(e,i)>-1:i.length>0},empty:function(){return i&&(i=[]),this},disable:function(){return a=s=[],i=r="",this},disabled:function(){return!i},lock:function(){return a=s=[],r||t||(i=r=""),this},locked:function(){return!!a},fireWith:function(e,r){return a||(r=r||[],r=[e,r.slice?r.slice():r],s.push(r),t||p()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!n}};return c},Te.extend({Deferred:function(t){var r=[["notify","progress",Te.Callbacks("memory"),Te.Callbacks("memory"),2],["resolve","done",Te.Callbacks("once memory"),Te.Callbacks("once memory"),0,"resolved"],["reject","fail",Te.Callbacks("once memory"),Te.Callbacks("once memory"),1,"rejected"]],n="pending",o={state:function(){return n},always:function(){return a.done(arguments).fail(arguments),this},catch:function(e){return o.then(null,e)},pipe:function(){var e=arguments;return Te.Deferred(function(t){Te.each(r,function(r,n){var o=xe(e[n[4]])&&e[n[4]];a[n[1]](function(){var e=o&&o.apply(this,arguments);e&&xe(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[n[0]+"With"](this,o?[e]:arguments)})}),e=null}).promise()},then:function(t,n,o){function a(t,r,n,o){return function(){var s=this,u=arguments,l=function(){var e,l;if(!(t<i)){if(e=n.apply(s,u),e===r.promise())throw new TypeError("Thenable self-resolution");l=e&&("object"==typeof e||"function"==typeof e)&&e.then,xe(l)?o?l.call(e,a(i,r,p,o),a(i,r,c,o)):(i++,l.call(e,a(i,r,p,o),a(i,r,c,o),a(i,r,p,r.notifyWith))):(n!==p&&(s=void 0,u=[e]),(o||r.resolveWith)(s,u))}},f=o?l:function(){try{l()}catch(e){Te.Deferred.exceptionHook&&Te.Deferred.exceptionHook(e,f.stackTrace),t+1>=i&&(n!==c&&(s=void 0,u=[e]),r.rejectWith(s,u))}};t?f():(Te.Deferred.getStackHook&&(f.stackTrace=Te.Deferred.getStackHook()),e.setTimeout(f))}}var i=0;return Te.Deferred(function(e){r[0][3].add(a(0,e,xe(o)?o:p,e.notifyWith)),r[1][3].add(a(0,e,xe(t)?t:p)),r[2][3].add(a(0,e,xe(n)?n:c))}).promise()},promise:function(e){return null!=e?Te.extend(e,o):o}},a={};return Te.each(r,function(e,t){var i=t[2],s=t[5];o[t[1]]=i.add,s&&i.add(function(){n=s},r[3-e][2].disable,r[3-e][3].disable,r[0][2].lock,r[0][3].lock),i.add(t[3].fire),a[t[0]]=function(){return a[t[0]+"With"](this===a?void 0:this,arguments),this},a[t[0]+"With"]=i.fireWith}),o.promise(a),t&&t.call(a,a),a},when:function(e){var t=arguments.length,r=t,n=Array(r),o=le.call(arguments),a=Te.Deferred(),i=function(e){return function(r){n[e]=this,o[e]=arguments.length>1?le.call(arguments):r,--t||a.resolveWith(n,o)}};if(t<=1&&(f(e,a.done(i(r)).resolve,a.reject,!t),"pending"===a.state()||xe(o[r]&&o[r].then)))return a.then();for(;r--;)f(o[r],i(r),a.reject);return a.promise()}});var Ve=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;Te.Deferred.exceptionHook=function(t,r){e.console&&e.console.warn&&t&&Ve.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,r)},Te.readyException=function(t){e.setTimeout(function(){throw t})};var Le=Te.Deferred();Te.fn.ready=function(e){return Le.then(e).catch(function(e){Te.readyException(e)}),this},Te.extend({isReady:!1,readyWait:1,ready:function(e){(e===!0?--Te.readyWait:Te.isReady)||(Te.isReady=!0,e!==!0&&--Te.readyWait>0||Le.resolveWith(se,[Te]))}}),Te.ready.then=Le.then,"complete"===se.readyState||"loading"!==se.readyState&&!se.documentElement.doScroll?e.setTimeout(Te.ready):(se.addEventListener("DOMContentLoaded",h),e.addEventListener("load",h));var Fe=function(e,t,r,n,a,i,s){var u=0,l=e.length,p=null==r;if("object"===o(r)){a=!0;for(u in r)Fe(e,t,u,r[u],!0,i,s)}else if(void 0!==n&&(a=!0,xe(n)||(s=!0),p&&(s?(t.call(e,n),t=null):(p=t,t=function(e,t,r){return p.call(Te(e),r)})),t))for(;u<l;u++)t(e[u],r,s?n:n.call(e[u],u,t(e[u],r)));return a?e:p?t.call(e):l?t(e[0],r):i},Be=/^-ms-/,ze=/-([a-z])/g,je=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};g.uid=1,g.prototype={cache:function(e){var t=e[this.expando];return t||(t={},je(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,r){var n,o=this.cache(e);if("string"==typeof t)o[m(t)]=r;else for(n in t)o[m(n)]=t[n];return o},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][m(t)]},access:function(e,t,r){return void 0===t||t&&"string"==typeof t&&void 0===r?this.get(e,t):(this.set(e,t,r),void 0!==r?r:t)},remove:function(e,t){var r,n=e[this.expando];if(void 0!==n){if(void 0!==t){Array.isArray(t)?t=t.map(m):(t=m(t),t=t in n?[t]:t.match(De)||[]),r=t.length;for(;r--;)delete n[t[r]]}(void 0===t||Te.isEmptyObject(n))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!Te.isEmptyObject(t)}};var Ue=new g,Ge=new g,qe=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,We=/[A-Z]/g;Te.extend({hasData:function(e){return Ge.hasData(e)||Ue.hasData(e)},data:function(e,t,r){return Ge.access(e,t,r)},removeData:function(e,t){Ge.remove(e,t)},_data:function(e,t,r){return Ue.access(e,t,r)},_removeData:function(e,t){Ue.remove(e,t)}}),Te.fn.extend({data:function(e,t){var r,n,o,a=this[0],i=a&&a.attributes;if(void 0===e){if(this.length&&(o=Ge.get(a),1===a.nodeType&&!Ue.get(a,"hasDataAttrs"))){for(r=i.length;r--;)i[r]&&(n=i[r].name,0===n.indexOf("data-")&&(n=m(n.slice(5)),y(a,n,o[n])));Ue.set(a,"hasDataAttrs",!0)}return o}return"object"==typeof e?this.each(function(){Ge.set(this,e)}):Fe(this,function(t){var r;if(a&&void 0===t){if(r=Ge.get(a,e),void 0!==r)return r;if(r=y(a,e),void 0!==r)return r}else this.each(function(){Ge.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Ge.remove(this,e)})}}),Te.extend({queue:function(e,t,r){var n;if(e)return t=(t||"fx")+"queue",n=Ue.get(e,t),r&&(!n||Array.isArray(r)?n=Ue.access(e,t,Te.makeArray(r)):n.push(r)),n||[]},dequeue:function(e,t){t=t||"fx";var r=Te.queue(e,t),n=r.length,o=r.shift(),a=Te._queueHooks(e,t),i=function(){Te.dequeue(e,t)};"inprogress"===o&&(o=r.shift(),n--),o&&("fx"===t&&r.unshift("inprogress"),delete a.stop,o.call(e,i,a)),!n&&a&&a.empty.fire()},_queueHooks:function(e,t){var r=t+"queueHooks";return Ue.get(e,r)||Ue.access(e,r,{empty:Te.Callbacks("once memory").add(function(){Ue.remove(e,[t+"queue",r])})})}}),Te.fn.extend({queue:function(e,t){var r=2;return"string"!=typeof e&&(t=e,e="fx",r--),arguments.length<r?Te.queue(this[0],e):void 0===t?this:this.each(function(){var r=Te.queue(this,e,t);Te._queueHooks(this,e),"fx"===e&&"inprogress"!==r[0]&&Te.dequeue(this,e)})},dequeue:function(e){return this.each(function(){Te.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var r,n=1,o=Te.Deferred(),a=this,i=this.length,s=function(){--n||o.resolveWith(a,[a])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";i--;)r=Ue.get(a[i],e+"queueHooks"),r&&r.empty&&(n++,r.empty.add(s));return s(),o.promise(t)}});var He=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,$e=new RegExp("^(?:([+-])=|)("+He+")([a-z%]*)$","i"),Xe=["Top","Right","Bottom","Left"],Ye=function(e,t){return e=t||e,"none"===e.style.display||""===e.style.display&&Te.contains(e.ownerDocument,e)&&"none"===Te.css(e,"display")},Ke=function(e,t,r,n){var o,a,i={};for(a in t)i[a]=e.style[a],e.style[a]=t[a];o=r.apply(e,n||[]);for(a in t)e.style[a]=i[a];return o},Qe={};Te.fn.extend({show:function(){return _(this,!0)},hide:function(){return _(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Ye(this)?Te(this).show():Te(this).hide()})}});var Je=/^(?:checkbox|radio)$/i,Ze=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,et=/^$|^module$|\/(?:java|ecma)script/i,tt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};tt.optgroup=tt.option,tt.tbody=tt.tfoot=tt.colgroup=tt.caption=tt.thead,tt.th=tt.td;var rt=/<|&#?\w+;/;!function(){var e=se.createDocumentFragment(),t=e.appendChild(se.createElement("div")),r=se.createElement("input");r.setAttribute("type","radio"),r.setAttribute("checked","checked"),r.setAttribute("name","t"),t.appendChild(r),ye.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",ye.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var nt=se.documentElement,ot=/^key/,at=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,it=/^([^.]*)(?:\.(.+)|)/;Te.event={global:{},add:function(e,t,r,n,o){var a,i,s,u,l,p,c,f,h,d,m,g=Ue.get(e);if(g)for(r.handler&&(a=r,r=a.handler,o=a.selector),o&&Te.find.matchesSelector(nt,o),r.guid||(r.guid=Te.guid++),(u=g.events)||(u=g.events={}),(i=g.handle)||(i=g.handle=function(t){return"undefined"!=typeof Te&&Te.event.triggered!==t.type?Te.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(De)||[""],l=t.length;l--;)s=it.exec(t[l])||[],h=m=s[1],d=(s[2]||"").split(".").sort(),h&&(c=Te.event.special[h]||{},h=(o?c.delegateType:c.bindType)||h,c=Te.event.special[h]||{},p=Te.extend({type:h,origType:m,data:n,handler:r,guid:r.guid,selector:o,needsContext:o&&Te.expr.match.needsContext.test(o),namespace:d.join(".")},a),(f=u[h])||(f=u[h]=[],f.delegateCount=0,c.setup&&c.setup.call(e,n,d,i)!==!1||e.addEventListener&&e.addEventListener(h,i)),c.add&&(c.add.call(e,p),p.handler.guid||(p.handler.guid=r.guid)),o?f.splice(f.delegateCount++,0,p):f.push(p),Te.event.global[h]=!0)},remove:function(e,t,r,n,o){var a,i,s,u,l,p,c,f,h,d,m,g=Ue.hasData(e)&&Ue.get(e);if(g&&(u=g.events)){for(t=(t||"").match(De)||[""],l=t.length;l--;)if(s=it.exec(t[l])||[],h=m=s[1],d=(s[2]||"").split(".").sort(),h){for(c=Te.event.special[h]||{},h=(n?c.delegateType:c.bindType)||h,f=u[h]||[],s=s[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),i=a=f.length;a--;)p=f[a],!o&&m!==p.origType||r&&r.guid!==p.guid||s&&!s.test(p.namespace)||n&&n!==p.selector&&("**"!==n||!p.selector)||(f.splice(a,1),p.selector&&f.delegateCount--,c.remove&&c.remove.call(e,p));i&&!f.length&&(c.teardown&&c.teardown.call(e,d,g.handle)!==!1||Te.removeEvent(e,h,g.handle),delete u[h])}else for(h in u)Te.event.remove(e,h+t[l],r,n,!0);Te.isEmptyObject(u)&&Ue.remove(e,"handle events")}},dispatch:function(e){var t,r,n,o,a,i,s=Te.event.fix(e),u=new Array(arguments.length),l=(Ue.get(this,"events")||{})[s.type]||[],p=Te.event.special[s.type]||{};for(u[0]=s,t=1;t<arguments.length;t++)u[t]=arguments[t];if(s.delegateTarget=this,!p.preDispatch||p.preDispatch.call(this,s)!==!1){for(i=Te.event.handlers.call(this,s,l),t=0;(o=i[t++])&&!s.isPropagationStopped();)for(s.currentTarget=o.elem,r=0;(a=o.handlers[r++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!s.rnamespace.test(a.namespace)||(s.handleObj=a,s.data=a.data,n=((Te.event.special[a.origType]||{}).handle||a.handler).apply(o.elem,u),void 0!==n&&(s.result=n)===!1&&(s.preventDefault(),s.stopPropagation()));return p.postDispatch&&p.postDispatch.call(this,s),s.result}},handlers:function(e,t){var r,n,o,a,i,s=[],u=t.delegateCount,l=e.target;if(u&&l.nodeType&&!("click"===e.type&&e.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||l.disabled!==!0)){for(a=[],i={},r=0;r<u;r++)n=t[r],o=n.selector+" ",void 0===i[o]&&(i[o]=n.needsContext?Te(o,this).index(l)>-1:Te.find(o,this,null,[l]).length),i[o]&&a.push(n);a.length&&s.push({elem:l,handlers:a})}return l=this,u<t.length&&s.push({elem:l,handlers:t.slice(u)}),s},addProp:function(e,t){Object.defineProperty(Te.Event.prototype,e,{enumerable:!0,configurable:!0,get:xe(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[Te.expando]?e:new Te.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==E()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===E()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&i(this,"input"))return this.click(),!1},_default:function(e){return i(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},Te.removeEvent=function(e,t,r){e.removeEventListener&&e.removeEventListener(t,r)},Te.Event=function(e,t){return this instanceof Te.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?P:S,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&Te.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),void(this[Te.expando]=!0)):new Te.Event(e,t)},Te.Event.prototype={constructor:Te.Event,isDefaultPrevented:S,isPropagationStopped:S,isImmediatePropagationStopped:S,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=P,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=P,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=P,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},Te.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&ot.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&at.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},Te.event.addProp),Te.each({mouseenter:"mouseover",
mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){Te.event.special[e]={delegateType:t,bindType:t,handle:function(e){var r,n=this,o=e.relatedTarget,a=e.handleObj;return o&&(o===n||Te.contains(n,o))||(e.type=a.origType,r=a.handler.apply(this,arguments),e.type=t),r}}}),Te.fn.extend({on:function(e,t,r,n){return k(this,e,t,r,n)},one:function(e,t,r,n){return k(this,e,t,r,n,1)},off:function(e,t,r){var n,o;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,Te(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof e){for(o in e)this.off(o,t,e[o]);return this}return t!==!1&&"function"!=typeof t||(r=t,t=void 0),r===!1&&(r=S),this.each(function(){Te.event.remove(this,e,r,t)})}});var st=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,ut=/<script|<style|<link/i,lt=/checked\s*(?:[^=]|=\s*.checked.)/i,pt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;Te.extend({htmlPrefilter:function(e){return e.replace(st,"<$1></$2>")},clone:function(e,t,r){var n,o,a,i,s=e.cloneNode(!0),u=Te.contains(e.ownerDocument,e);if(!(ye.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||Te.isXMLDoc(e)))for(i=w(s),a=w(e),n=0,o=a.length;n<o;n++)R(a[n],i[n]);if(t)if(r)for(a=a||w(e),i=i||w(s),n=0,o=a.length;n<o;n++)C(a[n],i[n]);else C(e,s);return i=w(s,"script"),i.length>0&&T(i,!u&&w(e,"script")),s},cleanData:function(e){for(var t,r,n,o=Te.event.special,a=0;void 0!==(r=e[a]);a++)if(je(r)){if(t=r[Ue.expando]){if(t.events)for(n in t.events)o[n]?Te.event.remove(r,n):Te.removeEvent(r,n,t.handle);r[Ue.expando]=void 0}r[Ge.expando]&&(r[Ge.expando]=void 0)}}}),Te.fn.extend({detach:function(e){return D(this,e,!0)},remove:function(e){return D(this,e)},text:function(e){return Fe(this,function(e){return void 0===e?Te.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return M(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=A(this,e);t.appendChild(e)}})},prepend:function(){return M(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=A(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return M(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return M(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(Te.cleanData(w(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return Te.clone(this,e,t)})},html:function(e){return Fe(this,function(e){var t=this[0]||{},r=0,n=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!ut.test(e)&&!tt[(Ze.exec(e)||["",""])[1].toLowerCase()]){e=Te.htmlPrefilter(e);try{for(;r<n;r++)t=this[r]||{},1===t.nodeType&&(Te.cleanData(w(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return M(this,arguments,function(t){var r=this.parentNode;Te.inArray(this,e)<0&&(Te.cleanData(w(this)),r&&r.replaceChild(t,this))},e)}}),Te.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){Te.fn[e]=function(e){for(var r,n=[],o=Te(e),a=o.length-1,i=0;i<=a;i++)r=i===a?this:this.clone(!0),Te(o[i])[t](r),ce.apply(n,r.get());return this.pushStack(n)}});var ct=new RegExp("^("+He+")(?!px)[a-z%]+$","i"),ft=function(t){var r=t.ownerDocument.defaultView;return r&&r.opener||(r=e),r.getComputedStyle(t)},ht=new RegExp(Xe.join("|"),"i");!function(){function t(){if(l){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",nt.appendChild(u).appendChild(l);var t=e.getComputedStyle(l);n="1%"!==t.top,s=12===r(t.marginLeft),l.style.right="60%",i=36===r(t.right),o=36===r(t.width),l.style.position="absolute",a=36===l.offsetWidth||"absolute",nt.removeChild(u),l=null}}function r(e){return Math.round(parseFloat(e))}var n,o,a,i,s,u=se.createElement("div"),l=se.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",ye.clearCloneStyle="content-box"===l.style.backgroundClip,Te.extend(ye,{boxSizingReliable:function(){return t(),o},pixelBoxStyles:function(){return t(),i},pixelPosition:function(){return t(),n},reliableMarginLeft:function(){return t(),s},scrollboxSize:function(){return t(),a}}))}();var dt=/^(none|table(?!-c[ea]).+)/,mt=/^--/,gt={position:"absolute",visibility:"hidden",display:"block"},vt={letterSpacing:"0",fontWeight:"400"},yt=["Webkit","Moz","ms"],xt=se.createElement("div").style;Te.extend({cssHooks:{opacity:{get:function(e,t){if(t){var r=V(e,"opacity");return""===r?"1":r}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,r,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,a,i,s=m(t),u=mt.test(t),l=e.style;return u||(t=B(s)),i=Te.cssHooks[t]||Te.cssHooks[s],void 0===r?i&&"get"in i&&void 0!==(o=i.get(e,!1,n))?o:l[t]:(a=typeof r,"string"===a&&(o=$e.exec(r))&&o[1]&&(r=x(e,t,o),a="number"),null!=r&&r===r&&("number"===a&&(r+=o&&o[3]||(Te.cssNumber[s]?"":"px")),ye.clearCloneStyle||""!==r||0!==t.indexOf("background")||(l[t]="inherit"),i&&"set"in i&&void 0===(r=i.set(e,r,n))||(u?l.setProperty(t,r):l[t]=r)),void 0)}},css:function(e,t,r,n){var o,a,i,s=m(t),u=mt.test(t);return u||(t=B(s)),i=Te.cssHooks[t]||Te.cssHooks[s],i&&"get"in i&&(o=i.get(e,!0,r)),void 0===o&&(o=V(e,t,n)),"normal"===o&&t in vt&&(o=vt[t]),""===r||r?(a=parseFloat(o),r===!0||isFinite(a)?a||0:o):o}}),Te.each(["height","width"],function(e,t){Te.cssHooks[t]={get:function(e,r,n){if(r)return!dt.test(Te.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?U(e,t,n):Ke(e,gt,function(){return U(e,t,n)})},set:function(e,r,n){var o,a=ft(e),i="border-box"===Te.css(e,"boxSizing",!1,a),s=n&&j(e,t,n,i,a);return i&&ye.scrollboxSize()===a.position&&(s-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(a[t])-j(e,t,"border",!1,a)-.5)),s&&(o=$e.exec(r))&&"px"!==(o[3]||"px")&&(e.style[t]=r,r=Te.css(e,t)),z(e,r,s)}}}),Te.cssHooks.marginLeft=L(ye.reliableMarginLeft,function(e,t){if(t)return(parseFloat(V(e,"marginLeft"))||e.getBoundingClientRect().left-Ke(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),Te.each({margin:"",padding:"",border:"Width"},function(e,t){Te.cssHooks[e+t]={expand:function(r){for(var n=0,o={},a="string"==typeof r?r.split(" "):[r];n<4;n++)o[e+Xe[n]+t]=a[n]||a[n-2]||a[0];return o}},"margin"!==e&&(Te.cssHooks[e+t].set=z)}),Te.fn.extend({css:function(e,t){return Fe(this,function(e,t,r){var n,o,a={},i=0;if(Array.isArray(t)){for(n=ft(e),o=t.length;i<o;i++)a[t[i]]=Te.css(e,t[i],!1,n);return a}return void 0!==r?Te.style(e,t,r):Te.css(e,t)},e,t,arguments.length>1)}}),Te.Tween=G,G.prototype={constructor:G,init:function(e,t,r,n,o,a){this.elem=e,this.prop=r,this.easing=o||Te.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=a||(Te.cssNumber[r]?"":"px")},cur:function(){var e=G.propHooks[this.prop];return e&&e.get?e.get(this):G.propHooks._default.get(this)},run:function(e){var t,r=G.propHooks[this.prop];return this.options.duration?this.pos=t=Te.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),r&&r.set?r.set(this):G.propHooks._default.set(this),this}},G.prototype.init.prototype=G.prototype,G.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=Te.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){Te.fx.step[e.prop]?Te.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[Te.cssProps[e.prop]]&&!Te.cssHooks[e.prop]?e.elem[e.prop]=e.now:Te.style(e.elem,e.prop,e.now+e.unit)}}},G.propHooks.scrollTop=G.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},Te.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},Te.fx=G.prototype.init,Te.fx.step={};var bt,_t,wt=/^(?:toggle|show|hide)$/,Tt=/queueHooks$/;Te.Animation=Te.extend(K,{tweeners:{"*":[function(e,t){var r=this.createTween(e,t);return x(r.elem,e,$e.exec(t),r),r}]},tweener:function(e,t){xe(e)?(t=e,e=["*"]):e=e.match(De);for(var r,n=0,o=e.length;n<o;n++)r=e[n],K.tweeners[r]=K.tweeners[r]||[],K.tweeners[r].unshift(t)},prefilters:[X],prefilter:function(e,t){t?K.prefilters.unshift(e):K.prefilters.push(e)}}),Te.speed=function(e,t,r){var n=e&&"object"==typeof e?Te.extend({},e):{complete:r||!r&&t||xe(e)&&e,duration:e,easing:r&&t||t&&!xe(t)&&t};return Te.fx.off?n.duration=0:"number"!=typeof n.duration&&(n.duration in Te.fx.speeds?n.duration=Te.fx.speeds[n.duration]:n.duration=Te.fx.speeds._default),null!=n.queue&&n.queue!==!0||(n.queue="fx"),n.old=n.complete,n.complete=function(){xe(n.old)&&n.old.call(this),n.queue&&Te.dequeue(this,n.queue)},n},Te.fn.extend({fadeTo:function(e,t,r,n){return this.filter(Ye).css("opacity",0).show().end().animate({opacity:t},e,r,n)},animate:function(e,t,r,n){var o=Te.isEmptyObject(e),a=Te.speed(t,r,n),i=function(){var t=K(this,Te.extend({},e),a);(o||Ue.get(this,"finish"))&&t.stop(!0)};return i.finish=i,o||a.queue===!1?this.each(i):this.queue(a.queue,i)},stop:function(e,t,r){var n=function(e){var t=e.stop;delete e.stop,t(r)};return"string"!=typeof e&&(r=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,o=null!=e&&e+"queueHooks",a=Te.timers,i=Ue.get(this);if(o)i[o]&&i[o].stop&&n(i[o]);else for(o in i)i[o]&&i[o].stop&&Tt.test(o)&&n(i[o]);for(o=a.length;o--;)a[o].elem!==this||null!=e&&a[o].queue!==e||(a[o].anim.stop(r),t=!1,a.splice(o,1));!t&&r||Te.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,r=Ue.get(this),n=r[e+"queue"],o=r[e+"queueHooks"],a=Te.timers,i=n?n.length:0;for(r.finish=!0,Te.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),t=a.length;t--;)a[t].elem===this&&a[t].queue===e&&(a[t].anim.stop(!0),a.splice(t,1));for(t=0;t<i;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete r.finish})}}),Te.each(["toggle","show","hide"],function(e,t){var r=Te.fn[t];Te.fn[t]=function(e,n,o){return null==e||"boolean"==typeof e?r.apply(this,arguments):this.animate(H(t,!0),e,n,o)}}),Te.each({slideDown:H("show"),slideUp:H("hide"),slideToggle:H("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){Te.fn[e]=function(e,r,n){return this.animate(t,e,r,n)}}),Te.timers=[],Te.fx.tick=function(){var e,t=0,r=Te.timers;for(bt=Date.now();t<r.length;t++)e=r[t],e()||r[t]!==e||r.splice(t--,1);r.length||Te.fx.stop(),bt=void 0},Te.fx.timer=function(e){Te.timers.push(e),Te.fx.start()},Te.fx.interval=13,Te.fx.start=function(){_t||(_t=!0,q())},Te.fx.stop=function(){_t=null},Te.fx.speeds={slow:600,fast:200,_default:400},Te.fn.delay=function(t,r){return t=Te.fx?Te.fx.speeds[t]||t:t,r=r||"fx",this.queue(r,function(r,n){var o=e.setTimeout(r,t);n.stop=function(){e.clearTimeout(o)}})},function(){var e=se.createElement("input"),t=se.createElement("select"),r=t.appendChild(se.createElement("option"));e.type="checkbox",ye.checkOn=""!==e.value,ye.optSelected=r.selected,e=se.createElement("input"),e.value="t",e.type="radio",ye.radioValue="t"===e.value}();var Nt,Pt=Te.expr.attrHandle;Te.fn.extend({attr:function(e,t){return Fe(this,Te.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){Te.removeAttr(this,e)})}}),Te.extend({attr:function(e,t,r){var n,o,a=e.nodeType;if(3!==a&&8!==a&&2!==a)return"undefined"==typeof e.getAttribute?Te.prop(e,t,r):(1===a&&Te.isXMLDoc(e)||(o=Te.attrHooks[t.toLowerCase()]||(Te.expr.match.bool.test(t)?Nt:void 0)),void 0!==r?null===r?void Te.removeAttr(e,t):o&&"set"in o&&void 0!==(n=o.set(e,r,t))?n:(e.setAttribute(t,r+""),r):o&&"get"in o&&null!==(n=o.get(e,t))?n:(n=Te.find.attr(e,t),null==n?void 0:n))},attrHooks:{type:{set:function(e,t){if(!ye.radioValue&&"radio"===t&&i(e,"input")){var r=e.value;return e.setAttribute("type",t),r&&(e.value=r),t}}}},removeAttr:function(e,t){var r,n=0,o=t&&t.match(De);if(o&&1===e.nodeType)for(;r=o[n++];)e.removeAttribute(r)}}),Nt={set:function(e,t,r){return t===!1?Te.removeAttr(e,r):e.setAttribute(r,r),r}},Te.each(Te.expr.match.bool.source.match(/\w+/g),function(e,t){var r=Pt[t]||Te.find.attr;Pt[t]=function(e,t,n){var o,a,i=t.toLowerCase();return n||(a=Pt[i],Pt[i]=o,o=null!=r(e,t,n)?i:null,Pt[i]=a),o}});var St=/^(?:input|select|textarea|button)$/i,Et=/^(?:a|area)$/i;Te.fn.extend({prop:function(e,t){return Fe(this,Te.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[Te.propFix[e]||e]})}}),Te.extend({prop:function(e,t,r){var n,o,a=e.nodeType;if(3!==a&&8!==a&&2!==a)return 1===a&&Te.isXMLDoc(e)||(t=Te.propFix[t]||t,o=Te.propHooks[t]),void 0!==r?o&&"set"in o&&void 0!==(n=o.set(e,r,t))?n:e[t]=r:o&&"get"in o&&null!==(n=o.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){var t=Te.find.attr(e,"tabindex");return t?parseInt(t,10):St.test(e.nodeName)||Et.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),ye.optSelected||(Te.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),Te.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Te.propFix[this.toLowerCase()]=this}),Te.fn.extend({addClass:function(e){var t,r,n,o,a,i,s,u=0;if(xe(e))return this.each(function(t){Te(this).addClass(e.call(this,t,J(this)))});if(t=Z(e),t.length)for(;r=this[u++];)if(o=J(r),n=1===r.nodeType&&" "+Q(o)+" "){for(i=0;a=t[i++];)n.indexOf(" "+a+" ")<0&&(n+=a+" ");s=Q(n),o!==s&&r.setAttribute("class",s)}return this},removeClass:function(e){var t,r,n,o,a,i,s,u=0;if(xe(e))return this.each(function(t){Te(this).removeClass(e.call(this,t,J(this)))});if(!arguments.length)return this.attr("class","");if(t=Z(e),t.length)for(;r=this[u++];)if(o=J(r),n=1===r.nodeType&&" "+Q(o)+" "){for(i=0;a=t[i++];)for(;n.indexOf(" "+a+" ")>-1;)n=n.replace(" "+a+" "," ");s=Q(n),o!==s&&r.setAttribute("class",s)}return this},toggleClass:function(e,t){var r=typeof e,n="string"===r||Array.isArray(e);return"boolean"==typeof t&&n?t?this.addClass(e):this.removeClass(e):xe(e)?this.each(function(r){Te(this).toggleClass(e.call(this,r,J(this),t),t)}):this.each(function(){var t,o,a,i;if(n)for(o=0,a=Te(this),i=Z(e);t=i[o++];)a.hasClass(t)?a.removeClass(t):a.addClass(t);else void 0!==e&&"boolean"!==r||(t=J(this),t&&Ue.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||e===!1?"":Ue.get(this,"__className__")||""))})},hasClass:function(e){var t,r,n=0;for(t=" "+e+" ";r=this[n++];)if(1===r.nodeType&&(" "+Q(J(r))+" ").indexOf(t)>-1)return!0;return!1}});var kt=/\r/g;Te.fn.extend({val:function(e){var t,r,n,o=this[0];{if(arguments.length)return n=xe(e),this.each(function(r){var o;1===this.nodeType&&(o=n?e.call(this,r,Te(this).val()):e,null==o?o="":"number"==typeof o?o+="":Array.isArray(o)&&(o=Te.map(o,function(e){return null==e?"":e+""})),t=Te.valHooks[this.type]||Te.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,o,"value")||(this.value=o))});if(o)return t=Te.valHooks[o.type]||Te.valHooks[o.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(r=t.get(o,"value"))?r:(r=o.value,"string"==typeof r?r.replace(kt,""):null==r?"":r)}}}),Te.extend({valHooks:{option:{get:function(e){var t=Te.find.attr(e,"value");return null!=t?t:Q(Te.text(e))}},select:{get:function(e){var t,r,n,o=e.options,a=e.selectedIndex,s="select-one"===e.type,u=s?null:[],l=s?a+1:o.length;for(n=a<0?l:s?a:0;n<l;n++)if(r=o[n],(r.selected||n===a)&&!r.disabled&&(!r.parentNode.disabled||!i(r.parentNode,"optgroup"))){if(t=Te(r).val(),s)return t;u.push(t)}return u},set:function(e,t){for(var r,n,o=e.options,a=Te.makeArray(t),i=o.length;i--;)n=o[i],(n.selected=Te.inArray(Te.valHooks.option.get(n),a)>-1)&&(r=!0);return r||(e.selectedIndex=-1),a}}}}),Te.each(["radio","checkbox"],function(){Te.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=Te.inArray(Te(e).val(),t)>-1}},ye.checkOn||(Te.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),ye.focusin="onfocusin"in e;var At=/^(?:focusinfocus|focusoutblur)$/,Ot=function(e){e.stopPropagation()};Te.extend(Te.event,{trigger:function(t,r,n,o){var a,i,s,u,l,p,c,f,h=[n||se],d=me.call(t,"type")?t.type:t,m=me.call(t,"namespace")?t.namespace.split("."):[];if(i=f=s=n=n||se,3!==n.nodeType&&8!==n.nodeType&&!At.test(d+Te.event.triggered)&&(d.indexOf(".")>-1&&(m=d.split("."),d=m.shift(),m.sort()),l=d.indexOf(":")<0&&"on"+d,t=t[Te.expando]?t:new Te.Event(d,"object"==typeof t&&t),t.isTrigger=o?2:3,t.namespace=m.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),r=null==r?[t]:Te.makeArray(r,[t]),c=Te.event.special[d]||{},o||!c.trigger||c.trigger.apply(n,r)!==!1)){if(!o&&!c.noBubble&&!be(n)){for(u=c.delegateType||d,At.test(u+d)||(i=i.parentNode);i;i=i.parentNode)h.push(i),s=i;s===(n.ownerDocument||se)&&h.push(s.defaultView||s.parentWindow||e)}for(a=0;(i=h[a++])&&!t.isPropagationStopped();)f=i,t.type=a>1?u:c.bindType||d,p=(Ue.get(i,"events")||{})[t.type]&&Ue.get(i,"handle"),p&&p.apply(i,r),p=l&&i[l],p&&p.apply&&je(i)&&(t.result=p.apply(i,r),t.result===!1&&t.preventDefault());return t.type=d,o||t.isDefaultPrevented()||c._default&&c._default.apply(h.pop(),r)!==!1||!je(n)||l&&xe(n[d])&&!be(n)&&(s=n[l],s&&(n[l]=null),Te.event.triggered=d,t.isPropagationStopped()&&f.addEventListener(d,Ot),n[d](),t.isPropagationStopped()&&f.removeEventListener(d,Ot),Te.event.triggered=void 0,s&&(n[l]=s)),t.result}},simulate:function(e,t,r){var n=Te.extend(new Te.Event,r,{type:e,isSimulated:!0});Te.event.trigger(n,null,t)}}),Te.fn.extend({trigger:function(e,t){return this.each(function(){Te.event.trigger(e,t,this)})},triggerHandler:function(e,t){var r=this[0];if(r)return Te.event.trigger(e,t,r,!0)}}),ye.focusin||Te.each({focus:"focusin",blur:"focusout"},function(e,t){var r=function(e){Te.event.simulate(t,e.target,Te.event.fix(e))};Te.event.special[t]={setup:function(){var n=this.ownerDocument||this,o=Ue.access(n,t);o||n.addEventListener(e,r,!0),Ue.access(n,t,(o||0)+1)},teardown:function(){var n=this.ownerDocument||this,o=Ue.access(n,t)-1;o?Ue.access(n,t,o):(n.removeEventListener(e,r,!0),Ue.remove(n,t))}}});var It=e.location,Ct=Date.now(),Rt=/\?/;Te.parseXML=function(t){var r;if(!t||"string"!=typeof t)return null;try{r=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){r=void 0}return r&&!r.getElementsByTagName("parsererror").length||Te.error("Invalid XML: "+t),r};var Mt=/\[\]$/,Dt=/\r?\n/g,Vt=/^(?:submit|button|image|reset|file)$/i,Lt=/^(?:input|select|textarea|keygen)/i;Te.param=function(e,t){var r,n=[],o=function(e,t){var r=xe(t)?t():t;n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==r?"":r)};if(Array.isArray(e)||e.jquery&&!Te.isPlainObject(e))Te.each(e,function(){o(this.name,this.value)});else for(r in e)ee(r,e[r],t,o);return n.join("&")},Te.fn.extend({serialize:function(){return Te.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=Te.prop(this,"elements");return e?Te.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!Te(this).is(":disabled")&&Lt.test(this.nodeName)&&!Vt.test(e)&&(this.checked||!Je.test(e))}).map(function(e,t){var r=Te(this).val();return null==r?null:Array.isArray(r)?Te.map(r,function(e){return{name:t.name,value:e.replace(Dt,"\r\n")}}):{name:t.name,value:r.replace(Dt,"\r\n")}}).get()}});var Ft=/%20/g,Bt=/#.*$/,zt=/([?&])_=[^&]*/,jt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ut=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Gt=/^(?:GET|HEAD)$/,qt=/^\/\//,Wt={},Ht={},$t="*/".concat("*"),Xt=se.createElement("a");Xt.href=It.href,Te.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:It.href,type:"GET",isLocal:Ut.test(It.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":$t,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":Te.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?ne(ne(e,Te.ajaxSettings),t):ne(Te.ajaxSettings,e)},ajaxPrefilter:te(Wt),ajaxTransport:te(Ht),ajax:function(t,r){function n(t,r,n,s){var l,f,h,b,_,w=r;p||(p=!0,u&&e.clearTimeout(u),o=void 0,i=s||"",T.readyState=t>0?4:0,l=t>=200&&t<300||304===t,n&&(b=oe(d,T,n)),b=ae(d,b,T,l),l?(d.ifModified&&(_=T.getResponseHeader("Last-Modified"),_&&(Te.lastModified[a]=_),_=T.getResponseHeader("etag"),_&&(Te.etag[a]=_)),204===t||"HEAD"===d.type?w="nocontent":304===t?w="notmodified":(w=b.state,f=b.data,h=b.error,l=!h)):(h=w,!t&&w||(w="error",t<0&&(t=0))),T.status=t,T.statusText=(r||w)+"",l?v.resolveWith(m,[f,w,T]):v.rejectWith(m,[T,w,h]),T.statusCode(x),x=void 0,c&&g.trigger(l?"ajaxSuccess":"ajaxError",[T,d,l?f:h]),y.fireWith(m,[T,w]),c&&(g.trigger("ajaxComplete",[T,d]),--Te.active||Te.event.trigger("ajaxStop")))}"object"==typeof t&&(r=t,t=void 0),r=r||{};var o,a,i,s,u,l,p,c,f,h,d=Te.ajaxSetup({},r),m=d.context||d,g=d.context&&(m.nodeType||m.jquery)?Te(m):Te.event,v=Te.Deferred(),y=Te.Callbacks("once memory"),x=d.statusCode||{},b={},_={},w="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(p){if(!s)for(s={};t=jt.exec(i);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return p?i:null},setRequestHeader:function(e,t){return null==p&&(e=_[e.toLowerCase()]=_[e.toLowerCase()]||e,b[e]=t),this},overrideMimeType:function(e){return null==p&&(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(p)T.always(e[T.status]);else for(t in e)x[t]=[x[t],e[t]];return this},abort:function(e){var t=e||w;return o&&o.abort(t),n(0,t),this}};if(v.promise(T),d.url=((t||d.url||It.href)+"").replace(qt,It.protocol+"//"),d.type=r.method||r.type||d.method||d.type,d.dataTypes=(d.dataType||"*").toLowerCase().match(De)||[""],null==d.crossDomain){l=se.createElement("a");try{l.href=d.url,l.href=l.href,d.crossDomain=Xt.protocol+"//"+Xt.host!=l.protocol+"//"+l.host}catch(e){d.crossDomain=!0}}if(d.data&&d.processData&&"string"!=typeof d.data&&(d.data=Te.param(d.data,d.traditional)),re(Wt,d,r,T),p)return T;c=Te.event&&d.global,c&&0===Te.active++&&Te.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Gt.test(d.type),a=d.url.replace(Bt,""),d.hasContent?d.data&&d.processData&&0===(d.contentType||"").indexOf("application/x-www-form-urlencoded")&&(d.data=d.data.replace(Ft,"+")):(h=d.url.slice(a.length),d.data&&(d.processData||"string"==typeof d.data)&&(a+=(Rt.test(a)?"&":"?")+d.data,delete d.data),d.cache===!1&&(a=a.replace(zt,"$1"),h=(Rt.test(a)?"&":"?")+"_="+Ct++ +h),d.url=a+h),d.ifModified&&(Te.lastModified[a]&&T.setRequestHeader("If-Modified-Since",Te.lastModified[a]),Te.etag[a]&&T.setRequestHeader("If-None-Match",Te.etag[a])),(d.data&&d.hasContent&&d.contentType!==!1||r.contentType)&&T.setRequestHeader("Content-Type",d.contentType),T.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+$t+"; q=0.01":""):d.accepts["*"]);for(f in d.headers)T.setRequestHeader(f,d.headers[f]);if(d.beforeSend&&(d.beforeSend.call(m,T,d)===!1||p))return T.abort();if(w="abort",y.add(d.complete),T.done(d.success),T.fail(d.error),o=re(Ht,d,r,T)){if(T.readyState=1,c&&g.trigger("ajaxSend",[T,d]),p)return T;d.async&&d.timeout>0&&(u=e.setTimeout(function(){T.abort("timeout")},d.timeout));try{p=!1,o.send(b,n)}catch(e){if(p)throw e;n(-1,e)}}else n(-1,"No Transport");return T},getJSON:function(e,t,r){return Te.get(e,t,r,"json")},getScript:function(e,t){return Te.get(e,void 0,t,"script")}}),Te.each(["get","post"],function(e,t){Te[t]=function(e,r,n,o){return xe(r)&&(o=o||n,n=r,r=void 0),Te.ajax(Te.extend({url:e,type:t,dataType:o,data:r,success:n},Te.isPlainObject(e)&&e))}}),Te._evalUrl=function(e){return Te.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},Te.fn.extend({wrapAll:function(e){var t;return this[0]&&(xe(e)&&(e=e.call(this[0])),t=Te(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return xe(e)?this.each(function(t){Te(this).wrapInner(e.call(this,t))}):this.each(function(){var t=Te(this),r=t.contents();r.length?r.wrapAll(e):t.append(e)})},wrap:function(e){var t=xe(e);return this.each(function(r){Te(this).wrapAll(t?e.call(this,r):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){Te(this).replaceWith(this.childNodes)}),this}}),Te.expr.pseudos.hidden=function(e){return!Te.expr.pseudos.visible(e)},Te.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},Te.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var Yt={0:200,1223:204},Kt=Te.ajaxSettings.xhr();ye.cors=!!Kt&&"withCredentials"in Kt,ye.ajax=Kt=!!Kt,Te.ajaxTransport(function(t){var r,n;if(ye.cors||Kt&&!t.crossDomain)return{send:function(o,a){var i,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(i in t.xhrFields)s[i]=t.xhrFields[i];t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest");for(i in o)s.setRequestHeader(i,o[i]);r=function(e){return function(){r&&(r=n=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?a(0,"error"):a(s.status,s.statusText):a(Yt[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=r(),n=s.onerror=s.ontimeout=r("error"),void 0!==s.onabort?s.onabort=n:s.onreadystatechange=function(){4===s.readyState&&e.setTimeout(function(){r&&n()})},r=r("abort");try{s.send(t.hasContent&&t.data||null)}catch(e){if(r)throw e}},abort:function(){r&&r()}}}),Te.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),Te.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return Te.globalEval(e),e}}}),Te.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),Te.ajaxTransport("script",function(e){if(e.crossDomain){var t,r;return{send:function(n,o){t=Te("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",r=function(e){t.remove(),r=null,e&&o("error"===e.type?404:200,e.type)}),se.head.appendChild(t[0])},abort:function(){r&&r()}}}});var Qt=[],Jt=/(=)\?(?=&|$)|\?\?/;Te.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Qt.pop()||Te.expando+"_"+Ct++;return this[e]=!0,e}}),Te.ajaxPrefilter("json jsonp",function(t,r,n){var o,a,i,s=t.jsonp!==!1&&(Jt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Jt.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return o=t.jsonpCallback=xe(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Jt,"$1"+o):t.jsonp!==!1&&(t.url+=(Rt.test(t.url)?"&":"?")+t.jsonp+"="+o),t.converters["script json"]=function(){return i||Te.error(o+" was not called"),i[0]},t.dataTypes[0]="json",a=e[o],e[o]=function(){i=arguments},n.always(function(){void 0===a?Te(e).removeProp(o):e[o]=a,t[o]&&(t.jsonpCallback=r.jsonpCallback,Qt.push(o)),i&&xe(a)&&a(i[0]),i=a=void 0}),"script"}),ye.createHTMLDocument=function(){var e=se.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),Te.parseHTML=function(e,t,r){if("string"!=typeof e)return[];"boolean"==typeof t&&(r=t,t=!1);var n,o,a;return t||(ye.createHTMLDocument?(t=se.implementation.createHTMLDocument(""),n=t.createElement("base"),n.href=se.location.href,t.head.appendChild(n)):t=se),o=Ae.exec(e),a=!r&&[],o?[t.createElement(o[1])]:(o=N([e],t,a),a&&a.length&&Te(a).remove(),Te.merge([],o.childNodes))},Te.fn.load=function(e,t,r){var n,o,a,i=this,s=e.indexOf(" ");return s>-1&&(n=Q(e.slice(s)),e=e.slice(0,s)),xe(t)?(r=t,t=void 0):t&&"object"==typeof t&&(o="POST"),i.length>0&&Te.ajax({url:e,type:o||"GET",dataType:"html",data:t}).done(function(e){a=arguments,i.html(n?Te("<div>").append(Te.parseHTML(e)).find(n):e)}).always(r&&function(e,t){i.each(function(){r.apply(this,a||[e.responseText,t,e])})}),this},Te.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){Te.fn[t]=function(e){return this.on(t,e)}}),Te.expr.pseudos.animated=function(e){return Te.grep(Te.timers,function(t){return e===t.elem}).length},Te.offset={setOffset:function(e,t,r){var n,o,a,i,s,u,l,p=Te.css(e,"position"),c=Te(e),f={};"static"===p&&(e.style.position="relative"),s=c.offset(),a=Te.css(e,"top"),u=Te.css(e,"left"),l=("absolute"===p||"fixed"===p)&&(a+u).indexOf("auto")>-1,l?(n=c.position(),i=n.top,o=n.left):(i=parseFloat(a)||0,o=parseFloat(u)||0),xe(t)&&(t=t.call(e,r,Te.extend({},s))),null!=t.top&&(f.top=t.top-s.top+i),null!=t.left&&(f.left=t.left-s.left+o),"using"in t?t.using.call(e,f):c.css(f)}},Te.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){Te.offset.setOffset(this,e,t)});var t,r,n=this[0];if(n)return n.getClientRects().length?(t=n.getBoundingClientRect(),r=n.ownerDocument.defaultView,{top:t.top+r.pageYOffset,left:t.left+r.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var e,t,r,n=this[0],o={top:0,left:0};if("fixed"===Te.css(n,"position"))t=n.getBoundingClientRect();else{for(t=this.offset(),r=n.ownerDocument,e=n.offsetParent||r.documentElement;e&&(e===r.body||e===r.documentElement)&&"static"===Te.css(e,"position");)e=e.parentNode;e&&e!==n&&1===e.nodeType&&(o=Te(e).offset(),o.top+=Te.css(e,"borderTopWidth",!0),o.left+=Te.css(e,"borderLeftWidth",!0))}return{top:t.top-o.top-Te.css(n,"marginTop",!0),left:t.left-o.left-Te.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===Te.css(e,"position");)e=e.offsetParent;return e||nt})}}),Te.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var r="pageYOffset"===t;Te.fn[e]=function(n){return Fe(this,function(e,n,o){var a;return be(e)?a=e:9===e.nodeType&&(a=e.defaultView),void 0===o?a?a[t]:e[n]:void(a?a.scrollTo(r?a.pageXOffset:o,r?o:a.pageYOffset):e[n]=o)},e,n,arguments.length)}}),Te.each(["top","left"],function(e,t){Te.cssHooks[t]=L(ye.pixelPosition,function(e,r){if(r)return r=V(e,t),ct.test(r)?Te(e).position()[t]+"px":r})}),Te.each({Height:"height",Width:"width"},function(e,t){Te.each({padding:"inner"+e,content:t,"":"outer"+e},function(r,n){Te.fn[n]=function(o,a){var i=arguments.length&&(r||"boolean"!=typeof o),s=r||(o===!0||a===!0?"margin":"border");return Fe(this,function(t,r,o){var a;return be(t)?0===n.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(a=t.documentElement,
Math.max(t.body["scroll"+e],a["scroll"+e],t.body["offset"+e],a["offset"+e],a["client"+e])):void 0===o?Te.css(t,r,s):Te.style(t,r,o,s)},t,i?o:void 0,i)}})}),Te.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){Te.fn[t]=function(e,r){return arguments.length>0?this.on(t,null,e,r):this.trigger(t)}}),Te.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),Te.fn.extend({bind:function(e,t,r){return this.on(e,null,t,r)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,r,n){return this.on(t,e,r,n)},undelegate:function(e,t,r){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",r)}}),Te.proxy=function(e,t){var r,n,o;if("string"==typeof t&&(r=e[t],t=e,e=r),xe(e))return n=le.call(arguments,2),o=function(){return e.apply(t||this,n.concat(le.call(arguments)))},o.guid=e.guid=e.guid||Te.guid++,o},Te.holdReady=function(e){e?Te.readyWait++:Te.ready(!0)},Te.isArray=Array.isArray,Te.parseJSON=JSON.parse,Te.nodeName=i,Te.isFunction=xe,Te.isWindow=be,Te.camelCase=m,Te.type=o,Te.now=Date.now,Te.isNumeric=function(e){var t=Te.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},"function"==typeof n&&n.amd&&n("jquery",[],function(){return Te});var Zt=e.jQuery,er=e.$;return Te.noConflict=function(t){return e.$===Te&&(e.$=er),t&&e.jQuery===Te&&(e.jQuery=Zt),Te},t||(e.jQuery=e.$=Te),Te}),o("undefined"!=typeof jQuery?jQuery:window.jQuery)}).call(e,void 0,void 0,void 0,void 0,function(e){t.exports=e})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],196:[function(e,t,r){function n(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(e){if(c===setTimeout)return setTimeout(e,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function i(e){if(f===clearTimeout)return clearTimeout(e);if((f===o||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function s(){g&&d&&(g=!1,d.length?m=d.concat(m):v=-1,m.length&&u())}function u(){if(!g){var e=a(s);g=!0;for(var t=m.length;t;){for(d=m,m=[];++v<t;)d&&d[v].run();v=-1,t=m.length}d=null,g=!1,i(e)}}function l(e,t){this.fun=e,this.array=t}function p(){}var c,f,h=t.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:n}catch(e){c=n}try{f="function"==typeof clearTimeout?clearTimeout:o}catch(e){f=o}}();var d,m=[],g=!1,v=-1;h.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];m.push(new l(e,t)),1!==m.length||g||a(u)},l.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=p,h.addListener=p,h.once=p,h.off=p,h.removeListener=p,h.removeAllListeners=p,h.emit=p,h.prependListener=p,h.prependOnceListener=p,h.listeners=function(e){return[]},h.binding=function(e){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(e){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},{}],197:[function(e,t,r){"use strict";t.exports=e("./src/index-minimal")},{"./src/index-minimal":198}],198:[function(e,t,r){"use strict";function n(){o.Reader._configure(o.BufferReader),o.util._configure()}var o=r;o.build="minimal",o.Writer=e("./writer"),o.BufferWriter=e("./writer_buffer"),o.Reader=e("./reader"),o.BufferReader=e("./reader_buffer"),o.util=e("./util/minimal"),o.rpc=e("./rpc"),o.roots=e("./roots"),o.configure=n,o.Writer._configure(o.BufferWriter),n()},{"./reader":199,"./reader_buffer":200,"./roots":201,"./rpc":202,"./util/minimal":205,"./writer":206,"./writer_buffer":207}],199:[function(e,t,r){"use strict";function n(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function o(e){this.buf=e,this.pos=0,this.len=e.length}function a(){var e=new p(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw n(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw n(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function i(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function s(){if(this.pos+8>this.len)throw n(this,8);return new p(i(this.buf,this.pos+=4),i(this.buf,this.pos+=4))}t.exports=o;var u,l=e("./util/minimal"),p=l.LongBits,c=l.utf8,f="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new o(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new o(e);throw Error("illegal buffer")};o.create=l.Buffer?function(e){return(o.create=function(e){return l.Buffer.isBuffer(e)?new u(e):f(e)})(e)}:f,o.prototype._slice=l.Array.prototype.subarray||l.Array.prototype.slice,o.prototype.uint32=function(){var e=4294967295;return function(){if(e=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return e;if((this.pos+=5)>this.len)throw this.pos=this.len,n(this,10);return e}}(),o.prototype.int32=function(){return 0|this.uint32()},o.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},o.prototype.bool=function(){return 0!==this.uint32()},o.prototype.fixed32=function(){if(this.pos+4>this.len)throw n(this,4);return i(this.buf,this.pos+=4)},o.prototype.sfixed32=function(){if(this.pos+4>this.len)throw n(this,4);return 0|i(this.buf,this.pos+=4)},o.prototype.float=function(){if(this.pos+4>this.len)throw n(this,4);var e=l.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},o.prototype.double=function(){if(this.pos+8>this.len)throw n(this,4);var e=l.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},o.prototype.bytes=function(){var e=this.uint32(),t=this.pos,r=this.pos+e;if(r>this.len)throw n(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,r):t===r?new this.buf.constructor(0):this._slice.call(this.buf,t,r)},o.prototype.string=function(){var e=this.bytes();return c.read(e,0,e.length)},o.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw n(this,e);this.pos+=e}else do if(this.pos>=this.len)throw n(this);while(128&this.buf[this.pos++]);return this},o.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!==(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},o._configure=function(e){u=e;var t=l.Long?"toLong":"toNumber";l.merge(o.prototype,{int64:function(){return a.call(this)[t](!1)},uint64:function(){return a.call(this)[t](!0)},sint64:function(){return a.call(this).zzDecode()[t](!1)},fixed64:function(){return s.call(this)[t](!0)},sfixed64:function(){return s.call(this)[t](!1)}})}},{"./util/minimal":205}],200:[function(e,t,r){"use strict";function n(e){o.call(this,e)}t.exports=n;var o=e("./reader");(n.prototype=Object.create(o.prototype)).constructor=n;var a=e("./util/minimal");a.Buffer&&(n.prototype._slice=a.Buffer.prototype.slice),n.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len))}},{"./reader":199,"./util/minimal":205}],201:[function(e,t,r){"use strict";t.exports={}},{}],202:[function(e,t,r){"use strict";var n=r;n.Service=e("./rpc/service")},{"./rpc/service":203}],203:[function(e,t,r){"use strict";function n(e,t,r){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");o.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(r)}t.exports=n;var o=e("../util/minimal");(n.prototype=Object.create(o.EventEmitter.prototype)).constructor=n,n.prototype.rpcCall=function e(t,r,n,a,i){if(!a)throw TypeError("request must be specified");var s=this;if(!i)return o.asPromise(e,s,t,r,n,a);if(!s.rpcImpl)return void setTimeout(function(){i(Error("already ended"))},0);try{return s.rpcImpl(t,r[s.requestDelimited?"encodeDelimited":"encode"](a).finish(),function(e,r){if(e)return s.emit("error",e,t),i(e);if(null===r)return void s.end(!0);if(!(r instanceof n))try{r=n[s.responseDelimited?"decodeDelimited":"decode"](r)}catch(e){return s.emit("error",e,t),i(e)}return s.emit("data",r,t),i(null,r)})}catch(e){return s.emit("error",e,t),void setTimeout(function(){i(e)},0)}},n.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},{"../util/minimal":205}],204:[function(e,t,r){"use strict";function n(e,t){this.lo=e>>>0,this.hi=t>>>0}t.exports=n;var o=e("../util/minimal"),a=n.zero=new n(0,0);a.toNumber=function(){return 0},a.zzEncode=a.zzDecode=function(){return this},a.length=function(){return 1};var i=n.zeroHash="\0\0\0\0\0\0\0\0";n.fromNumber=function(e){if(0===e)return a;var t=e<0;t&&(e=-e);var r=e>>>0,o=(e-r)/4294967296>>>0;return t&&(o=~o>>>0,r=~r>>>0,++r>4294967295&&(r=0,++o>4294967295&&(o=0))),new n(r,o)},n.from=function(e){if("number"==typeof e)return n.fromNumber(e);if(o.isString(e)){if(!o.Long)return n.fromNumber(parseInt(e,10));e=o.Long.fromString(e)}return e.low||e.high?new n(e.low>>>0,e.high>>>0):a},n.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=~this.lo+1>>>0,r=~this.hi>>>0;return t||(r=r+1>>>0),-(t+4294967296*r)}return this.lo+4294967296*this.hi},n.prototype.toLong=function(e){return o.Long?new o.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var s=String.prototype.charCodeAt;n.fromHash=function(e){return e===i?a:new n((s.call(e,0)|s.call(e,1)<<8|s.call(e,2)<<16|s.call(e,3)<<24)>>>0,(s.call(e,4)|s.call(e,5)<<8|s.call(e,6)<<16|s.call(e,7)<<24)>>>0)},n.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},n.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},n.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},n.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,r=this.hi>>>24;return 0===r?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:r<128?9:10}},{"../util/minimal":205}],205:[function(e,t,r){(function(t){"use strict";function n(e,t,r){for(var n=Object.keys(t),o=0;o<n.length;++o)void 0!==e[n[o]]&&r||(e[n[o]]=t[n[o]]);return e}function o(e){function t(e,r){return this instanceof t?(Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),void(r&&n(this,r))):new t(e,r)}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,"name",{get:function(){return e}}),t.prototype.toString=function(){return this.name+": "+this.message},t}var a=r;a.asPromise=e("@protobufjs/aspromise"),a.base64=e("@protobufjs/base64"),a.EventEmitter=e("@protobufjs/eventemitter"),a.float=e("@protobufjs/float"),a.inquire=e("@protobufjs/inquire"),a.utf8=e("@protobufjs/utf8"),a.pool=e("@protobufjs/pool"),a.LongBits=e("./longbits"),a.global="undefined"!=typeof window&&window||"undefined"!=typeof t&&t||"undefined"!=typeof self&&self||this,a.emptyArray=Object.freeze?Object.freeze([]):[],a.emptyObject=Object.freeze?Object.freeze({}):{},a.isNode=Boolean(a.global.process&&a.global.process.versions&&a.global.process.versions.node),a.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},a.isString=function(e){return"string"==typeof e||e instanceof String},a.isObject=function(e){return e&&"object"==typeof e},a.isset=a.isSet=function(e,t){var r=e[t];return!(null==r||!e.hasOwnProperty(t))&&("object"!=typeof r||(Array.isArray(r)?r.length:Object.keys(r).length)>0)},a.Buffer=function(){try{var e=a.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),a._Buffer_from=null,a._Buffer_allocUnsafe=null,a.newBuffer=function(e){return"number"==typeof e?a.Buffer?a._Buffer_allocUnsafe(e):new a.Array(e):a.Buffer?a._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},a.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,a.Long=a.global.dcodeIO&&a.global.dcodeIO.Long||a.global.Long||a.inquire("long"),a.key2Re=/^true|false|0|1$/,a.key32Re=/^-?(?:0|[1-9][0-9]*)$/,a.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,a.longToHash=function(e){return e?a.LongBits.from(e).toHash():a.LongBits.zeroHash},a.longFromHash=function(e,t){var r=a.LongBits.fromHash(e);return a.Long?a.Long.fromBits(r.lo,r.hi,t):r.toNumber(Boolean(t))},a.merge=n,a.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},a.newError=o,a.ProtocolError=o("ProtocolError"),a.oneOfGetter=function(e){for(var t={},r=0;r<e.length;++r)t[e[r]]=1;return function(){for(var e=Object.keys(this),r=e.length-1;r>-1;--r)if(1===t[e[r]]&&void 0!==this[e[r]]&&null!==this[e[r]])return e[r]}},a.oneOfSetter=function(e){return function(t){for(var r=0;r<e.length;++r)e[r]!==t&&delete this[e[r]]}},a.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},a._configure=function(){var e=a.Buffer;return e?(a._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,r){return new e(t,r)},void(a._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)})):void(a._Buffer_from=a._Buffer_allocUnsafe=null)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./longbits":204,"@protobufjs/aspromise":1,"@protobufjs/base64":2,"@protobufjs/eventemitter":3,"@protobufjs/float":4,"@protobufjs/inquire":5,"@protobufjs/pool":6,"@protobufjs/utf8":7}],206:[function(e,t,r){"use strict";function n(e,t,r){this.fn=e,this.len=t,this.next=void 0,this.val=r}function o(){}function a(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function i(){this.len=0,this.head=new n(o,0,0),this.tail=this.head,this.states=null}function s(e,t,r){t[r]=255&e}function u(e,t,r){for(;e>127;)t[r++]=127&e|128,e>>>=7;t[r]=e}function l(e,t){this.len=e,this.next=void 0,this.val=t}function p(e,t,r){for(;e.hi;)t[r++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[r++]=127&e.lo|128,e.lo=e.lo>>>7;t[r++]=e.lo}function c(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}t.exports=i;var f,h=e("./util/minimal"),d=h.LongBits,m=h.base64,g=h.utf8;i.create=h.Buffer?function(){return(i.create=function(){return new f})()}:function(){return new i},i.alloc=function(e){return new h.Array(e)},h.Array!==Array&&(i.alloc=h.pool(i.alloc,h.Array.prototype.subarray)),i.prototype._push=function(e,t,r){return this.tail=this.tail.next=new n(e,t,r),this.len+=t,this},l.prototype=Object.create(n.prototype),l.prototype.fn=u,i.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new l((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},i.prototype.int32=function(e){return e<0?this._push(p,10,d.fromNumber(e)):this.uint32(e)},i.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},i.prototype.uint64=function(e){var t=d.from(e);return this._push(p,t.length(),t)},i.prototype.int64=i.prototype.uint64,i.prototype.sint64=function(e){var t=d.from(e).zzEncode();return this._push(p,t.length(),t)},i.prototype.bool=function(e){return this._push(s,1,e?1:0)},i.prototype.fixed32=function(e){return this._push(c,4,e>>>0)},i.prototype.sfixed32=i.prototype.fixed32,i.prototype.fixed64=function(e){var t=d.from(e);return this._push(c,4,t.lo)._push(c,4,t.hi)},i.prototype.sfixed64=i.prototype.fixed64,i.prototype.float=function(e){return this._push(h.float.writeFloatLE,4,e)},i.prototype.double=function(e){return this._push(h.float.writeDoubleLE,8,e)};var v=h.Array.prototype.set?function(e,t,r){t.set(e,r)}:function(e,t,r){for(var n=0;n<e.length;++n)t[r+n]=e[n]};i.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(s,1,0);if(h.isString(e)){var r=i.alloc(t=m.length(e));m.decode(e,r,0),e=r}return this.uint32(t)._push(v,t,e)},i.prototype.string=function(e){var t=g.length(e);return t?this.uint32(t)._push(g.write,t,e):this._push(s,1,0)},i.prototype.fork=function(){return this.states=new a(this),this.head=this.tail=new n(o,0,0),this.len=0,this},i.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new n(o,0,0),this.len=0),this},i.prototype.ldelim=function(){var e=this.head,t=this.tail,r=this.len;return this.reset().uint32(r),r&&(this.tail.next=e.next,this.tail=t,this.len+=r),this},i.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),r=0;e;)e.fn(e.val,t,r),r+=e.len,e=e.next;return t},i._configure=function(e){f=e}},{"./util/minimal":205}],207:[function(e,t,r){"use strict";function n(){a.call(this)}function o(e,t,r){e.length<40?i.utf8.write(e,t,r):t.utf8Write(e,r)}t.exports=n;var a=e("./writer");(n.prototype=Object.create(a.prototype)).constructor=n;var i=e("./util/minimal"),s=i.Buffer;n.alloc=function(e){return(n.alloc=i._Buffer_allocUnsafe)(e)};var u=s&&s.prototype instanceof Uint8Array&&"set"===s.prototype.set.name?function(e,t,r){t.set(e,r)}:function(e,t,r){if(e.copy)e.copy(t,r,0,e.length);else for(var n=0;n<e.length;)t[r++]=e[n++]};n.prototype.bytes=function(e){i.isString(e)&&(e=i._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(u,t,e),this},n.prototype.string=function(e){var t=s.byteLength(e);return this.uint32(t),t&&this._push(o,t,e),this}},{"./util/minimal":205,"./writer":206}],208:[function(e,t,r){var n=e("./lib/alea"),o=e("./lib/xor128"),a=e("./lib/xorwow"),i=e("./lib/xorshift7"),s=e("./lib/xor4096"),u=e("./lib/tychei"),l=e("./seedrandom");l.alea=n,l.xor128=o,l.xorwow=a,l.xorshift7=i,l.xor4096=s,l.tychei=u,t.exports=l},{"./lib/alea":209,"./lib/tychei":210,"./lib/xor128":211,"./lib/xor4096":212,"./lib/xorshift7":213,"./lib/xorwow":214,"./seedrandom":215}],209:[function(e,t,r){!function(e,t,r){function n(e){var t=this,r=i();t.next=function(){var e=2091639*t.s0+2.3283064365386963e-10*t.c;return t.s0=t.s1,t.s1=t.s2,t.s2=e-(t.c=0|e)},t.c=1,t.s0=r(" "),t.s1=r(" "),t.s2=r(" "),t.s0-=r(e),t.s0<0&&(t.s0+=1),t.s1-=r(e),t.s1<0&&(t.s1+=1),t.s2-=r(e),t.s2<0&&(t.s2+=1),r=null}function o(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function a(e,t){var r=new n(e),a=t&&t.state,i=r.next;return i.int32=function(){return 4294967296*r.next()|0},i.double=function(){return i()+1.1102230246251565e-16*(2097152*i()|0)},i.quick=i,a&&("object"==typeof a&&o(a,r),i.state=function(){return o(r,{})}),i}function i(){var e=4022871197,t=function(t){t=t.toString();for(var r=0;r<t.length;r++){e+=t.charCodeAt(r);var n=.02519603282416938*e;e=n>>>0,n-=e,n*=e,e=n>>>0,n-=e,e+=4294967296*n}return 2.3283064365386963e-10*(e>>>0)};return t}t&&t.exports?t.exports=a:r&&r.amd?r(function(){return a}):this.alea=a}(this,"object"==typeof t&&t,"function"==typeof define&&define)},{}],210:[function(e,t,r){!function(e,t,r){function n(e){var t=this,r="";t.next=function(){var e=t.b,r=t.c,n=t.d,o=t.a;return e=e<<25^e>>>7^r,r=r-n|0,n=n<<24^n>>>8^o,o=o-e|0,t.b=e=e<<20^e>>>12^r,t.c=r=r-n|0,t.d=n<<16^r>>>16^o,t.a=o-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):r+=e;for(var n=0;n<r.length+20;n++)t.b^=0|r.charCodeAt(n),t.next()}function o(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function a(e,t){var r=new n(e),a=t&&t.state,i=function(){return(r.next()>>>0)/4294967296};return i.double=function(){do var e=r.next()>>>11,t=(r.next()>>>0)/4294967296,n=(e+t)/(1<<21);while(0===n);return n},i.int32=r.next,i.quick=i,a&&("object"==typeof a&&o(a,r),i.state=function(){return o(r,{})}),i}t&&t.exports?t.exports=a:r&&r.amd?r(function(){return a}):this.tychei=a}(this,"object"==typeof t&&t,"function"==typeof define&&define)},{}],211:[function(e,t,r){!function(e,t,r){function n(e){var t=this,r="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:r+=e;for(var n=0;n<r.length+64;n++)t.x^=0|r.charCodeAt(n),t.next()}function o(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function a(e,t){var r=new n(e),a=t&&t.state,i=function(){return(r.next()>>>0)/4294967296};return i.double=function(){do var e=r.next()>>>11,t=(r.next()>>>0)/4294967296,n=(e+t)/(1<<21);while(0===n);return n},i.int32=r.next,i.quick=i,a&&("object"==typeof a&&o(a,r),i.state=function(){return o(r,{})}),i}t&&t.exports?t.exports=a:r&&r.amd?r(function(){return a}):this.xor128=a}(this,"object"==typeof t&&t,"function"==typeof define&&define)},{}],212:[function(e,t,r){!function(e,t,r){function n(e){function t(e,t){var r,n,o,a,i,s=[],u=128;for(t===(0|t)?(n=t,t=null):(t+="\0",n=0,u=Math.max(u,t.length)),o=0,a=-32;a<u;++a)t&&(n^=t.charCodeAt((a+32)%t.length)),0===a&&(i=n),n^=n<<10,n^=n>>>15,n^=n<<4,n^=n>>>13,a>=0&&(i=i+1640531527|0,r=s[127&a]^=n+i,o=0==r?o+1:0);for(o>=128&&(s[127&(t&&t.length||0)]=-1),o=127,a=512;a>0;--a)n=s[o+34&127],r=s[o=o+1&127],n^=n<<13,r^=r<<17,n^=n>>>15,r^=r>>>12,s[o]=n^r;e.w=i,e.X=s,e.i=o}var r=this;r.next=function(){var e,t,n=r.w,o=r.X,a=r.i;return r.w=n=n+1640531527|0,t=o[a+34&127],e=o[a=a+1&127],t^=t<<13,e^=e<<17,t^=t>>>15,e^=e>>>12,t=o[a]=t^e,r.i=a,t+(n^n>>>16)|0},t(r,e)}function o(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function a(e,t){null==e&&(e=+new Date);var r=new n(e),a=t&&t.state,i=function(){return(r.next()>>>0)/4294967296};return i.double=function(){do var e=r.next()>>>11,t=(r.next()>>>0)/4294967296,n=(e+t)/(1<<21);while(0===n);return n},i.int32=r.next,i.quick=i,a&&(a.X&&o(a,r),i.state=function(){return o(r,{})}),i}t&&t.exports?t.exports=a:r&&r.amd?r(function(){return a}):this.xor4096=a}(this,"object"==typeof t&&t,"function"==typeof define&&define)},{}],213:[function(e,t,r){!function(e,t,r){function n(e){function t(e,t){var r,n,o=[];if(t===(0|t))n=o[0]=t;else for(t=""+t,r=0;r<t.length;++r)o[7&r]=o[7&r]<<15^t.charCodeAt(r)+o[r+1&7]<<13;for(;o.length<8;)o.push(0);for(r=0;r<8&&0===o[r];++r);for(n=8==r?o[7]=-1:o[r],e.x=o,e.i=0,r=256;r>0;--r)e.next()}var r=this;r.next=function(){var e,t,n=r.x,o=r.i;return e=n[o],e^=e>>>7,t=e^e<<24,e=n[o+1&7],t^=e^e>>>10,e=n[o+3&7],t^=e^e>>>3,e=n[o+4&7],t^=e^e<<7,e=n[o+7&7],e^=e<<13,t^=e^e<<9,n[o]=t,r.i=o+1&7,t},t(r,e)}function o(e,t){return t.x=e.x.slice(),t.i=e.i,t}function a(e,t){null==e&&(e=+new Date);var r=new n(e),a=t&&t.state,i=function(){return(r.next()>>>0)/4294967296};return i.double=function(){do var e=r.next()>>>11,t=(r.next()>>>0)/4294967296,n=(e+t)/(1<<21);while(0===n);return n},i.int32=r.next,i.quick=i,a&&(a.x&&o(a,r),i.state=function(){return o(r,{})}),i}t&&t.exports?t.exports=a:r&&r.amd?r(function(){return a}):this.xorshift7=a}(this,"object"==typeof t&&t,"function"==typeof define&&define)},{}],214:[function(e,t,r){!function(e,t,r){function n(e){var t=this,r="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^(e^e<<1))|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:r+=e;for(var n=0;n<r.length+64;n++)t.x^=0|r.charCodeAt(n),n==r.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function o(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function a(e,t){var r=new n(e),a=t&&t.state,i=function(){return(r.next()>>>0)/4294967296};return i.double=function(){do var e=r.next()>>>11,t=(r.next()>>>0)/4294967296,n=(e+t)/(1<<21);while(0===n);return n},i.int32=r.next,i.quick=i,a&&("object"==typeof a&&o(a,r),i.state=function(){return o(r,{})}),i}t&&t.exports?t.exports=a:r&&r.amd?r(function(){return a}):this.xorwow=a}(this,"object"==typeof t&&t,"function"==typeof define&&define)},{}],215:[function(e,t,r){!function(r,n){function o(e,t,o){var c=[];t=1==t?{entropy:!0}:t||{};var f=u(s(t.entropy?[e,p(r)]:null==e?l():e,3),c),m=new a(c),b=function(){for(var e=m.g(d),t=v,r=0;e<y;)e=(e+r)*h,t*=h,r=m.g(1);for(;e>=x;)e/=2,t/=2,r>>>=1;return(e+r)/t};return b.int32=function(){return 0|m.g(4)},b.quick=function(){return m.g(4)/4294967296},b.double=b,u(p(m.S),r),(t.pass||o||function(e,t,r,o){return o&&(o.S&&i(o,m),e.state=function(){return i(m,{})}),r?(n[g]=e,t):e})(b,f,"global"in t?t.global:this==n,t.state)}function a(e){var t,r=e.length,n=this,o=0,a=n.i=n.j=0,i=n.S=[];for(r||(e=[r++]);o<h;)i[o]=o++;for(o=0;o<h;o++)i[o]=i[a=b&a+e[o%r]+(t=i[o])],i[a]=t;(n.g=function(e){for(var t,r=0,o=n.i,a=n.j,i=n.S;e--;)t=i[o=b&o+1],r=r*h+i[b&(i[o]=i[a=b&a+t])+(i[a]=t)];return n.i=o,n.j=a,r})(h)}function i(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function s(e,t){var r,n=[],o=typeof e;if(t&&"object"==o)for(r in e)try{n.push(s(e[r],t-1))}catch(e){}return n.length?n:"string"==o?e:e+"\0"}function u(e,t){for(var r,n=e+"",o=0;o<n.length;)t[b&o]=b&(r^=19*t[b&o])+n.charCodeAt(o++);return p(t)}function l(){try{var e;return c&&(e=c.randomBytes)?e=e(h):(e=new Uint8Array(h),(f.crypto||f.msCrypto).getRandomValues(e)),p(e)}catch(e){var t=f.navigator,n=t&&t.plugins;return[+new Date,f,n,f.screen,p(r)]}}function p(e){return String.fromCharCode.apply(0,e)}var c,f=(0,eval)("this"),h=256,d=6,m=52,g="random",v=n.pow(h,d),y=n.pow(2,m),x=2*y,b=h-1;if(n["seed"+g]=o,u(n.random(),r),"object"==typeof t&&t.exports){t.exports=o;try{c=e("crypto")}catch(e){}}else"function"==typeof define&&define.amd&&define(function(){return o})}([],Math)},{crypto:185}],216:[function(e,t,r){(function(t,n){function o(e,t){this._id=e,this._clearFn=t}var a=e("process/browser.js").nextTick,i=Function.prototype.apply,s=Array.prototype.slice,u={},l=0;r.setTimeout=function(){return new o(i.call(setTimeout,window,arguments),clearTimeout)},r.setInterval=function(){return new o(i.call(setInterval,window,arguments),clearInterval)},r.clearTimeout=r.clearInterval=function(e){e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(window,this._id)},r.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},r.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},r._unrefActive=r.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},r.setImmediate="function"==typeof t?t:function(e){var t=l++,n=!(arguments.length<2)&&s.call(arguments,1);return u[t]=!0,a(function(){u[t]&&(n?e.apply(null,n):e.call(null),r.clearImmediate(t))}),t},r.clearImmediate="function"==typeof n?n:function(e){delete u[e]}}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":196,timers:216}],217:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),$(function(){var e=$("button, .cta");e.on("click",function(e){var t=$(this);t.hasClass("disabled")||i(e,t)})});var n=0,o=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Toaster message",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=doT.template($("#toaster-template").html()),i={ind:n,message:t,isReload:o};$(".toaster__wrap").length||$("#main").after('<div class="toaster__wrap" />'),$(".toaster__wrap").append(a(i));var e=".toaster"+n;TweenLite.to(e,.75,{opacity:1,scale:1,ease:Expo.easeOut}),0!==r&&TweenLite.to(e,.75,{opacity:0,scale:.75,ease:Expo.easeOut,delay:r,onComplete:function(){$(e).remove()}}),$(e).on("click",".js-dismiss",function(t){t.preventDefault(),TweenLite.to($(this).parent(),.75,{opacity:0,scale:.75,ease:Expo.easeOut,onComplete:function(){$(e).remove()}})}),n++};$("body").on("click",".js-refresh",function(){window.location.reload()});var a=0,i=function(e,t){if($(".no-svg").length||t.find("svg").length)return!1;var r=document.createElementNS("http://www.w3.org/2000/svg","svg"),n=document.createElementNS("http://www.w3.org/2000/svg","g"),o=document.createElementNS("http://www.w3.org/2000/svg","circle"),i=e.offsetX,s=e.offsetY;if(void 0==i)return!1;r.setAttributeNS(null,"class","ripple ripple"+a),n.setAttributeNS(null,"transform","translate("+i+", "+s+")"),o.setAttributeNS(null,"r",parseInt(t.outerWidth())+i),r.appendChild(n),n.appendChild(o),t.append(r);var u=t.find(".ripple"+a);TweenLite.from(u.find("circle"),1.5,{attr:{r:0},opacity:.75,ease:Expo.easeOut,onComplete:function(){u.remove()}}),a++};r.toaster=o,r.ripple=i},{}],218:[function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e,t,r){function o(e,t){return("undefined"==typeof e?"undefined":n(e))===t}function a(){var e,t,r,n,a,i,s;for(var u in c)if(c.hasOwnProperty(u)){if(e=[],t=c[u],t.name&&(e.push(t.name.toLowerCase()),t.options&&t.options.aliases&&t.options.aliases.length))for(r=0;r<t.options.aliases.length;r++)e.push(t.options.aliases[r].toLowerCase());for(n=o(t.fn,"function")?t.fn():t.fn,a=0;a<e.length;a++)i=e[a],s=i.split("."),1===s.length?h[s[0]]=n:(!h[s[0]]||h[s[0]]instanceof Boolean||(h[s[0]]=new Boolean(h[s[0]])),h[s[0]][s[1]]=n),p.push((n?"":"no-")+s.join("-"))}}function i(e){var t=d.className,r=h._config.classPrefix||"";if(m&&(t=t.baseVal),h._config.enableJSClass){var n=new RegExp("(^|\\s)"+r+"no-js(\\s|$)");t=t.replace(n,"$1"+r+"js$2")}h._config.enableClasses&&(t+=" "+r+e.join(" "+r),m?d.className.baseVal=t:d.className=t)}function s(){return"function"!=typeof t.createElement?t.createElement(arguments[0]):m?t.createElementNS.call(t,"http://www.w3.org/2000/svg",arguments[0]):t.createElement.apply(t,arguments)}function u(){var e=t.body;return e||(e=s(m?"svg":"body"),e.fake=!0),e}function l(e,r,n,o){var a,i,l,p,c="modernizr",f=s("div"),h=u();if(parseInt(n,10))for(;n--;)l=s("div"),l.id=o?o[n]:c+(n+1),f.appendChild(l);return a=s("style"),a.type="text/css",a.id="s"+c,(h.fake?h:f).appendChild(a),h.appendChild(f),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(t.createTextNode(e)),f.id=c,h.fake&&(h.style.background="",h.style.overflow="hidden",p=d.style.overflow,d.style.overflow="hidden",d.appendChild(h)),i=r(f,e),h.fake?(h.parentNode.removeChild(h),d.style.overflow=p,d.offsetHeight):f.parentNode.removeChild(f),!!i}var p=[],c=[],f={_version:"3.5.0",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,t){var r=this;setTimeout(function(){t(r[e])},0)},addTest:function(e,t,r){c.push({name:e,fn:t,options:r})},addAsyncTest:function(e){c.push({name:null,fn:e})}},h=function(){};h.prototype=f,h=new h;var d=t.documentElement,m="svg"===d.nodeName.toLowerCase(),g=function(){var t=e.matchMedia||e.msMatchMedia;return t?function(e){var r=t(e);return r&&r.matches||!1}:function(t){var r=!1;return l("@media "+t+" { #modernizr { position: absolute; } }",function(t){r="absolute"==(e.getComputedStyle?e.getComputedStyle(t,null):t.currentStyle).position;
}),r}}();f.mq=g,a(),i(p),delete f.addTest,delete f.addAsyncTest;for(var v=0;v<h._q.length;v++)h._q[v]();e.Modernizr=h}(window,document)},{}],219:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(e,t,r){var n;return function(){var o=this,a=arguments,i=function(){n=null,r||e.apply(o,a)},s=r&&!n;clearTimeout(n),n=setTimeout(i,t),s&&e.apply(o,a)}},o=function(){return Modernizr.mq("(max-width: 767px)")},a=function(){return Modernizr.mq("(min-width: 768px)")},i=function(){return Modernizr.mq("(min-width: 1024px)")},s=function(){return Modernizr.mq("(min-width: 1200px)")},u=function(){var e=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"];if(navigator.platform)for(;e.length;)if(navigator.platform===e.pop())return!0;return!1};jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",easeOutExpo:function(e,t,r,n,o){return t==o?r+n:n*(-Math.pow(2,-10*t/o)+1)+r},easeInOutExpo:function(e,t,r,n,o){return 0==t?r:t==o?r+n:(t/=o/2)<1?n/2*Math.pow(2,10*(t-1))+r:n/2*(-Math.pow(2,-10*--t)+2)+r}});var l={duration:500,easing:"easeOutExpo",queue:!1};r.debounce=n,r.iOS=u,r.isMobile=o,r.isTablet=a,r.isDesktop=i,r.isLargeDesktop=s,r.easeOutExpo=l},{}],220:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var o=e("jquery"),a=n(o);e("TweenLite"),e("EasePack"),e("AttrPlugin"),e("CSSPlugin"),e("doT"),e("./_modernizr");var i=e("../_modules/snap/snap"),s=n(i),u=e("../_modules/serviceworker/serviceworker");n(u);(0,a.default)(function(){new s.default,TweenLite.ticker.fps(60),console.log("I'm a not-hotdog-pwa!!!")})},{"../_modules/serviceworker/serviceworker":222,"../_modules/snap/snap":223,"./_modernizr":218,AttrPlugin:192,CSSPlugin:193,EasePack:191,TweenLite:190,doT:188,jquery:195}],221:[function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=e("@tensorflow/tfjs-core"),s=n(i),u=e("@tensorflow/tfjs-converter"),l=function(){function e(){o(this,e);var t=this;this.classes={},this.IMAGE_SIZE=224,this.TOPK_PREDICTIONS=3,this.IMAGENET_CLASSES={},fetch("./assets/not-hotdog-pwa/models/output_labels.txt").then(function(e){return e.text()}).then(function(e){for(var r=e.split("\n"),n=(e.match(/\n/g)||[]).length,o=0,a=n;o<a;o++)t.IMAGENET_CLASSES[o]=r[o]})}return a(e,[{key:"loadMobilenet",value:function(){var e,t,r=this;return Promise.resolve().then(function(){return e="./assets/not-hotdog-pwa/models/saved_model_web/tensorflowjs_model.pb",t="./assets/not-hotdog-pwa/models/saved_model_web/weights_manifest.json",(0,u.loadFrozenModel)(e,t)}).then(function(e){r.model=e})}},{key:"predict",value:function(e){var t,r,n,o=this;return Promise.resolve().then(function(){return t=o,console.time("Predicting"),r=s.tidy(function(){var r=s.fromPixels(e).toFloat(),n=s.scalar(127.5),o=r.sub(n).div(n),a=o.reshape([1,t.IMAGE_SIZE,t.IMAGE_SIZE,3]),i={},u="Placeholder",l="final_result";return i[u]=a,t.model.execute(i,l)}),o.getTopKClasses(r,o.TOPK_PREDICTIONS)}).then(function(e){n=e,console.timeEnd("Predicting"),o.classes=n})}},{key:"getTopKClasses",value:function(e,t){var r,n,o,a,i,s,u,l,p=this;return Promise.resolve().then(function(){return e.data()}).then(function(e){for(r=e,n=[],o=0;o<r.length;o++)n.push({value:r[o],index:o});for(n.sort(function(e,t){return t.value-e.value}),a=new Float32Array(t),i=new Int32Array(t),s=0;s<t;s++)a[s]=n[s].value,i[s]=n[s].index;for(u=[],l=0;l<i.length;l++)u.push({className:p.IMAGENET_CLASSES[i[l]],probability:a[l]});return u})}}]),e}();r.default=l,t.exports=r.default},{"@tensorflow/tfjs-converter":13,"@tensorflow/tfjs-core":55}],222:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var o=e("../../_js/_material"),a=function e(){n(this,e),"serviceWorker"in navigator&&(console.log("serviceWorker is in navigator"),navigator.serviceWorker.register("./service-worker.js").then(function(e){console.log("registered service worker"),e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){switch(t.state){case"installed":navigator.serviceWorker.controller||(0,o.toaster)("Caching complete!");break;case"redundant":throw Error("The installing service worker became redundant.")}}}}).catch(function(e){console.error("uh oh... "),console.error(e)}),window.addEventListener("appinstalled",function(e){console.log("User added to homescreen")}),navigator.serviceWorker&&navigator.serviceWorker.controller&&(console.log("navigator.serviceWorker.controller.onstatechange:: "+navigator.serviceWorker.controller.onstatechange),navigator.serviceWorker.controller.onstatechange=function(e){"redundant"===e.target.state&&(0,o.toaster)("A new version of this app is available.",0)}))};r.default=a,t.exports=r.default},{"../../_js/_material":217}],223:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=e("@tensorflow/tfjs-core"),u=o(s),l=e("../mobilenet/MobileNet"),p=n(l),c=e("../speech/speech"),f=n(c),h=function(){function e(){a(this,e);var t=this,r=window.devicePixelRatio||1;console.time("Loading of model"),this.mobileNet=new p.default,this.mobileNet.loadMobilenet(),console.timeEnd("Loading of model"),this.SPEECH=new f.default,this.CANVAS=document.createElement("canvas"),this.IMAGE=document.createElement("img"),this.MESSAGE=document.getElementsByClassName("snap__message")[0],this.VIEWER=document.getElementsByClassName("snap__viewer")[0],this.CAMERA=document.getElementsByClassName("snap__btn -camera")[0],this.DETAILS=document.getElementsByClassName("snap__details")[0],this.POLAROID=document.getElementsByClassName("snap__polaroid")[0],this.TAKE_PHOTO=document.getElementsByClassName("js-take-photo")[0],this.CONTEXT=this.CANVAS.getContext("2d"),this.topPrediction="",this.CONTEXT.scale(r,r),this.VIDEO=document.getElementById("video"),this.VIDEO.setAttribute("playsinline",""),this.VIDEO.setAttribute("muted",""),this.IMAGE.setAttribute("id","image"),document.body.appendChild(this.IMAGE),this.TAKE_PHOTO.addEventListener("click",function(){t.MESSAGE.textContent="what is this?",t.SPEECH.speak("en-US","native","what is this?"),t.CONTEXT.drawImage(t.VIDEO,0,0,t.VIDEO.width,t.VIDEO.height);var e=t.CANVAS.toDataURL("image/png"),r="";t.VIEWER.classList.add("-show"),t.IMAGE.onload=function(){u.tidy(function(){t.CAMERA.classList.add("-hide"),t.mobileNet.predict(t.IMAGE).then(function(){if(void 0==t.mobileNet.classes.length)t.unknownImage();else{var e=t.mobileNet.classes;t.topPrediction=e[0].className,t.MESSAGE.innerHTML=t.topPrediction,t.SPEECH.speak("en-US","native","It's "+t.checkForVowel(t.topPrediction)+t.topPrediction);for(var n=0,o=e.length;n<o;n++)r+="<p><strong>"+e[n].className+"</strong>: "+e[n].probability.toFixed(4)+"</p>"}t.DETAILS.innerHTML=r})})},t.IMAGE.src=e,t.POLAROID.style.backgroundImage="url("+e+")"}),document.getElementsByClassName("js-delete-photo")[0].addEventListener("click",function(){t.reset()}),this.initCamera()}return i(e,[{key:"initCamera",value:function(){var e,t,r=this;return e=r,t=r,new Promise(function(r,n){navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"},audio:!1}).then(function(t){e.VIDEO.srcObject=t,e.VIDEO.addEventListener("loadeddata",function(){e.VIDEO.width=e.VIDEO.videoWidth,e.VIDEO.height=e.VIDEO.videoHeight,e.CANVAS.width=e.VIDEO.videoWidth,e.CANVAS.height=e.VIDEO.videoHeight,r()},!1)}).catch(function(e){console.error(e),t.MESSAGE.textContent="I need a camera to identify the hotdog"}):n()})}},{key:"unknownImage",value:function(){var e=this;e.MESSAGE.textContent="unknown image",e.SPEECH.speak("en-US","native","Sorry, can't determine the image.")}},{key:"checkForVowel",value:function(e){var t=e.charAt(0);return t.match(/[aeiouAEIOU]/)?" an ":" a "}},{key:"reset",value:function(){var e=this;e.IMAGE.src=null,this.IMAGE.removeAttribute("src"),e.MESSAGE.textContent="",e.DETAILS.innerHTML="",e.VIEWER.classList.remove("-show"),e.CAMERA.classList.remove("-hide")}}]),e}();r.default=h,t.exports=r.default},{"../mobilenet/MobileNet":221,"../speech/speech":224,"@tensorflow/tfjs-core":55}],224:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=e("../../_js/_util"),i=function(){function e(){n(this,e)}return o(e,[{key:"speak",value:function(e,t,r){var n=this;n.canITalk();var o=new SpeechSynthesisUtterance;o.text=r,o.volume=1,o.rate=1,o.pitch=1,o.lang=e,o.voice=speechSynthesis.getVoices().filter(function(e){return e.name==t})[0],window.speechSynthesis.speak(o)}},{key:"canITalk",value:function(){if((0,a.iOS)())return!1;var e=window.webkitSpeechSynthesisUtterance||window.mozSpeechSynthesisUtterance||window.msSpeechSynthesisUtterance||window.oSpeechSynthesisUtterance||window.SpeechSynthesisUtterance;return void 0!==e&&void 0}}]),e}();r.default=i,t.exports=r.default},{"../../_js/_util":219}]},{},[220]);
//# sourceMappingURL=main.js.map
