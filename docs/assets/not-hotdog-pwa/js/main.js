!function(){function e(t,n,r){function o(i,s){if(!n[i]){if(!t[i]){var u="function"==typeof require&&require;if(!s&&u)return u(i,!0);if(a)return a(i,!0);var l=new Error("Cannot find module '"+i+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[i]={exports:{}};t[i][0].call(c.exports,function(e){var n=t[i][1][e];return o(n||e)},c,c.exports,e,t,n,r)}return n[i].exports}for(var a="function"==typeof require&&require,i=0;i<r.length;i++)o(r[i]);return o}return e}()({1:[function(e,t,n){"use strict";function r(e,t){for(var n=new Array(arguments.length-1),r=0,o=2,a=!0;o<arguments.length;)n[r++]=arguments[o++];return new Promise(function(o,i){n[r]=function(e){if(a)if(a=!1,e)i(e);else{for(var t=new Array(arguments.length-1),n=0;n<t.length;)t[n++]=arguments[n];o.apply(null,t)}};try{e.apply(t||null,n)}catch(e){a&&(a=!1,i(e))}})}t.exports=r},{}],2:[function(e,t,n){"use strict";var r=n;r.length=function(e){var t=e.length;if(!t)return 0;for(var n=0;--t%4>1&&"="===e.charAt(t);)++n;return Math.ceil(3*e.length)/4-n};for(var o=new Array(64),a=new Array(123),i=0;i<64;)a[o[i]=i<26?i+65:i<52?i+71:i<62?i-4:i-59|43]=i++;r.encode=function(e,t,n){for(var r,a=null,i=[],s=0,u=0;t<n;){var l=e[t++];switch(u){case 0:i[s++]=o[l>>2],r=(3&l)<<4,u=1;break;case 1:i[s++]=o[r|l>>4],r=(15&l)<<2,u=2;break;case 2:i[s++]=o[r|l>>6],i[s++]=o[63&l],u=0}s>8191&&((a||(a=[])).push(String.fromCharCode.apply(String,i)),s=0)}return u&&(i[s++]=o[r],i[s++]=61,1===u&&(i[s++]=61)),a?(s&&a.push(String.fromCharCode.apply(String,i.slice(0,s))),a.join("")):String.fromCharCode.apply(String,i.slice(0,s))};var s="invalid encoding";r.decode=function(e,t,n){for(var r,o=n,i=0,u=0;u<e.length;){var l=e.charCodeAt(u++);if(61===l&&i>1)break;if(void 0===(l=a[l]))throw Error(s);switch(i){case 0:r=l,i=1;break;case 1:t[n++]=r<<2|(48&l)>>4,r=l,i=2;break;case 2:t[n++]=(15&r)<<4|(60&l)>>2,r=l,i=3;break;case 3:t[n++]=(3&r)<<6|l,i=0}}if(1===i)throw Error(s);return n-o},r.test=function(e){return/^(?:[A-Za-z0-9+\/]{4})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(e)}},{}],3:[function(e,t,n){"use strict";function r(){this._listeners={}}t.exports=r,r.prototype.on=function(e,t,n){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:n||this}),this},r.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var n=this._listeners[e],r=0;r<n.length;)n[r].fn===t?n.splice(r,1):++r;return this},r.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var n=[],r=1;r<arguments.length;)n.push(arguments[r++]);for(r=0;r<t.length;)t[r].fn.apply(t[r++].ctx,n)}return this}},{}],4:[function(e,t,n){"use strict";function r(e){return"undefined"!=typeof Float32Array?function(){function t(e,t,n){a[0]=e,t[n]=i[0],t[n+1]=i[1],t[n+2]=i[2],t[n+3]=i[3]}function n(e,t,n){a[0]=e,t[n]=i[3],t[n+1]=i[2],t[n+2]=i[1],t[n+3]=i[0]}function r(e,t){return i[0]=e[t],i[1]=e[t+1],i[2]=e[t+2],i[3]=e[t+3],a[0]}function o(e,t){return i[3]=e[t],i[2]=e[t+1],i[1]=e[t+2],i[0]=e[t+3],a[0]}var a=new Float32Array([-0]),i=new Uint8Array(a.buffer),s=128===i[3];e.writeFloatLE=s?t:n,e.writeFloatBE=s?n:t,e.readFloatLE=s?r:o,e.readFloatBE=s?o:r}():function(){function t(e,t,n,r){var o=t<0?1:0;if(o&&(t=-t),0===t)e(1/t>0?0:2147483648,n,r);else if(isNaN(t))e(2143289344,n,r);else if(t>3.4028234663852886e38)e((o<<31|2139095040)>>>0,n,r);else if(t<1.1754943508222875e-38)e((o<<31|Math.round(t/1.401298464324817e-45))>>>0,n,r);else{var a=Math.floor(Math.log(t)/Math.LN2),i=8388607&Math.round(t*Math.pow(2,-a)*8388608);e((o<<31|a+127<<23|i)>>>0,n,r)}}function n(e,t,n){var r=e(t,n),o=2*(r>>31)+1,a=r>>>23&255,i=8388607&r;return 255===a?i?NaN:o*(1/0):0===a?1.401298464324817e-45*o*i:o*Math.pow(2,a-150)*(i+8388608)}e.writeFloatLE=t.bind(null,o),e.writeFloatBE=t.bind(null,a),e.readFloatLE=n.bind(null,i),e.readFloatBE=n.bind(null,s)}(),"undefined"!=typeof Float64Array?function(){function t(e,t,n){a[0]=e,t[n]=i[0],t[n+1]=i[1],t[n+2]=i[2],t[n+3]=i[3],t[n+4]=i[4],t[n+5]=i[5],t[n+6]=i[6],t[n+7]=i[7]}function n(e,t,n){a[0]=e,t[n]=i[7],t[n+1]=i[6],t[n+2]=i[5],t[n+3]=i[4],t[n+4]=i[3],t[n+5]=i[2],t[n+6]=i[1],t[n+7]=i[0]}function r(e,t){return i[0]=e[t],i[1]=e[t+1],i[2]=e[t+2],i[3]=e[t+3],i[4]=e[t+4],i[5]=e[t+5],i[6]=e[t+6],i[7]=e[t+7],a[0]}function o(e,t){return i[7]=e[t],i[6]=e[t+1],i[5]=e[t+2],i[4]=e[t+3],i[3]=e[t+4],i[2]=e[t+5],i[1]=e[t+6],i[0]=e[t+7],a[0]}var a=new Float64Array([-0]),i=new Uint8Array(a.buffer),s=128===i[7];e.writeDoubleLE=s?t:n,e.writeDoubleBE=s?n:t,e.readDoubleLE=s?r:o,e.readDoubleBE=s?o:r}():function(){function t(e,t,n,r,o,a){var i=r<0?1:0;if(i&&(r=-r),0===r)e(0,o,a+t),e(1/r>0?0:2147483648,o,a+n);else if(isNaN(r))e(0,o,a+t),e(2146959360,o,a+n);else if(r>1.7976931348623157e308)e(0,o,a+t),e((i<<31|2146435072)>>>0,o,a+n);else{var s;if(r<2.2250738585072014e-308)s=r/5e-324,e(s>>>0,o,a+t),e((i<<31|s/4294967296)>>>0,o,a+n);else{var u=Math.floor(Math.log(r)/Math.LN2);1024===u&&(u=1023),s=r*Math.pow(2,-u),e(4503599627370496*s>>>0,o,a+t),e((i<<31|u+1023<<20|1048576*s&1048575)>>>0,o,a+n)}}}function n(e,t,n,r,o){var a=e(r,o+t),i=e(r,o+n),s=2*(i>>31)+1,u=i>>>20&2047,l=4294967296*(1048575&i)+a;return 2047===u?l?NaN:s*(1/0):0===u?5e-324*s*l:s*Math.pow(2,u-1075)*(l+4503599627370496)}e.writeDoubleLE=t.bind(null,o,0,4),e.writeDoubleBE=t.bind(null,a,4,0),e.readDoubleLE=n.bind(null,i,0,4),e.readDoubleBE=n.bind(null,s,4,0)}(),e}function o(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}function a(e,t,n){t[n]=e>>>24,t[n+1]=e>>>16&255,t[n+2]=e>>>8&255,t[n+3]=255&e}function i(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function s(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}t.exports=r(r)},{}],5:[function(require,module,exports){"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},{}],6:[function(e,t,n){"use strict";function r(e,t,n){var r=n||8192,o=r>>>1,a=null,i=r;return function(n){if(n<1||n>o)return e(n);i+n>r&&(a=e(r),i=0);var s=t.call(a,i,i+=n);return 7&i&&(i=(7|i)+1),s}}t.exports=r},{}],7:[function(e,t,n){"use strict";var r=n;r.length=function(e){for(var t=0,n=0,r=0;r<e.length;++r)n=e.charCodeAt(r),n<128?t+=1:n<2048?t+=2:55296===(64512&n)&&56320===(64512&e.charCodeAt(r+1))?(++r,t+=4):t+=3;return t},r.read=function(e,t,n){var r=n-t;if(r<1)return"";for(var o,a=null,i=[],s=0;t<n;)o=e[t++],o<128?i[s++]=o:o>191&&o<224?i[s++]=(31&o)<<6|63&e[t++]:o>239&&o<365?(o=((7&o)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,i[s++]=55296+(o>>10),i[s++]=56320+(1023&o)):i[s++]=(15&o)<<12|(63&e[t++])<<6|63&e[t++],s>8191&&((a||(a=[])).push(String.fromCharCode.apply(String,i)),s=0);return a?(s&&a.push(String.fromCharCode.apply(String,i.slice(0,s))),a.join("")):String.fromCharCode.apply(String,i.slice(0,s))},r.write=function(e,t,n){for(var r,o,a=n,i=0;i<e.length;++i)r=e.charCodeAt(i),r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):55296===(64512&r)&&56320===(64512&(o=e.charCodeAt(i+1)))?(r=65536+((1023&r)<<10)+(1023&o),++i,t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128);return n-a}},{}],8:[function(e,t,n){"use strict";var r=e("protobufjs/minimal"),o=r.Reader,a=r.util,i=r.roots.default||(r.roots.default={});i.tensorflow=function(){var e={};return e.Any=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.typeUrl="",e.prototype.value=a.newBuffer([]),e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new i.tensorflow.Any;e.pos<n;){var a=e.uint32();switch(a>>>3){case 1:r.typeUrl=e.string();break;case 2:r.value=e.bytes();break;default:e.skipType(7&a)}}return r},e}(),e.DataType=function(){var e={},t=Object.create(e);return t[e[0]="DT_INVALID"]=0,t[e[1]="DT_FLOAT"]=1,t[e[2]="DT_DOUBLE"]=2,t[e[3]="DT_INT32"]=3,t[e[4]="DT_UINT8"]=4,t[e[5]="DT_INT16"]=5,t[e[6]="DT_INT8"]=6,t[e[7]="DT_STRING"]=7,t[e[8]="DT_COMPLEX64"]=8,t[e[9]="DT_INT64"]=9,t[e[10]="DT_BOOL"]=10,t[e[11]="DT_QINT8"]=11,t[e[12]="DT_QUINT8"]=12,t[e[13]="DT_QINT32"]=13,t[e[14]="DT_BFLOAT16"]=14,t[e[101]="DT_FLOAT_REF"]=101,t[e[102]="DT_DOUBLE_REF"]=102,t[e[103]="DT_INT32_REF"]=103,t[e[104]="DT_UINT8_REF"]=104,t[e[105]="DT_INT16_REF"]=105,t[e[106]="DT_INT8_REF"]=106,t[e[107]="DT_STRING_REF"]=107,t[e[108]="DT_COMPLEX64_REF"]=108,t[e[109]="DT_INT64_REF"]=109,t[e[110]="DT_BOOL_REF"]=110,t[e[111]="DT_QINT8_REF"]=111,t[e[112]="DT_QUINT8_REF"]=112,t[e[113]="DT_QINT32_REF"]=113,t[e[114]="DT_BFLOAT16_REF"]=114,t}(),e.TensorShape=function(){function e(e){if(this.dim=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.dim=a.emptyArray,e.prototype.unknownRank=!1,e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new i.tensorflow.TensorShape;e.pos<n;){var a=e.uint32();switch(a>>>3){case 2:r.dim&&r.dim.length||(r.dim=[]),r.dim.push(i.tensorflow.TensorShape.Dim.decode(e,e.uint32()));break;case 3:r.unknownRank=e.bool();break;default:e.skipType(7&a)}}return r},e.Dim=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.size=a.Long?a.Long.fromBits(0,0,!1):0,e.prototype.name="",e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new i.tensorflow.TensorShape.Dim;e.pos<n;){var a=e.uint32();switch(a>>>3){case 1:r.size=e.int64();break;case 2:r.name=e.string();break;default:e.skipType(7&a)}}return r},e}(),e}(),e.Tensor=function(){function e(e){if(this.floatVal=[],this.doubleVal=[],this.intVal=[],this.stringVal=[],this.scomplexVal=[],this.int64Val=[],this.boolVal=[],this.uint32Val=[],this.uint64Val=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.dtype=0,e.prototype.tensorShape=null,e.prototype.versionNumber=0,e.prototype.tensorContent=a.newBuffer([]),e.prototype.floatVal=a.emptyArray,e.prototype.doubleVal=a.emptyArray,e.prototype.intVal=a.emptyArray,e.prototype.stringVal=a.emptyArray,e.prototype.scomplexVal=a.emptyArray,e.prototype.int64Val=a.emptyArray,e.prototype.boolVal=a.emptyArray,e.prototype.uint32Val=a.emptyArray,e.prototype.uint64Val=a.emptyArray,e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new i.tensorflow.Tensor;e.pos<n;){var a=e.uint32();switch(a>>>3){case 1:r.dtype=e.int32();break;case 2:r.tensorShape=i.tensorflow.TensorShape.decode(e,e.uint32());break;case 3:r.versionNumber=e.int32();break;case 4:r.tensorContent=e.bytes();break;case 5:if(r.floatVal&&r.floatVal.length||(r.floatVal=[]),2===(7&a))for(var s=e.uint32()+e.pos;e.pos<s;)r.floatVal.push(e.float());else r.floatVal.push(e.float());break;case 6:if(r.doubleVal&&r.doubleVal.length||(r.doubleVal=[]),2===(7&a))for(var s=e.uint32()+e.pos;e.pos<s;)r.doubleVal.push(e.double());else r.doubleVal.push(e.double());break;case 7:if(r.intVal&&r.intVal.length||(r.intVal=[]),2===(7&a))for(var s=e.uint32()+e.pos;e.pos<s;)r.intVal.push(e.int32());else r.intVal.push(e.int32());break;case 8:r.stringVal&&r.stringVal.length||(r.stringVal=[]),r.stringVal.push(e.bytes());break;case 9:if(r.scomplexVal&&r.scomplexVal.length||(r.scomplexVal=[]),2===(7&a))for(var s=e.uint32()+e.pos;e.pos<s;)r.scomplexVal.push(e.float());else r.scomplexVal.push(e.float());break;case 10:if(r.int64Val&&r.int64Val.length||(r.int64Val=[]),2===(7&a))for(var s=e.uint32()+e.pos;e.pos<s;)r.int64Val.push(e.int64());else r.int64Val.push(e.int64());break;case 11:if(r.boolVal&&r.boolVal.length||(r.boolVal=[]),2===(7&a))for(var s=e.uint32()+e.pos;e.pos<s;)r.boolVal.push(e.bool());else r.boolVal.push(e.bool());break;case 16:if(r.uint32Val&&r.uint32Val.length||(r.uint32Val=[]),2===(7&a))for(var s=e.uint32()+e.pos;e.pos<s;)r.uint32Val.push(e.uint32());else r.uint32Val.push(e.uint32());break;case 17:if(r.uint64Val&&r.uint64Val.length||(r.uint64Val=[]),2===(7&a))for(var s=e.uint32()+e.pos;e.pos<s;)r.uint64Val.push(e.uint64());else r.uint64Val.push(e.uint64());break;default:e.skipType(7&a)}}return r},e}(),e.AttrValue=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}e.prototype.list=null,e.prototype.s=a.newBuffer([]),e.prototype.i=a.Long?a.Long.fromBits(0,0,!1):0,e.prototype.f=0,e.prototype.b=!1,e.prototype.type=0,e.prototype.shape=null,e.prototype.tensor=null,e.prototype.placeholder="",e.prototype.func=null;var t;return Object.defineProperty(e.prototype,"value",{get:a.oneOfGetter(t=["list","s","i","f","b","type","shape","tensor","placeholder","func"]),set:a.oneOfSetter(t)}),e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new i.tensorflow.AttrValue;e.pos<n;){var a=e.uint32();switch(a>>>3){case 1:r.list=i.tensorflow.AttrValue.ListValue.decode(e,e.uint32());break;case 2:r.s=e.bytes();break;case 3:r.i=e.int64();break;case 4:r.f=e.float();break;case 5:r.b=e.bool();break;case 6:r.type=e.int32();break;case 7:r.shape=i.tensorflow.TensorShape.decode(e,e.uint32());break;case 8:r.tensor=i.tensorflow.Tensor.decode(e,e.uint32());break;case 9:r.placeholder=e.string();break;case 10:r.func=i.tensorflow.NameAttrList.decode(e,e.uint32());break;default:e.skipType(7&a)}}return r},e.ListValue=function(){function e(e){if(this.s=[],this.i=[],this.f=[],this.b=[],this.type=[],this.shape=[],this.tensor=[],this.func=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.s=a.emptyArray,e.prototype.i=a.emptyArray,e.prototype.f=a.emptyArray,e.prototype.b=a.emptyArray,e.prototype.type=a.emptyArray,e.prototype.shape=a.emptyArray,e.prototype.tensor=a.emptyArray,e.prototype.func=a.emptyArray,e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new i.tensorflow.AttrValue.ListValue;e.pos<n;){var a=e.uint32();switch(a>>>3){case 2:r.s&&r.s.length||(r.s=[]),r.s.push(e.bytes());break;case 3:if(r.i&&r.i.length||(r.i=[]),2===(7&a))for(var s=e.uint32()+e.pos;e.pos<s;)r.i.push(e.int64());else r.i.push(e.int64());break;case 4:if(r.f&&r.f.length||(r.f=[]),2===(7&a))for(var s=e.uint32()+e.pos;e.pos<s;)r.f.push(e.float());else r.f.push(e.float());break;case 5:if(r.b&&r.b.length||(r.b=[]),2===(7&a))for(var s=e.uint32()+e.pos;e.pos<s;)r.b.push(e.bool());else r.b.push(e.bool());break;case 6:if(r.type&&r.type.length||(r.type=[]),2===(7&a))for(var s=e.uint32()+e.pos;e.pos<s;)r.type.push(e.int32());else r.type.push(e.int32());break;case 7:r.shape&&r.shape.length||(r.shape=[]),r.shape.push(i.tensorflow.TensorShape.decode(e,e.uint32()));break;case 8:r.tensor&&r.tensor.length||(r.tensor=[]),r.tensor.push(i.tensorflow.Tensor.decode(e,e.uint32()));break;case 9:r.func&&r.func.length||(r.func=[]),r.func.push(i.tensorflow.NameAttrList.decode(e,e.uint32()));break;default:e.skipType(7&a)}}return r},e}(),e}(),e.NameAttrList=function(){function e(e){if(this.attr={},e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.prototype.attr=a.emptyObject,e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n,r=void 0===t?e.len:e.pos+t,s=new i.tensorflow.NameAttrList;e.pos<r;){var u=e.uint32();switch(u>>>3){case 1:s.name=e.string();break;case 2:e.skip().pos++,s.attr===a.emptyObject&&(s.attr={}),n=e.string(),e.pos++,s.attr[n]=i.tensorflow.AttrValue.decode(e,e.uint32());break;default:e.skipType(7&u)}}return s},e}(),e.NodeDef=function(){function e(e){if(this.input=[],this.attr={},e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.prototype.op="",e.prototype.input=a.emptyArray,e.prototype.device="",e.prototype.attr=a.emptyObject,e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n,r=void 0===t?e.len:e.pos+t,s=new i.tensorflow.NodeDef;e.pos<r;){var u=e.uint32();switch(u>>>3){case 1:s.name=e.string();break;case 2:s.op=e.string();break;case 3:s.input&&s.input.length||(s.input=[]),s.input.push(e.string());break;case 4:s.device=e.string();break;case 5:e.skip().pos++,s.attr===a.emptyObject&&(s.attr={}),n=e.string(),e.pos++,s.attr[n]=i.tensorflow.AttrValue.decode(e,e.uint32());break;default:e.skipType(7&u)}}return s},e}(),e.VersionDef=function(){function e(e){if(this.badConsumers=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.producer=0,e.prototype.minConsumer=0,e.prototype.badConsumers=a.emptyArray,e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new i.tensorflow.VersionDef;e.pos<n;){var a=e.uint32();switch(a>>>3){case 1:r.producer=e.int32();break;case 2:r.minConsumer=e.int32();break;case 3:if(r.badConsumers&&r.badConsumers.length||(r.badConsumers=[]),2===(7&a))for(var s=e.uint32()+e.pos;e.pos<s;)r.badConsumers.push(e.int32());else r.badConsumers.push(e.int32());break;default:e.skipType(7&a)}}return r},e}(),e.GraphDef=function(){function e(e){if(this.node=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.node=a.emptyArray,e.prototype.versions=null,e.prototype.library=null,e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new i.tensorflow.GraphDef;e.pos<n;){var a=e.uint32();switch(a>>>3){case 1:r.node&&r.node.length||(r.node=[]),r.node.push(i.tensorflow.NodeDef.decode(e,e.uint32()));break;case 4:r.versions=i.tensorflow.VersionDef.decode(e,e.uint32());break;case 2:r.library=i.tensorflow.FunctionDefLibrary.decode(e,e.uint32());break;default:e.skipType(7&a)}}return r},e}(),e.CollectionDef=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}e.prototype.nodeList=null,e.prototype.bytesList=null,e.prototype.int64List=null,e.prototype.floatList=null,e.prototype.anyList=null;var t;return Object.defineProperty(e.prototype,"kind",{get:a.oneOfGetter(t=["nodeList","bytesList","int64List","floatList","anyList"]),set:a.oneOfSetter(t)}),e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new i.tensorflow.CollectionDef;e.pos<n;){var a=e.uint32();switch(a>>>3){case 1:r.nodeList=i.tensorflow.CollectionDef.NodeList.decode(e,e.uint32());break;case 2:r.bytesList=i.tensorflow.CollectionDef.BytesList.decode(e,e.uint32());break;case 3:r.int64List=i.tensorflow.CollectionDef.Int64List.decode(e,e.uint32());break;case 4:r.floatList=i.tensorflow.CollectionDef.FloatList.decode(e,e.uint32());break;case 5:r.anyList=i.tensorflow.CollectionDef.AnyList.decode(e,e.uint32());break;default:e.skipType(7&a)}}return r},e.NodeList=function(){function e(e){if(this.value=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.value=a.emptyArray,e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new i.tensorflow.CollectionDef.NodeList;e.pos<n;){var a=e.uint32();switch(a>>>3){case 1:r.value&&r.value.length||(r.value=[]),r.value.push(e.string());break;default:e.skipType(7&a)}}return r},e}(),e.BytesList=function(){function e(e){if(this.value=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.value=a.emptyArray,e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new i.tensorflow.CollectionDef.BytesList;e.pos<n;){var a=e.uint32();switch(a>>>3){case 1:r.value&&r.value.length||(r.value=[]),r.value.push(e.bytes());break;default:e.skipType(7&a)}}return r},e}(),e.Int64List=function(){function e(e){if(this.value=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.value=a.emptyArray,e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new i.tensorflow.CollectionDef.Int64List;e.pos<n;){var a=e.uint32();switch(a>>>3){case 1:if(r.value&&r.value.length||(r.value=[]),2===(7&a))for(var s=e.uint32()+e.pos;e.pos<s;)r.value.push(e.int64());else r.value.push(e.int64());break;default:e.skipType(7&a)}}return r},e}(),e.FloatList=function(){function e(e){if(this.value=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.value=a.emptyArray,e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new i.tensorflow.CollectionDef.FloatList;e.pos<n;){var a=e.uint32();switch(a>>>3){case 1:if(r.value&&r.value.length||(r.value=[]),2===(7&a))for(var s=e.uint32()+e.pos;e.pos<s;)r.value.push(e.float());else r.value.push(e.float());break;default:e.skipType(7&a)}}return r},e}(),e.AnyList=function(){function e(e){if(this.value=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.value=a.emptyArray,e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new i.tensorflow.CollectionDef.AnyList;e.pos<n;){var a=e.uint32();switch(a>>>3){case 1:r.value&&r.value.length||(r.value=[]),r.value.push(i.tensorflow.Any.decode(e,e.uint32()));break;default:e.skipType(7&a)}}return r},e}(),e}(),e.SaverDef=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.filenameTensorName="",e.prototype.saveTensorName="",e.prototype.restoreOpName="",e.prototype.maxToKeep=0,e.prototype.sharded=!1,e.prototype.keepCheckpointEveryNHours=0,e.prototype.version=0,e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new i.tensorflow.SaverDef;e.pos<n;){var a=e.uint32();switch(a>>>3){case 1:r.filenameTensorName=e.string();break;case 2:r.saveTensorName=e.string();break;case 3:r.restoreOpName=e.string();break;case 4:r.maxToKeep=e.int32();break;case 5:r.sharded=e.bool();break;case 6:r.keepCheckpointEveryNHours=e.float();break;case 7:r.version=e.int32();break;default:e.skipType(7&a)}}return r},e.CheckpointFormatVersion=function(){var e={},t=Object.create(e);return t[e[0]="LEGACY"]=0,t[e[1]="V1"]=1,t[e[2]="V2"]=2,t}(),e}(),e.TensorInfo=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}e.prototype.name="",e.prototype.cooSparse=null,e.prototype.dtype=0,e.prototype.tensorShape=null;var t;return Object.defineProperty(e.prototype,"encoding",{get:a.oneOfGetter(t=["name","cooSparse"]),set:a.oneOfSetter(t)}),e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new i.tensorflow.TensorInfo;e.pos<n;){var a=e.uint32();switch(a>>>3){case 1:r.name=e.string();break;case 4:r.cooSparse=i.tensorflow.TensorInfo.CooSparse.decode(e,e.uint32());break;case 2:r.dtype=e.int32();break;case 3:r.tensorShape=i.tensorflow.TensorShape.decode(e,e.uint32());break;default:e.skipType(7&a)}}return r},e.CooSparse=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.valuesTensorName="",e.prototype.indicesTensorName="",e.prototype.denseShapeTensorName="",e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new i.tensorflow.TensorInfo.CooSparse;e.pos<n;){var a=e.uint32();switch(a>>>3){case 1:r.valuesTensorName=e.string();break;case 2:r.indicesTensorName=e.string();break;case 3:r.denseShapeTensorName=e.string();break;default:e.skipType(7&a)}}return r},e}(),e}(),e.SignatureDef=function(){function e(e){if(this.inputs={},this.outputs={},e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.inputs=a.emptyObject,e.prototype.outputs=a.emptyObject,e.prototype.methodName="",e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n,r=void 0===t?e.len:e.pos+t,s=new i.tensorflow.SignatureDef;e.pos<r;){var u=e.uint32();switch(u>>>3){case 1:e.skip().pos++,s.inputs===a.emptyObject&&(s.inputs={}),n=e.string(),e.pos++,s.inputs[n]=i.tensorflow.TensorInfo.decode(e,e.uint32());break;case 2:e.skip().pos++,s.outputs===a.emptyObject&&(s.outputs={}),n=e.string(),e.pos++,s.outputs[n]=i.tensorflow.TensorInfo.decode(e,e.uint32());break;case 3:s.methodName=e.string();break;default:e.skipType(7&u)}}return s},e}(),e.AssetFileDef=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.tensorInfo=null,e.prototype.filename="",e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new i.tensorflow.AssetFileDef;e.pos<n;){var a=e.uint32();switch(a>>>3){case 1:r.tensorInfo=i.tensorflow.TensorInfo.decode(e,e.uint32());break;case 2:r.filename=e.string();break;default:e.skipType(7&a)}}return r},e}(),e.OpDef=function(){function e(e){if(this.inputArg=[],this.outputArg=[],this.attr=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.prototype.inputArg=a.emptyArray,e.prototype.outputArg=a.emptyArray,e.prototype.attr=a.emptyArray,e.prototype.deprecation=null,e.prototype.summary="",e.prototype.description="",e.prototype.isCommutative=!1,e.prototype.isAggregate=!1,e.prototype.isStateful=!1,e.prototype.allowsUninitializedInput=!1,e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new i.tensorflow.OpDef;e.pos<n;){var a=e.uint32();switch(a>>>3){case 1:r.name=e.string();break;case 2:r.inputArg&&r.inputArg.length||(r.inputArg=[]),r.inputArg.push(i.tensorflow.OpDef.ArgDef.decode(e,e.uint32()));break;case 3:r.outputArg&&r.outputArg.length||(r.outputArg=[]),r.outputArg.push(i.tensorflow.OpDef.ArgDef.decode(e,e.uint32()));break;case 4:r.attr&&r.attr.length||(r.attr=[]),r.attr.push(i.tensorflow.OpDef.AttrDef.decode(e,e.uint32()));break;case 8:r.deprecation=i.tensorflow.OpDef.OpDeprecation.decode(e,e.uint32());break;case 5:r.summary=e.string();break;case 6:r.description=e.string();break;case 18:r.isCommutative=e.bool();break;case 16:r.isAggregate=e.bool();break;case 17:r.isStateful=e.bool();break;case 19:r.allowsUninitializedInput=e.bool();break;default:e.skipType(7&a)}}return r},e.ArgDef=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.prototype.description="",e.prototype.type=0,e.prototype.typeAttr="",e.prototype.numberAttr="",e.prototype.typeListAttr="",e.prototype.isRef=!1,e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new i.tensorflow.OpDef.ArgDef;e.pos<n;){var a=e.uint32();switch(a>>>3){case 1:r.name=e.string();break;case 2:r.description=e.string();break;case 3:r.type=e.int32();break;case 4:r.typeAttr=e.string();break;case 5:r.numberAttr=e.string();break;case 6:r.typeListAttr=e.string();break;case 16:r.isRef=e.bool();break;default:e.skipType(7&a)}}return r},e}(),e.AttrDef=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.prototype.type="",e.prototype.defaultValue=null,e.prototype.description="",e.prototype.hasMinimum=!1,e.prototype.minimum=a.Long?a.Long.fromBits(0,0,!1):0,e.prototype.allowedValues=null,e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new i.tensorflow.OpDef.AttrDef;e.pos<n;){var a=e.uint32();switch(a>>>3){case 1:r.name=e.string();break;case 2:r.type=e.string();break;case 3:r.defaultValue=i.tensorflow.AttrValue.decode(e,e.uint32());break;case 4:r.description=e.string();break;case 5:r.hasMinimum=e.bool();break;case 6:r.minimum=e.int64();break;case 7:r.allowedValues=i.tensorflow.AttrValue.decode(e,e.uint32());break;default:e.skipType(7&a)}}return r},e}(),e.OpDeprecation=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.version=0,e.prototype.explanation="",e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new i.tensorflow.OpDef.OpDeprecation;e.pos<n;){var a=e.uint32();switch(a>>>3){case 1:r.version=e.int32();break;case 2:r.explanation=e.string();break;default:e.skipType(7&a)}}return r},e}(),e}(),e.OpList=function(){function e(e){if(this.op=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.op=a.emptyArray,e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new i.tensorflow.OpList;e.pos<n;){var a=e.uint32();switch(a>>>3){case 1:r.op&&r.op.length||(r.op=[]),r.op.push(i.tensorflow.OpDef.decode(e,e.uint32()));break;default:e.skipType(7&a)}}return r},e}(),e.MetaGraphDef=function(){function e(e){if(this.collectionDef={},this.signatureDef={},this.assetFileDef=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.metaInfoDef=null,e.prototype.graphDef=null,e.prototype.saverDef=null,e.prototype.collectionDef=a.emptyObject,e.prototype.signatureDef=a.emptyObject,e.prototype.assetFileDef=a.emptyArray,e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n,r=void 0===t?e.len:e.pos+t,s=new i.tensorflow.MetaGraphDef;e.pos<r;){var u=e.uint32();switch(u>>>3){case 1:s.metaInfoDef=i.tensorflow.MetaGraphDef.MetaInfoDef.decode(e,e.uint32());break;case 2:s.graphDef=i.tensorflow.GraphDef.decode(e,e.uint32());break;case 3:s.saverDef=i.tensorflow.SaverDef.decode(e,e.uint32());break;case 4:e.skip().pos++,s.collectionDef===a.emptyObject&&(s.collectionDef={}),n=e.string(),e.pos++,s.collectionDef[n]=i.tensorflow.CollectionDef.decode(e,e.uint32());break;case 5:e.skip().pos++,s.signatureDef===a.emptyObject&&(s.signatureDef={}),n=e.string(),e.pos++,s.signatureDef[n]=i.tensorflow.SignatureDef.decode(e,e.uint32());break;case 6:s.assetFileDef&&s.assetFileDef.length||(s.assetFileDef=[]),s.assetFileDef.push(i.tensorflow.AssetFileDef.decode(e,e.uint32()));break;default:e.skipType(7&u)}}return s},e.MetaInfoDef=function(){function e(e){if(this.tags=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.metaGraphVersion="",e.prototype.strippedOpList=null,e.prototype.anyInfo=null,e.prototype.tags=a.emptyArray,e.prototype.tensorflowVersion="",e.prototype.tensorflowGitVersion="",e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new i.tensorflow.MetaGraphDef.MetaInfoDef;e.pos<n;){var a=e.uint32();switch(a>>>3){case 1:r.metaGraphVersion=e.string();break;case 2:r.strippedOpList=i.tensorflow.OpList.decode(e,e.uint32());break;case 3:r.anyInfo=i.tensorflow.Any.decode(e,e.uint32());break;case 4:r.tags&&r.tags.length||(r.tags=[]),r.tags.push(e.string());break;case 5:r.tensorflowVersion=e.string();break;case 6:r.tensorflowGitVersion=e.string();break;default:e.skipType(7&a)}}return r},e}(),e}(),e.SavedModel=function(){function e(e){if(this.metaGraphs=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.savedModelSchemaVersion=a.Long?a.Long.fromBits(0,0,!1):0,e.prototype.metaGraphs=a.emptyArray,e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new i.tensorflow.SavedModel;e.pos<n;){var a=e.uint32();switch(a>>>3){case 1:r.savedModelSchemaVersion=e.int64();break;case 2:r.metaGraphs&&r.metaGraphs.length||(r.metaGraphs=[]),r.metaGraphs.push(i.tensorflow.MetaGraphDef.decode(e,e.uint32()));break;default:e.skipType(7&a)}}return r},e}(),e.FunctionDefLibrary=function(){function e(e){if(this.function=[],this.gradient=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.function=a.emptyArray,e.prototype.gradient=a.emptyArray,e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new i.tensorflow.FunctionDefLibrary;e.pos<n;){var a=e.uint32();switch(a>>>3){case 1:r.function&&r.function.length||(r.function=[]),r.function.push(i.tensorflow.FunctionDef.decode(e,e.uint32()));break;case 2:r.gradient&&r.gradient.length||(r.gradient=[]),
r.gradient.push(i.tensorflow.GradientDef.decode(e,e.uint32()));break;default:e.skipType(7&a)}}return r},e}(),e.FunctionDef=function(){function e(e){if(this.attr={},this.nodeDef=[],this.ret={},e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.signature=null,e.prototype.attr=a.emptyObject,e.prototype.nodeDef=a.emptyArray,e.prototype.ret=a.emptyObject,e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n,r=void 0===t?e.len:e.pos+t,s=new i.tensorflow.FunctionDef;e.pos<r;){var u=e.uint32();switch(u>>>3){case 1:s.signature=i.tensorflow.OpDef.decode(e,e.uint32());break;case 5:e.skip().pos++,s.attr===a.emptyObject&&(s.attr={}),n=e.string(),e.pos++,s.attr[n]=i.tensorflow.AttrValue.decode(e,e.uint32());break;case 3:s.nodeDef&&s.nodeDef.length||(s.nodeDef=[]),s.nodeDef.push(i.tensorflow.NodeDef.decode(e,e.uint32()));break;case 4:e.skip().pos++,s.ret===a.emptyObject&&(s.ret={}),n=e.string(),e.pos++,s.ret[n]=e.string();break;default:e.skipType(7&u)}}return s},e}(),e.GradientDef=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.functionName="",e.prototype.gradientFunc="",e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new i.tensorflow.GradientDef;e.pos<n;){var a=e.uint32();switch(a>>>3){case 1:r.functionName=e.string();break;case 2:r.gradientFunc=e.string();break;default:e.skipType(7&a)}}return r},e}(),e}(),t.exports=i},{"protobufjs/minimal":192}],9:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){this.weightMap=e,this.tensorArrayMap=t,this.rootContext={id:0,frameName:"",iterationId:0},this.contexts=[this.rootContext],this.lastId=0,this.generateCurrentContextIds()}return e.prototype.newFrame=function(e,t){return{id:e,frameName:t,iterationId:0}},Object.defineProperty(e.prototype,"currentContext",{get:function(){return this.contexts},set:function(e){this.contexts!==e&&(this.contexts=e,this.generateCurrentContextIds())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentContextId",{get:function(){return this._currentContextIds[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentContextIds",{get:function(){return this._currentContextIds},enumerable:!0,configurable:!0}),e.prototype.generateCurrentContextIds=function(){for(var e=[],t=0;t<this.contexts.length-1;t++){var n=this.contexts.slice(0,this.contexts.length-t);e.push(this.contextIdforContexts(n))}e.push(""),this._currentContextIds=e},e.prototype.contextIdforContexts=function(e){return e?e.map(function(e){return 0===e.id&&0===e.iterationId?"":e.frameName+"-"+e.iterationId}).join("/"):""},e.prototype.enterFrame=function(e){this.contexts&&(this.lastId++,this.contexts=this.contexts.slice(),this.contexts.push(this.newFrame(this.lastId,e)),this._currentContextIds.unshift(this.contextIdforContexts(this.contexts)))},e.prototype.exitFrame=function(){if(!(this.contexts&&this.contexts.length>1))throw new Error("Cannot exit frame, the context is empty");this.contexts=this.contexts.slice(),this.contexts.splice(-1),this.currentContextIds.shift()},e.prototype.nextIteration=function(){if(!(this.contexts&&this.contexts.length>0))throw new Error("Cannot increase frame iteration, the context is empty");this.contexts=this.contexts.slice(),this.lastId++;var e=Object.assign({},this.contexts[this.contexts.length-1]);e.iterationId+=1,e.id=this.lastId,this.contexts.splice(-1,1,e),this._currentContextIds.splice(0,1,this.contextIdforContexts(this.contexts))},e.prototype.getWeight=function(e){return this.weightMap[e]},e.prototype.addTensorArray=function(e){this.tensorArrayMap[e.id]=e},e.prototype.getTensorArray=function(e){return this.tensorArrayMap[e]},e}();n.ExecutionContext=r},{}],10:[function(e,t,n){"use strict";function r(e,t,n){return o(this,void 0,void 0,function(){var r;return a(this,function(o){switch(o.label){case 0:return r=new c(e,t,n),[4,r.load()];case 1:return o.sent(),[2,r]}})})}var o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,s)}u((r=r.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,a&&(i=a[2&n[0]?"return":n[0]?"throw":"next"])&&!(i=i.call(a,n[1])).done)return i;switch(a=0,i&&(n=[0,i.value]),n[0]){case 0:case 1:i=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,a=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(i=u.trys,!(i=i.length>0&&i[i.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){u.label=n[1];break}if(6===n[0]&&u.label<i[1]){u.label=i[1],i=n;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(n);break}i[2]&&u.ops.pop(),u.trys.pop();continue}n=t.call(e,u)}catch(e){n=[6,e],a=0}finally{o=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,a,i,s,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(n,"__esModule",{value:!0});var i=e("@tensorflow/tfjs-core"),s=e("../data/compiled_api"),u=e("../operations/operation_mapper"),l=e("./graph_executor"),c=function(){function e(e,t,n){this.modelUrl=e,this.weightManifestUrl=t,this.requestOption=n,this.version="n/a",this.pathPrefix=this.getPathPrefix()}return Object.defineProperty(e.prototype,"modelVersion",{get:function(){return this.version},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputNodes",{get:function(){return this.executor.inputNodes},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputNodes",{get:function(){return this.executor.outputNodes},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputs",{get:function(){return this.executor.inputs},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputs",{get:function(){return this.executor.outputs},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"weights",{get:function(){return this.executor.weightMap},enumerable:!0,configurable:!0}),e.prototype.getPathPrefix=function(){var e=this.weightManifestUrl.length,t=this.weightManifestUrl.indexOf("?"),n=this.weightManifestUrl.indexOf("#");t>=0&&(e=t),n>=0&&(e=Math.min(e,n));var r=this.weightManifestUrl.slice(0,e),o=r.lastIndexOf("/");return o>=0?r.slice(0,o)+"/":"/"},e.prototype.loadRemoteProtoFile=function(){return o(this,void 0,void 0,function(){var e,t,n;return a(this,function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,fetch(this.modelUrl,this.requestOption)];case 1:return e=r.sent(),[4,e.arrayBuffer()];case 2:return t=r.sent(),[2,s.tensorflow.GraphDef.decode(new Uint8Array(t))];case 3:throw n=r.sent(),new Error(this.modelUrl+" not found. "+n);case 4:return[2]}})})},e.prototype.loadWeightManifest=function(){return o(this,void 0,void 0,function(){var e,t,n;return a(this,function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,fetch(this.weightManifestUrl,this.requestOption)];case 1:return e=r.sent(),t=this,[4,e.clone().json()];case 2:return t.weightManifest=r.sent(),[3,4];case 3:throw n=r.sent(),new Error(this.weightManifestUrl+" not found. "+n);case 4:return[2]}})})},e.prototype.load=function(){return o(this,void 0,void 0,function(){var e,t,n,r,o;return a(this,function(a){switch(a.label){case 0:return e=this.loadRemoteProtoFile(),t=this.loadWeightManifest(),[4,Promise.all([e,t])];case 1:return n=a.sent(),r=n[0],this.version=r.versions.producer+"."+r.versions.minConsumer,[4,i.io.loadWeights(this.weightManifest,this.pathPrefix,void 0,this.requestOption)];case 2:return o=a.sent(),this.executor=new l.GraphExecutor(u.OperationMapper.Instance.transformGraph(r)),this.executor.weightMap=this.convertTensorMapToTensorsMap(o),[2,!0]}})})},e.prototype.predict=function(e,t){return this.execute(e,this.outputNodes)},e.prototype.constructTensorMap=function(e){var t=e instanceof i.Tensor?[e]:e;if(t.length!==this.inputNodes.length)throw new Error("Input tensor count mismatch,"+("the frozen model has "+this.inputNodes.length+" placeholders, ")+("while there are "+t.length+" input tensors."));return this.inputNodes.reduce(function(e,n,r){return e[n]=t[r],e},{})},e.prototype.execute=function(e,t){if(t=t||this.outputNodes,(e instanceof i.Tensor||Array.isArray(e))&&(e=this.constructTensorMap(e)),this.executor.isControlFlowModel||this.executor.isDynamicShapeModel)throw new Error("The model contains control flow or dynamic shape ops, please use executeAsync method");var n=this.executor.execute(this.convertTensorMapToTensorsMap(e),t),r=Object.keys(n);return Array.isArray(t)&&t.length>1?t.map(function(e){return n[e]}):n[r[0]]},e.prototype.executeAsync=function(e,t){return o(this,void 0,void 0,function(){var n,r;return a(this,function(o){switch(o.label){case 0:if(!this.executor.isControlFlowModel||!this.executor.isDynamicShapeModel)throw new Error("The model does not contain control flow or dynamic shape ops, please use execute method for better performance.");return t=t||this.outputNodes,(e instanceof i.Tensor||Array.isArray(e))&&(e=this.constructTensorMap(e)),[4,this.executor.executeAsync(this.convertTensorMapToTensorsMap(e),t)];case 1:return n=o.sent(),r=Object.keys(n),[2,Array.isArray(t)&&t.length>1?t.map(function(e){return n[e]}):n[r[0]]]}})})},e.prototype.convertTensorMapToTensorsMap=function(e){return Object.keys(e).reduce(function(t,n){return t[n]=[e[n]],t},{})},e.prototype.dispose=function(){this.executor.dispose()},e}();n.FrozenModel=c,n.loadFrozenModel=r},{"../data/compiled_api":8,"../operations/operation_mapper":46,"./graph_executor":11,"@tensorflow/tfjs-core":55}],11:[function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,s)}u((r=r.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,a&&(i=a[2&n[0]?"return":n[0]?"throw":"next"])&&!(i=i.call(a,n[1])).done)return i;switch(a=0,i&&(n=[0,i.value]),n[0]){case 0:case 1:i=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,a=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(i=u.trys,!(i=i.length>0&&i[i.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){u.label=n[1];break}if(6===n[0]&&u.label<i[1]){u.label=i[1],i=n;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(n);break}i[2]&&u.ops.pop(),u.trys.pop();continue}n=t.call(e,u)}catch(e){n=[6,e],a=0}finally{o=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,a,i,s,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(n,"__esModule",{value:!0});var i=e("@tensorflow/tfjs-core"),s=e("../operations/executors/utils"),u=e("../operations/operation_executor"),l=e("./execution_context"),c=function(){function e(e){this.graph=e,this.compiledOrder=[],this._weightMap={},this.placeholders=e.placeholders,this._outputs=e.outputs,this.compile()}return Object.defineProperty(e.prototype,"weightMap",{get:function(){return this._weightMap},set:function(e){var t=Object.keys(e).map(function(t){return e[t].map(function(e){return e.id})});this.weightIds=[].concat.apply([],t),this._weightMap=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputs",{get:function(){return this.placeholders.map(function(e){return{name:e.name,shape:e.params.shape?e.params.shape.value:void 0,dtype:e.params.dtype?e.params.dtype.value:void 0}})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputs",{get:function(){return this._outputs.map(function(e){return{name:e.name,shape:e.params.shape?e.params.shape.value:void 0,dtype:e.params.dtype?e.params.dtype.value:void 0}})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputNodes",{get:function(){return this.placeholders.map(function(e){return e.name})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputNodes",{get:function(){return this.outputs.map(function(e){return e.name})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isControlFlowModel",{get:function(){return this.graph.withControlFlow},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDynamicShapeModel",{get:function(){return this.graph.withDynamicShape},enumerable:!0,configurable:!0}),e.prototype.compile=function(){if(!this.graph.withControlFlow&&!this.graph.withDynamicShape)for(var e=this.graph.inputs.slice(),t={};e.length>0;){var n=e.pop();t[n.name]=!0,this.compiledOrder.push(n),n.children.forEach(function(n){!t[n.name]&&n.inputNames.every(function(e){var n=s.getNodeNameAndIndex(e)[0];return t[n]})&&e.push(n)})}},e.prototype.execute=function(e,t){var n=this;this.checkInput(e),this.checkInputShapeAndType(e);var o={},a=i.tidy(function(){var a=new l.ExecutionContext(n._weightMap,o),i=n.compiledOrder.reduce(function(e,t){return e[t.name]=u.executeOp(t,e,a),e},r({},n.weightMap,e));return n.findOutputs(i,a,t)});return a},e.prototype.executeAsync=function(e,t){return o(this,void 0,void 0,function(){var n,r,o,i,s,u,c,p=this;return a(this,function(a){switch(a.label){case 0:return this.checkInput(e),this.checkInputShapeAndType(e),n={},r=new l.ExecutionContext(this._weightMap,n),[4,this.executeWithControlFlow(e,r)];case 1:return o=a.sent(),i=this.findOutputs(o,r,t),s=Object.keys(i).map(function(e){return i[e].id}),u=Object.keys(e).map(function(t){return e[t].map(function(e){return e.id})}),c=[].concat.apply([],u),Object.keys(o).forEach(function(e){var t=o[e];t.forEach(function(e){e&&s.indexOf(e.id)===-1&&c.indexOf(e.id)===-1&&p.weightIds.indexOf(e.id)===-1&&e.dispose()})}),[2,i]}})})},e.prototype.executeWithControlFlow=function(e,t){return o(this,void 0,void 0,function(){var n,o,i,l,c,p,f,h;return a(this,function(a){switch(a.label){case 0:n=this.graph.inputs.map(function(e){return{node:e,contexts:t.currentContext}}),o=r({},this.weightMap,e),i={},a.label=1;case 1:return n.length>0?(l=n.pop(),t.currentContext=l.contexts,c="","enter"===l.node.op&&s.getParamValue("isConstant",l.node,o,t)&&(c=s.getNodeNameAndIndex(l.node.name,t)[0]),p=u.executeOp(l.node,o,t),c||(c=s.getNodeNameAndIndex(l.node.name,t)[0]),f=o,h=c,[4,p]):[3,3];case 2:return f[h]=a.sent(),l.node.children.forEach(function(e){var r=s.getNodeNameAndIndex(e.name,t)[0];i[r]||("merge"===e.op?e.inputNames.some(function(e){return!!s.getTensor(e,o,t)})&&(i[r]=!0,n.push({contexts:t.currentContext,node:e})):e.inputNames.every(function(e){return!!s.getTensor(e,o,t)})&&(i[r]=!0,n.push({contexts:t.currentContext,node:e})))}),[3,1];case 3:return[2,o]}})})},e.prototype.findOutputs=function(e,t,n){!n||n instanceof Array||(n=[n]);var r=n||this.graph.outputs.map(function(e){return e.name});return r.reduce(function(n,r){return n[r]=s.getTensor(r,e,t),n},{})},e.prototype.dispose=function(){var e=this;Object.keys(this.weightMap).forEach(function(t){return e.weightMap[t].forEach(function(e){return e.dispose()})})},e.prototype.checkInputShapeAndType=function(e){this.placeholders.forEach(function(t){var n=e[t.name][0];if(t.params.shape&&t.params.shape.value){var r=t.params.shape.value,o=r.length===n.shape.length&&n.shape.every(function(e,t){return r[t]===-1||r[t]===e});i.util.assert(o,"The shape of dict['"+t.name+"'] provided in model.execute(dict) must be ["+r+"], but was ["+n.shape+"]")}t.params.dtype&&t.params.dtype.value&&i.util.assert(n.dtype===t.params.dtype.value,"The dtype of dict['"+t.name+"'] provided in model.execute(dict) must be "+t.params.dtype.value+", but was "+n.dtype)})},e.prototype.checkInput=function(e){var t=this,n=Object.keys(e),r=[],o=[];if(this.inputNodes.forEach(function(e){n.indexOf(e)===-1&&r.push(e)}),n.forEach(function(e){t.inputNodes.indexOf(e)===-1&&o.push(e)}),r.length>0)throw new Error("The dict provided in model.execute(dict) has the keys "+("["+n+"], but is missing the required keys: ["+r+"]."));if(o.length>0)throw new Error("The dict provided in model.execute(dict) has "+("unused keys: ["+o+"]. Please provide only the following keys: ")+("["+this.inputNodes+"]."))},e}();n.GraphExecutor=c},{"../operations/executors/utils":29,"../operations/operation_executor":45,"./execution_context":9,"@tensorflow/tfjs-core":55}],12:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("@tensorflow/tfjs-core"),o=function(){function e(t,n,r,o,a,i,s){this.name=t,this.dtype=n,this.maxSize=r,this.elementShape=o,this.identicalElementShapes=a,this.dynamicSize=i,this.clearAfterRead=s,this.tensors=[],this.closed_=!1,this.id=e.nextId++}return Object.defineProperty(e.prototype,"closed",{get:function(){return this.closed_},enumerable:!0,configurable:!0}),e.prototype.clearAndClose=function(){this.tensors.forEach(function(e){return e.tensor.dispose()}),this.tensors=[],this.closed_=!0},e.prototype.size=function(){return this.tensors.length},e.prototype.read=function(e){if(this.closed_)throw new Error("TensorArray "+this.name+" has already been closed.");if(e<0||e>=this.tensors.length)throw new Error("Tried to read from index "+e+", but array size is: "+this.tensors.length);var t=this.tensors[e];if(t.cleared)throw new Error("TensorArray "+this.name+": Could not read index "+e+" twice because it was cleared after a previous read (perhaps try setting clear_after_read = false?).");return this.clearAfterRead&&(t.cleared=!0),t.read=!0,t.tensor},e.prototype.readMany=function(e){var t=this;return e.map(function(e){return t.read(e)})},e.prototype.write=function(e,t){if(this.closed_)throw new Error("TensorArray "+this.name+" has already been closed.");if(e<0||!this.dynamicSize&&e>=this.maxSize)throw new Error("Tried to write to index "+e+", but array is not resizeable and size is: "+this.maxSize);var n=this.tensors[e]||{};if(t.dtype!==this.dtype)throw new Error("TensorArray "+this.name+": Could not write to TensorArray index "+e+",\n          because the value dtype is "+t.dtype+", but TensorArray dtype is "+this.dtype+".");if(0===this.size()&&0===this.elementShape.length&&(this.elementShape=t.shape),r.util.assertShapesMatch(this.elementShape,t.shape,"TensorArray "+this.name+": Could not write to TensorArray index "+e+"."),n&&n.read)throw new Error("TensorArray "+this.name+": Could not write to TensorArray index "+e+", because it has already been read.");if(n&&n.written)throw new Error("TensorArray "+this.name+": Could not write to TensorArray index "+e+", because it has already been written.");n.tensor=t,n.written=!0,this.tensors[e]=n},e.prototype.writeMany=function(e,t){var n=this;if(e.length!==t.length)throw new Error("TensorArray "+this.name+": could not write multiple tensors,"+("because the index size: "+e.length+" is not the same as tensors size: "+t.length+"."));e.forEach(function(e,r){return n.write(e,t[r])})},e.prototype.gather=function(e,t){if(t&&t!==this.dtype)throw new Error("TensorArray dtype is "+this.dtype+" but gather requested dtype "+t);if(!e){e=[];for(var n=0;n<this.size();n++)e.push(n)}if(0===e.length)return r.tensor([],[0].concat(this.elementShape));var o=this.readMany(e);return r.util.assertShapesMatch(this.elementShape,o[0].shape,"TensorArray shape mismatch: "),r.stack(o,0)},e.prototype.concat=function(e){if(e&&e!==this.dtype)throw new Error("TensorArray dtype is "+this.dtype+" but concat requested dtype "+e);if(0===this.size())return r.tensor([],[0].concat(this.elementShape));for(var t=[],n=0;n<this.size();n++)t.push(n);var o=this.readMany(t);return r.util.assertShapesMatch(this.elementShape,o[0].shape,"TensorArray shape mismatch: tensor array shape ("+this.elementShape+") vs first tensor shape ("+o[0].shape+")"),r.concat(o,0)},e.prototype.scatter=function(e,t){if(t.dtype!==this.dtype)throw new Error("TensorArray dtype is "+this.dtype+" but tensor has dtype "+t.dtype);if(e.length!==t.shape[0])throw new Error("Expected len(indices) == tensor.shape[0], but saw: "+e.length+" vs. "+t.shape[0]);var n=Math.max.apply(Math,e);if(!this.dynamicSize&&n>=this.maxSize)throw new Error("Max index must be < array size ("+n+"  vs. "+this.maxSize+")");this.writeMany(e,r.unstack(t,0))},e.prototype.split=function(e,t){var n=this;if(t.dtype!==this.dtype)throw new Error("TensorArray dtype is "+this.dtype+" but tensor has dtype "+t.dtype);var o=0,a=e.map(function(e){return o+=e});if(o!==t.shape[0])throw new Error("Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        "+o+", and tensor's shape is: "+t.shape);if(!this.dynamicSize&&e.length!==this.maxSize)throw new Error("TensorArray's size is not equal to the size of lengths ("+this.maxSize+" vs. "+e.length+"), and the TensorArray is not marked as dynamically resizeable");var i=0===o?0:t.size/o,s=[];r.tidy(function(){t=t.reshape([1,o,i]);for(var u=0;u<e.length;++u){var l=0===u?0:a[u-1],c=[0,l,0],p=[1,e[u],i];s[u]=r.slice(t,c,p).reshape(n.elementShape)}return s});for(var u=[],l=0;l<e.length;l++)u[l]=l;this.writeMany(u,s)},e.nextId=0,e}();n.TensorArray=o},{"@tensorflow/tfjs-core":55}],13:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("./executor/frozen_model");n.FrozenModel=r.FrozenModel,n.loadFrozenModel=r.loadFrozenModel;var o=e("./version");n.version_converter=o.version},{"./executor/frozen_model":10,"./version":47}],14:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("@tensorflow/tfjs-core"),o=e("./utils");n.executeOp=function(e,t,n){switch(e.op){case"add":return[r.add(o.getParamValue("a",e,t,n),o.getParamValue("b",e,t,n))];case"addN":return[r.addN(o.getParamValue("tensors",e,t,n))];case"mod":return[r.mod(o.getParamValue("a",e,t,n),o.getParamValue("b",e,t,n))];case"mul":return[r.mul(o.getParamValue("a",e,t,n),o.getParamValue("b",e,t,n))];case"div":return[r.div(o.getParamValue("a",e,t,n),o.getParamValue("b",e,t,n))];case"floorDiv":return[r.floorDiv(o.getParamValue("a",e,t,n),o.getParamValue("b",e,t,n))];case"sub":return[r.sub(o.getParamValue("a",e,t,n),o.getParamValue("b",e,t,n))];case"minimum":return[r.minimum(o.getParamValue("a",e,t,n),o.getParamValue("b",e,t,n))];case"maximum":return[r.maximum(o.getParamValue("a",e,t,n),o.getParamValue("b",e,t,n))];case"pow":return[r.pow(o.getParamValue("a",e,t,n),o.getParamValue("b",e,t,n))];case"squaredDifference":return[r.squaredDifference(o.getParamValue("a",e,t,n),o.getParamValue("b",e,t,n))];default:throw TypeError("Node type "+e.op+" is not implemented")}},n.CATEGORY="arithmetic"},{"./utils":29,"@tensorflow/tfjs-core":55}],15:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("@tensorflow/tfjs-core"),o=e("./utils");n.executeOp=function(e,t,n){switch(e.op){case"abs":return[r.abs(o.getParamValue("x",e,t,n))];case"acos":return[r.acos(o.getParamValue("x",e,t,n))];case"acosh":return[r.acosh(o.getParamValue("x",e,t,n))];case"asin":return[r.asin(o.getParamValue("x",e,t,n))];case"asinh":return[r.asinh(o.getParamValue("x",e,t,n))];case"atan":return[r.atan(o.getParamValue("x",e,t,n))];case"atanh":return[r.atanh(o.getParamValue("x",e,t,n))];case"ceil":return[r.ceil(o.getParamValue("x",e,t,n))];case"cos":return[r.cos(o.getParamValue("x",e,t,n))];case"cosh":return[r.cosh(o.getParamValue("x",e,t,n))];case"elu":return[r.elu(o.getParamValue("x",e,t,n))];case"erf":return[r.erf(o.getParamValue("x",e,t,n))];case"exp":return[r.exp(o.getParamValue("x",e,t,n))];case"expm1":return[r.expm1(o.getParamValue("x",e,t,n))];case"floor":return[r.floor(o.getParamValue("x",e,t,n))];case"log":return[r.log(o.getParamValue("x",e,t,n))];case"log1p":return[r.log1p(o.getParamValue("x",e,t,n))];case"neg":return[r.neg(o.getParamValue("x",e,t,n))];case"reciprocal":return[r.reciprocal(o.getParamValue("x",e,t,n))];case"relu":return[r.relu(o.getParamValue("x",e,t,n))];case"round":return[r.round(o.getParamValue("x",e,t,n))];case"selu":return[r.selu(o.getParamValue("x",e,t,n))];case"sigmoid":return[r.sigmoid(o.getParamValue("x",e,t,n))];case"sin":return[r.sin(o.getParamValue("x",e,t,n))];case"sign":return[r.sign(o.getParamValue("x",e,t,n))];case"sinh":return[r.sinh(o.getParamValue("x",e,t,n))];case"softplus":return[r.softplus(o.getParamValue("x",e,t,n))];case"sqrt":return[r.sqrt(o.getParamValue("x",e,t,n))];case"square":return[r.square(o.getParamValue("x",e,t,n))];case"tanh":return[r.tanh(o.getParamValue("x",e,t,n))];case"tan":return[r.tan(o.getParamValue("x",e,t,n))];case"clipByValue":return[r.clipByValue(o.getParamValue("x",e,t,n),o.getParamValue("clipValueMin",e,t,n),o.getParamValue("clipValueMax",e,t,n))];case"rsqrt":return[r.div(r.scalar(1,"float32"),r.sqrt(o.getTensor(e.inputNames[0],t,n)))];default:throw TypeError("Node type "+e.op+" is not implemented")}},n.CATEGORY="basic_math"},{"./utils":29,"@tensorflow/tfjs-core":55}],16:[function(e,t,n){"use strict";function r(e,t,n){return o(this,void 0,void 0,function(){var r,o,l,c,p,f,h,d,m,g,v,y,x,b,_,w,T,P,N,S,E,k,A,O,I,C,R,M,D,V,L,F,z,B,j,U,G,q,W,H,$,X;return a(this,function(a){switch(a.label){case 0:switch(r=e.op){case"loopCond":return[3,1];case"switch":return[3,2];case"merge":return[3,4];case"enter":return[3,5];case"exit":return[3,6];case"nextIteration":return[3,7];case"tensorArray":return[3,8];case"tensorArrayWrite":return[3,9];case"tensorArrayRead":return[3,10];case"tensorArrayGather":return[3,11];case"tensorArrayScatter":return[3,12];case"tensorArrayConcat":return[3,13];case"tensorArraySplit":return[3,14];case"tensorArraySize":return[3,15];case"tensorArrayClose":return[3,16]}return[3,17];case 1:return[2,[u.getParamValue("pred",e,t,n)]];case 2:return o=u.getParamValue("pred",e,t,n),l=u.getParamValue("data",e,t,n),[4,o.data()];case 3:return[2,a.sent()[0]?[void 0,l]:[l,void 0]];case 4:return c=e.inputNames.find(function(e){return void 0!==u.getTensor(e,t,n)}),[2,c?[u.getTensor(c,t,n)]:void 0];case 5:return p=u.getParamValue("frameName",e,t,n),f=u.getParamValue("tensor",e,t,n),n.enterFrame(p),[2,[f]];case 6:return h=u.getParamValue("tensor",e,t,n),n.exitFrame(),[2,[h]];case 7:return d=u.getParamValue("tensor",e,t,n),n.nextIteration(),[2,[d]];case 8:return m=u.getParamValue("size",e,t,n),g=u.getParamValue("dtype",e,t,n),v=u.getParamValue("elementShape",e,t,n),y=u.getParamValue("dynamicSize",e,t,n),x=u.getParamValue("clearAfterRead",e,t,n),b=u.getParamValue("identicalElementShapes",e,t,n),_=u.getParamValue("name",e,t,n),w=new s.TensorArray(_,g,m,v,b,y,x),n.addTensorArray(w),[2,[i.scalar(w.id),i.scalar(1)]];case 9:return T=u.getParamValue("tensorArrayId",e,t,n),P=u.getParamValue("index",e,t,n),N=u.getParamValue("tensor",e,t,n),S=n.getTensorArray(T),S.write(P,N),[2,[i.scalar(1)]];case 10:return E=u.getParamValue("tensorArrayId",e,t,n),k=u.getParamValue("index",e,t,n),A=n.getTensorArray(E),[2,[A.read(k)]];case 11:return O=u.getParamValue("tensorArrayId",e,t,n),I=u.getParamValue("indices",e,t,n),C=u.getParamValue("dtype",e,t,n),R=n.getTensorArray(O),[2,[R.gather(I,C)]];case 12:return M=u.getParamValue("tensorArrayId",e,t,n),D=u.getParamValue("indices",e,t,n),V=u.getParamValue("tensor",e,t,n),L=n.getTensorArray(M),L.scatter(D,V),[2,[i.scalar(1)]];case 13:return F=u.getParamValue("tensorArrayId",e,t,n),z=n.getTensorArray(F),B=u.getParamValue("dtype",e,t,n),[2,[z.concat(B)]];case 14:return j=u.getParamValue("tensorArrayId",e,t,n),U=u.getParamValue("tensor",e,t,n),G=u.getParamValue("lengths",e,t,n),q=n.getTensorArray(j),q.split(G,U),[2,[i.scalar(1)]];case 15:return W=u.getParamValue("tensorArrayId",e,t,n),H=n.getTensorArray(W),[2,[i.scalar(H.size(),"int32")]];case 16:return $=u.getParamValue("tensorArrayId",e,t,n),X=n.getTensorArray($),X.clearAndClose(),[2,[]];case 17:throw TypeError("Node type "+e.op+" is not implemented")}})})}var o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,s)}u((r=r.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,a&&(i=a[2&n[0]?"return":n[0]?"throw":"next"])&&!(i=i.call(a,n[1])).done)return i;switch(a=0,i&&(n=[0,i.value]),n[0]){case 0:case 1:i=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,a=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(i=u.trys,!(i=i.length>0&&i[i.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){u.label=n[1];break}if(6===n[0]&&u.label<i[1]){u.label=i[1],i=n;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(n);break}i[2]&&u.ops.pop(),u.trys.pop();continue}n=t.call(e,u)}catch(e){n=[6,e],a=0}finally{o=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,a,i,s,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(n,"__esModule",{value:!0});var i=e("@tensorflow/tfjs-core"),s=e("../../executor/tensor_array"),u=e("./utils");n.executeOp=r,n.CATEGORY="control"},{"../../executor/tensor_array":12,"./utils":29,"@tensorflow/tfjs-core":55}],17:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("@tensorflow/tfjs-core"),o=e("./utils");n.executeOp=function(e,t,n){switch(e.op){case"conv1d":var a=o.getParamValue("stride",e,t,n),i=o.getParamValue("pad",e,t,n),s=o.getParamValue("dataFormat",e,t,n).toUpperCase(),u=o.getParamValue("dilation",e,t,n);return[r.conv1d(o.getParamValue("x",e,t,n),o.getParamValue("filter",e,t,n),a,i,s,u)];case"conv2d":var a=o.getParamValue("strides",e,t,n),i=o.getParamValue("pad",e,t,n),s=o.getParamValue("dataFormat",e,t,n).toUpperCase(),l=o.getParamValue("dilations",e,t,n);return[r.conv2d(o.getParamValue("x",e,t,n),o.getParamValue("filter",e,t,n),[a[1],a[2]],i,s,[l[0],l[1]])];case"conv2dTranspose":var c=o.getParamValue("outputShape",e,t,n),a=o.getParamValue("strides",e,t,n),i=o.getParamValue("pad",e,t,n);return[r.conv2dTranspose(o.getParamValue("x",e,t,n),o.getParamValue("filter",e,t,n),c,[a[1],a[2]],i)];case"depthwiseConv2d":var a=o.getParamValue("strides",e,t,n),i=o.getParamValue("pad",e,t,n),l=o.getParamValue("dilations",e,t,n),s=o.getParamValue("dataFormat",e,t,n).toUpperCase();return[r.depthwiseConv2d(o.getParamValue("input",e,t,n),o.getParamValue("filter",e,t,n),[a[1],a[2]],i,s,[l[0],l[1]])];case"avgPool":var a=o.getParamValue("strides",e,t,n),i=o.getParamValue("pad",e,t,n),p=o.getParamValue("kernelSize",e,t,n);return[r.avgPool(o.getParamValue("x",e,t,n),[p[1],p[2]],[a[1],a[2]],i)];case"maxPool":var a=o.getParamValue("strides",e,t,n),i=o.getParamValue("pad",e,t,n),p=o.getParamValue("kernelSize",e,t,n);return[r.maxPool(o.getParamValue("x",e,t,n),[p[1],p[2]],[a[1],a[2]],i)];default:throw TypeError("Node type "+e.op+" is not implemented")}},n.CATEGORY="convolution"},{"./utils":29,"@tensorflow/tfjs-core":55}],18:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("@tensorflow/tfjs-core"),o=e("./utils");
n.executeOp=function(e,t,n){switch(e.op){case"fill":var a=o.getParamValue("shape",e,t,n),i=o.getParamValue("value",e,t,n);return[r.fill(a,i)];case"linspace":var s=o.getParamValue("start",e,t,n),u=o.getParamValue("stop",e,t,n),l=o.getParamValue("num",e,t,n);return[r.linspace(s,u,l)];case"oneHot":var c=o.getParamValue("indices",e,t,n),p=o.getParamValue("depth",e,t,n),f=o.getParamValue("onValue",e,t,n),h=o.getParamValue("offValue",e,t,n);return[r.oneHot(c,p,f,h)];case"ones":return[r.ones(o.getParamValue("shape",e,t,n),o.getParamValue("dtype",e,t,n))];case"onesLike":return[r.onesLike(o.getParamValue("x",e,t,n))];case"randomUniform":return[r.randomUniform(o.getParamValue("shape",e,t,n),o.getParamValue("minval",e,t,n),o.getParamValue("maxval",e,t,n),o.getParamValue("dtype",e,t,n))];case"range":var s=o.getParamValue("start",e,t,n),d=o.getParamValue("stop",e,t,n),m=o.getParamValue("step",e,t,n);return[r.range(s,d,m,o.getParamValue("dtype",e,t,n))];case"truncatedNormal":var a=o.getParamValue("shape",e,t,n),g=o.getParamValue("mean",e,t,n),v=o.getParamValue("stdDev",e,t,n),y=o.getParamValue("seed",e,t,n);return[r.truncatedNormal(a,g,v,o.getParamValue("dtype",e,t,n),y)];case"zeros":return[r.zeros(o.getParamValue("shape",e,t,n),o.getParamValue("dtype",e,t,n))];case"zerosLike":return[r.zerosLike(o.getParamValue("x",e,t,n))];default:throw TypeError("Node type "+e.op+" is not implemented")}},n.CATEGORY="creation"},{"./utils":29,"@tensorflow/tfjs-core":55}],19:[function(e,t,n){"use strict";function r(e,t,n){return o(this,void 0,void 0,function(){var r,o,u,l,c,p;return a(this,function(a){switch(a.label){case 0:switch(r=e.op){case"nonMaxSuppression":return[3,1];case"whereAsync":return[3,3]}return[3,5];case 1:return o=s.getParamValue("boxes",e,t,n),u=s.getParamValue("scores",e,t,n),l=s.getParamValue("maxOutputSize",e,t,n),c=s.getParamValue("iouThreshold",e,t,n),p=s.getParamValue("scoreThreshold",e,t,n),[4,i.image.nonMaxSuppressionAsync(o,u,l,c,p)];case 2:return[2,[a.sent()]];case 3:return[4,i.whereAsync(s.getParamValue("condition",e,t,n))];case 4:return[2,[a.sent()]];case 5:throw TypeError("Node type "+e.op+" is not implemented")}})})}var o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,s)}u((r=r.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,a&&(i=a[2&n[0]?"return":n[0]?"throw":"next"])&&!(i=i.call(a,n[1])).done)return i;switch(a=0,i&&(n=[0,i.value]),n[0]){case 0:case 1:i=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,a=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(i=u.trys,!(i=i.length>0&&i[i.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){u.label=n[1];break}if(6===n[0]&&u.label<i[1]){u.label=i[1],i=n;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(n);break}i[2]&&u.ops.pop(),u.trys.pop();continue}n=t.call(e,u)}catch(e){n=[6,e],a=0}finally{o=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,a,i,s,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(n,"__esModule",{value:!0});var i=e("@tensorflow/tfjs-core"),s=e("./utils");n.executeOp=r,n.CATEGORY="dynamic"},{"./utils":29,"@tensorflow/tfjs-core":55}],20:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("@tensorflow/tfjs-core"),o=e("./utils");n.executeOp=function(e,t,n){switch(e.op){case"topK":var a=o.getParamValue("x",e,t,n),i=o.getParamValue("k",e,t,n),s=o.getParamValue("sorted",e,t,n),u=r.topk(a,i,s);return[u.values,u.indices];default:throw TypeError("Node type "+e.op+" is not implemented")}},n.CATEGORY="evaluation"},{"./utils":29,"@tensorflow/tfjs-core":55}],21:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("@tensorflow/tfjs-core"),o=e("./utils");n.executeOp=function(e,t,n){switch(e.op){case"const":return t[e.name];case"placeholder":var a=o.getParamValue("default",e,t,n);return[o.getTensor(e.name,t,n)||a];case"identity":case"stopGradient":case"fakeQuantWithMinMaxVars":return[o.getParamValue("x",e,t,n)];case"snapshot":var i=o.getParamValue("x",e,t,n);return[i.clone()];case"shape":return[r.tensor1d(o.getParamValue("x",e,t,n).shape,"int32")];case"size":return[r.scalar(o.getParamValue("x",e,t,n).size,"int32")];case"rank":return[r.scalar(o.getParamValue("x",e,t,n).rank,"int32")];case"noop":return[];case"print":var s=o.getParamValue("x",e,t,n),u=o.getParamValue("data",e,t,n),l=o.getParamValue("message",e,t,n),c=o.getParamValue("summarize",e,t,n);console.warn("The graph has a tf.print() operation,usually used for debugging, which slows down performance."),console.log(l);for(var p=0;p<u.length;p++)console.log(Array.prototype.slice.call(u[0].dataSync()).slice(0,c));return[s];default:throw TypeError("Node type "+e.op+" is not implemented")}},n.CATEGORY="graph"},{"./utils":29,"@tensorflow/tfjs-core":55}],22:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("@tensorflow/tfjs-core"),o=e("./utils");n.executeOp=function(e,t,n){switch(e.op){case"resizeBilinear":var a=o.getParamValue("images",e,t,n),i=o.getParamValue("size",e,t,n),s=o.getParamValue("alignCorners",e,t,n);return[r.image.resizeBilinear(a,[i[0],i[1]],s)];case"resizeNearestNeighbor":var a=o.getParamValue("images",e,t,n),i=o.getParamValue("size",e,t,n),s=o.getParamValue("alignCorners",e,t,n);return[r.image.resizeNearestNeighbor(a,[i[0],i[1]],s)];default:throw TypeError("Node type "+e.op+" is not implemented")}},n.CATEGORY="image"},{"./utils":29,"@tensorflow/tfjs-core":55}],23:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("@tensorflow/tfjs-core"),o=e("./utils");n.executeOp=function(e,t,n){switch(e.op){case"equal":return[r.equal(o.getParamValue("a",e,t,n),o.getParamValue("b",e,t,n))];case"notEqual":return[r.notEqual(o.getParamValue("a",e,t,n),o.getParamValue("b",e,t,n))];case"greater":return[r.greater(o.getParamValue("a",e,t,n),o.getParamValue("b",e,t,n))];case"greaterEqual":return[r.greaterEqual(o.getParamValue("a",e,t,n),o.getParamValue("b",e,t,n))];case"less":return[r.less(o.getParamValue("a",e,t,n),o.getParamValue("b",e,t,n))];case"lessEqual":return[r.lessEqual(o.getParamValue("a",e,t,n),o.getParamValue("b",e,t,n))];case"logicalAnd":return[r.logicalAnd(o.getParamValue("a",e,t,n),o.getParamValue("b",e,t,n))];case"logicalNot":return[r.logicalNot(o.getParamValue("a",e,t,n))];case"logicalOr":return[r.logicalOr(o.getParamValue("a",e,t,n),o.getParamValue("b",e,t,n))];case"where":return[r.where(o.getParamValue("condition",e,t,n),o.getParamValue("a",e,t,n),o.getParamValue("b",e,t,n))];default:throw TypeError("Node type "+e.op+" is not implemented")}},n.CATEGORY="logical"},{"./utils":29,"@tensorflow/tfjs-core":55}],24:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("@tensorflow/tfjs-core"),o=e("./utils");n.executeOp=function(e,t,n){switch(e.op){case"matMul":return[r.matMul(o.getParamValue("a",e,t,n),o.getParamValue("b",e,t,n),o.getParamValue("transposeA",e,t,n),o.getParamValue("transposeB",e,t,n))];case"transpose":return[r.transpose(o.getParamValue("x",e,t,n),o.getParamValue("perm",e,t,n))];default:throw TypeError("Node type "+e.op+" is not implemented")}},n.CATEGORY="matrices"},{"./utils":29,"@tensorflow/tfjs-core":55}],25:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("@tensorflow/tfjs-core"),o=e("./utils");n.executeOp=function(e,t,n){switch(e.op){case"batchNormalization":return[r.batchNormalization(o.getParamValue("x",e,t,n),o.getParamValue("mean",e,t,n),o.getParamValue("variance",e,t,n),o.getParamValue("epsilon",e,t,n),o.getParamValue("scale",e,t,n),o.getParamValue("offset",e,t,n))];case"localResponseNormalization":return[r.localResponseNormalization(o.getParamValue("x",e,t,n),o.getParamValue("radius",e,t,n),o.getParamValue("bias",e,t,n),o.getParamValue("alpha",e,t,n),o.getParamValue("beta",e,t,n))];case"softmax":return[r.softmax(o.getParamValue("x",e,t,n))];default:throw TypeError("Node type "+e.op+" is not implemented")}},n.CATEGORY="normalization"},{"./utils":29,"@tensorflow/tfjs-core":55}],26:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("@tensorflow/tfjs-core"),o=e("./utils");n.executeOp=function(e,t,n){switch(e.op){case"max":var a=o.getParamValue("axis",e,t,n),i=o.getParamValue("keepDims",e,t,n);return[r.max(o.getParamValue("x",e,t,n),a,i)];case"mean":var a=o.getParamValue("axis",e,t,n),i=o.getParamValue("keepDims",e,t,n);return[r.mean(o.getParamValue("x",e,t,n),a,i)];case"min":var a=o.getParamValue("axis",e,t,n),i=o.getParamValue("keepDims",e,t,n);return[r.min(o.getParamValue("x",e,t,n),a,i)];case"sum":var a=o.getParamValue("axis",e,t,n),i=o.getParamValue("keepDims",e,t,n);return[r.sum(o.getParamValue("x",e,t,n),a,i)];case"all":var a=o.getParamValue("axis",e,t,n),i=o.getParamValue("keepDims",e,t,n);return[r.all(o.getParamValue("x",e,t,n),a,i)];case"any":var a=o.getParamValue("axis",e,t,n),i=o.getParamValue("keepDims",e,t,n);return[r.any(o.getParamValue("x",e,t,n),a,i)];case"argMax":var a=o.getParamValue("axis",e,t,n);return[r.argMax(o.getParamValue("x",e,t,n),a)];case"argMin":var a=o.getParamValue("axis",e,t,n);return[r.argMin(o.getParamValue("x",e,t,n),a)];default:throw TypeError("Node type "+e.op+" is not implemented")}},n.CATEGORY="reduction"},{"./utils":29,"@tensorflow/tfjs-core":55}],27:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("@tensorflow/tfjs-core"),o=e("./utils");n.executeOp=function(e,t,n){switch(e.op){case"concat":var a=o.getParamValue("axis",e,t,n),i=o.getParamValue("tensors",e,t,n);return[r.concat(i,a)];case"gather":var a=o.getParamValue("axis",e,t,n),s=o.getParamValue("x",e,t,n),u=o.getParamValue("indices",e,t,n);return[r.gather(s,u,a)];case"reverse":var a=o.getParamValue("axis",e,t,n),s=o.getParamValue("x",e,t,n);return[r.reverse(s,a)];case"slice":var l=o.getParamValue("begin",e,t,n),c=o.getParamValue("size",e,t,n);return[r.slice(o.getParamValue("x",e,t,n),l,c)];case"stridedSlice":var l=o.getParamValue("begin",e,t,n),p=o.getParamValue("end",e,t,n),f=o.getParamValue("strides",e,t,n),h=o.getParamValue("beginMask",e,t,n),d=o.getParamValue("endMask",e,t,n),m=o.getParamValue("x",e,t,n);if(1===l.length&&m.shape.length>1)for(var g=1;g<m.shape.length;g++)l.push(0),p.push(m.shape[g]),f.push(f[0]);return[r.stridedSlice(m,l,p,f,h,d)];case"stack":return r.tidy(function(){var a=o.getParamValue("axis",e,t,n),i=o.getParamValue("tensors",e,t,n),s=i[0].shape,u=i[0].squeeze().shape,l=i.map(function(e){var t=r.util.arraysEqual(e.shape,s);if(!t&&!r.util.arraysEqual(e.squeeze().shape,u))throw new Error("the input tensors shape does not match");return t?e:e.reshape(s)});return[r.stack(l,a)]});case"unstack":return r.tidy(function(){var a=o.getParamValue("axis",e,t,n),i=o.getParamValue("tensor",e,t,n);return r.unstack(i,a)});case"tile":var v=o.getParamValue("reps",e,t,n);return[r.tile(o.getParamValue("x",e,t,n),v)];case"split":var a=o.getParamValue("axis",e,t,n),y=o.getParamValue("numOrSizeSplits",e,t,n);return r.split(o.getParamValue("x",e,t,n),y,a);default:throw TypeError("Node type "+e.op+" is not implemented")}},n.CATEGORY="slice_join"},{"./utils":29,"@tensorflow/tfjs-core":55}],28:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("@tensorflow/tfjs-core"),o=e("./utils");n.executeOp=function(e,t,n){switch(e.op){case"cast":return[r.cast(o.getParamValue("x",e,t,n),o.getParamValue("dtype",e,t,n))];case"expandDims":var a=e.params.axis.value;return[r.expandDims(o.getParamValue("x",e,t,n),a)];case"squeeze":var a=e.params.axis.value;return[r.squeeze(o.getParamValue("x",e,t,n),a)];case"reshape":return[r.reshape(o.getParamValue("x",e,t,n),o.getParamValue("shape",e,t,n))];case"pad":return[r.pad(o.getParamValue("x",e,t,n),o.split(o.getParamValue("padding",e,t,n),2),o.getParamValue("constantValue",e,t,n))];case"spaceToBatchND":var i=o.getParamValue("blockShape",e,t,n),s=o.split(o.getParamValue("paddings",e,t,n),2);return[r.spaceToBatchND(o.getParamValue("x",e,t,n),i,s)];case"batchToSpaceND":var i=o.getParamValue("blockShape",e,t,n),u=o.split(o.getParamValue("crops",e,t,n),2);return[r.batchToSpaceND(o.getParamValue("x",e,t,n),i,u)];default:throw TypeError("Node type "+e.op+" is not implemented")}},n.CATEGORY="transformation"},{"./utils":29,"@tensorflow/tfjs-core":55}],29:[function(e,t,n){"use strict";function r(e,t,n,r){var a=t.params[e];if(a&&void 0!==a.inputIndex){if("tensor"===a.type)return o(t.inputNames[a.inputIndex],n,r);if("tensors"===a.type){var i=0===a.inputIndex?0===a.inputParamLength?t.inputNames:t.inputNames.slice(a.inputIndex,-a.inputParamLength):t.inputNames.splice(a.inputIndex);return i.map(function(e){return o(e,n,r)})}var s=Array.prototype.slice.call(o(t.inputNames.slice(a.inputIndex)[0],n,r).dataSync());return"number"===a.type?s[0]:s}return a&&a.value}function o(e,t,n){var r=s(e),o=r[0],a=r[1],u=n.currentContextIds.find(function(e){return!!t[i(o,e)]});return void 0!==u?t[i(o,u)][a]:void 0}function a(e,t){var n=s(e),r=n[0],o=n[1];return[i(r,t&&t.currentContextId),o]}function i(e,t){return t?e+"-"+t:e}function s(e){var t=e.lastIndexOf(":");if(t===-1)return[e,0];var n=e.substring(0,t);return[n,Number(e.substring(t+1))]}function u(e,t){for(var n=[],r=0;r<e.length;r+=t)n.push(e.slice(r,r+t));return n}Object.defineProperty(n,"__esModule",{value:!0}),n.getParamValue=r,n.getTensor=o,n.getNodeNameAndIndex=a,n.parseNodeName=s,n.split=u},{}],30:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.json=[{tfOpName:"Add",dlOpName:"add",category:"arithmetic",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddN",dlOpName:"addN",category:"arithmetic",params:[{tfInputIndex:0,tfInputParamLength:0,dlParamName:"tensors",type:"tensors"}]},{tfOpName:"BiasAdd",dlOpName:"add",category:"arithmetic",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sub",dlOpName:"sub",category:"arithmetic",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"RealDiv",dlOpName:"div",category:"arithmetic",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Div",dlOpName:"div",category:"arithmetic",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorDiv",dlOpName:"floorDiv",category:"arithmetic",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mul",dlOpName:"mul",category:"arithmetic",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Maximum",dlOpName:"maximum",category:"arithmetic",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"}]},{tfOpName:"Minimum",dlOpName:"minimum",category:"arithmetic",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"}]},{tfOpName:"Pow",dlOpName:"pow",category:"arithmetic",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SquaredDifference",dlOpName:"squaredDifference",category:"arithmetic",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mod",dlOpName:"mod",category:"arithmetic",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]}]},{}],31:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.json=[{tfOpName:"Abs",dlOpName:"abs",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acos",dlOpName:"acos",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asin",dlOpName:"asin",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"atan",dlOpName:"atan",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ceil",dlOpName:"ceil",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ClipByValue",dlOpName:"clipByValue",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"clip_value_min",dlParamName:"clipValueMin",type:"number"},{tfParamName:"clip_value_max",dlParamName:"clipValueMax",type:"number"}]},{tfOpName:"Cos",dlOpName:"cos",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cosh",dlOpName:"cosh",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Elu",dlOpName:"elu",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Exp",dlOpName:"exp",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Floor",dlOpName:"floor",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log",dlOpName:"log",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Neg",dlOpName:"neg",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu",dlOpName:"relu",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu6",dlOpName:"clipByValue",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0},{dlParamName:"clipValueMin",type:"number",defaultValue:0},{dlParamName:"clipValueMax",type:"number",defaultValue:6}]},{tfOpName:"Selu",dlOpName:"selu",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sigmoid",dlOpName:"sigmoid",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sin",dlOpName:"sin",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sinh",dlOpName:"sinh",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sqrt",dlOpName:"sqrt",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Rsqrt",dlOpName:"rsqrt",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Square",dlOpName:"square",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tan",dlOpName:"tan",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tanh",dlOpName:"tanh",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sign",dlOpName:"sign",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Round",dlOpName:"round",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Expm1",dlOpName:"expm1",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log1p",dlOpName:"log1p",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",dlOpName:"reciprocal",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",dlOpName:"reciprocal",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Softplus",dlOpName:"softplus",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asinh",dlOpName:"asinh",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acosh",dlOpName:"acosh",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atanh",dlOpName:"atanh",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Erf",dlOpName:"erf",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]}]},{}],32:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.json=[{tfOpName:"LoopCond",dlOpName:"loopCond",category:"control",params:[{tfInputIndex:0,dlParamName:"pred",type:"tensor"}]},{tfOpName:"Switch",dlOpName:"switch",category:"control",params:[{tfInputIndex:0,dlParamName:"data",type:"tensor"},{tfInputIndex:1,dlParamName:"pred",type:"tensor"}]},{tfOpName:"Merge",dlOpName:"merge",category:"control",params:[{tfInputIndex:0,tfInputParamLength:0,dlParamName:"tensors",type:"tensors"}]},{tfOpName:"Enter",dlOpName:"enter",category:"control",params:[{tfInputIndex:0,dlParamName:"tensor",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0},{tfParamName:"frame_name",dlParamName:"frameName",type:"string"},{tfParamName:"is_constant",dlParamName:"isConstant",type:"bool"}]},{tfOpName:"Exit",dlOpName:"exit",category:"control",params:[{tfInputIndex:0,dlParamName:"tensor",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NextIteration",dlOpName:"nextIteration",category:"control",params:[{tfInputIndex:0,dlParamName:"tensor",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayV3",dlOpName:"tensorArray",category:"control",params:[{tfInputIndex:0,dlParamName:"size",type:"number"},{tfParamName:"dtype",dlParamName:"dtype",type:"dtype"},{tfParamName:"element_shape",dlParamName:"elementShape",type:"shape"},{tfParamName:"dynamic_size",dlParamName:"dynamicSize",type:"bool"},{tfParamName:"clear_after_read",dlParamName:"clearAfterRead",type:"bool"},{tfParamName:"identical_element_shapes",dlParamName:"identicalElementShapes",type:"bool"},{tfParamName:"tensor_array_name",dlParamName:"name",type:"string"}]},{tfOpName:"TensorArrayWriteV3",dlOpName:"tensorArrayWrite",category:"control",params:[{tfInputIndex:0,dlParamName:"tensorArrayId",type:"number"},{tfInputIndex:1,dlParamName:"index",type:"number"},{tfInputIndex:2,dlParamName:"tensor",type:"tensor"},{tfInputIndex:3,dlParamName:"flowIn",type:"number"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayReadV3",dlOpName:"tensorArrayRead",category:"control",params:[{tfInputIndex:0,dlParamName:"tensorArrayId",type:"number"},{tfInputIndex:1,dlParamName:"index",type:"number"},{tfInputIndex:2,dlParamName:"flowIn",type:"number"},{tfParamName:"dtype",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayGatherV3",dlOpName:"tensorArrayGather",category:"control",params:[{tfInputIndex:0,dlParamName:"tensorArrayId",type:"number"},{tfInputIndex:1,dlParamName:"indices",type:"number[]"},{tfInputIndex:2,dlParamName:"flowIn",type:"number"},{tfParamName:"dtype",dlParamName:"dtype",type:"dtype"},{tfParamName:"element_shape",dlParamName:"elementShape",type:"shape"}]},{tfOpName:"TensorArrayScatterV3",dlOpName:"tensorArrayScatter",category:"control",params:[{tfInputIndex:0,dlParamName:"tensorArrayId",type:"number"},{tfInputIndex:1,dlParamName:"indices",type:"number[]"},{tfInputIndex:2,dlParamName:"tensor",type:"number[]"},{tfInputIndex:3,dlParamName:"flowIn",type:"number"},{tfParamName:"T",dlParamName:"dtype",type:"dtype"}]},{tfOpName:"TensorArrayConcatV3",dlOpName:"tensorArrayConcat",category:"control",params:[{tfInputIndex:0,dlParamName:"tensorArrayId",type:"number"},{tfInputIndex:1,dlParamName:"flowIn",type:"number"},{tfParamName:"dtype",dlParamName:"dtype",type:"dtype"},{tfParamName:"element_shape_except0",dlParamName:"elementShapeExcept0",type:"shape",notSupported:!0}]},{tfOpName:"TensorArraySplitV3",dlOpName:"tensorArraySplit",category:"control",params:[{tfInputIndex:0,dlParamName:"tensorArrayId",type:"number"},{tfInputIndex:1,dlParamName:"tensor",type:"tensor"},{tfInputIndex:2,dlParamName:"lengths",type:"number[]"},{tfInputIndex:3,dlParamName:"flowIn",type:"number"},{tfParamName:"T",dlParamName:"dtype",type:"dtype"}]},{tfOpName:"TensorArraySizeV3",dlOpName:"tensorArraySize",category:"control",params:[{tfInputIndex:0,dlParamName:"tensorArrayId",type:"number"},{tfInputIndex:1,dlParamName:"flowIn",type:"number"}]},{tfOpName:"TensorArrayCloseV3",dlOpName:"tensorArrayClose",category:"control",params:[{tfInputIndex:0,dlParamName:"tensorArrayId",type:"number"}]}]},{}],33:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.json=[{tfOpName:"AvgPool",dlOpName:"avgPool",category:"convolution",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"strides",dlParamName:"strides",type:"number[]"},{tfParamName:"padding",dlParamName:"pad",type:"string"},{tfParamName:"data_format",dlParamName:"dataFormat",type:"string",notSupported:!0},{tfParamName:"ksize",dlParamName:"kernelSize",type:"number[]"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool",dlOpName:"maxPool",category:"convolution",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"strides",dlParamName:"strides",type:"number[]"},{tfParamName:"padding",dlParamName:"pad",type:"string"},{tfParamName:"data_format",dlParamName:"dataFormat",type:"string",notSupported:!0},{tfParamName:"ksize",dlParamName:"kernelSize",type:"number[]"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Conv1D",dlOpName:"conv1d",category:"convolution",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"filter",type:"tensor"},{tfParamName:"stride",dlParamName:"stride",type:"number"},{tfParamName:"padding",dlParamName:"pad",type:"string"},{tfParamName:"data_format",dlParamName:"dataFormat",type:"string",defaultValue:"NWC"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0},{tfParamName:"dilation",dlParamName:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",dlOpName:"conv2d",category:"convolution",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"filter",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0},{tfParamName:"strides",dlParamName:"strides",type:"number[]"},{tfParamName:"padding",dlParamName:"pad",type:"string"},{tfParamName:"useCudnnOnGpu",dlParamName:"useCudnnOnGpu",type:"bool"},{tfParamName:"data_format",dlParamName:"dataFormat",type:"string",defaultValue:"NHWC"},{tfParamName:"dilations",dlParamName:"dilations",type:"number[]"}]},{tfOpName:"Conv2DBackpropInput",dlOpName:"conv2dTranspose",category:"convolution",params:[{tfInputIndex:2,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"filter",type:"tensor"},{tfInputIndex:0,dlParamName:"outputShape",type:"number[]"},{tfParamName:"strides",dlParamName:"strides",type:"number[]"},{tfParamName:"padding",dlParamName:"pad",type:"string"},{tfParamName:"data_format",dlParamName:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"DepthwiseConv2d",dlOpName:"depthwiseConv2d",category:"convolution",params:[{tfInputIndex:0,dlParamName:"input",type:"tensor"},{tfInputIndex:1,dlParamName:"filter",type:"tensor"},{tfParamName:"strides",dlParamName:"strides",type:"number[]"},{tfParamName:"padding",dlParamName:"pad",type:"string"},{tfParamName:"data_format",dlParamName:"dataFormat",type:"string",defaultValue:"NHWC"},{tfParamName:"dilations",dlParamName:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",dlOpName:"depthwiseConv2d",category:"convolution",params:[{tfInputIndex:0,dlParamName:"input",type:"tensor"},{tfInputIndex:1,dlParamName:"filter",type:"tensor"},{tfParamName:"strides",dlParamName:"strides",type:"number[]"},{tfParamName:"padding",dlParamName:"pad",type:"string"},{tfParamName:"data_format",dlParamName:"dataFormat",type:"string",defaultValue:"NHWC"},{tfParamName:"dilations",dlParamName:"dilations",type:"number[]"}]}]},{}],34:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.json=[{tfOpName:"Fill",dlOpName:"fill",category:"creation",params:[{tfInputIndex:0,dlParamName:"shape",type:"number[]"},{tfInputIndex:1,dlParamName:"value",type:"number"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LinSpace",dlOpName:"linspace",category:"creation",params:[{tfInputIndex:0,dlParamName:"start",type:"number"},{tfInputIndex:1,dlParamName:"stop",type:"number"},{tfInputIndex:2,dlParamName:"num",type:"number"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"OneHot",dlOpName:"oneHot",category:"creation",params:[{tfInputIndex:0,dlParamName:"indices",type:"tensor"},{tfInputIndex:1,dlParamName:"depth",type:"number"},{tfInputIndex:2,dlParamName:"onValue",type:"number",defaultValue:1},{tfInputIndex:3,
dlParamName:"offValue",type:"number",defaultValue:0},{tfParamName:"axis",dlParamName:"axis",type:"number",notSupported:!0},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ones",dlOpName:"ones",category:"creation",params:[{tfInputIndex:0,dlParamName:"shape",type:"number[]"},{tfParamName:"T",dlParamName:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",dlOpName:"onesLike",category:"creation",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"dtype",dlParamName:"dtype",type:"dtype"}]},{tfOpName:"RandomUniform",dlOpName:"randomUniform",category:"creation",params:[{tfInputIndex:0,dlParamName:"shape",type:"number[]"},{tfParamName:"minval",dlParamName:"minval",type:"number",defaultValue:0},{tfParamName:"maxval",dlParamName:"maxval",type:"number",defaultValue:1},{tfParamName:"dtype",dlParamName:"dtype",type:"dtype"},{tfParamName:"seed",dlParamName:"seed",type:"number",defaultValue:0},{tfParamName:"seed2",dlParamName:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfParamName:"T",dlParamName:"T",type:"number",notSupported:!0}]},{tfOpName:"Range",dlOpName:"range",category:"creation",params:[{tfInputIndex:0,dlParamName:"start",type:"number"},{tfInputIndex:1,dlParamName:"stop",type:"number"},{tfInputIndex:2,dlParamName:"step",type:"number",defaultValue:0},{tfParamName:"Tidx",dlParamName:"dtype",type:"dtype"}]},{tfOpName:"truncatedNormal",dlOpName:"truncatedNormal",category:"creation",params:[{tfInputIndex:0,dlParamName:"shape",type:"number[]"},{tfParamName:"means",dlParamName:"mean",type:"number",defaultValue:0},{tfParamName:"stddev",dlParamName:"stdDev",type:"number",defaultValue:1},{tfParamName:"seed",dlParamName:"seed",type:"number"},{tfParamName:"seed2",dlParamName:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfParamName:"dtype",dlParamName:"dtype",type:"dtype"},{tfParamName:"T",dlParamName:"T",type:"number",notSupported:!0}]},{tfOpName:"Zeros",dlOpName:"zeros",category:"creation",params:[{tfInputIndex:0,dlParamName:"shape",type:"number[]"},{tfParamName:"T",dlParamName:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",dlOpName:"zerosLike",category:"creation",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype"}]}]},{}],35:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.json=[{tfOpName:"NonMaxSuppressionV2",dlOpName:"nonMaxSuppression",category:"dynamic",params:[{tfInputIndex:0,dlParamName:"boxes",type:"tensor"},{tfInputIndex:1,dlParamName:"scores",type:"tensor"},{tfInputIndex:2,dlParamName:"maxOutputSize",type:"number"},{tfInputIndex:3,dlParamName:"iouThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV3",dlOpName:"nonMaxSuppression",category:"dynamic",params:[{tfInputIndex:0,dlParamName:"boxes",type:"tensor"},{tfInputIndex:1,dlParamName:"scores",type:"tensor"},{tfInputIndex:2,dlParamName:"maxOutputSize",type:"number"},{tfInputIndex:3,dlParamName:"iouThreshold",type:"number"},{tfInputIndex:4,dlParamName:"scoreThreshold",type:"number"}]},{tfOpName:"Where",dlOpName:"whereAsync",category:"dynamic",params:[{tfInputIndex:0,dlParamName:"condition",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]}]},{}],36:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.json=[{tfOpName:"TopKV2",dlOpName:"topK",category:"evaluation",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"k",type:"number"},{tfParamName:"sorted",dlParamName:"sorted",type:"bool"}]}]},{}],37:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.json=[{tfOpName:"PlaceholderWithDefault",dlOpName:"placeholder",category:"graph",params:[{tfInputIndex:0,dlParamName:"default",type:"tensor"},{tfParamName:"shape",dlParamName:"shape",type:"shape"},{tfParamName:"dtype",dlParamName:"dtype",type:"dtype"}]},{tfOpName:"Placeholder",dlOpName:"placeholder",category:"graph",params:[{tfParamName:"shape",dlParamName:"shape",type:"shape"},{tfParamName:"dtype",dlParamName:"dtype",type:"dtype"}]},{tfOpName:"Const",dlOpName:"const",category:"graph"},{tfOpName:"Identity",dlOpName:"identity",category:"graph",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"}]},{tfOpName:"Snapshot",dlOpName:"snapshot",category:"graph",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"}]},{tfOpName:"Rank",dlOpName:"rank",category:"graph",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"}]},{tfOpName:"Size",dlOpName:"size",category:"graph",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"}]},{tfOpName:"Shape",dlOpName:"shape",category:"graph",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"}]},{tfOpName:"Print",dlOpName:"print",category:"graph",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,tfInputParamLength:1,dlParamName:"data",type:"tensors"},{tfParamName:"message",dlParamName:"message",type:"string"},{tfParamName:"first_n",dlParamName:"firstN",type:"number",notSupprted:!0},{tfParamName:"summarize",dlParamName:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",dlOpName:"noop",category:"graph",params:[]},{tfOpName:"StopGradient",dlOpName:"stopGradient",category:"graph",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",dlOpName:"fakeQuantWithMinMaxVars",category:"graph",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"min",dlParamName:"min",type:"number"},{tfParamName:"max",dlParamName:"max",type:"number"}]}]},{}],38:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.json=[{tfOpName:"ResizeBilinear",dlOpName:"resizeBilinear",category:"image",params:[{tfInputIndex:0,dlParamName:"images",type:"tensor"},{tfInputIndex:1,dlParamName:"size",type:"number[]"},{tfParamName:"align_corners",dlParamName:"alignCorners",type:"bool"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ResizeNearestNeighbor",dlOpName:"resizeNearestNeighbor",category:"image",params:[{tfInputIndex:0,dlParamName:"images",type:"tensor"},{tfInputIndex:1,dlParamName:"size",type:"number[]"},{tfParamName:"align_corners",dlParamName:"alignCorners",type:"bool"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]}]},{}],39:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.json=[{tfOpName:"Equal",dlOpName:"equal",category:"logical",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NotEqual",dlOpName:"notEqual",category:"logical",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Greater",dlOpName:"greater",category:"logical",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"GreaterEqual",dlOpName:"greaterEqual",category:"logical",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Less",dlOpName:"less",category:"logical",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LessEqual",dlOpName:"lessEqual",category:"logical",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalAnd",dlOpName:"logicalAnd",category:"logical",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalNot",dlOpName:"logicalNot",category:"logical",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalOr",dlOpName:"logicalOr",category:"logical",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Select",dlOpName:"where",category:"logical",params:[{tfInputIndex:0,dlParamName:"condition",type:"tensor"},{tfInputIndex:1,dlParamName:"a",type:"tensor"},{tfInputIndex:2,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]}]},{}],40:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.json=[{tfOpName:"MatMul",dlOpName:"matMul",category:"matrices",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"transpose_a",dlParamName:"transposeA",type:"bool",defaultValue:!1},{tfParamName:"transpose_b",dlParamName:"transposeB",type:"bool",defaultValue:!1},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Transpose",dlOpName:"transpose",category:"matrices",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"perm",dlParamName:"perm",type:"number[]"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]}]},{}],41:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.json=[{tfOpName:"FusedBatchNorm",dlOpName:"batchNormalization",category:"normalization",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"scale",type:"tensor"},{tfInputIndex:2,dlParamName:"offset",type:"tensor"},{tfInputIndex:3,dlParamName:"mean",type:"tensor"},{tfInputIndex:4,dlParamName:"variance",type:"tensor"},{tfParamName:"epsilon",dlParamName:"epsilon",type:"number",defaultValue:.001},{tfParamName:"data_format",dlParamName:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV2",dlOpName:"batchNormalization",category:"normalization",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"scale",type:"tensor"},{tfInputIndex:2,dlParamName:"offset",type:"tensor"},{tfInputIndex:3,dlParamName:"mean",type:"tensor"},{tfInputIndex:4,dlParamName:"variance",type:"tensor"},{tfParamName:"epsilon",dlParamName:"epsilon",type:"number",defaultValue:.001},{tfParamName:"data_format",dlParamName:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"LRN",dlOpName:"localResponseNormalization",category:"normalization",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"depth_radius",dlParamName:"radius",type:"number",defaultValue:5},{tfParamName:"bias",dlParamName:"bias",type:"number",defaultValue:1},{tfParamName:"alpha",dlParamName:"alpha",type:"number",defaultValue:1},{tfParamName:"beta",dlParamName:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",dlOpName:"softmax",category:"normalization",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"}]}]},{}],42:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.json=[{tfOpName:"Max",dlOpName:"max",category:"reduction",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"axis",type:"number[]"},{tfParamName:"keep_dims",dlParamName:"keepDims",type:"bool"}]},{tfOpName:"Mean",dlOpName:"mean",category:"reduction",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"axis",type:"number[]"},{tfParamName:"keep_dims",dlParamName:"keepDims",type:"bool"}]},{tfOpName:"Min",dlOpName:"min",category:"reduction",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"axis",type:"number[]"},{tfParamName:"keep_dims",dlParamName:"keepDims",type:"bool"}]},{tfOpName:"Sum",dlOpName:"sum",category:"reduction",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"axis",type:"number[]"},{tfParamName:"keep_dims",dlParamName:"keepDims",type:"bool"}]},{tfOpName:"All",dlOpName:"all",category:"reduction",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"axis",type:"number[]"},{tfParamName:"keep_dims",dlParamName:"keepDims",type:"bool"}]},{tfOpName:"Any",dlOpName:"any",category:"reduction",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"axis",type:"number[]"},{tfParamName:"keep_dims",dlParamName:"keepDims",type:"bool"}]},{tfOpName:"ArgMax",dlOpName:"argMax",category:"reduction",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"axis",type:"number"}]},{tfOpName:"ArgMin",dlOpName:"argMin",category:"reduction",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"axis",type:"number"}]}]},{}],43:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.json=[{tfOpName:"ConcatV2",dlOpName:"concat",category:"slice_join",params:[{tfInputIndex:0,tfInputParamLength:1,dlParamName:"tensors",type:"tensors"},{tfInputIndex:-1,dlParamName:"axis",type:"number"}]},{tfOpName:"Concat",dlOpName:"concat",category:"slice_join",params:[{tfInputIndex:1,tfInputParamLength:1,dlParamName:"tensors",type:"tensors"},{tfInputIndex:0,dlParamName:"axis",type:"number"}]},{tfOpName:"GatherV2",dlOpName:"gather",category:"slice_join",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"indices",type:"tensor"},{tfParamName:"axis",dlParamName:"axis",type:"number",defaultValue:0}]},{tfOpName:"Gather",dlOpName:"gather",category:"slice_join",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"indices",type:"tensor"},{tfParamName:"axis",dlParamName:"axis",type:"number",defaultValue:0},{tfParamName:"validate_indices",dlParamName:"validateIndices",type:"bool",notSupported:!0}]},{tfOpName:"Reverse",dlOpName:"reverse",category:"slice_join",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"axis",type:"number"}]},{tfOpName:"ReverseV2",dlOpName:"reverse",category:"slice_join",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"axis",type:"number"}]},{tfOpName:"Slice",dlOpName:"slice",category:"slice_join",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"begin",type:"number[]"},{tfInputIndex:2,dlParamName:"size",type:"number[]"}]},{tfOpName:"StridedSlice",dlOpName:"stridedSlice",category:"slice_join",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"begin",type:"number[]"},{tfInputIndex:2,dlParamName:"end",type:"number[]"},{tfInputIndex:3,dlParamName:"strides",type:"number[]"},{tfParamName:"begin_mask",dlParamName:"beginMask",type:"number",defaultValue:0},{tfParamName:"end_mask",dlParamName:"endMask",type:"number",defaultValue:0}]},{tfOpName:"Pack",dlOpName:"stack",category:"slice_join",params:[{tfInputIndex:0,tfInputParamLength:0,dlParamName:"tensors",type:"tensors"},{tfParamName:"axis",dlParamName:"axis",type:"number",defaultValue:0}]},{tfOpName:"Unpack",dlOpName:"unstack",category:"slice_join",params:[{tfInputIndex:0,tfInputParamLength:0,dlParamName:"tensor",type:"tensor"},{tfParamName:"axis",dlParamName:"axis",type:"number",defaultValue:0},{tfParamName:"num",dlParamName:"num",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Tile",dlOpName:"tile",category:"slice_join",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"reps",type:"number[]"}]},{tfOpName:"Split",dlOpName:"split",category:"slice_join",params:[{tfInputIndex:0,dlParamName:"axis",type:"number",defaultValue:0},{tfInputIndex:1,dlParamName:"x",type:"tensor"},{tfParamName:"num_split",dlParamName:"numOrSizeSplits",type:"number",defaultValue:1}]}]},{}],44:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.json=[{tfOpName:"Cast",dlOpName:"cast",category:"transformation",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"SrcT",dlParamName:"sdtype",type:"dtype",notSupported:!0},{tfParamName:"DstT",dlParamName:"dtype",type:"dtype"}]},{tfOpName:"ExpandDims",dlOpName:"expandDims",category:"transformation",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,tfParamNameDeprecated:"dim",dlParamName:"axis",type:"number"}]},{tfOpName:"Pad",dlOpName:"pad",category:"transformation",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"padding",type:"number[]"},{tfParamName:"constant_value",dlParamName:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"PadV2",dlOpName:"pad",category:"transformation",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"padding",type:"number[]"},{tfInputIndex:2,dlParamName:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"Reshape",dlOpName:"reshape",category:"transformation",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"shape",type:"number[]"}]},{tfOpName:"Squeeze",dlOpName:"squeeze",category:"transformation",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"axis",tfParamNameDeprecated:"squeeze_dims",dlParamName:"axis",type:"number[]"}]},{tfOpName:"SpaceToBatchND",dlOpName:"spaceToBatchND",category:"transformation",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"blockShape",type:"number[]"},{tfInputIndex:2,dlParamName:"paddings",type:"number[]"}]},{tfOpName:"BatchToSpaceND",dlOpName:"batchToSpaceND",category:"transformation",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"blockShape",type:"number[]"},{tfInputIndex:2,dlParamName:"crops",type:"number[]"}]}]},{}],45:[function(e,t,n){"use strict";function r(e,t,n){switch(e.category){case"arithmetic":return o.executeOp(e,t,n);case"basic_math":return a.executeOp(e,t,n);case"control":return i.executeOp(e,t,n);case"convolution":return s.executeOp(e,t,n);case"creation":return u.executeOp(e,t,n);case"dynamic":return l.executeOp(e,t,n);case"evaluation":return c.executeOp(e,t,n);case"image":return f.executeOp(e,t,n);case"graph":return p.executeOp(e,t,n);case"logical":return h.executeOp(e,t,n);case"matrices":return d.executeOp(e,t,n);case"normalization":return m.executeOp(e,t,n);case"reduction":return g.executeOp(e,t,n);case"slice_join":return v.executeOp(e,t,n);case"transformation":return y.executeOp(e,t,n);default:throw TypeError("Node type "+e.op+" is not implemented")}}Object.defineProperty(n,"__esModule",{value:!0});var o=e("./executors/arithmetic_executor"),a=e("./executors/basic_math_executor"),i=e("./executors/control_executor"),s=e("./executors/convolution_executor"),u=e("./executors/creation_executor"),l=e("./executors/dynamic_executor"),c=e("./executors/evaluation_executor"),p=e("./executors/graph_executor"),f=e("./executors/image_executor"),h=e("./executors/logical_executor"),d=e("./executors/matrices_executor"),m=e("./executors/normalization_executor"),g=e("./executors/reduction_executor"),v=e("./executors/slice_join_executor"),y=e("./executors/transformation_executor");n.executeOp=r},{"./executors/arithmetic_executor":14,"./executors/basic_math_executor":15,"./executors/control_executor":16,"./executors/convolution_executor":17,"./executors/creation_executor":18,"./executors/dynamic_executor":19,"./executors/evaluation_executor":20,"./executors/graph_executor":21,"./executors/image_executor":22,"./executors/logical_executor":23,"./executors/matrices_executor":24,"./executors/normalization_executor":25,"./executors/reduction_executor":26,"./executors/slice_join_executor":27,"./executors/transformation_executor":28}],46:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("../data/compiled_api"),o=e("./executors/utils"),a=e("./op_list/arithmetic"),i=e("./op_list/basic_math"),s=e("./op_list/control"),u=e("./op_list/convolution"),l=e("./op_list/creation"),c=e("./op_list/dynamic"),p=e("./op_list/evaluation"),f=e("./op_list/graph"),h=e("./op_list/image"),d=e("./op_list/logical"),m=e("./op_list/matrices"),g=e("./op_list/normalization"),v=e("./op_list/reduction"),y=e("./op_list/slice_join"),x=e("./op_list/transformation"),b=["Switch","Merge","Enter","Exit","NextIteration"],_=["NonMaxSuppressionV2","NonMaxSuppressionV3","Where"],w=function(){function e(){var e=[a,i,s,u,l,c,p,d,h,f,m,g,v,y,x],t=[].concat.apply([],e.map(function(e){return e.json}));this.opMappers=t.reduce(function(e,t){return e[t.tfOpName]=t,e},{})}return Object.defineProperty(e,"Instance",{get:function(){return this._instance||(this._instance=new this)},enumerable:!0,configurable:!0}),e.prototype.isControlFlow=function(e){return b.some(function(t){return t===e.op})},e.prototype.isDynamicShape=function(e){return _.some(function(t){return t===e.op})},e.prototype.transformGraph=function(e){var t=this,n=e.node,r=!1,a=!1,i=[],s=n.reduce(function(e,n){return e[n.name]=t.mapNode(n),t.isControlFlow(n)&&(r=!0),t.isDynamicShape(n)&&(a=!0),"Placeholder"===n.op&&i.push(e[n.name]),e},{}),u=[],l=[];return Object.keys(s).forEach(function(e){var t=s[e];t.inputNames.forEach(function(e){var n=o.getNodeNameAndIndex(e)[0];t.inputs.push(s[n]),s[n].children.push(t)}),0===t.inputs.length&&u.push(t)}),Object.keys(s).forEach(function(e){var t=s[e];0===t.children.length&&l.push(t)}),{nodes:s,inputs:u,outputs:l,placeholders:i,withControlFlow:r,withDynamicShape:a}},e.prototype.mapNode=function(e){var t=this,n=this.opMappers[e.op];if(void 0===n)throw new Error("Tensorflow Op is not supported: "+e.op);var r={name:e.name,op:n.dlOpName,category:n.category,inputNames:(e.input||[]).map(function(e){return e.startsWith("^")?e.substr(1):e}),inputs:[],children:[],params:{}};return n.params&&(r.params=n.params.reduce(function(n,r){var o=r.tfInputIndex,a=r.tfInputParamLength,i=r.type,s=void 0;if(void 0===o)switch(r.type){case"string":s=t.getStringParam(e.attr,r.tfParamName,r.defaultValue),void 0===s&&r.tfParamNameDeprecated&&(s=t.getStringParam(e.attr,r.tfParamNameDeprecated,r.defaultValue));break;case"number":s=t.getNumberParam(e.attr,r.tfParamName,r.defaultValue),void 0===s&&r.tfParamNameDeprecated&&(s=t.getNumberParam(e.attr,r.tfParamNameDeprecated,r.defaultValue));break;case"number[]":s=t.getNumericArrayParam(e.attr,r.tfParamName,r.defaultValue),void 0===s&&r.tfParamNameDeprecated&&(s=t.getNumericArrayParam(e.attr,r.tfParamNameDeprecated,r.defaultValue));break;case"bool":s=t.getBoolParam(e.attr,r.tfParamName,r.defaultValue),void 0===s&&r.tfParamNameDeprecated&&(s=t.getBoolParam(e.attr,r.tfParamNameDeprecated,r.defaultValue));break;case"shape":s=t.getTensorShapeParam(e.attr,r.tfParamName,r.defaultValue),void 0===s&&r.tfParamNameDeprecated&&(s=t.getTensorShapeParam(e.attr,r.tfParamNameDeprecated,r.defaultValue));break;case"dtype":s=t.getDtypeParam(e.attr,r.tfParamName,r.defaultValue),void 0===s&&r.tfParamNameDeprecated&&(s=t.getDtypeParam(e.attr,r.tfParamNameDeprecated,r.defaultValue));break;case"tensor":case"tensors":break;default:throw new Error("Unsupported param type: "+r.type+" for op: "+e.op)}return n[r.dlParamName]={value:s,inputIndex:o,type:i,inputParamLength:a},n},{})),r},e.prototype.getStringParam=function(e,t,n,r){void 0===r&&(r=!1);var o=e[t];if(void 0!==o){var a=String.fromCharCode.apply(null,o.s);return r?a:a.toLowerCase()}return n},e.prototype.getBoolParam=function(e,t,n){var r=e[t];return r?r.b:n},e.prototype.getNumberParam=function(e,t,n){var r=e[t],o=r?void 0!==r.f?r.f:r.i:n;return"number"==typeof o?o:o.toInt()},e.prototype.getDtypeParam=function(e,t,n){var o=e[t];if(o&&o.type)switch(o.type){case r.tensorflow.DataType.DT_FLOAT:return"float32";case r.tensorflow.DataType.DT_INT32:return"int32";case r.tensorflow.DataType.DT_BOOL:return"bool";default:return n}return n},e.prototype.getTensorShapeParam=function(e,t,n){var r=e[t];return r&&r.shape?r.shape.dim.map(function(e){return"number"==typeof e.size?e.size:e.size.toInt()}):n},e.prototype.getNumericArrayParam=function(e,t,n){var r=e[t];return r?(r.list.f&&r.list.f.length?r.list.f:r.list.i).map(function(e){return"number"==typeof e?e:e.toInt()}):n},e}();n.OperationMapper=w},{"../data/compiled_api":8,"./executors/utils":29,"./op_list/arithmetic":30,"./op_list/basic_math":31,"./op_list/control":32,"./op_list/convolution":33,"./op_list/creation":34,"./op_list/dynamic":35,"./op_list/evaluation":36,"./op_list/graph":37,"./op_list/image":38,"./op_list/logical":39,"./op_list/matrices":40,"./op_list/normalization":41,"./op_list/reduction":42,"./op_list/slice_join":43,"./op_list/transformation":44}],47:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r="0.5.6";n.version=r},{}],48:[function(e,t,n){(function(e){"use strict";function t(){return new Promise(function(e){return r(function(){return e()})})}Object.defineProperty(n,"__esModule",{value:!0});var r="undefined"!=typeof requestAnimationFrame?requestAnimationFrame:e;n.nextFrame=t}).call(this,e("timers").setImmediate)},{timers:211}],49:[function(e,t,n){"use strict";function r(){var e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))}Object.defineProperty(n,"__esModule",{value:!0}),n.isMobile=r},{}],50:[function(e,t,n){"use strict";function r(e){var t=p.makeOnesTypedArray(p.sizeFromShape(e),"float32");return u.Tensor.make(e,{values:t})}var o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,s)}u((r=r.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,a&&(i=2&n[0]?a.return:n[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,n[1])).done)return i;switch(a=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,a=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(i=u.trys,!(i=i.length>0&&i[i.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){u.label=n[1];break}if(6===n[0]&&u.label<i[1]){u.label=i[1],i=n;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(n);break}i[2]&&u.ops.pop(),u.trys.pop();continue}n=t.call(e,u)}catch(e){n=[6,e],a=0}finally{o=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,a,i,s,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(n,"__esModule",{value:!0});var i=e("./profiler"),s=e("./tape"),u=e("./tensor"),l=e("./tensor_util"),c=e("./util"),p=e("./util"),f=function(){function e(e,t,n){this.backend=e,this.safeMode=t,this.debugMode=n,this.registeredVariables={},this.refCounter=new WeakMap,this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numDataBuffers=0,this.gradientScopeCount=0,this.customGradientDepth=0,this.keepTensors=new Set,this.activeScope={track:[],name:"default scope"},this.scopeStack=[this.activeScope],this.profiler=new i.Profiler(e)}return e.prototype.tidy=function(e,t,n){var r=this;void 0===n&&(n=!1);var o=null;if(null==t){if("function"!=typeof e)throw new Error("Please provide a function to tidy()");t=e}else{if("string"!=typeof e&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if("function"!=typeof t)throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");o=e}var a;return this.scopedRun(function(){return r.startScope(o,n)},function(){return r.endScope(a,n)},function(){return a=t(),a instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),a})},e.prototype.scopedRun=function(e,t,n){e();try{var r=n();return t(),r}catch(e){throw t(),e}},e.prototype.runKernel=function(e,t,n){var r,o=this,a=[],i=function(e){return a.push(e),e},s=this.activeScope.name;if(this.scopedRun(function(){return o.customGradientDepth++},function(){return o.customGradientDepth--},function(){r=o.debugMode()?o.profiler.profileKernel(s,function(){return e(o.backend,i)}):e(o.backend,i)}),this.shouldRecord()){var u={id:this.nextTapeNodeId++,name:s,inputs:t,output:Array.isArray(r)?r[0]:r};null!=n&&(u.gradient=function(e){return n(e,a)}),this.activeTape.push(u)}return r},e.prototype.registerTensor=function(e){var t=this.refCounter.has(e.dataId)?this.refCounter.get(e.dataId):0;this.numTensors++,0===t&&(this.numDataBuffers++,this.numBytes+=c.sizeFromShape(e.shape)*c.bytesPerElement(e.dtype),this.backend.register(e.dataId,e.shape,e.dtype)),this.refCounter.set(e.dataId,t+1),e instanceof u.Variable||this.track(e)},e.prototype.registerVariable=function(e){if(null!=this.registeredVariables[e.name])throw new Error("Variable with name "+e.name+" was already registered");this.registeredVariables[e.name]=e},e.prototype.disposeTensor=function(e){if(this.refCounter.has(e.dataId)){this.keepTensors.has(e.id)&&this.keepTensors.delete(e.id),this.numTensors--;var t=this.refCounter.get(e.dataId);t<=1?(this.refCounter.delete(e.dataId),this.backend.disposeData(e.dataId),this.numDataBuffers--,this.numBytes-=c.sizeFromShape(e.shape)*c.bytesPerElement(e.dtype)):this.refCounter.set(e.dataId,t-1)}},e.prototype.disposeVariables=function(){for(var e in this.registeredVariables){var t=this.registeredVariables[e];this.disposeTensor(t),delete this.registeredVariables[e]}},e.prototype.memory=function(){var e=this.backend.memory();return e.numTensors=this.numTensors,e.numDataBuffers=this.numDataBuffers,e.numBytes=this.numBytes,e},e.prototype.shouldRecord=function(){return null!=this.activeTape&&0===this.customGradientDepth},e.prototype.addTapeNode=function(e,t,n){var r={};e.forEach(function(e,t){r[t]=e});var o=function(e){var t=n(e),r={};return t.forEach(function(e,t){r[t]=function(){return e}}),r},a={id:this.nextTapeNodeId++,
name:this.activeScope.name,inputs:r,output:t,gradient:o};this.activeTape.push(a)},e.prototype.keep=function(e){if(1===this.scopeStack.length&&this.safeMode)throw new Error("Safe mode is ON. Enclose all tensor operations inside tf.tidy(): tf.tidy(() => {...}) to avoid memory leaks.");return this.keepTensors.add(e.id),e},e.prototype.startScope=function(e,t){void 0===t&&(t=!1),t&&0===this.gradientScopeCount&&(this.activeTape=[]),t&&this.gradientScopeCount++;var n={track:[],name:"unnamed scope"};e&&(n.name=e),this.scopeStack.push(n),this.activeScope=n},e.prototype.endScope=function(e,t){var n=this;void 0===t&&(t=!1),t&&(this.gradientScopeCount--,0===this.gradientScopeCount&&(this.activeTape=null));var r=new Set(this.keepTensors),o=l.getTensorsInContainer(e);o.forEach(function(e){return r.add(e.id)});for(var a=0;a<this.activeScope.track.length;a++){var i=this.activeScope.track[a];r.has(i.id)||(null!=this.activeTape?o.push(i):i.dispose())}var s=this.scopeStack.pop();this.activeScope=0===this.scopeStack.length?{track:[],name:"default scope"}:this.scopeStack[this.scopeStack.length-1],o.forEach(function(e){!n.keepTensors.has(e.id)&&l.isTensorInList(e,s.track)&&n.track(e)})},e.prototype.gradients=function(e,t,n,o){var a=this;return void 0===o&&(o=!1),c.assert(t.length>0,"gradients() received an empty list of xs."),this.tidy("gradients",function(){var i=e();c.assert(i instanceof u.Tensor,"The result y returned by f() must be a tensor.");var l=s.getFilteredNodesXToY(a.activeTape,t,i);if(!o&&0===l.length&&t.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");var p={};p[i.id]=null==n?r(i.shape):n,s.backpropagateGradients(p,l);var f=t.map(function(e){return p[e.id]});return{value:i,grads:f}},!0)},e.prototype.customGrad=function(e){var t=this;return c.assert(c.isFunction(e),"The f passed in customGrad(f) must be a function."),function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];c.assert(n.every(function(e){return e instanceof u.Tensor}),"The args passed in customGrad(f)(x1, x2,...) must all be tensors");var o,a;if(t.scopedRun(function(){return t.customGradientDepth++},function(){return t.customGradientDepth--},function(){var r=!0;a=t.tidy(e.name,function(){var t=e.apply(void 0,n),r=t.value,a=t.gradFunc;return c.assert(r instanceof u.Tensor,"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"),c.assert(c.isFunction(a),"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."),o=a,r},r)}),t.shouldRecord()){var i=function(e){var t=o(e),r=Array.isArray(t)?t:[t];return c.assert(r.length===n.length,"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."),c.assert(r.every(function(e){return e instanceof u.Tensor}),"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."),r};t.addTapeNode(n,a,i)}return a}},e.prototype.write=function(e,t){this.backend.write(e,t)},e.prototype.readSync=function(e){return this.backend.readSync(e)},e.prototype.read=function(e){return this.backend.read(e)},e.prototype.fromPixels=function(e,t){return this.backend.fromPixels(e,t)},e.prototype.time=function(e){return o(this,void 0,void 0,function(){var t,n;return a(this,function(r){switch(r.label){case 0:return t=p.now(),[4,this.backend.time(e)];case 1:return n=r.sent(),n.wallMs=p.now()-t,[2,n]}})})},e.prototype.track=function(e){if(1===this.scopeStack.length&&this.safeMode)throw new Error("Safe mode is ON. Enclose all tensor operations inside tf.tidy(): tf.tidy(() => {op();...}); to avoid memory leaks.");return this.activeScope.track.push(e),e},e}();n.Engine=f},{"./profiler":166,"./tape":168,"./tensor":169,"./tensor_util":171,"./util":176}],51:[function(e,t,n){(function(t){"use strict";function r(){var e;if("undefined"!=typeof window)e=window;else{if("undefined"==typeof t)throw new Error("Could not find a global object");e=t}return e}function o(){var e=r();return null==e.ENV&&(e.ENV=new f(s.getFeaturesFromURL()),u.setTensorTracker(function(){return e.ENV.engine})),e.ENV}Object.defineProperty(n,"__esModule",{value:!0});var a=e("./device_util"),i=e("./engine"),s=e("./environment_util"),u=e("./tensor"),l=e("./tensor_util"),c=.001,p=.1,f=function(){function e(e){this.features={},this.registry={},null!=e&&(this.features=e),this.get("DEBUG")&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")}return e.setBackend=function(e,t){if(void 0===t&&(t=!1),!(e in n.ENV.registry))throw new Error("Backend name '"+e+"' not found in registry");n.ENV.initBackend(e,t)},e.getBackend=function(){return n.ENV.initDefaultBackend(),n.ENV.backendName},e.disposeVariables=function(){n.ENV.engine.disposeVariables()},e.memory=function(){return n.ENV.engine.memory()},e.tidy=function(e,t,r){return void 0===r&&(r=!1),n.ENV.engine.tidy(e,t,r)},e.dispose=function(e){var t=l.getTensorsInContainer(e);t.forEach(function(e){return e.dispose()})},e.keep=function(e){return n.ENV.engine.keep(e)},e.time=function(e){return n.ENV.engine.time(e)},e.prototype.get=function(e){return e in this.features?this.features[e]:(this.features[e]=this.evaluateFeature(e),this.features[e])},e.prototype.getFeatures=function(){return this.features},e.prototype.set=function(e,t){this.features[e]=t},e.prototype.getBestBackendName=function(){var e=this;if(0===Object.keys(this.registry).length)throw new Error("No backend found in registry.");var t=Object.keys(this.registry).map(function(t){return{name:t,entry:e.registry[t]}}).sort(function(e,t){return t.entry.priority-e.entry.priority});return t[0].name},e.prototype.evaluateFeature=function(e){if("DEBUG"===e)return!1;if("IS_BROWSER"===e)return"undefined"!=typeof window;if("IS_NODE"===e)return"undefined"!=typeof t&&"undefined"!=typeof t.versions.node;if("IS_CHROME"===e)return s.isChrome();if("IS_TEST"===e)return!1;if("BACKEND"===e)return this.getBestBackendName();if("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"===e){var n=this.get("WEBGL_VERSION");return 0===n?0:n>0?0:s.getWebGLDisjointQueryTimerVersion(n,this.get("IS_BROWSER"))}if("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE"===e)return this.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&!a.isMobile();if("HAS_WEBGL"===e)return this.get("WEBGL_VERSION")>0;if("WEBGL_VERSION"===e)return s.isWebGLVersionEnabled(2,this.get("IS_BROWSER"))?2:s.isWebGLVersionEnabled(1,this.get("IS_BROWSER"))?1:0;if("WEBGL_RENDER_FLOAT32_ENABLED"===e)return s.isRenderToFloatTextureEnabled(this.get("WEBGL_VERSION"),this.get("IS_BROWSER"));if("WEBGL_DOWNLOAD_FLOAT_ENABLED"===e)return s.isDownloadFloatTextureEnabled(this.get("WEBGL_VERSION"),this.get("IS_BROWSER"));if("WEBGL_FENCE_API_ENABLED"===e)return s.isWebGLFenceEnabled(this.get("WEBGL_VERSION"),this.get("IS_BROWSER"));if("TEST_EPSILON"===e)return this.get("WEBGL_RENDER_FLOAT32_ENABLED")?c:p;throw new Error("Unknown feature "+e+".")},e.prototype.setFeatures=function(e){this.features=Object.assign({},e)},e.prototype.reset=function(){this.features=s.getFeaturesFromURL(),null!=this.globalEngine&&(this.globalEngine=null)},e.prototype.initBackend=function(e,t){var n=this;void 0===t&&(t=!1),this.backendName=e,this.backend=this.findBackend(e),this.globalEngine=new i.Engine(this.backend,t,function(){return n.get("DEBUG")})},e.prototype.findBackend=function(e){return e in this.registry?this.registry[e].backend:null},e.prototype.registerBackend=function(e,t,n,r){var o=this;if(void 0===n&&(n=1),e in this.registry)return console.warn(e+" backend was already registered. Reusing existing backend"),null!=r&&r(function(){return o.engine}),!1;try{var a=t();return this.registry[e]={backend:a,priority:n},!0}catch(t){return console.warn("Registration of backend "+e+" failed"),console.warn(t.stack||t.message),!1}},e.prototype.removeBackend=function(e){if(!(e in this.registry))throw new Error(e+" backend not found in registry");this.registry[e].backend.dispose(),delete this.registry[e]},Object.defineProperty(e.prototype,"engine",{get:function(){return this.initDefaultBackend(),this.globalEngine},enumerable:!0,configurable:!0}),e.prototype.initDefaultBackend=function(){null==this.globalEngine&&this.initBackend(this.get("BACKEND"),!1)},e}();n.Environment=f,n.ENV=o()}).call(this,e("_process"))},{"./device_util":49,"./engine":50,"./environment_util":52,"./tensor":169,"./tensor_util":171,_process:191}],52:[function(e,t,n){"use strict";function r(e,t){var n;try{n=p(e,t)}catch(e){return!1}return null!=n&&(f(n),!0)}function o(e,t){if(0===e)return 0;var n,r=p(e,t);return n=c(r,"EXT_disjoint_timer_query_webgl2")&&2===e?2:c(r,"EXT_disjoint_timer_query")?1:0,null!=r&&f(r),n}function a(e,t){if(0===e)return!1;var n=p(e,t);if(1===e){if(!c(n,"OES_texture_float"))return!1}else if(!c(n,"EXT_color_buffer_float"))return!1;h(n,e);var r=n.checkFramebufferStatus(n.FRAMEBUFFER)===n.FRAMEBUFFER_COMPLETE;return f(n),r}function i(e,t){if(0===e)return!1;var n=p(e,t);if(1===e){if(!c(n,"OES_texture_float"))return!1}else if(!c(n,"EXT_color_buffer_float"))return!1;h(n,e),n.readPixels(0,0,1,1,n.RGBA,n.FLOAT,new Float32Array(4));var r=n.getError()===n.NO_ERROR;return f(n),r}function s(e,t){if(2!==e)return!1;var n=p(e,t),r=null!=n.fenceSync;return f(n),r}function u(){return"undefined"!=typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}function l(){var e={};if("undefined"==typeof window||"undefined"==typeof window.location)return e;var t=d(window.location.search);if(v in t){var r={},o=t[v].split(",");o.forEach(function(e){var t=e.split(":"),n=t[0],o=t[1];r[n]=o}),n.URL_PROPERTIES.forEach(function(t){t.name in r&&(console.log("Setting feature override from URL "+t.name+": "+r[t.name]),t.type===g.NUMBER?e[t.name]=+r[t.name]:t.type===g.BOOLEAN?e[t.name]="true"===r[t.name]:t.type===g.STRING?e[t.name]=r[t.name]:console.warn("Unknown URL param: "+t.name+"."))})}return e}function c(e,t){var n=e.getExtension(t);return null!=n}function p(e,t){if(0===e||!t)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");var n=document.createElement("canvas");return 1===e?n.getContext("webgl")||n.getContext("experimental-webgl"):n.getContext("webgl2")}function f(e){if(null!=e){var t=e.getExtension("WEBGL_lose_context");if(null==t)throw new Error("Extension WEBGL_lose_context not supported on this browser.");t.loseContext()}}function h(e,t){var n=e.createFramebuffer(),r=e.createTexture();e.bindTexture(e.TEXTURE_2D,r);var o=2===t?e.RGBA32F:e.RGBA;e.texImage2D(e.TEXTURE_2D,0,o,1,1,0,e.RGBA,e.FLOAT,null),e.bindFramebuffer(e.FRAMEBUFFER,n),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0)}function d(e){var t={};return e.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return m(t,n[0],n[1]),n.join("=")}),t}function m(e,t,n){e[decodeURIComponent(t)]=decodeURIComponent(n||"")}Object.defineProperty(n,"__esModule",{value:!0});var g;!function(e){e[e.NUMBER=0]="NUMBER",e[e.BOOLEAN=1]="BOOLEAN",e[e.STRING=2]="STRING"}(g=n.Type||(n.Type={})),n.URL_PROPERTIES=[{name:"DEBUG",type:g.BOOLEAN},{name:"IS_BROWSER",type:g.BOOLEAN},{name:"WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",type:g.NUMBER},{name:"WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",type:g.BOOLEAN},{name:"WEBGL_VERSION",type:g.NUMBER},{name:"WEBGL_RENDER_FLOAT32_ENABLED",type:g.BOOLEAN},{name:"WEBGL_DOWNLOAD_FLOAT_ENABLED",type:g.BOOLEAN},{name:"WEBGL_FENCE_API_ENABLED",type:g.BOOLEAN},{name:"BACKEND",type:g.STRING}],n.isWebGLVersionEnabled=r,n.getWebGLDisjointQueryTimerVersion=o,n.isRenderToFloatTextureEnabled=a,n.isDownloadFloatTextureEnabled=i,n.isWebGLFenceEnabled=s,n.isChrome=u;var v="tfjsflags";n.getFeaturesFromURL=l,n.getQueryParams=d},{}],53:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("./environment"),o=e("./gradients");n.customGrad=o.customGrad,n.grad=o.grad,n.grads=o.grads,n.valueAndGrad=o.valueAndGrad,n.valueAndGrads=o.valueAndGrads,n.variableGrads=o.variableGrads,n.tidy=r.Environment.tidy,n.keep=r.Environment.keep,n.dispose=r.Environment.dispose,n.time=r.Environment.time},{"./environment":51,"./gradients":54}],54:[function(e,t,n){"use strict";function r(e,t){return p.ENV.engine.tidy(e,t,!0)}function o(e){return h.assert(h.isFunction(e),"The f passed in grad(f) must be a function"),function(t,n){return h.assert(t instanceof f.Tensor,"The x passed in grad(f)(x) must be a tensor"),h.assert(null==n||n instanceof f.Tensor,"The dy passed in grad(f)(x, dy) must be a tensor"),p.ENV.engine.tidy(function(){var r=p.ENV.engine.gradients(function(){return e(t)},[t],n),o=r.value,a=r.grads;return null!=n&&h.assertShapesMatch(o.shape,n.shape,"The shape of dy passed in grad(f)(x, dy) must match the shape returned by f(x)"),c(a),a[0]})}}function a(e){return h.assert(h.isFunction(e),"The f passed in grads(f) must be a function"),function(t,n){return h.assert(Array.isArray(t)&&t.every(function(e){return e instanceof f.Tensor}),"The args passed in grads(f)(args) must be an array of tensors"),h.assert(null==n||n instanceof f.Tensor,"The dy passed in grads(f)(args, dy) must be a tensor"),p.ENV.engine.tidy(function(){var r=p.ENV.engine.gradients(function(){return e.apply(void 0,t)},t,n),o=r.value,a=r.grads;return null!=n&&h.assertShapesMatch(o.shape,n.shape,"The shape of dy passed in grads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),c(a),a})}}function i(e){return h.assert(h.isFunction(e),"The f passed in valueAndGrad(f) must be a function"),function(t,n){h.assert(t instanceof f.Tensor,"The x passed in valueAndGrad(f)(x) must be a tensor"),h.assert(null==n||n instanceof f.Tensor,"The dy passed in valueAndGrad(f)(x, dy) must be a tensor");var r=p.ENV.engine.gradients(function(){return e(t)},[t],n),o=r.grads,a=r.value;return c(o),{grad:o[0],value:a}}}function s(e){return h.assert(h.isFunction(e),"The f passed in valueAndGrads(f) must be a function"),function(t,n){h.assert(Array.isArray(t)&&t.every(function(e){return e instanceof f.Tensor}),"The args passed in valueAndGrads(f)(args) must be array of tensors"),h.assert(null==n||n instanceof f.Tensor,"The dy passed in valueAndGrads(f)(args, dy) must be a tensor");var r=p.ENV.engine.gradients(function(){return e.apply(void 0,t)},t,n);return null!=n&&h.assertShapesMatch(r.value.shape,n.shape,"The shape of dy passed in valueAndGrads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),c(r.grads),r}}function u(e,t){if(h.assert(h.isFunction(e),"The f passed in variableGrads(f) must be a function"),h.assert(null==t||Array.isArray(t)&&t.every(function(e){return e instanceof f.Variable}),"The varList passed in variableGrads(f, varList) must be an array of variables"),null==t){t=[];for(var n in p.ENV.engine.registeredVariables)t.push(p.ENV.engine.registeredVariables[n])}var r=t.length;t=t.filter(function(e){return e.trainable}),h.assert(t.length>0,"variableGrads() expects at least one of the input variables to be "+("trainable, but none of the "+r+" variables is ")+"trainable.");var o=!0,a=p.ENV.engine.gradients(e,t,null,o),i=a.value,s=a.grads;h.assert(s.some(function(e){return null!=e}),"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."),h.assert(0===i.rank,"The f passed in variableGrads(f) must return a scalar, but it "+("returned a rank-"+i.rank+" tensor"));var u={};return t.forEach(function(e,t){null!=s[t]&&(u[e.name]=s[t])}),{value:i,grads:u}}function l(e){return p.ENV.engine.customGrad(e)}function c(e){var t=e.filter(function(e){return null==e}).length;if(t>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that\n    the f you passed encloses all operations that lead from x to y.")}Object.defineProperty(n,"__esModule",{value:!0});var p=e("./environment"),f=e("./tensor"),h=e("./util");n.gradScope=r,n.grad=o,n.grads=a,n.valueAndGrad=i,n.valueAndGrads=s,n.variableGrads=u,n.customGrad=l},{"./environment":51,"./tensor":169,"./util":176}],55:[function(e,t,n){"use strict";function r(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}Object.defineProperty(n,"__esModule",{value:!0}),e("./kernels/backend_webgl"),e("./kernels/backend_cpu");var o=e("./browser_util");n.nextFrame=o.nextFrame;var a=e("./environment");n.environment=a;var i=e("./environment"),s=e("./io/io");n.io=s;var u=e("./serialization");n.serialization=u;var l=e("./tensor"),c=e("./test_util");n.test_util=c;var p=e("./util");n.util=p;var f=e("./version");n.version_core=f.version;var h=e("./webgl");n.webgl=h;var d=e("./optimizers/adadelta_optimizer");n.AdadeltaOptimizer=d.AdadeltaOptimizer;var m=e("./optimizers/adagrad_optimizer");n.AdagradOptimizer=m.AdagradOptimizer;var g=e("./optimizers/adam_optimizer");n.AdamOptimizer=g.AdamOptimizer;var v=e("./optimizers/adamax_optimizer");n.AdamaxOptimizer=v.AdamaxOptimizer;var y=e("./optimizers/momentum_optimizer");n.MomentumOptimizer=y.MomentumOptimizer;var x=e("./optimizers/optimizer");n.Optimizer=x.Optimizer;var b=e("./optimizers/rmsprop_optimizer");n.RMSPropOptimizer=b.RMSPropOptimizer;var _=e("./optimizers/sgd_optimizer");n.SGDOptimizer=_.SGDOptimizer;var w=e("./tensor");n.Tensor=w.Tensor,n.TensorBuffer=w.TensorBuffer,n.variable=w.variable,n.Variable=w.Variable;var T=e("./types");n.Rank=T.Rank,r(e("./ops/ops"));var P=e("./ops/loss_ops");n.Reduction=P.Reduction,r(e("./train")),r(e("./globals"));var N=e("./environment");n.ENV=N.ENV,n.Environment=N.Environment,n.setBackend=i.Environment.setBackend,n.getBackend=i.Environment.getBackend,n.disposeVariables=i.Environment.disposeVariables,n.memory=i.Environment.memory;var S=e("./ops/ops");l.setOpHandler(S)},{"./browser_util":48,"./environment":51,"./globals":53,"./io/io":59,"./kernels/backend_cpu":67,"./kernels/backend_webgl":69,"./ops/loss_ops":131,"./ops/ops":138,"./optimizers/adadelta_optimizer":156,"./optimizers/adagrad_optimizer":157,"./optimizers/adam_optimizer":158,"./optimizers/adamax_optimizer":159,"./optimizers/momentum_optimizer":160,"./optimizers/optimizer":161,"./optimizers/rmsprop_optimizer":164,"./optimizers/sgd_optimizer":165,"./serialization":167,"./tensor":169,"./test_util":173,"./train":174,"./types":175,"./util":176,"./version":177,"./webgl":178}],56:[function(e,t,n){"use strict";function r(e){return void 0===e&&(e="model"),new h(e)}function o(e){return new d(e)}var a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,s)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,a&&(i=2&n[0]?a.return:n[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,n[1])).done)return i;switch(a=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,a=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(i=u.trys,!(i=i.length>0&&i[i.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){u.label=n[1];break}if(6===n[0]&&u.label<i[1]){u.label=i[1],i=n;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(n);break}i[2]&&u.ops.pop(),u.trys.pop();continue}n=t.call(e,u)}catch(e){n=[6,e],a=0}finally{o=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,a,i,s,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../environment"),u=e("./io_utils"),l=e("./router_registry"),c="model",p=".json",f=".weights.bin",h=function(){function e(t){if(!s.ENV.get("IS_BROWSER"))throw new Error("triggerDownloads() cannot proceed because the current environment is not a browser.");t.startsWith(e.URL_SCHEME)&&(t=t.slice(e.URL_SCHEME.length)),null!=t&&0!==t.length||(t=c),this.modelTopologyFileName=t+p,this.weightDataFileName=t+f}return e.prototype.save=function(e){return a(this,void 0,void 0,function(){var t,n,r,o,a,s;return i(this,function(i){if(t=window.URL.createObjectURL(new Blob([e.weightData],{type:"application/octet-stream"})),e.modelTopology instanceof ArrayBuffer)throw new Error("DownloadTrigger.save() does not support saving model topology in binary formats yet.");return n=[{paths:["./"+this.weightDataFileName],weights:e.weightSpecs}],r={modelTopology:e.modelTopology,weightsManifest:n},o=window.URL.createObjectURL(new Blob([JSON.stringify(r)],{type:"application/json"})),a=null==this.jsonAnchor?document.createElement("a"):this.jsonAnchor,a.download=this.modelTopologyFileName,a.href=o,a.click(),null!=e.weightData&&(s=null==this.weightDataAnchor?document.createElement("a"):this.weightDataAnchor,s.download=this.weightDataFileName,s.href=t,s.click()),[2,{modelArtifactsInfo:u.getModelArtifactsInfoForJSON(e)}]})})},e.URL_SCHEME="downloads://",e}();n.BrowserDownloads=h;var d=function(){function e(e){if(null==e||e.length<1)throw new Error("When calling browserFiles, at least 1 file is required, but received "+e);this.files=e}return e.prototype.load=function(){return a(this,void 0,void 0,function(){var e,t,n=this;return i(this,function(r){return e=this.files[0],t=this.files.slice(1),[2,new Promise(function(r,o){var a=new FileReader;a.onload=function(a){var i=JSON.parse(a.target.result),s=i.modelTopology;if(null==s)return void o(new Error("modelTopology field is missing from file "+e.name));0===t.length&&r({modelTopology:s});var l=i.weightsManifest;if(null==l)return void o(new Error("weightManifest field is missing from file "+e.name));var c;try{c=n.checkManifestAndWeightFiles(l,t)}catch(e){return void o(e)}var p=[],f=[],h=[];l.forEach(function(e){e.paths.forEach(function(e){f.push(e),h.push(null)}),p.push.apply(p,e.weights)}),l.forEach(function(e){e.paths.forEach(function(e){var t=new FileReader;t.onload=function(t){var n=t.target.result,o=f.indexOf(e);h[o]=n,h.indexOf(null)===-1&&r({modelTopology:s,weightSpecs:p,weightData:u.concatenateArrayBuffers(h)})},t.onerror=function(t){o("Failed to weights data from file of path '"+e+"'.")},t.readAsArrayBuffer(c[e])})})},a.onerror=function(t){o("Failed to read model topology and weights manifest JSON "+("from file '"+e.name+"'. BrowserFiles supports loading ")+"Keras-style tf.Model artifacts only.")},a.readAsText(e)})]})})},e.prototype.checkManifestAndWeightFiles=function(e,t){for(var n=[],r=t.map(function(e){return u.basename(e.name)}),o={},a=0,i=e;a<i.length;a++){var s=i[a];s.paths.forEach(function(e){var a=u.basename(e);if(n.indexOf(a)!==-1)throw new Error("Duplicate file basename found in weights manifest: "+("'"+a+"'"));if(n.push(a),r.indexOf(a)===-1)throw new Error("Weight file with basename '"+a+"' is not provided.");o[e]=t[r.indexOf(a)]})}if(n.length!==t.length)throw new Error("Mismatch in the number of files in weights manifest "+("("+n.length+") and the number of weight files provided ")+("("+t.length+")."));return o},e}();n.browserDownloadsRouter=function(e){return s.ENV.get("IS_BROWSER")&&e.startsWith(h.URL_SCHEME)?r(e.slice(h.URL_SCHEME.length)):null},l.IORouterRegistry.registerSaveRouter(n.browserDownloadsRouter),n.browserDownloads=r,n.browserFiles=o},{"../environment":51,"./io_utils":60,"./router_registry":64}],57:[function(e,t,n){"use strict";function r(e,t){return new c(e,t)}var o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,s)}u((r=r.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,a&&(i=2&n[0]?a.return:n[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,n[1])).done)return i;switch(a=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,a=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(i=u.trys,!(i=i.length>0&&i[i.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){u.label=n[1];break}if(6===n[0]&&u.label<i[1]){u.label=i[1],i=n;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(n);break}i[2]&&u.ops.pop(),u.trys.pop();continue}n=t.call(e,u)}catch(e){n=[6,e],a=0}finally{o=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,a,i,s,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../util"),s=e("./io_utils"),u=e("./router_registry"),l=e("./weights_loader"),c=function(){function e(e,t){if(this.DEFAULT_METHOD="POST","undefined"==typeof fetch)throw new Error("browserHTTPRequest is not supported outside the web browser without a fetch polyfill.");if(i.assert(null!=e&&e.length>0,"URL path for browserHTTPRequest must not be null, undefined or empty."),this.path=e,null!=t&&null!=t.body)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=t||{}}return e.prototype.save=function(e){return o(this,void 0,void 0,function(){var t,n,r,o;return a(this,function(a){switch(a.label){case 0:if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");return t=Object.assign({method:this.DEFAULT_METHOD},this.requestInit),t.body=new FormData,n=[{paths:["./model.weights.bin"],weights:e.weightSpecs}],r={modelTopology:e.modelTopology,weightsManifest:n},t.body.append("model.json",new Blob([JSON.stringify(r)],{type:"application/json"}),"model.json"),null!=e.weightData&&t.body.append("model.weights.bin",new Blob([e.weightData],{type:"application/octet-stream"}),"model.weights.bin"),[4,fetch(this.path,t)];case 1:if(o=a.sent(),200===o.status)return[2,{modelArtifactsInfo:s.getModelArtifactsInfoForJSON(e),responses:[o]}];throw new Error("BrowserHTTPRequest.save() failed due to HTTP response status "+(o.status+"."))}})})},e.prototype.load=function(){return o(this,void 0,void 0,function(){var e,t,n,r,o,i,u,c,p,f,h,d,m;return a(this,function(a){switch(a.label){case 0:return[4,fetch(this.path,this.requestInit)];case 1:return e=a.sent(),[4,e.json()];case 2:if(t=a.sent(),n=t.modelTopology,r=t.weightsManifest,null==n&&null==r)throw new Error("The JSON from HTTP path "+this.path+" contains neither model topology or manifest for weights.");if(null==r)return[3,4];for(u=t.weightsManifest,o=[],c=0,p=u;c<p.length;c++)f=p[c],o.push.apply(o,f.weights);return h=this.path.substring(0,this.path.lastIndexOf("/")),h.endsWith("/")||(h+="/"),d=[],u.forEach(function(e){e.paths.forEach(function(e){d.push(h+e)})}),m=s.concatenateArrayBuffers,[4,l.loadWeightsAsArrayBuffer(d,this.requestInit)];case 3:i=m.apply(void 0,[a.sent()]),a.label=4;case 4:return[2,{modelTopology:n,weightSpecs:o,weightData:i}]}})})},e.URL_SCHEMES=["http://","https://"],e}();n.BrowserHTTPRequest=c,n.httpRequestRouter=function(e){if("undefined"==typeof fetch)return null;for(var t=0,n=c.URL_SCHEMES;t<n.length;t++){var o=n[t];if(e.startsWith(o))return r(e)}return null},u.IORouterRegistry.registerSaveRouter(n.httpRequestRouter),u.IORouterRegistry.registerLoadRouter(n.httpRequestRouter),n.browserHTTPRequest=r},{"../util":176,"./io_utils":60,"./router_registry":64,"./weights_loader":66}],58:[function(e,t,n){"use strict";function r(){return u(this,void 0,void 0,function(){var e;return l(this,function(t){return e=o(),[2,new Promise(function(t,n){var r=e.deleteDatabase(d);r.onsuccess=function(){return t()},r.onerror=function(e){return n(e)}})]})})}function o(){if(!c.ENV.get("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");var e=window,t=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB||e.shimIndexedDB;if(null==t)throw new Error("The current browser does not appear to support IndexedDB.");return t}function a(e){var t=e.result;t.createObjectStore(g,{keyPath:"modelPath"}),t.createObjectStore(v,{keyPath:"modelPath"})}function i(e){return new y(e)}function s(e){return e.startsWith(y.URL_SCHEME)?e.slice(y.URL_SCHEME.length):e}var u=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,s)}u((r=r.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,a&&(i=2&n[0]?a.return:n[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,n[1])).done)return i;switch(a=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,a=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(i=u.trys,!(i=i.length>0&&i[i.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){u.label=n[1];break}if(6===n[0]&&u.label<i[1]){u.label=i[1],i=n;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(n);break}i[2]&&u.ops.pop(),u.trys.pop();continue}n=t.call(e,u)}catch(e){n=[6,e],a=0}finally{o=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,a,i,s,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(n,"__esModule",{value:!0});var c=e("../environment"),p=e("./io_utils"),f=e("./model_management"),h=e("./router_registry"),d="tensorflowjs",m=1,g="models_store",v="model_info_store";n.deleteDatabase=r;var y=function(){function e(e){if(this.indexedDB=o(),null==e||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}return e.prototype.save=function(e){return u(this,void 0,void 0,function(){return l(this,function(t){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return[2,this.databaseAction(this.modelPath,e)]})})},e.prototype.load=function(){return u(this,void 0,void 0,function(){return l(this,function(e){return[2,this.databaseAction(this.modelPath)]})})},e.prototype.databaseAction=function(e,t){var n=this;return new Promise(function(e,r){var o=n.indexedDB.open(d,m);o.onupgradeneeded=function(){return a(o)},o.onsuccess=function(){var a=o.result;if(null==t){var i=a.transaction(g,"readonly"),s=i.objectStore(g),u=s.get(n.modelPath);u.onsuccess=function(){return null==u.result?(a.close(),r(new Error("Cannot find model with path '"+n.modelPath+"' in IndexedDB."))):void e(u.result.modelArtifacts)},u.onerror=function(e){return a.close(),r(u.error)},i.oncomplete=function(){return a.close()}}else{var l,c=p.getModelArtifactsInfoForJSON(t),f=a.transaction(v,"readwrite"),h=f.objectStore(v),d=h.put({modelPath:n.modelPath,modelArtifactsInfo:c});d.onsuccess=function(){l=a.transaction(g,"readwrite");var o=l.objectStore(g),i=o.put({modelPath:n.modelPath,modelArtifacts:t,
modelArtifactsInfo:c});i.onsuccess=function(){return e({modelArtifactsInfo:c})},i.onerror=function(e){h=f.objectStore(v);var t=h.delete(n.modelPath);t.onsuccess=function(){return a.close(),r(i.error)},t.onerror=function(e){return a.close(),r(i.error)}}},d.onerror=function(e){return a.close(),r(d.error)},f.oncomplete=function(){null==l?a.close():l.oncomplete=function(){return a.close()}}}},o.onerror=function(e){return r(o.error)}})},e.URL_SCHEME="indexeddb://",e}();n.BrowserIndexedDB=y,n.indexedDBRouter=function(e){return c.ENV.get("IS_BROWSER")&&e.startsWith(y.URL_SCHEME)?i(e.slice(y.URL_SCHEME.length)):null},h.IORouterRegistry.registerSaveRouter(n.indexedDBRouter),h.IORouterRegistry.registerLoadRouter(n.indexedDBRouter),n.browserIndexedDB=i;var x=function(){function e(){this.indexedDB=o()}return e.prototype.listModels=function(){return u(this,void 0,void 0,function(){var e=this;return l(this,function(t){return[2,new Promise(function(t,n){var r=e.indexedDB.open(d,m);r.onupgradeneeded=function(){return a(r)},r.onsuccess=function(){var e=r.result,o=e.transaction(v,"readonly"),a=o.objectStore(v),i=a.getAll();i.onsuccess=function(){for(var e={},n=0,r=i.result;n<r.length;n++){var o=r[n];e[o.modelPath]=o.modelArtifactsInfo}t(e)},i.onerror=function(t){return e.close(),n(i.error)},o.oncomplete=function(){return e.close()}},r.onerror=function(e){return n(r.error)}})]})})},e.prototype.removeModel=function(e){return u(this,void 0,void 0,function(){var t=this;return l(this,function(n){return e=s(e),[2,new Promise(function(n,r){var o=t.indexedDB.open(d,m);o.onupgradeneeded=function(){return a(o)},o.onsuccess=function(){var t,a=o.result,i=a.transaction(v,"readwrite"),s=i.objectStore(v),u=s.get(e);u.onsuccess=function(){if(null==u.result)return a.close(),r(new Error("Cannot find model with path '"+e+"' in IndexedDB."));var o=s.delete(e),i=function(){t=a.transaction(g,"readwrite");var o=t.objectStore(g),i=o.delete(e);i.onsuccess=function(){return n(u.result.modelArtifactsInfo)},i.onerror=function(e){return r(u.error)}};o.onsuccess=i,o.onerror=function(e){return i(),a.close(),r(u.error)}},u.onerror=function(e){return a.close(),r(u.error)},i.oncomplete=function(){null==t?a.close():t.oncomplete=function(){return a.close()}}},o.onerror=function(e){return r(o.error)}})]})})},e}();if(n.BrowserIndexedDBManager=x,c.ENV.get("IS_BROWSER"))try{f.ModelStoreManagerRegistry.registerManager(y.URL_SCHEME,new x)}catch(e){}},{"../environment":51,"./io_utils":60,"./model_management":62,"./router_registry":64}],59:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),e("./indexed_db"),e("./local_storage");var r=e("./browser_files");n.browserFiles=r.browserFiles;var o=e("./browser_http");n.browserHTTPRequest=o.browserHTTPRequest;var a=e("./io_utils");n.concatenateArrayBuffers=a.concatenateArrayBuffers,n.decodeWeights=a.decodeWeights,n.encodeWeights=a.encodeWeights,n.getModelArtifactsInfoForJSON=a.getModelArtifactsInfoForJSON;var i=e("./passthrough");n.fromMemory=i.fromMemory,n.withSaveHandler=i.withSaveHandler;var s=e("./router_registry"),u=e("./weights_loader");n.loadWeights=u.loadWeights;var l=s.IORouterRegistry.registerSaveRouter;n.registerSaveRouter=l;var c=s.IORouterRegistry.registerLoadRouter;n.registerLoadRouter=c;var p=s.IORouterRegistry.getSaveHandlers;n.getSaveHandlers=p;var f=s.IORouterRegistry.getLoadHandlers;n.getLoadHandlers=f;var h=e("./model_management");n.copyModel=h.copyModel,n.listModels=h.listModels,n.moveModel=h.moveModel,n.removeModel=h.removeModel},{"./browser_files":56,"./browser_http":57,"./indexed_db":58,"./io_utils":60,"./local_storage":61,"./model_management":62,"./passthrough":63,"./router_registry":64,"./weights_loader":66}],60:[function(e,t,n){(function(t){"use strict";function r(e){return f(this,void 0,void 0,function(){var t,n,r,o,i;return h(this,function(s){switch(s.label){case 0:t=[],n=[];for(r in e){if(o=e[r],"float32"!==o.dtype&&"int32"!==o.dtype&&"bool"!==o.dtype)throw new Error("Unsupported dtype in weight '"+r+"': "+o.dtype);t.push({name:r,shape:o.shape,dtype:o.dtype}),n.push(o.data())}return[4,Promise.all(n)];case 1:return i=s.sent(),[2,{data:a(i),specs:t}]}})})}function o(e,t){for(var n={},r=0,o=0,a=t;o<a.length;o++){var i=a[o],s=i.name,u=i.dtype,l=i.shape;if(null!=i.quantization)throw new Error("decodeWeights does not support quantization yet, but encountered "+("weight '"+s+" with quantization.'"));var c=m.sizeFromShape(l),p=void 0;if("float32"===u)p=d.tensor(new Float32Array(e,r,c),l,"float32");else if("int32"===u)p=d.tensor(new Int32Array(e,r,c),l,"int32");else{if("bool"!==u)throw new Error("Unsupported dtype in weight '"+s+"': "+u);p=d.tensor(new Uint8Array(e,r,c),l,"bool")}n[s]=p,r+=c*g.DTYPE_VALUE_SIZE_MAP[u]}return n}function a(e){if(null===e)throw new Error("Invalid input value: "+JSON.stringify(e));var t=0,n=[];e.forEach(function(e){if(t+=e.byteLength,n.push(e.byteLength===e.buffer.byteLength?e:new e.constructor(e)),!(e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array))throw new Error("Unsupported TypedArray subtype: "+e.constructor.name)});var r=new Uint8Array(t),o=0;return n.forEach(function(e){r.set(new Uint8Array(e.buffer),o),o+=e.byteLength}),r.buffer}function i(e){return v?t.byteLength(e):new Blob([e]).size}function s(e){return v?t.from(e).toString("base64"):btoa(String.fromCharCode.apply(null,new Uint8Array(e)))}function u(e){if(v){var n=t.from(e,"base64");return n.buffer.slice(n.byteOffset,n.byteOffset+n.byteLength)}for(var r=atob(e),o=new Uint8Array(r.length),a=0;a<r.length;++a)o.set([r.charCodeAt(a)],a);return o.buffer}function l(e){var t=0;e.forEach(function(e){t+=e.byteLength});var n=new Uint8Array(t),r=0;return e.forEach(function(e){n.set(new Uint8Array(e),r),r+=e.byteLength}),n.buffer}function c(e){var t="/";for(e=e.trim();e.endsWith(t);)e=e.slice(0,e.length-1);var n=e.split(t);return n[n.length-1]}function p(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:null==e.modelTopology?0:i(JSON.stringify(e.modelTopology)),weightSpecsBytes:null==e.weightSpecs?0:i(JSON.stringify(e.weightSpecs)),weightDataBytes:null==e.weightData?0:e.weightData.byteLength}}var f=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,s)}u((r=r.apply(e,t||[])).next())})},h=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,a&&(i=2&n[0]?a.return:n[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,n[1])).done)return i;switch(a=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,a=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(i=u.trys,!(i=i.length>0&&i[i.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){u.label=n[1];break}if(6===n[0]&&u.label<i[1]){u.label=i[1],i=n;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(n);break}i[2]&&u.ops.pop(),u.trys.pop();continue}n=t.call(e,u)}catch(e){n=[6,e],a=0}finally{o=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,a,i,s,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(n,"__esModule",{value:!0});var d=e("../ops/tensor_ops"),m=e("../util"),g=e("./types");n.encodeWeights=r,n.decodeWeights=o,n.concatenateTypedArrays=a;var v="undefined"!=typeof t&&("undefined"==typeof Blob||"undefined"==typeof atob||"undefined"==typeof btoa);n.stringByteLength=i,n.arrayBufferToBase64String=s,n.base64StringToArrayBuffer=u,n.concatenateArrayBuffers=l,n.basename=c,n.getModelArtifactsInfoForJSON=p}).call(this,e("buffer").Buffer)},{"../ops/tensor_ops":152,"../util":176,"./types":65,buffer:181}],61:[function(e,t,n){"use strict";function r(){if(!c.ENV.get("IS_BROWSER")||"undefined"==typeof window.localStorage)throw new Error("purgeLocalStorageModels() cannot proceed because local storage is unavailable in the current environment.");for(var e=window.localStorage,t=[],n=0;n<e.length;++n){var r=e.key(n),o=g+m;if(r.startsWith(o)&&r.length>o.length){e.removeItem(r);var i=a(r);t.indexOf(i)===-1&&t.push(i)}}return t}function o(e){return{info:[g,e,v].join(m),topology:[g,e,y].join(m),weightSpecs:[g,e,x].join(m),weightData:[g,e,b].join(m)}}function a(e){var t=e.split(m);if(t.length<3)throw new Error("Invalid key format: "+e);return t.slice(1,t.length-1).join(m)}function i(e){return e.startsWith(_.URL_SCHEME)?e.slice(_.URL_SCHEME.length):e}function s(e){return new _(e)}var u=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,s)}u((r=r.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,a&&(i=2&n[0]?a.return:n[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,n[1])).done)return i;switch(a=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,a=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(i=u.trys,!(i=i.length>0&&i[i.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){u.label=n[1];break}if(6===n[0]&&u.label<i[1]){u.label=i[1],i=n;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(n);break}i[2]&&u.ops.pop(),u.trys.pop();continue}n=t.call(e,u)}catch(e){n=[6,e],a=0}finally{o=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,a,i,s,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(n,"__esModule",{value:!0});var c=e("../environment"),p=e("../util"),f=e("./io_utils"),h=e("./model_management"),d=e("./router_registry"),m="/",g="tensorflowjs_models",v="info",y="model_topology",x="weight_specs",b="weight_data";n.purgeLocalStorageArtifacts=r;var _=function(){function e(e){if(!c.ENV.get("IS_BROWSER")||"undefined"==typeof window.localStorage)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,null==e||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=o(this.modelPath)}return e.prototype.save=function(e){return u(this,void 0,void 0,function(){var t,n,r,o;return l(this,function(a){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");t=JSON.stringify(e.modelTopology),n=JSON.stringify(e.weightSpecs),r=f.getModelArtifactsInfoForJSON(e);try{return this.LS.setItem(this.keys.info,JSON.stringify(r)),this.LS.setItem(this.keys.topology,t),this.LS.setItem(this.keys.weightSpecs,n),this.LS.setItem(this.keys.weightData,f.arrayBufferToBase64String(e.weightData)),[2,{modelArtifactsInfo:r}]}catch(e){for(o in this.keys)this.LS.removeItem(this.keys[o]);throw new Error("Failed to save model '"+this.modelPath+"' to local storage: size quota being exceeded is a possible cause of this failure: "+("modelTopologyBytes="+r.modelTopologyBytes+", ")+("weightSpecsBytes="+r.weightSpecsBytes+", ")+("weightDataBytes="+r.weightDataBytes+"."))}return[2]})})},e.prototype.load=function(){return u(this,void 0,void 0,function(){var e,t,n,r,o;return l(this,function(a){if(e=JSON.parse(this.LS.getItem(this.keys.info)),null==e)throw new Error("In local storage, there is no model with name '"+this.modelPath+"'");if("JSON"!==e.modelTopologyType)throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");if(t={},n=JSON.parse(this.LS.getItem(this.keys.topology)),null==n)throw new Error("In local storage, the topology of model '"+this.modelPath+"' is missing.");if(t.modelTopology=n,r=JSON.parse(this.LS.getItem(this.keys.weightSpecs)),null==r)throw new Error("In local storage, the weight specs of model '"+this.modelPath+"' are missing.");if(t.weightSpecs=r,o=this.LS.getItem(this.keys.weightData),null==o)throw new Error("In local storage, the binary weight values of model "+("'"+this.modelPath+"' are missing."));return t.weightData=f.base64StringToArrayBuffer(o),[2,t]})})},e.URL_SCHEME="localstorage://",e}();n.BrowserLocalStorage=_,n.localStorageRouter=function(e){return c.ENV.get("IS_BROWSER")&&e.startsWith(_.URL_SCHEME)?s(e.slice(_.URL_SCHEME.length)):null},d.IORouterRegistry.registerSaveRouter(n.localStorageRouter),d.IORouterRegistry.registerLoadRouter(n.localStorageRouter),n.browserLocalStorage=s;var w=function(){function e(){p.assert(c.ENV.get("IS_BROWSER"),"Current environment is not a web browser"),p.assert("undefined"!=typeof window.localStorage,"Current browser does not appear to support localStorage"),this.LS=window.localStorage}return e.prototype.listModels=function(){return u(this,void 0,void 0,function(){var e,t,n,r,o,i;return l(this,function(s){for(e={},t=g+m,n=m+v,r=0;r<this.LS.length;++r)o=this.LS.key(r),o.startsWith(t)&&o.endsWith(n)&&(i=a(o),e[i]=JSON.parse(this.LS.getItem(o)));return[2,e]})})},e.prototype.removeModel=function(e){return u(this,void 0,void 0,function(){var t,n;return l(this,function(r){if(e=i(e),t=o(e),null==this.LS.getItem(t.info))throw new Error("Cannot find model at path '"+e+"'");return n=JSON.parse(this.LS.getItem(t.info)),this.LS.removeItem(t.info),this.LS.removeItem(t.topology),this.LS.removeItem(t.weightSpecs),this.LS.removeItem(t.weightData),[2,n]})})},e}();if(n.BrowserLocalStorageManager=w,c.ENV.get("IS_BROWSER"))try{h.ModelStoreManagerRegistry.registerManager(_.URL_SCHEME,new w)}catch(e){}},{"../environment":51,"../util":176,"./io_utils":60,"./model_management":62,"./router_registry":64}],62:[function(e,t,n){"use strict";function r(e){if(e.indexOf(h)===-1)throw new Error("The url string provided does not contain a scheme. Supported schemes are: "+d.getSchemes().join(","));return{scheme:e.split(h)[0],path:e.split(h)[1]}}function o(e,t,n){return void 0===n&&(n=!1),l(this,void 0,void 0,function(){var o,a,i,s,u,l,h,m,g;return c(this,function(c){switch(c.label){case 0:return p.assert(e!==t,"Old path and new path are the same: '"+e+"'"),o=f.IORouterRegistry.getLoadHandlers(e),p.assert(o.length>0,"Copying failed because no load handler is found for source URL "+e+"."),p.assert(o.length<2,"Copying failed because more than one ("+o.length+") "+("load handlers for source URL "+e+".")),a=o[0],i=f.IORouterRegistry.getSaveHandlers(t),p.assert(i.length>0,"Copying failed because no save handler is found for destination URL "+(t+".")),p.assert(i.length<2,"Copying failed because more than one ("+o.length+") "+("save handlers for destination URL "+t+".")),s=i[0],u=r(e).scheme,l=r(e).path,h=u===r(e).scheme,[4,a.load()];case 1:return m=c.sent(),n&&h?[4,d.getManager(u).removeModel(l)]:[3,3];case 2:c.sent(),c.label=3;case 3:return[4,s.save(m)];case 4:return g=c.sent(),!n||h?[3,6]:[4,d.getManager(u).removeModel(l)];case 5:c.sent(),c.label=6;case 6:return[2,g.modelArtifactsInfo]}})})}function a(){return l(this,void 0,void 0,function(){var e,t,n,r,o,a,i,s;return c(this,function(u){switch(u.label){case 0:e=d.getSchemes(),t={},n=0,r=e,u.label=1;case 1:return n<r.length?(o=r[n],[4,d.getManager(o).listModels()]):[3,4];case 2:a=u.sent();for(i in a)s=o+h+i,t[s]=a[i];u.label=3;case 3:return n++,[3,1];case 4:return[2,t]}})})}function i(e){return l(this,void 0,void 0,function(){var t,n;return c(this,function(o){switch(o.label){case 0:return t=r(e),n=d.getManager(t.scheme),[4,n.removeModel(t.path)];case 1:return[2,o.sent()]}})})}function s(e,t){return l(this,void 0,void 0,function(){var n;return c(this,function(r){switch(r.label){case 0:return n=!1,[4,o(e,t,n)];case 1:return[2,r.sent()]}})})}function u(e,t){return l(this,void 0,void 0,function(){var n;return c(this,function(r){switch(r.label){case 0:return n=!0,[4,o(e,t,n)];case 1:return[2,r.sent()]}})})}var l=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,s)}u((r=r.apply(e,t||[])).next())})},c=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,a&&(i=2&n[0]?a.return:n[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,n[1])).done)return i;switch(a=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,a=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(i=u.trys,!(i=i.length>0&&i[i.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){u.label=n[1];break}if(6===n[0]&&u.label<i[1]){u.label=i[1],i=n;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(n);break}i[2]&&u.ops.pop(),u.trys.pop();continue}n=t.call(e,u)}catch(e){n=[6,e],a=0}finally{o=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,a,i,s,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(n,"__esModule",{value:!0});var p=e("../util"),f=e("./router_registry"),h="://",d=function(){function e(){this.managers={}}return e.getInstance=function(){return null==e.instance&&(e.instance=new e),e.instance},e.registerManager=function(t,n){p.assert(null!=t,"scheme must not be undefined or null."),t.endsWith(h)&&(t=t.slice(0,t.indexOf(h))),p.assert(t.length>0,"scheme must not be an empty string.");var r=e.getInstance();p.assert(null==r.managers[t],"A model store manager is already registered for scheme '"+t+"'."),r.managers[t]=n},e.getManager=function(e){var t=this.getInstance().managers[e];if(null==t)throw new Error("Cannot find model manager for scheme '"+e+"'");return t},e.getSchemes=function(){return Object.keys(this.getInstance().managers)},e}();n.ModelStoreManagerRegistry=d,n.listModels=a,n.removeModel=i,n.copyModel=s,n.moveModel=u},{"../util":176,"./router_registry":64}],63:[function(e,t,n){"use strict";function r(e,t,n){return new u(e,t,n)}function o(e){return new l(e)}var a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,s)}u((r=r.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,a&&(i=2&n[0]?a.return:n[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,n[1])).done)return i;switch(a=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,a=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(i=u.trys,!(i=i.length>0&&i[i.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){u.label=n[1];break}if(6===n[0]&&u.label<i[1]){u.label=i[1],i=n;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(n);break}i[2]&&u.ops.pop(),u.trys.pop();continue}n=t.call(e,u)}catch(e){n=[6,e],a=0}finally{o=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,a,i,s,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(n,"__esModule",{value:!0});var u=function(){function e(e,t,n){this.modelTopology=e,this.weightSpecs=t,this.weightData=n}return e.prototype.load=function(){return i(this,void 0,void 0,function(){var e;return s(this,function(t){return e={},null!=this.modelTopology&&(e=a({modelTopology:this.modelTopology},e)),null!=this.weightSpecs&&this.weightSpecs.length>0&&(e=a({weightSpecs:this.weightSpecs},e)),null!=this.weightData&&this.weightData.byteLength>0&&(e=a({weightData:this.weightData},e)),[2,e]})})},e}(),l=function(){function e(e){this.saveHandler=e}return e.prototype.save=function(e){return i(this,void 0,void 0,function(){return s(this,function(t){return[2,this.saveHandler(e)]})})},e}();n.fromMemory=r,n.withSaveHandler=o},{}],64:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(){this.saveRouters=[],this.loadRouters=[]}return e.getInstance=function(){return null==e.instance&&(e.instance=new e),e.instance},e.registerSaveRouter=function(t){e.getInstance().saveRouters.push(t)},e.registerLoadRouter=function(t){e.getInstance().loadRouters.push(t)},e.getSaveHandlers=function(t){return e.getHandlers(t,"save")},e.getLoadHandlers=function(t){return e.getHandlers(t,"load")},e.getHandlers=function(e,t){var n=[],r="load"===t?this.getInstance().loadRouters:this.getInstance().saveRouters;return r.forEach(function(t){var r=t(e);null!==r&&n.push(r)}),n},e}();n.IORouterRegistry=r},{}],65:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.DTYPE_VALUE_SIZE_MAP={float32:4,int32:4,uint16:2,uint8:1,bool:1}},{}],66:[function(e,t,n){"use strict";function r(e,t){return a(this,void 0,void 0,function(){var n,r,o;return i(this,function(a){switch(a.label){case 0:return n=e.map(function(e){return fetch(e,t)}),[4,Promise.all(n)];case 1:return r=a.sent(),[4,Promise.all(r.map(function(e){return e.arrayBuffer()}))];case 2:return o=a.sent(),[2,o]}})})}function o(e,t,n,o){return void 0===t&&(t=""),a(this,void 0,void 0,function(){var a,c,p,f,h,d,m,g,v,y;return i(this,function(i){switch(i.label){case 0:if(a=e.map(function(){return!1}),c={},p=null!=n?n.map(function(){return!1}):[],f=[],e.forEach(function(e,t){var r=0;e.weights.forEach(function(e){var o="quantization"in e?e.quantization.dtype:e.dtype,i=l.DTYPE_VALUE_SIZE_MAP[o]*u.sizeFromShape(e.shape),s=function(){a[t]=!0,null==c[t]&&(c[t]=[]),c[t].push({manifestEntry:e,groupOffset:r,sizeBytes:i})};null!=n?n.forEach(function(t,n){t===e.name&&(s(),p[n]=!0)}):s(),f.push(e.name),r+=i})}),!p.every(function(e){return e}))throw h=n.filter(function(e,t){return!p[t]}),new Error("Could not find weights in manifest with names: "+(h.join(", ")+". \n")+"Manifest JSON has weights with names: "+(f.join(", ")+"."));return d=a.reduce(function(e,t,n){return t&&e.push(n),e},[]),m=[],d.forEach(function(n){e[n].paths.forEach(function(e){var n=t+(t.endsWith("/")?"":"/")+e;m.push(n)})}),[4,r(m,o)];case 1:return g=i.sent(),v={},y=0,d.forEach(function(t){for(var n=e[t].paths.length,r=0,o=0;o<n;o++)r+=g[y+o].byteLength;for(var a=new ArrayBuffer(r),i=new Uint8Array(a),u=0,l=0;l<n;l++){var p=new Uint8Array(g[y+l]);i.set(p,u),u+=p.byteLength}var f=c[t];f.forEach(function(e){var t,n=a.slice(e.groupOffset,e.groupOffset+e.sizeBytes),r=e.manifestEntry.dtype;if("quantization"in e.manifestEntry){var o=e.manifestEntry.quantization;if("uint8"!==o.dtype&&"uint16"!==o.dtype)throw new Error("Weight "+e.manifestEntry.name+" has unknown "+("quantization dtype "+o.dtype+"."));var i="uint8"===o.dtype?new Uint8Array(n):new Uint16Array(n);if("float32"===r)t=Float32Array.from(i,function(e){return e*o.scale+o.min});else{if("int32"!==r)throw new Error("Weight "+e.manifestEntry.name+" has a dtype not supported by quantization: "+r);t=Int32Array.from(i,function(e){return Math.round(e*o.scale+o.min)})}}else if("float32"===r)t=new Float32Array(n);else if("int32"===r)t=new Int32Array(n);else{if("bool"!==r)throw new Error("Weight "+e.manifestEntry.name+" has unknown dtype "+(r+"."));t=new Uint8Array(n)}var u=e.manifestEntry.name;if(null!=v[u])throw new Error("Duplicate weight with name "+u+". Please make sure weights names are unique in the manifest JSON.");v[u]=s.tensor(t,e.manifestEntry.shape,e.manifestEntry.dtype)}),y+=n}),[2,v]}})})}var a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,s)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,a&&(i=2&n[0]?a.return:n[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,n[1])).done)return i;switch(a=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,a=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(i=u.trys,!(i=i.length>0&&i[i.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){u.label=n[1];break}if(6===n[0]&&u.label<i[1]){u.label=i[1],i=n;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(n);break}i[2]&&u.ops.pop(),u.trys.pop();continue}n=t.call(e,u)}catch(e){n=[6,e],a=0}finally{o=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,a,i,s,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../ops/ops"),u=e("../util"),l=e("./types");n.loadWeightsAsArrayBuffer=r,n.loadWeights=o},{"../ops/ops":138,"../util":176,"./types":65}],67:[function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,s)}u((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,a&&(i=2&n[0]?a.return:n[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,n[1])).done)return i;switch(a=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,a=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(i=u.trys,!(i=i.length>0&&i[i.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){u.label=n[1];break}if(6===n[0]&&u.label<i[1]){u.label=i[1],i=n;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(n);break}i[2]&&u.ops.pop(),u.trys.pop();continue}n=t.call(e,u)}catch(e){n=[6,e],a=0}finally{o=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,a,i,s,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(n,"__esModule",{value:!0});var a=e("seedrandom"),i=e("../environment"),s=e("../log"),u=e("../ops/array_ops_util"),l=e("../ops/axis_util"),c=e("../ops/broadcast_util"),p=e("../ops/concat_util"),f=e("../ops/erf_util"),h=e("../ops/ops"),d=e("../ops/ops"),m=e("../ops/selu_util"),g=e("../ops/slice_util"),v=e("../tensor"),y=e("../types"),x=e("../util"),b=e("../util"),_=e("./backend_util"),w=e("./non_max_suppression_impl"),T=e("./topk_impl"),P=e("./where_impl"),N=function(){function e(){this.data=new WeakMap,this.firstUse=!0,i.ENV.get("IS_BROWSER")&&(this.canvas=document.createElement("canvas"))}return e.prototype.register=function(e,t,n){if(this.firstUse&&(this.firstUse=!1,i.ENV.get("IS_NODE")&&s.warn("\n============================\nHi there . Looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, which binds to TensorFlow C++, by running npm i @tensorflow/tfjs-node, or npm i @tensorflow/tfjs-node-gpu if you have CUDA. Then call require('@tensorflow/tfjs-node'); (-gpu suffix for CUDA) at the start of your program. Visit https://github.com/tensorflow/tfjs-node for more details.\n============================\n")),this.data.has(e))throw new Error("Data buffer is already registered");this.data.set(e,null)},e.prototype.write=function(e,t){if(null==t)throw new Error("MathBackendCPU.write(): values can not be null");this.throwIfNoData(e),this.data.set(e,t)},e.prototype.fromPixels=function(e,t){if(null==e)throw new Error("pixels passed to tf.fromPixels() can not be null");var n;if(i.ENV.get("IS_NODE")&&null==e.getContext)throw new Error("When running in node, pixels must be an HTMLCanvasElement like the one returned by the `canvas` npm package");if(null!=e.getContext)n=e.getContext("2d").getImageData(0,0,e.width,e.height).data;else if(e instanceof ImageData)n=e.data;else{if(!(e instanceof HTMLImageElement||e instanceof HTMLVideoElement))throw new Error("pixels passed to tf.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement or ImageData, but was "+e.constructor.name);if(null==this.canvas)throw new Error("Can't read pixels from HTMLImageElement outside the browser.");this.canvas.width=e.width,this.canvas.height=e.height,this.canvas.getContext("2d").drawImage(e,0,0,e.width,e.height),n=this.canvas.getContext("2d").getImageData(0,0,e.width,e.height).data}var r;if(4===t)r=new Int32Array(n);else{var o=e.width*e.height;r=new Int32Array(o*t);for(var a=0;a<o;a++)for(var s=0;s<t;++s)r[a*t+s]=n[4*a+s]}var u=[e.height,e.width,t];return d.tensor3d(r,u,"int32")},e.prototype.read=function(e){return r(this,void 0,void 0,function(){return o(this,function(t){return[2,this.readSync(e)]})})},e.prototype.readSync=function(e){return this.throwIfNoData(e),this.data.get(e)},e.prototype.disposeData=function(e){this.data.has(e)&&this.data.delete(e)},e.prototype.time=function(e){return r(this,void 0,void 0,function(){var t,n;return o(this,function(r){return t=b.now(),e(),n=b.now()-t,[2,{kernelMs:n}]})})},e.prototype.memory=function(){return{unreliable:!0}},e.prototype.throwIfNoData=function(e){if(!this.data.has(e))throw new Error("CPU backend: No data found for this tensor. Did you change your backend in the middle of the program? New backends can't use Tensors created with previous backends")},e.prototype.slice=function(e,t,n){for(var r=h.buffer(n,e.dtype),o=0;o<r.size;++o){var a=r.indexToLoc(o),i=a.map(function(e,n){return e+t[n]});r.set.apply(r,[e.get.apply(e,i)].concat(a))}return r.toTensor()},e.prototype.stridedSlice=function(e,t,n,r,o,a){var i=g.getStridedSlicedInfo(e.shape,t,n,r,o,a),s=i[0],u=i[1];if(u.some(function(e){return 0===e}))return h.tensor([],u);for(var l=h.buffer(u,e.dtype),c=0;c<l.size;c++){for(var p=l.indexToLoc(c),f=new Array(p.length),d=0;d<f.length;d++)f[d]=p[d]*r[d]+s[d];l.set.apply(l,[e.get.apply(e,f)].concat(p))}return l.toTensor()},e.prototype.reverse=function(e,t){for(var n=h.buffer(e.shape,e.dtype),r=e.buffer(),o=function(o){var a=n.indexToLoc(o),i=a.slice();t.forEach(function(t){return i[t]=e.shape[t]-1-i[t]}),n.set.apply(n,[r.get.apply(r,i)].concat(a))},a=0;a<n.size;a++)o(a);return n.toTensor()},e.prototype.concat=function(e,t){var n=p.computeOutShape(e.shape,t.shape,1),r=h.buffer(n,e.dtype);
if(1===e.shape[0]&&1===t.shape[0]){var o=e.dataSync(),a=t.dataSync(),i=r.values;return i.set(o,0),i.set(a,e.size),r.toTensor()}for(var s=0;s<n[0];++s){for(var u=0;u<e.shape[1];++u)r.set(e.get(s,u),s,u);for(var u=0;u<t.shape[1];++u)r.set(t.get(s,u),s,u+e.shape[1])}return r.toTensor()},e.prototype.neg=function(e){return this.multiply(h.scalar(-1),e)},e.prototype.add=function(e,t){return this.broadcastedBinaryOp(e,t,y.upcastType(e.dtype,t.dtype),function(e,t){return e+t})},e.prototype.addN=function(e){for(var t=e.map(function(e){return e.dataSync()}),n=h.buffer(e[0].shape,e[0].dtype),r=n.values,o=0;o<e.length;o++)for(var a=t[o],i=0;i<r.length;i++)r[i]+=a[i];return n.toTensor()},e.prototype.subtract=function(e,t){return this.broadcastedBinaryOp(e,t,y.upcastType(e.dtype,t.dtype),function(e,t){return e-t})},e.prototype.pow=function(e,t){return this.broadcastedBinaryOp(e,t,e.dtype,function(e,t){return Math.pow(e,t)})},e.prototype.matMul=function(e,t,n,r){for(var o=n?e.shape[0]:e.shape[1],a=n?e.shape[1]:e.shape[0],i=r?t.shape[0]:t.shape[1],s=e.dataSync(),u=t.dataSync(),l=n?[1,e.strides[0]]:[e.strides[0],1],c=l[0],p=l[1],f=r?[t.strides[0],1]:[1,t.strides[0]],d=f[0],m=f[1],g=a*c,v=i*d,y=new Float32Array(a*i),x=0,b=0;b<g;b+=c)for(var _=0;_<v;_+=d){for(var w=b,T=_,P=0,N=0;N<o;++N)P+=s[w]*u[T],w+=p,T+=m;y[x++]=P}return h.tensor2d(y,[a,i])},e.prototype.multiply=function(e,t){return this.broadcastedBinaryOp(e,t,y.upcastType(e.dtype,t.dtype),function(e,t){return e*t})},e.prototype.realDivide=function(e,t){var n=function(e,t){return e/t},r="float32";return this.broadcastedBinaryOp(e,t,r,n)},e.prototype.floorDiv=function(e,t){var n=function(e,t){return Math.floor(e/t)},r="int32";return this.broadcastedBinaryOp(e,t,r,n)},e.prototype.sum=function(e,t){l.assertAxesAreInnerMostDims("sum",t,e.rank);for(var n=l.computeOutAndReduceShapes(e.shape,t),r=n[0],o=n[1],a=y.upcastType(e.dtype,"int32"),i=h.zeros(r,a),s=x.sizeFromShape(o),u=i.dataSync(),c=e.dataSync(),p=0;p<u.length;++p){for(var f=p*s,d=0,m=0;m<s;++m)d+=c[f+m];u[p]=d}return i},e.prototype.unsortedSegmentSum=function(e,t,n){for(var r=[],o=e.rank-t.rank,a=0;a<o;++a)t=t.expandDims(a+1);for(var a=0;a<n;++a){var i=h.scalar(a,"int32"),s=h.equal(i,t).asType("float32"),u=s.mul(e).sum(0);r.push(u)}return h.stack(r)},e.prototype.argMin=function(e,t){var n=[t];l.assertAxesAreInnerMostDims("argMin",n,e.rank);for(var r=l.computeOutAndReduceShapes(e.shape,n),o=r[0],a=r[1],i=h.zeros(o,"int32"),s=x.sizeFromShape(a),u=i.dataSync(),c=e.dataSync(),p=0;p<u.length;++p){for(var f=p*s,d=c[f],m=0,g=0;g<s;++g){var v=c[f+g];v<d&&(d=v,m=g)}u[p]=m}return i},e.prototype.argMax=function(e,t){var n=[t];l.assertAxesAreInnerMostDims("argMax",n,e.rank);for(var r=l.computeOutAndReduceShapes(e.shape,n),o=r[0],a=r[1],i=h.zeros(o,"int32"),s=x.sizeFromShape(a),u=i.dataSync(),c=e.dataSync(),p=0;p<u.length;++p){for(var f=p*s,d=c[f],m=0,g=0;g<s;++g){var v=c[f+g];v>d&&(d=v,m=g)}u[p]=m}return i},e.prototype.cumsum=function(e,t,n,r){if(t!==e.rank-1)throw new Error("backend.cumsum in CPU expects an inner-most axis="+(e.rank-1)+" but got axis="+t);for(var o=y.upcastType(e.dtype,"int32"),a=h.zeros(e.shape,o),i=a.dataSync(),s=e.dataSync(),u=e.shape[e.rank-1],l=r?function(e,t){return e+u-t-1}:function(e,t){return e+t},c=0;c<s.length;c+=u)for(var p=0;p<u;p++){var f=l(c,p);if(0===p)i[f]=n?0:s[f];else{var d=l(c,p-1);i[f]=n?s[d]+i[d]:s[f]+i[d]}}return a},e.prototype.equal=function(e,t){return this.broadcastedBinaryOp(e,t,"bool",function(e,t){return e===t?1:0})},e.prototype.notEqual=function(e,t){return this.broadcastedBinaryOp(e,t,"bool",function(e,t){return e!==t?1:0})},e.prototype.less=function(e,t){return this.broadcastedBinaryOp(e,t,"bool",function(e,t){return e<t?1:0})},e.prototype.lessEqual=function(e,t){return this.broadcastedBinaryOp(e,t,"bool",function(e,t){return e<=t?1:0})},e.prototype.greater=function(e,t){return this.broadcastedBinaryOp(e,t,"bool",function(e,t){return e>t?1:0})},e.prototype.greaterEqual=function(e,t){return this.broadcastedBinaryOp(e,t,"bool",function(e,t){return e>=t?1:0})},e.prototype.logicalNot=function(e){for(var t=e.dataSync(),n=new Int32Array(t.length),r=0;r<t.length;++r)n[r]=t[r]?0:1;return v.Tensor.make(e.shape,{values:n},"bool")},e.prototype.logicalAnd=function(e,t){return this.broadcastedBinaryOp(e,t,"bool",function(e,t){return e&&t})},e.prototype.logicalOr=function(e,t){return this.broadcastedBinaryOp(e,t,"bool",function(e,t){return e||t})},e.prototype.select=function(e,t,n){for(var r=e.dataSync(),o=t.dataSync(),a=n.dataSync(),i=h.zeros(t.shape,y.upcastType(t.dtype,n.dtype)),s=i.dataSync(),u=0,l=0===e.rank||e.rank>1||1===t.rank?1:t.shape[1],c=0;c<r.length;c++)for(var p=0;p<l;p++)1===r[c]?s[u++]=o[c]:s[u++]=a[c];return i},e.prototype.where=function(e){var t=e.dataSync();return P.whereImpl(e.shape,t)},e.prototype.topk=function(e,t,n){var r=e.dataSync();return T.topkImpl(r,e.shape,e.dtype,t,n)},e.prototype.min=function(e,t){l.assertAxesAreInnerMostDims("min",t,e.rank);for(var n=l.computeOutAndReduceShapes(e.shape,t),r=n[0],o=n[1],a=h.zeros(r,e.dtype),i=x.sizeFromShape(o),s=a.dataSync(),u=e.dataSync(),c=0;c<s.length;++c){for(var p=c*i,f=u[p],d=0;d<i;++d){var m=u[p+d];m<f&&(f=m)}s[c]=f}return a},e.prototype.minimum=function(e,t){return this.broadcastedBinaryOp(e,t,e.dtype,function(e,t){return Math.min(e,t)})},e.prototype.mod=function(e,t){return this.broadcastedBinaryOp(e,t,e.dtype,function(e,t){var n=e%t;return e<0&&t<0||e>=0&&t>=0?n:(n+t)%t})},e.prototype.max=function(e,t){l.assertAxesAreInnerMostDims("max",t,e.rank);for(var n=l.computeOutAndReduceShapes(e.shape,t),r=n[0],o=n[1],a=h.zeros(r,e.dtype),i=x.sizeFromShape(o),s=a.dataSync(),u=e.dataSync(),c=0;c<s.length;++c){for(var p=c*i,f=u[p],d=0;d<i;++d){var m=u[p+d];m>f&&(f=m)}s[c]=f}return a},e.prototype.maximum=function(e,t){return this.broadcastedBinaryOp(e,t,e.dtype,function(e,t){return Math.max(e,t)})},e.prototype.all=function(e,t){l.assertAxesAreInnerMostDims("all",t,e.rank);for(var n=l.computeOutAndReduceShapes(e.shape,t),r=n[0],o=n[1],a=h.zeros(r,e.dtype),i=x.sizeFromShape(o),s=a.dataSync(),u=e.dataSync(),c=0;c<s.length;++c){for(var p=c*i,f=u[p],d=0;d<i;++d){var m=u[p+d];f=f&&m}s[c]=f}return a},e.prototype.any=function(e,t){l.assertAxesAreInnerMostDims("any",t,e.rank);for(var n=l.computeOutAndReduceShapes(e.shape,t),r=n[0],o=n[1],a=h.zeros(r,e.dtype),i=x.sizeFromShape(o),s=a.dataSync(),u=e.dataSync(),c=0;c<s.length;++c){for(var p=c*i,f=u[p],d=0;d<i;++d){var m=u[p+d];f=f||m}s[c]=f}return a},e.prototype.squaredDifference=function(e,t){return this.broadcastedBinaryOp(e,t,e.dtype,function(e,t){var n=e-t;return n*n})},e.prototype.ceil=function(e){for(var t=e.dataSync(),n=new Float32Array(t.length),r=0;r<t.length;++r)n[r]=Math.ceil(t[r]);return v.Tensor.make(e.shape,{values:n})},e.prototype.floor=function(e){for(var t=e.dataSync(),n=new Float32Array(t.length),r=0;r<t.length;++r)n[r]=Math.floor(t[r]);return v.Tensor.make(e.shape,{values:n})},e.prototype.sign=function(e){for(var t=e.dataSync(),n=new Float32Array(t.length),r=0;r<t.length;++r)t[r]<0?n[r]=-1:t[r]>0?n[r]=1:n[r]=0;return v.Tensor.make(e.shape,{values:n})},e.prototype.round=function(e){for(var t=e.dataSync(),n=new Float32Array(t.length),r=0;r<t.length;++r){var o=Math.floor(t[r]);t[r]-o<.5?n[r]=Math.floor(t[r]):t[r]-o>.5?n[r]=Math.ceil(t[r]):o%2===0?n[r]=o:n[r]=o+1}return v.Tensor.make(e.shape,{values:n})},e.prototype.exp=function(e){for(var t=e.dataSync(),n=new Float32Array(t.length),r=0;r<t.length;++r)n[r]=Math.exp(t[r]);return v.Tensor.make(e.shape,{values:n})},e.prototype.expm1=function(e){for(var t=e.dataSync(),n=new Float32Array(t.length),r=0;r<t.length;++r)n[r]=Math.expm1(t[r]);return v.Tensor.make(e.shape,{values:n})},e.prototype.log=function(e){for(var t=e.dataSync(),n=new Float32Array(t.length),r=0;r<t.length;++r){var o=t[r];n[r]=Math.log(o)}return v.Tensor.make(e.shape,{values:n})},e.prototype.log1p=function(e){for(var t=e.dataSync(),n=new Float32Array(t.length),r=0;r<t.length;++r){var o=t[r];n[r]=Math.log1p(o)}return v.Tensor.make(e.shape,{values:n})},e.prototype.sqrt=function(e){for(var t=e.dataSync(),n=new Float32Array(t.length),r=0;r<t.length;++r){var o=t[r];n[r]=Math.sqrt(o)}return v.Tensor.make(e.shape,{values:n})},e.prototype.rsqrt=function(e){for(var t=e.dataSync(),n=new Float32Array(t.length),r=0;r<t.length;++r){var o=t[r];n[r]=1/Math.sqrt(o)}return v.Tensor.make(e.shape,{values:n})},e.prototype.square=function(e){for(var t=e.dataSync(),n=new Float32Array(t.length),r=0;r<t.length;++r){var o=t[r];n[r]=o*o}return v.Tensor.make(e.shape,{values:n})},e.prototype.reciprocal=function(e){for(var t=e.dataSync(),n=new Float32Array(t.length),r=0;r<t.length;++r)n[r]=1/t[r];return v.Tensor.make(e.shape,{values:n})},e.prototype.relu=function(e){for(var t=h.zeros(e.shape,e.dtype),n=t.dataSync(),r=e.dataSync(),o=0;o<r.length;++o)n[o]=Math.max(0,r[o]);return t},e.prototype.elu=function(e){for(var t=new Float32Array(e.size),n=e.dataSync(),r=0;r<n.length;++r){var o=n[r];o>=0?t[r]=o:t[r]=Math.exp(o)-1}return v.Tensor.make(e.shape,{values:t})},e.prototype.eluDer=function(e,t){for(var n=new Float32Array(t.size),r=t.dataSync(),o=e.dataSync(),a=0;a<r.length;++a){var i=r[a];i>=1?n[a]=o[a]:n[a]=o[a]*(i+1)}return v.Tensor.make(t.shape,{values:n})},e.prototype.selu=function(e){for(var t=m.SELU_SCALEALPHA,n=m.SELU_SCALE,r=new Float32Array(e.size),o=e.dataSync(),a=0;a<o.length;++a){var i=o[a];i>=0?r[a]=n*i:r[a]=t*(Math.exp(i)-1)}return v.Tensor.make(e.shape,{values:r})},e.prototype.clip=function(e,t,n){for(var r=new Float32Array(e.size),o=e.dataSync(),a=0;a<o.length;++a)r[a]=Math.min(n,Math.max(t,o[a]));return v.Tensor.make(e.shape,{values:r})},e.prototype.abs=function(e){for(var t=new Float32Array(e.size),n=e.dataSync(),r=0;r<n.length;++r)t[r]=Math.abs(n[r]);return v.Tensor.make(e.shape,{values:t})},e.prototype.int=function(e){for(var t=new Int32Array(e.size),n=e.dataSync(),r=0;r<n.length;++r)t[r]=n[r];return v.Tensor.make(e.shape,{values:t},"int32")},e.prototype.sigmoid=function(e){for(var t=new Float32Array(e.size),n=e.dataSync(),r=0;r<n.length;++r)t[r]=1/(1+Math.exp(-n[r]));return v.Tensor.make(e.shape,{values:t})},e.prototype.softplus=function(e){for(var t=1.1920928955078125e-7,n=Math.log(t)+2,r=new Float32Array(e.size),o=e.dataSync(),a=0;a<o.length;++a){var i=o[a]>-n,s=o[a]<n,u=Math.exp(o[a]),l=void 0;l=s?u:i?o[a]:Math.log(1+u),r[a]=l}return v.Tensor.make(e.shape,{values:r})},e.prototype.sin=function(e){for(var t=new Float32Array(e.size),n=e.dataSync(),r=0;r<n.length;++r)t[r]=Math.sin(n[r]);return v.Tensor.make(e.shape,{values:t})},e.prototype.cos=function(e){for(var t=new Float32Array(e.size),n=e.dataSync(),r=0;r<n.length;++r)t[r]=Math.cos(n[r]);return v.Tensor.make(e.shape,{values:t})},e.prototype.tan=function(e){for(var t=new Float32Array(e.size),n=e.dataSync(),r=0;r<n.length;++r)t[r]=Math.tan(n[r]);return v.Tensor.make(e.shape,{values:t})},e.prototype.asin=function(e){for(var t=new Float32Array(e.size),n=e.dataSync(),r=0;r<n.length;++r)t[r]=Math.asin(n[r]);return v.Tensor.make(e.shape,{values:t})},e.prototype.acos=function(e){for(var t=new Float32Array(e.size),n=e.dataSync(),r=0;r<n.length;++r)t[r]=Math.acos(n[r]);return v.Tensor.make(e.shape,{values:t})},e.prototype.atan=function(e){for(var t=new Float32Array(e.size),n=e.dataSync(),r=0;r<n.length;++r)t[r]=Math.atan(n[r]);return v.Tensor.make(e.shape,{values:t})},e.prototype.atan2=function(e,t){return this.broadcastedBinaryOp(e,t,e.dtype,function(e,t){return Math.atan2(e,t)})},e.prototype.sinh=function(e){for(var t=new Float32Array(e.size),n=e.dataSync(),r=0;r<n.length;++r)t[r]=Math.sinh(n[r]);return v.Tensor.make(e.shape,{values:t})},e.prototype.cosh=function(e){for(var t=new Float32Array(e.size),n=e.dataSync(),r=0;r<n.length;++r)t[r]=Math.cosh(n[r]);return v.Tensor.make(e.shape,{values:t})},e.prototype.tanh=function(e){for(var t=new Float32Array(e.size),n=e.dataSync(),r=0;r<n.length;++r)t[r]=x.tanh(n[r]);return v.Tensor.make(e.shape,{values:t})},e.prototype.asinh=function(e){for(var t=new Float32Array(e.size),n=e.dataSync(),r=0;r<n.length;++r)t[r]=Math.asinh(n[r]);return v.Tensor.make(e.shape,{values:t})},e.prototype.acosh=function(e){for(var t=new Float32Array(e.size),n=e.dataSync(),r=0;r<n.length;++r)t[r]=Math.acosh(n[r]);return v.Tensor.make(e.shape,{values:t})},e.prototype.atanh=function(e){for(var t=new Float32Array(e.size),n=e.dataSync(),r=0;r<n.length;++r)t[r]=Math.atanh(n[r]);return v.Tensor.make(e.shape,{values:t})},e.prototype.erf=function(e){for(var t=new Float32Array(e.size),n=e.dataSync(),r=f.ERF_P,o=f.ERF_A1,a=f.ERF_A2,i=f.ERF_A3,s=f.ERF_A4,u=f.ERF_A5,l=0;l<n.length;++l){var c=n[l],p=1/(1+r*c);t[l]=1-((((u*p+s)*p+i)*p+a)*p+o)*p*Math.exp(-c*c)}return v.Tensor.make(e.shape,{values:t})},e.prototype.step=function(e,t){void 0===t&&(t=0);for(var n=new Float32Array(e.size),r=e.dataSync(),o=0;o<r.length;++o){var a=r[o];isNaN(a)?n[o]=NaN:n[o]=a>0?1:t}return v.Tensor.make(e.shape,{values:n})},e.prototype.conv2d=function(e,t,n){for(var r=n.filterHeight,o=n.filterWidth,a=n.dilationHeight,i=n.dilationWidth,s=n.padInfo.left,u=n.padInfo.top,l=h.buffer(n.outShape,e.dtype),c=0;c<n.batchSize;++c)for(var p=0;p<n.outChannels;++p)for(var f=0;f<n.outHeight;++f)for(var d=f*n.strideHeight-s,m=0;m<n.outWidth;++m){for(var g=m*n.strideWidth-u,v=0,y=0;y<r;y++){var x=d+y*a;if(!(x<0||x>=n.inHeight))for(var b=0;b<o;b++){var _=g+b*i;if(!(_<0||_>=n.inWidth))for(var w=0;w<n.inChannels;++w){var T=e.get(c,x,_,w),P=t.get(y,b,w,p);v+=T*P}}}l.set(v,c,f,m,p)}return l.toTensor()},e.prototype.conv2dDerInput=function(e,t,n){for(var r=h.buffer(n.inShape,"float32"),o=r.values,a=r.strides,i=a[0],s=a[1],u=a[2],l=e.dataSync(),c=e.strides,p=c[0],f=c[1],d=c[2],m=t.dataSync(),g=t.strides,v=g[0],y=g[1],x=g[2],b=n.batchSize,_=n.filterHeight,w=n.filterWidth,T=n.inChannels,P=n.inHeight,N=n.inWidth,S=n.outChannels,E=n.outHeight,k=n.outWidth,A=n.strideHeight,O=n.strideWidth,I=_-1-n.padInfo.top,C=w-1-n.padInfo.left,R=0;R<b;++R)for(var M=0;M<T;++M)for(var D=0;D<P;++D)for(var V=D-I,L=Math.max(0,Math.ceil(V/A)),F=Math.min(E,(_+V)/A),z=0;z<N;++z){for(var B=z-C,j=Math.max(0,Math.ceil(B/O)),U=Math.min(k,(w+B)/O),G=0,q=L;q<F;++q)for(var W=q*A-V,H=j;H<U;++H)for(var $=H*O-B,X=p*R+f*q+d*H,Y=v*(_-1-W)+y*(w-1-$)+x*M,K=0;K<S;++K){var Q=l[X+K],J=m[Y+K];G+=Q*J}o[i*R+s*D+u*z+M]=G}return r.toTensor()},e.prototype.conv2dDerFilter=function(e,t,n){for(var r=n.strideHeight,o=n.strideWidth,a=n.filterHeight,i=n.filterWidth,s=h.buffer(n.filterShape,"float32"),u=n.padInfo.left,l=n.padInfo.top,c=0;c<a;++c)for(var p=Math.max(0,Math.ceil((l-c)/r)),f=Math.min(n.outHeight,(n.inHeight+l-c)/r),d=0;d<i;++d)for(var m=Math.max(0,Math.ceil((u-d)/o)),g=Math.min(n.outWidth,(n.inWidth+u-d)/o),v=0;v<n.inChannels;++v)for(var y=0;y<n.outChannels;++y){for(var x=0,b=0;b<n.batchSize;++b)for(var _=p;_<f;++_)for(var w=c+_*r-l,T=m;T<g;++T){var P=d+T*o-u;x+=e.get(b,w,P,v)*t.get(b,_,T,y)}s.set(x,c,d,v,y)}return s.toTensor()},e.prototype.depthwiseConv2D=function(e,t,n){for(var r=n.filterHeight,o=n.filterWidth,a=n.dilationHeight,i=n.dilationWidth,s=n.padInfo.left,u=n.padInfo.top,l=n.outChannels/n.inChannels,c=h.buffer(n.outShape,e.dtype),p=0;p<n.batchSize;++p)for(var f=0;f<n.inChannels;++f)for(var d=0;d<n.outHeight;++d)for(var m=d*n.strideHeight-s,g=0;g<n.outWidth;++g)for(var v=g*n.strideWidth-u,y=0;y<l;++y){for(var x=0,b=0;b<r;++b){var _=m+b*a;if(!(_<0||_>=n.inHeight))for(var w=0;w<o;++w){var T=v+w*i;if(!(T<0||T>=n.inWidth)){var P=e.get(p,_,T,f),N=t.get(b,w,f,y);x+=P*N}}}c.set(x,p,d,g,f*l+y)}return c.toTensor()},e.prototype.depthwiseConv2DDerInput=function(e,t,n){for(var r=h.buffer(n.inShape,"float32"),o=r.values,a=r.strides,i=a[0],s=a[1],u=a[2],l=e.dataSync(),c=e.strides,p=c[0],f=c[1],d=c[2],m=t.dataSync(),g=t.strides,v=g[0],y=g[1],x=g[2],b=n.batchSize,_=n.filterHeight,w=n.filterWidth,T=n.inChannels,P=n.inHeight,N=n.inWidth,S=n.outChannels,E=n.outHeight,k=n.outWidth,A=n.strideHeight,O=n.strideWidth,I=_-1-n.padInfo.top,C=w-1-n.padInfo.left,R=S/T,M=0;M<b;++M)for(var D=0;D<T;++D)for(var V=0;V<P;++V)for(var L=V-I,F=Math.max(0,Math.ceil(L/A)),z=Math.min(E,(_+L)/A),B=0;B<N;++B){for(var j=B-C,U=Math.max(0,Math.ceil(j/O)),G=Math.min(k,(w+j)/O),q=0,W=F;W<z;++W)for(var H=W*A-L,$=U;$<G;++$)for(var X=$*O-j,Y=p*M+f*W+d*$,K=v*(_-1-H)+y*(w-1-X)+x*D,Q=0;Q<R;++Q){var J=D*R+Q,Z=l[Y+J],ee=m[K+Q];q+=Z*ee}o[i*M+s*V+u*B+D]=q}return r.toTensor()},e.prototype.depthwiseConv2DDerFilter=function(e,t,n){for(var r=n.strideHeight,o=n.strideWidth,a=n.filterHeight,i=n.filterWidth,s=h.buffer(n.filterShape,"float32"),u=n.padInfo.left,l=n.padInfo.top,c=n.outChannels/n.inChannels,p=0;p<a;++p)for(var f=Math.max(0,Math.ceil((l-p)/r)),d=Math.min(n.outHeight,(n.inHeight+l-p)/r),m=0;m<i;++m)for(var g=Math.max(0,Math.ceil((u-m)/o)),v=Math.min(n.outWidth,(n.inWidth+u-m)/o),y=0;y<n.outChannels;++y){for(var x=Math.trunc(y/c),b=y%c,_=0,w=0;w<n.batchSize;++w)for(var T=f;T<d;++T)for(var P=p+T*r-l,N=g;N<v;++N){var S=m+N*o-u;_+=e.get(w,P,S,x)*t.get(w,T,N,y)}s.set(_,p,m,x,b)}return s.toTensor()},e.prototype.tile=function(e,t){for(var n=new Array(e.rank),r=0;r<n.length;r++)n[r]=e.shape[r]*t[r];for(var o=h.buffer(n,e.dtype),a=e.buffer(),r=0;r<o.values.length;++r){for(var i=o.indexToLoc(r),s=new Array(e.rank),u=0;u<s.length;u++)s[u]=i[u]%e.shape[u];var l=a.locToIndex(s);o.values[r]=a.values[l]}return o.toTensor()},e.prototype.pad=function(e,t,n){var r=t.map(function(t,n){return t[0]+e.shape[n]+t[1]}),o=t.map(function(e){return e[0]}),a=e.buffer(),i=h.buffer(r,e.dtype);0!==n&&i.values.fill(n);for(var s=0;s<e.size;s++){var u=a.indexToLoc(s),l=u.map(function(e,t){return e+o[t]});i.set.apply(i,[e.get.apply(e,u)].concat(l))}return i.toTensor()},e.prototype.transpose=function(e,t){for(var n=new Array(e.rank),r=0;r<n.length;r++)n[r]=e.shape[t[r]];for(var o=e.dataSync(),a=d.buffer(n,e.dtype),i=e.buffer(),r=0;r<e.size;++r){for(var s=i.indexToLoc(r),u=new Array(s.length),l=0;l<u.length;l++)u[l]=s[t[l]];var c=a.locToIndex(u);a.values[c]=o[r]}return a.toTensor()},e.prototype.gather=function(e,t,n){var r=e.shape.slice(),o=t.dataSync();r[n]=o.length;for(var a=d.buffer(r,e.dtype),i=e.buffer(),s=0;s<a.size;++s){var u=a.indexToLoc(s),l=u.slice();l[n]=o[u[n]];var c=i.locToIndex(l);a.values[s]=i.values[c]}return a.toTensor()},e.prototype.batchToSpaceND=function(e,t,n){var r=t.reduce(function(e,t){return e*t}),o=u.getReshaped(e.shape,t,r),a=u.getPermuted(o.length,t.length),i=u.getReshapedPermuted(e.shape,t,r),s=u.getSliceBeginCoords(n,t.length),l=u.getSliceSize(i,n,t.length);return e.reshape(o).transpose(a).reshape(i).slice(s,l)},e.prototype.spaceToBatchND=function(e,t,n){var r=t.reduce(function(e,t){return e*t}),o=[[0,0]];o.push.apply(o,n);for(var a=1+t.length;a<e.shape.length;++a)o.push([0,0]);var i=e.pad(o),s=u.getReshaped(i.shape,t,r,!1),l=u.getPermuted(s.length,t.length,!1),c=u.getReshapedPermuted(i.shape,t,r,!1);return i.reshape(s).transpose(l).reshape(c)},e.prototype.pool=function(e,t,n){for(var r=t.strideHeight,o=t.strideWidth,a=t.filterHeight,i=t.filterWidth,s=h.buffer(t.outShape,"float32"),u=t.padInfo.top,l=t.padInfo.left,c=0;c<t.batchSize;++c)for(var p=0;p<t.inChannels;++p)for(var f=0;f<t.outHeight;++f)for(var d=f*r-u,m=Math.max(0,d),g=Math.min(t.inHeight,a+d),v=0;v<t.outWidth;++v){for(var y=v*o-l,x=Math.max(0,y),b=Math.min(t.inWidth,i+y),_="max"===n?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,w=0,T=0,P=m;P<g;++P){for(var N=x;N<b;++N){var S=e.get(c,P,N,p);"max"===n&&S>_?_=S:"avg"===n&&(w+=S,T++)}if(isNaN(_))break}s.set("avg"===n?w/T:_,c,f,v,p)}return s.toTensor()},e.prototype.maxPool=function(e,t){return this.pool(e,t,"max")},e.prototype.maxPoolPositions=function(e,t){for(var n=h.buffer(t.outShape,"int32"),r=t.strideHeight,o=t.strideWidth,a=t.filterHeight,i=t.filterWidth,s=t.padInfo.top,u=t.padInfo.left,l=0;l<t.batchSize;++l)for(var c=0;c<t.inChannels;++c)for(var p=0;p<t.outHeight;++p)for(var f=p*r-s,d=Math.max(0,f),m=Math.min(t.inHeight,a+f),g=0;g<t.outWidth;++g){for(var v=g*o-u,y=Math.max(0,v),x=Math.min(t.inWidth,i+v),b=Number.NEGATIVE_INFINITY,_=-1,w=d;w<m;++w)for(var T=w-f,P=y;P<x;++P){var N=P-v,S=e.get(l,w,P,c);S>b&&(b=S,_=T*i+N)}n.set(_,l,p,g,c)}return n.toTensor()},e.prototype.maxPoolBackprop=function(e,t,n,r){for(var o=this.maxPoolPositions(t,r),a=r.strideHeight,i=r.strideWidth,s=r.filterHeight,u=r.filterWidth,l=u-1-r.padInfo.left,c=s-1-r.padInfo.top,p=h.buffer(t.shape,"float32"),f=0;f<r.batchSize;++f)for(var d=0;d<r.inChannels;++d)for(var m=0;m<r.inHeight;++m)for(var g=0;g<r.inWidth;++g){for(var v=m-c,y=g-l,x=0,b=0;b<s;++b){var _=(v+b)/a;if(!(_<0||_>=r.outHeight||Math.floor(_)!==_))for(var w=0;w<u;++w){var T=(y+w)/i;if(!(T<0||T>=r.outWidth||Math.floor(T)!==T)){var P=s*u-1-o.get(f,_,T,d),N=b*u+w,S=P===N?1:0;if(0!==S){var E=e.get(f,_,T,d);x+=E*S}}}}p.set(x,f,m,g,d)}return p.toTensor()},e.prototype.avgPoolBackprop=function(e,t,n){for(var r=n.strideHeight,o=n.strideWidth,a=n.filterHeight,i=n.filterWidth,s=i-1-n.padInfo.left,u=a-1-n.padInfo.top,l=h.buffer(t.shape,"float32"),c=1/(a*i),p=0;p<n.batchSize;++p)for(var f=0;f<n.inChannels;++f)for(var d=0;d<n.inHeight;++d)for(var m=0;m<n.inWidth;++m){for(var g=d-u,v=m-s,y=0,x=0;x<a;++x){var b=(g+x)/r;if(!(b<0||b>=n.outHeight||Math.floor(b)!==b))for(var _=0;_<i;++_){var w=(v+_)/o;if(!(w<0||w>=n.outWidth||Math.floor(w)!==w)){var T=e.get(p,b,w,f);y+=T}}}l.set(y*c,p,d,m,f)}return l.toTensor()},e.prototype.cast=function(e,t){return _.castTensor(e,t,this)},e.prototype.reshape=function(e,t){return _.reshapeTensor(e,t)},e.prototype.avgPool=function(e,t){return this.pool(e,t,"avg").toFloat()},e.prototype.resizeBilinear=function(e,t,n,r){for(var o=e.shape,a=o[0],i=o[1],s=o[2],u=o[3],l=h.buffer([a,t,n,u],e.dtype),c=[r&&t>1?i-1:i,r&&n>1?s-1:s],p=[r&&t>1?t-1:t,r&&n>1?n-1:n],f=0;f<a;f++)for(var d=0;d<t;d++)for(var m=0;m<n;m++)for(var g=0;g<u;g++){var v=c[0]*d/p[0],y=c[1]*m/p[1],x=Math.floor(v),b=Math.min(i-1,Math.ceil(v)),_=Math.floor(y),w=Math.min(s-1,Math.ceil(y)),T=e.get(f,x,_,g),P=e.get(f,b,_,g),N=e.get(f,x,w,g),S=e.get(f,b,w,g),E=v-x,k=y-_,A=T+(N-T)*k,O=P+(S-P)*k,I=A+(O-A)*E;l.set(I,f,d,m,g)}return l.toTensor()},e.prototype.resizeBilinearBackprop=function(e,t,n){for(var r=t.shape,o=r[0],a=r[1],i=r[2],s=r[3],u=e.shape,l=u[1],c=u[2],p=h.buffer([o,a,i,s],t.dtype),f=[n&&l>1?a-1:a,n&&c>1?i-1:i],d=[n&&l>1?l-1:l,n&&c>1?c-1:c],m=f[0]/d[0],g=f[1]/d[1],v=0;v<o;v++)for(var y=0;y<l;y++)for(var x=y*m,b=Math.floor(x),_=Math.min(Math.ceil(x),a-1),w=x-b,T=1-w,P=0;P<c;P++)for(var N=P*g,S=Math.floor(N),E=Math.min(Math.ceil(N),i-1),k=N-S,A=1-k,O=0;O<s;O++){var I=e.get(v,y,P,O),C=p.get(v,b,S,O);C+=I*T*A,p.set(C,v,b,S,O);var R=p.get(v,b,E,O);R+=I*T*k,p.set(R,v,b,E,O);var M=p.get(v,_,S,O);M+=I*w*A,p.set(M,v,_,S,O);var D=p.get(v,_,E,O);D+=I*w*k,p.set(D,v,_,E,O)}return p.toTensor()},e.prototype.resizeNearestNeighbor=function(e,t,n,r){for(var o=e.shape,a=o[0],i=o[1],s=o[2],u=o[3],l=h.buffer([a,t,n,u],e.dtype),c=[r&&t>1?i-1:i,r&&n>1?s-1:s],p=[r&&t>1?t-1:t,r&&n>1?n-1:n],f=0;f<a;f++)for(var d=0;d<t;d++)for(var m=0;m<n;m++)for(var g=0;g<u;g++){var v=c[0]*d/p[0],y=c[1]*m/p[1],x=Math.min(i-1,r?Math.round(v):Math.floor(v)),b=Math.min(s-1,r?Math.round(y):Math.floor(y)),_=e.get(f,x,b,g);l.set(_,f,d,m,g)}return l.toTensor()},e.prototype.resizeNearestNeighborBackprop=function(e,t,n){for(var r=t.shape,o=r[0],a=r[1],i=r[2],s=r[3],u=e.shape,l=u[1],c=u[2],p=h.buffer([o,a,i,s],t.dtype),f=[n&&l>1?a-1:a,n&&c>1?i-1:i],d=[n&&l>1?l-1:l,n&&c>1?c-1:c],m=f[0]/d[0],g=f[1]/d[1],v=1/m,y=1/g,x=2*Math.ceil(v)+2,b=2*Math.ceil(y)+2,_=0;_<o;_++)for(var w=0;w<a;w++)for(var T=0;T<i;T++)for(var P=Math.floor(w*v),N=Math.floor(P-x/2),S=Math.floor(T*y),E=Math.floor(S-b/2),k=0;k<s;k++){for(var A=0,O=0;O<x;O++){var I=O+N;if(!(I<0||I>=l))for(var C=0;C<b;C++){var R=C+E;if(!(R<0||R>=c)){var M=f[0]*(I/d[0]),D=f[1]*(R/d[1]),V=Math.min(a-1,n?Math.round(M):Math.floor(M)),L=Math.min(i-1,n?Math.round(D):Math.floor(D));w===V&&T===L&&(A+=e.get(_,I,R,k))}}}p.set(A,_,w,T,k)}return p.toTensor()},e.prototype.batchNormalization=function(e,t,n,r,o,a){for(var i=e.dataSync(),s=t.dataSync(),u=n.dataSync(),l=o?o.dataSync():new Float32Array([1]),c=a?a.dataSync():new Float32Array([0]),p=new Float32Array(i.length),f=0;f<i.length;f++)p[f]=c[f%c.length]+(i[f]-s[f%s.length])*l[f%l.length]/Math.sqrt(u[f%u.length]+r);return d.tensor4d(p,e.shape)},e.prototype.localResponseNormalization4D=function(e,t,n,r,o){function a(t,n,r,o){for(var a=0,i=Math.max(0,o-s);i<=Math.min(o+s,u);i++){var l=e.get(t,n,r,i);a+=l*l}return a}for(var i=h.buffer(e.shape,"float32"),s=t,u=i.shape[3]-1,l=0;l<i.shape[0];l++)for(var c=0;c<=i.shape[1];c++)for(var p=0;p<i.shape[2];p++)for(var f=0;f<i.shape[3];f++){var d=a(l,c,p,f),m=e.get(l,c,p,f)*Math.pow(n+r*d,-o);i.set(m,l,c,p,f)}return i.toTensor()},e.prototype.LRNGrad=function(e,t,n,r,o,a,i){for(var s=e.shape[0],u=e.shape[1],l=e.shape[2],c=e.shape[3],p=h.buffer([s,u,l,c],"float32"),f=0;f<s;++f)for(var d=0;d<u;++d)for(var m=0;m<l;++m)for(var g=0;g<c;++g){for(var v=Math.max(0,g-r),y=Math.min(c,g+r+1),x=0,b=v;b<y;++b)x+=t.get(f,d,m,b)*t.get(f,d,m,b);x=a*x+o;for(var b=v;b<y;++b){var _=-2*a*i*t.get(f,d,m,b)*n.get(f,d,m,g)/x;g===b&&(_+=Math.pow(x,-i)),_*=e.get(f,d,m,g),p.set(_+p.get(f,d,m,b),f,d,m,b)}}return p.toTensor()},e.prototype.multinomial=function(e,t,n,r){for(var o=t?e:h.softmax(e),i=o.shape[0],s=o.shape[1],u=h.zeros([i,n],"int32"),l=u.dataSync(),c=o.dataSync(),p=0;p<i;++p){var f=p*s,d=new Float32Array(s-1);d[0]=c[f];for(var m=1;m<d.length;++m)d[m]=d[m-1]+c[f+m];for(var g=a.alea(r.toString()),v=p*n,y=0;y<n;++y){var x=g();l[v+y]=d.length;for(var b=0;b<d.length;b++)if(x<d[b]){l[v+y]=b;break}}}return u},e.prototype.oneHot=function(e,t,n,r){var o=new Float32Array(e.size*t);o.fill(r);for(var a=0;a<e.size;++a)e.get(a)>=0&&e.get(a)<t&&(o[a*t+e.get(a)]=n);return h.tensor2d(o,[e.size,t],"int32")},e.prototype.nonMaxSuppression=function(e,t,n,r,o){var a=e.dataSync(),i=t.dataSync();return w.nonMaxSuppressionImpl(a,i,n,r,o)},e.prototype.broadcastedBinaryOp=function(e,t,n,r){for(var o=c.assertAndGetBroadcastShape(e.shape,t.shape),a=h.buffer(o,n),i=e.dataSync(),s=t.dataSync(),u=c.getBroadcastDims(e.shape,o),l=c.getBroadcastDims(t.shape,o),p=e.buffer(),f=t.buffer(),d=function(n){var o=a.indexToLoc(n),c=o.slice(-e.rank);u.forEach(function(e){return c[e]=0});var h=p.locToIndex(c),d=o.slice(-t.rank);l.forEach(function(e){return d[e]=0});var m=f.locToIndex(d);a.values[n]=r(i[h],s[m])},m=0;m<a.values.length;++m)d(m);return a.toTensor()},e.prototype.dispose=function(){},e}();n.MathBackendCPU=N,i.ENV.registerBackend("cpu",function(){return new N},1,v.setTensorTracker)},{"../environment":51,"../log":115,"../ops/array_ops_util":117,"../ops/axis_util":118,"../ops/broadcast_util":121,"../ops/concat_util":124,"../ops/erf_util":127,"../ops/ops":138,"../ops/selu_util":147,"../ops/slice_util":149,"../tensor":169,"../types":175,"../util":176,"./backend_util":68,"./non_max_suppression_impl":70,"./topk_impl":71,"./where_impl":114,seedrandom:203}],68:[function(e,t,n){"use strict";function r(e,t,n){if(!s.hasEncodingLoss(e.dtype,t))return i.Tensor.make(e.shape,{dataId:e.dataId},t);if("int32"===t)return n.int(e);if("bool"===t)return n.notEqual(e,a.scalar(0,e.dtype));throw new Error("Error in Cast: unknown dtype argument ("+t+")")}function o(e,t){return i.Tensor.make(t,{dataId:e.dataId},e.dtype)}Object.defineProperty(n,"__esModule",{value:!0});var a=e("../ops/tensor_ops"),i=e("../tensor"),s=e("../util");n.castTensor=r,n.reshapeTensor=o},{"../ops/tensor_ops":152,"../tensor":169,"../util":176}],69:[function(e,t,n){"use strict";function r(e,t){if("float32"===t)return e;if("int32"===t||"bool"===t){for(var n="int32"===t?new Int32Array(e.length):new Uint8Array(e.length),r=0;r<n.length;++r)n[r]=Math.round(e[r]);return n}throw new Error("Unknown dtype "+t)}function o(e,t){return e instanceof Float32Array?e:new Float32Array(e)}var a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,s)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,a&&(i=2&n[0]?a.return:n[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,n[1])).done)return i;switch(a=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,a=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(i=u.trys,!(i=i.length>0&&i[i.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){u.label=n[1];break}if(6===n[0]&&u.label<i[1]){u.label=i[1],i=n;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(n);break}i[2]&&u.ops.pop(),u.trys.pop();continue}n=t.call(e,u)}catch(e){n=[6,e],a=0}finally{o=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,a,i,s,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../environment"),u=e("../log"),l=e("../ops/array_ops_util"),c=e("../ops/axis_util"),p=e("../ops/reduce_util"),f=e("../ops/segment_util"),h=e("../ops/slice_util"),d=e("../ops/softmax"),m=e("../ops/tensor_ops"),g=e("../tensor"),v=e("../types"),y=e("../util"),x=e("./backend_util"),b=e("./non_max_suppression_impl"),_=e("./topk_impl"),w=e("./webgl/argminmax_gpu"),T=e("./webgl/avg_pool_backprop_gpu"),P=e("./webgl/batchnorm_gpu"),N=e("./webgl/binaryop_gpu"),S=e("./webgl/binaryop_gpu"),E=e("./webgl/clip_gpu"),k=e("./webgl/concat_gpu"),A=e("./webgl/conv_backprop_gpu"),O=e("./webgl/conv_backprop_gpu_depthwise"),I=e("./webgl/conv_gpu"),C=e("./webgl/conv_gpu_depthwise"),R=e("./webgl/cumsum_gpu"),M=e("./webgl/encode_float_gpu"),D=e("./webgl/from_pixels_gpu"),V=e("./webgl/gather_gpu"),L=e("./webgl/gpgpu_context"),F=e("./webgl/gpgpu_math"),z=e("./webgl/gpgpu_util"),B=e("./webgl/lrn_gpu"),j=e("./webgl/lrn_grad_gpu"),U=e("./webgl/max_pool_backprop_gpu"),G=e("./webgl/mulmat_gpu"),q=e("./webgl/multinomial_gpu"),W=e("./webgl/onehot_gpu"),H=e("./webgl/pad_gpu"),$=e("./webgl/pool_gpu"),X=e("./webgl/reduce_gpu"),Y=e("./webgl/resize_bilinear_backprop_gpu"),K=e("./webgl/resize_bilinear_gpu"),Q=e("./webgl/resize_nearest_neighbor_backprop_gpu"),J=e("./webgl/resize_nearest_neighbor_gpu"),Z=e("./webgl/reverse_gpu"),ee=e("./webgl/segment_gpu"),te=e("./webgl/select_gpu"),ne=e("./webgl/slice_gpu"),re=e("./webgl/strided_slice_gpu"),oe=e("./webgl/tex_util"),ae=e("./webgl/texture_manager"),ie=e("./webgl/tile_gpu"),se=e("./webgl/transpose_gpu"),ue=e("./webgl/unaryop_gpu"),le=e("./webgl/unaryop_gpu"),ce=e("./webgl/webgl_util"),pe=e("./where_impl"),fe=300;n.SIZE_UPLOAD_UNIFORM=32;var he=function(){function e(e,t){if(void 0===t&&(t=!0),this.gpgpu=e,this.delayedStorage=t,this.texData=new WeakMap,this.pendingRead=new WeakMap,this.pendingDisposal=new WeakSet,this.lruDataGPU=[],this.numBytesInGPU=0,this.uploadWaitMs=0,this.downloadWaitMs=0,this.binaryCache={},this.disposed=!1,s.ENV.get("WEBGL_VERSION")<1)throw new Error("WebGL is not supported on this device");s.ENV.get("IS_BROWSER")&&(this.canvas=document.createElement("canvas")),null==e?(this.gpgpu=new L.GPGPUContext(z.createWebGLContext(this.canvas)),this.gpgpuCreatedLocally=!0):this.gpgpuCreatedLocally=!1,this.NUM_BYTES_BEFORE_PAGING=window.screen.height*window.screen.width*window.devicePixelRatio*fe,this.textureManager=new ae.TextureManager(this.gpgpu)}return e.prototype.register=function(e,t,n){if(this.texData.has(e))throw new Error("Data buffer is already registered");this.texData.set(e,{shape:t,dtype:n,values:null,texture:null,texShape:null,usage:oe.TextureUsage.RENDER})},e.prototype.fromPixels=function(e,t){if(null==e)throw new Error("pixels passed to tf.fromPixels() can not be null");var n=[e.height,e.width],r=[e.height,e.width,t];if(!(e instanceof HTMLVideoElement||e instanceof HTMLImageElement||e instanceof HTMLCanvasElement||e instanceof ImageData))throw new Error("pixels passed to tf.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement or ImageData, but was "+e.constructor.name);
if(e instanceof HTMLVideoElement){if(null==this.fromPixelsCanvas){if(!s.ENV.get("IS_BROWSER"))throw new Error("Can't read pixels from HTMLImageElement outside the browser.");if("complete"!==document.readyState)throw new Error("The DOM is not ready yet. Please call tf.fromPixels() once the DOM is ready. One way to do that is to add an event listener for `DOMContentLoaded` on the document object");this.fromPixelsCanvas=document.createElement("canvas")}this.fromPixelsCanvas.width=e.width,this.fromPixelsCanvas.height=e.height,this.fromPixelsCanvas.getContext("2d").drawImage(e,0,0,e.width,e.height),e=this.fromPixelsCanvas}var o=g.Tensor.make(n,{},"int32");this.texData.get(o.dataId).usage=oe.TextureUsage.PIXELS,this.gpgpu.uploadPixelDataToTexture(this.getTexture(o.dataId),e);var a=new D.FromPixelsProgram(r),i=this.compileAndRun(a,[o]);return o.dispose(),i},e.prototype.write=function(e,t){if(null==t)throw new Error("MathBackendWebGL.write(): values can not be null");this.throwIfNoData(e);var n=this.texData.get(e),r=n.texture,o=n.texShape,a=n.usage;null!=r&&(this.releaseTexture(e,r,o,a),n.texture=null,n.texShape=null),n.usage=oe.TextureUsage.UPLOAD,n.values=t,this.delayedStorage||this.uploadToGPU(e)},e.prototype.readSync=function(e){this.throwIfNoData(e);var t=this.texData.get(e),n=t.shape,r=t.texture,o=t.values,a=t.texShape,i=t.dtype;if(null!=o)return this.cacheOnCPU(e),o;var s,u=null!=this.activeTimers;u&&(s=performance.now());var l=this.getValuesFromTexture(r,e,i,a,n);return u&&(this.downloadWaitMs+=performance.now()-s),this.cacheOnCPU(e,l),t.values},e.prototype.read=function(e){return a(this,void 0,void 0,function(){var t,n,r,o,a,u,l,c,p,f;return i(this,function(i){switch(i.label){case 0:if(this.pendingRead.has(e))return t=this.pendingRead.get(e),[2,new Promise(function(e){return t.push(e)})];if(this.throwIfNoData(e),n=this.texData.get(e),r=n.shape,o=n.texture,a=n.values,u=n.texShape,l=n.dtype,null!=a)return this.cacheOnCPU(e),[2,a];if(this.pendingRead.set(e,[]),!s.ENV.get("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&2===s.ENV.get("WEBGL_VERSION"))throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");return c=this.gpgpu.maybeCreateBufferFromTexture(o,u[0],u[1]),[4,this.gpgpu.createAndWaitForFence()];case 1:return i.sent(),p=c instanceof WebGLTexture?this.getValuesFromTexture(o,e,l,u,r):this.gpgpu.downloadFloat32MatrixFromBuffer(c,u[0],u[1]),this.cacheOnCPU(e,p),f=this.pendingRead.get(e),this.pendingRead.delete(e),f.forEach(function(e){return e(p)}),this.pendingDisposal.has(e)&&(this.pendingDisposal.delete(e),this.disposeData(e)),[2,p]}})})},e.prototype.getValuesFromTexture=function(e,t,n,r,o){if(s.ENV.get("WEBGL_DOWNLOAD_FLOAT_ENABLED"))return this.gpgpu.downloadFloat32MatrixFromOutputTexture(e,r[0],r[1]);var a=g.Tensor.make(o,{});this.texData.get(a.dataId).usage=oe.TextureUsage.DOWNLOAD;var i=g.Tensor.make(o,{dataId:t},n),u=new M.EncodeFloatProgram(o),l=!1;this.compileAndRun(u,[i],a,null,l);var c=this.texData.get(a.dataId),p=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(c.texture,c.texShape[0],c.texShape[1]);return i.dispose(),a.dispose(),p},e.prototype.time=function(e){return a(this,void 0,void 0,function(){var t,n,r,o,a,s;return i(this,function(i){switch(i.label){case 0:return t=this.activeTimers,n=[],r=!1,null==this.programTimersStack?(this.programTimersStack=n,r=!0):this.activeTimers.push(n),this.activeTimers=n,e(),o=y.flatten(this.activeTimers),this.activeTimers=t,r&&(this.programTimersStack=null),[4,Promise.all(o).then(function(e){var t=0;return e.forEach(function(e){return t+=e}),t})];case 1:return a=i.sent(),s={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:a,wallMs:null},this.uploadWaitMs=0,this.downloadWaitMs=0,[2,s]}})})},e.prototype.memory=function(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU}},e.prototype.startTimer=function(){return s.ENV.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?this.gpgpu.beginQuery():{startMs:performance.now(),endMs:null}},e.prototype.endTimer=function(e){return s.ENV.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(this.gpgpu.endQuery(),e):(e.endMs=performance.now(),e)},e.prototype.getQueryTime=function(e){return a(this,void 0,void 0,function(){var t;return i(this,function(n){return s.ENV.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?[2,this.gpgpu.waitForQueryAndGetTime(e)]:(t=e,[2,t.endMs-t.startMs])})})},e.prototype.disposeData=function(e){if(!this.pendingDisposal.has(e)){if(this.pendingRead.has(e))return void this.pendingDisposal.add(e);if(this.texData.has(e)){var t=this.texData.get(e),n=t.texture,r=t.texShape,o=t.usage;null!=n&&this.releaseTexture(e,n,r,o),this.texData.delete(e)}}},e.prototype.getTexture=function(e){return this.uploadToGPU(e),this.texData.get(e).texture},e.prototype.getGPGPUContext=function(){return this.gpgpu},e.prototype.getCanvas=function(){return this.canvas},e.prototype.slice=function(e,t,n){var r=new ne.SliceProgram(n),o=r.getCustomSetupFunc(t);return this.compileAndRun(r,[e],null,o)},e.prototype.stridedSlice=function(e,t,n,r,o,a){var i=h.getStridedSlicedInfo(e.shape,t,n,r,o,a),s=i[0],u=i[1];if(u.some(function(e){return 0===e}))return m.tensor([],u);var l=new re.StridedSliceProgram(s,r,u);return this.compileAndRun(l,[e])},e.prototype.reverse=function(e,t){var n=new Z.ReverseProgram(e.shape,t);return this.compileAndRun(n,[e])},e.prototype.concat=function(e,t){var n=new k.ConcatProgram(e.shape,t.shape);return this.compileAndRun(n,[e,t])},e.prototype.neg=function(e){var t=new le.UnaryOpProgram(e.shape,ue.NEG);return this.compileAndRun(t,[e])},e.prototype.matMul=function(e,t,n,r){var o=new G.MatMulProgram(e.shape,t.shape,n,r);return this.compileAndRun(o,[e,t])},e.prototype.multiply=function(e,t){var n=new S.BinaryOpProgram(N.MUL,e.shape,t.shape),r=this.makeOutputArray(n.outputShape,v.upcastType(e.dtype,t.dtype));return this.compileAndRun(n,[e,t],r)},e.prototype.batchNormalization=function(e,t,n,r,o,a){var i=[e,t,n],s=null;null!=a&&(s=a.shape,i.push(a));var u=null;null!=o&&(u=o.shape,i.push(o));var l=new P.BatchNormProgram(e.shape,t.shape,n.shape,s,u,r);return this.compileAndRun(l,i)},e.prototype.localResponseNormalization4D=function(e,t,n,r,o){var a=new B.LRNProgram(e.shape,t,n,r,o);return this.compileAndRun(a,[e])},e.prototype.LRNGrad=function(e,t,n,r,o,a,i){var s=new j.LRNGradProgram(t.shape,r,o,a,i);return this.compileAndRun(s,[t,n,e])},e.prototype.tile=function(e,t){var n=new ie.TileProgram(e.shape,t);return this.compileAndRun(n,[e])},e.prototype.pad=function(e,t,n){var r=new H.PadProgram(e.shape,t,n);return this.compileAndRun(r,[e])},e.prototype.transpose=function(e,t){var n=new se.TransposeProgram(e.shape,t);return this.compileAndRun(n,[e])},e.prototype.gather=function(e,t,n){var r=new V.GatherProgram(e.shape,t.size,n);return this.compileAndRun(r,[e,t])},e.prototype.batchToSpaceND=function(e,t,n){y.assert(e.rank<=4,"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet");var r=t.reduce(function(e,t){return e*t}),o=l.getReshaped(e.shape,t,r),a=l.getPermuted(o.length,t.length),i=l.getReshapedPermuted(e.shape,t,r),s=l.getSliceBeginCoords(n,t.length),u=l.getSliceSize(i,n,t.length);return e.reshape(o).transpose(a).reshape(i).slice(s,u)},e.prototype.spaceToBatchND=function(e,t,n){y.assert(e.rank<=4,"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet");var r=t.reduce(function(e,t){return e*t}),o=[[0,0]];o.push.apply(o,n);for(var a=1+t.length;a<e.shape.length;++a)o.push([0,0]);var i=e.pad(o),s=l.getReshaped(i.shape,t,r,!1),u=l.getPermuted(s.length,t.length,!1),c=l.getReshapedPermuted(i.shape,t,r,!1);return i.reshape(s).transpose(u).reshape(c)},e.prototype.reduce=function(e,t,n){var r=e.shape[0],o=e.shape[1],a=p.computeOptimalWindowSize(o),i={windowSize:a,inSize:o,batchSize:r},s=new X.ReduceProgram(i,t),u=s.outputShape,l=u[0],c=u[1],f=this.makeOutputArray([l,c],n);return this.compileAndRun(s,[e],f),1===f.shape[1]?f:this.reduce(f,t,n)},e.prototype.argReduce=function(e,t,n){void 0===n&&(n=null);var r=e.shape[0],o=e.shape[1];null!=n&&(r=n.shape[0],o=n.shape[1]);var a=p.computeOptimalWindowSize(o),i={windowSize:a,inSize:o,batchSize:r},s=new w.ArgMinMaxProgram(i,t,null==n),u=s.outputShape,l=u[0],c=u[1],f=this.makeOutputArray([l,c],"int32"),h=[e];return null!=n&&h.push(n),this.compileAndRun(s,h,f),1===f.shape[1]?f:this.argReduce(e,t,f)},e.prototype.sum=function(e,t){c.assertAxesAreInnerMostDims("sum",t,e.rank);var n=c.computeOutAndReduceShapes(e.shape,t),r=n[0],o=n[1],a=y.sizeFromShape(o),i=e.as2D(-1,a),s=v.sumOutType(e.dtype);return this.reduce(i,"sum",s).reshape(r)},e.prototype.unsortedSegmentSum=function(e,t,n){var r=0,o=c.getAxesPermutation([r],e.rank),a=e;null!=o&&(a=e.transpose(o),r=c.getInnerMostAxes(1,e.rank)[0]);var i=f.computeOutShape(a.shape,r,n),s=y.sizeFromShape([a.shape[r]]),u=a.as2D(-1,s),l=v.sumOutType(e.dtype),p=this.segOpCompute(u,"unsortedSegmentSum",t,l,n).reshape(i);return null!=o&&(p=p.transpose(c.getUndoAxesPermutation(o))),p},e.prototype.segOpCompute=function(e,t,n,r,o){var a=e.shape[0],i=e.shape[1],s=f.segOpComputeOptimalWindowSize(i,o),u={windowSize:s,inSize:i,batchSize:a,numSegments:o},l=new ee.SegmentOpProgram(u,t),c=l.outputShape,p=c[0],h=c[1],d=this.makeOutputArray([p,h],r);return this.compileAndRun(l,[e,n],d),d.shape[1]===o?d:(n=m.range(0,o).tile([i/s]),this.segOpCompute(d,t,n,r,o))},e.prototype.argMin=function(e,t){var n=[t];c.assertAxesAreInnerMostDims("argMin",n,e.rank);var r=c.computeOutAndReduceShapes(e.shape,n),o=r[0],a=r[1],i=y.sizeFromShape(a),s=e.as2D(-1,i);return this.argReduce(s,"min").reshape(o)},e.prototype.argMax=function(e,t){var n=[t];c.assertAxesAreInnerMostDims("argMax",n,e.rank);var r=c.computeOutAndReduceShapes(e.shape,n),o=r[0],a=r[1],i=y.sizeFromShape(a),s=e.as2D(-1,i);return this.argReduce(s,"max").reshape(o)},e.prototype.cumsum=function(e,t,n,r){if(t!==e.rank-1)throw new Error("WebGL cumsum shader expects an inner-most axis="+(e.rank-1)+" but got axis="+t);var o=new R.CumSumProgram(e.shape,n,r);return this.compileAndRun(o,[e])},e.prototype.equal=function(e,t){var n=new S.BinaryOpProgram(N.EQUAL,e.shape,t.shape),r=this.makeOutputArray(n.outputShape,"bool");return this.compileAndRun(n,[e,t],r)},e.prototype.notEqual=function(e,t){var n=new S.BinaryOpProgram(N.NOT_EQUAL,e.shape,t.shape),r=this.makeOutputArray(n.outputShape,"bool");return this.compileAndRun(n,[e,t],r)},e.prototype.less=function(e,t){var n=new S.BinaryOpProgram(N.LESS,e.shape,t.shape),r=this.makeOutputArray(n.outputShape,"bool");return this.compileAndRun(n,[e,t],r)},e.prototype.lessEqual=function(e,t){var n=new S.BinaryOpProgram(N.LESS_EQUAL,e.shape,t.shape),r=this.makeOutputArray(n.outputShape,"bool");return this.compileAndRun(n,[e,t],r)},e.prototype.greater=function(e,t){var n=new S.BinaryOpProgram(N.GREATER,e.shape,t.shape),r=this.makeOutputArray(n.outputShape,"bool");return this.compileAndRun(n,[e,t],r)},e.prototype.greaterEqual=function(e,t){var n=new S.BinaryOpProgram(N.GREATER_EQUAL,e.shape,t.shape),r=this.makeOutputArray(n.outputShape,"bool");return this.compileAndRun(n,[e,t],r)},e.prototype.logicalNot=function(e){var t=new le.UnaryOpProgram(e.shape,ue.LOGICAL_NOT);return this.compileAndRun(t,[e])},e.prototype.logicalAnd=function(e,t){var n=new S.BinaryOpProgram(N.LOGICAL_AND,e.shape,t.shape),r=this.makeOutputArray(n.outputShape,"bool");return this.compileAndRun(n,[e,t],r)},e.prototype.logicalOr=function(e,t){var n=new S.BinaryOpProgram(N.LOGICAL_OR,e.shape,t.shape),r=this.makeOutputArray(n.outputShape,"bool");return this.compileAndRun(n,[e,t],r)},e.prototype.select=function(e,t,n){var r=new te.SelectProgram(e.rank,t.shape,t.rank),o=this.makeOutputArray(r.outputShape,v.upcastType(t.dtype,n.dtype));return this.compileAndRun(r,[e,t,n],o)},e.prototype.where=function(e){u.warn("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");var t=e.dataSync();return pe.whereImpl(e.shape,t)},e.prototype.topk=function(e,t,n){var r=e.dataSync();return _.topkImpl(r,e.shape,e.dtype,t,n)},e.prototype.min=function(e,t){c.assertAxesAreInnerMostDims("min",t,e.rank);var n=c.computeOutAndReduceShapes(e.shape,t),r=n[0],o=n[1],a=y.sizeFromShape(o),i=e.as2D(-1,a);return this.reduce(i,"min",i.dtype).reshape(r)},e.prototype.minimum=function(e,t){var n=new S.BinaryOpProgram(N.MIN,e.shape,t.shape);return this.compileAndRun(n,[e,t])},e.prototype.mod=function(e,t){var n=new S.BinaryOpProgram(N.MOD,e.shape,t.shape),r=n.getCustomSetupFunc();return this.compileAndRun(n,[e,t],null,r)},e.prototype.max=function(e,t){c.assertAxesAreInnerMostDims("max",t,e.rank);var n=c.computeOutAndReduceShapes(e.shape,t),r=n[0],o=n[1],a=y.sizeFromShape(o),i=e.as2D(-1,a);return this.reduce(i,"max",i.dtype).reshape(r)},e.prototype.maximum=function(e,t){var n=new S.BinaryOpProgram(N.MAX,e.shape,t.shape);return this.compileAndRun(n,[e,t])},e.prototype.all=function(e,t){c.assertAxesAreInnerMostDims("all",t,e.rank);var n=c.computeOutAndReduceShapes(e.shape,t),r=n[0],o=n[1],a=y.sizeFromShape(o),i=e.as2D(-1,a);return this.reduce(i,"all",i.dtype).reshape(r)},e.prototype.any=function(e,t){c.assertAxesAreInnerMostDims("any",t,e.rank);var n=c.computeOutAndReduceShapes(e.shape,t),r=n[0],o=n[1],a=y.sizeFromShape(o),i=e.as2D(-1,a);return this.reduce(i,"any",i.dtype).reshape(r)},e.prototype.squaredDifference=function(e,t){var n=new S.BinaryOpProgram(N.SQUARED_DIFFERENCE,e.shape,t.shape);return this.compileAndRun(n,[e,t])},e.prototype.realDivide=function(e,t){var n=N.DIV,r="float32",o=new S.BinaryOpProgram(n,e.shape,t.shape),a=this.makeOutputArray(o.outputShape,r);return this.compileAndRun(o,[e,t],a)},e.prototype.floorDiv=function(e,t){var n=N.INT_DIV,r="int32",o=new S.BinaryOpProgram(n,e.shape,t.shape),a=this.makeOutputArray(o.outputShape,r);return this.compileAndRun(o,[e,t],a)},e.prototype.add=function(e,t){var n=new S.BinaryOpProgram(N.ADD,e.shape,t.shape),r=this.makeOutputArray(n.outputShape,v.upcastType(e.dtype,t.dtype));return this.compileAndRun(n,[e,t],r)},e.prototype.addN=function(e){for(var t=e[0],n=1;n<e.length;n++)t=this.add(t,e[n]);return t},e.prototype.subtract=function(e,t){var n=new S.BinaryOpProgram(N.SUB,e.shape,t.shape),r=this.makeOutputArray(n.outputShape,v.upcastType(e.dtype,t.dtype));return this.compileAndRun(n,[e,t],r)},e.prototype.pow=function(e,t){var n=new S.BinaryOpProgram(N.POW,e.shape,t.shape),r=n.getCustomSetupFunc(),o=this.makeOutputArray(n.outputShape,v.upcastType(e.dtype,t.dtype));return this.compileAndRun(n,[e,t],o,r)},e.prototype.ceil=function(e){var t=new le.UnaryOpProgram(e.shape,ue.CEIL);return this.compileAndRun(t,[e])},e.prototype.floor=function(e){var t=new le.UnaryOpProgram(e.shape,ue.FLOOR);return this.compileAndRun(t,[e])},e.prototype.sign=function(e){var t=new le.UnaryOpProgram(e.shape,ue.SIGN);return this.compileAndRun(t,[e])},e.prototype.round=function(e){var t=new le.UnaryOpProgram(e.shape,ue.ROUND);return this.compileAndRun(t,[e])},e.prototype.exp=function(e){var t=new le.UnaryOpProgram(e.shape,ue.EXP);return this.compileAndRun(t,[e])},e.prototype.expm1=function(e){var t=new le.UnaryOpProgram(e.shape,ue.EXPM1);return this.compileAndRun(t,[e])},e.prototype.log=function(e){var t=new le.UnaryOpProgram(e.shape,ue.LOG),n=t.getCustomSetupFunc();return this.compileAndRun(t,[e],null,n)},e.prototype.log1p=function(e){var t=new le.UnaryOpProgram(e.shape,ue.LOG1P);return this.compileAndRun(t,[e])},e.prototype.sqrt=function(e){var t=new le.UnaryOpProgram(e.shape,ue.SQRT);return this.compileAndRun(t,[e])},e.prototype.rsqrt=function(e){var t=new le.UnaryOpProgram(e.shape,ue.RSQRT);return this.compileAndRun(t,[e])},e.prototype.square=function(e){var t=new le.UnaryOpProgram(e.shape,ue.SQUARE);return this.compileAndRun(t,[e])},e.prototype.reciprocal=function(e){var t=new le.UnaryOpProgram(e.shape,ue.RECIPROCAL);return this.compileAndRun(t,[e])},e.prototype.relu=function(e){var t=new le.UnaryOpProgram(e.shape,ue.RELU);return this.compileAndRun(t,[e])},e.prototype.elu=function(e){var t=new le.UnaryOpProgram(e.shape,ue.ELU);return this.compileAndRun(t,[e])},e.prototype.eluDer=function(e,t){var n=new S.BinaryOpProgram(N.ELU_DER,e.shape,t.shape);return this.compileAndRun(n,[e,t])},e.prototype.selu=function(e){var t=new le.UnaryOpProgram(e.shape,ue.SELU);return this.compileAndRun(t,[e])},e.prototype.int=function(e){var t=new le.UnaryOpProgram(e.shape,ue.TO_INT),n=this.makeOutputArray(t.outputShape,"int32");return this.compileAndRun(t,[e],n)},e.prototype.clip=function(e,t,n){var r=new E.ClipProgram(e.shape,t,n);return this.compileAndRun(r,[e])},e.prototype.abs=function(e){var t=new le.UnaryOpProgram(e.shape,ue.ABS);return this.compileAndRun(t,[e])},e.prototype.sigmoid=function(e){var t=new le.UnaryOpProgram(e.shape,ue.SIGMOID);return this.compileAndRun(t,[e])},e.prototype.softplus=function(e){var t=new le.UnaryOpProgram(e.shape,ue.SOFTPLUS);return this.compileAndRun(t,[e])},e.prototype.sin=function(e){var t=new le.UnaryOpProgram(e.shape,ue.SIN);return this.compileAndRun(t,[e])},e.prototype.cos=function(e){var t=new le.UnaryOpProgram(e.shape,ue.COS);return this.compileAndRun(t,[e])},e.prototype.tan=function(e){var t=new le.UnaryOpProgram(e.shape,ue.TAN);return this.compileAndRun(t,[e])},e.prototype.asin=function(e){var t=new le.UnaryOpProgram(e.shape,ue.ASIN);return this.compileAndRun(t,[e])},e.prototype.acos=function(e){var t=new le.UnaryOpProgram(e.shape,ue.ACOS);return this.compileAndRun(t,[e])},e.prototype.atan=function(e){var t=new le.UnaryOpProgram(e.shape,ue.ATAN);return this.compileAndRun(t,[e])},e.prototype.atan2=function(e,t){var n=new S.BinaryOpProgram(N.ATAN2,e.shape,t.shape);return this.compileAndRun(n,[e,t])},e.prototype.sinh=function(e){var t=new le.UnaryOpProgram(e.shape,ue.SINH);return this.compileAndRun(t,[e])},e.prototype.cosh=function(e){var t=new le.UnaryOpProgram(e.shape,ue.COSH);return this.compileAndRun(t,[e])},e.prototype.tanh=function(e){var t=new le.UnaryOpProgram(e.shape,ue.TANH);return this.compileAndRun(t,[e])},e.prototype.asinh=function(e){var t=new le.UnaryOpProgram(e.shape,ue.ASINH);return this.compileAndRun(t,[e])},e.prototype.acosh=function(e){var t=new le.UnaryOpProgram(e.shape,ue.ACOSH),n=t.getCustomSetupFunc();return this.compileAndRun(t,[e],null,n)},e.prototype.atanh=function(e){var t=new le.UnaryOpProgram(e.shape,ue.ATANH),n=t.getCustomSetupFunc();return this.compileAndRun(t,[e],null,n)},e.prototype.erf=function(e){var t=new le.UnaryOpProgram(e.shape,ue.ERF);return this.compileAndRun(t,[e])},e.prototype.step=function(e,t){var n=new le.UnaryOpProgram(e.shape,ue.STEP(t));return this.compileAndRun(n,[e])},e.prototype.conv2d=function(e,t,n){var r=new I.Conv2DProgram(n);return this.compileAndRun(r,[e,t])},e.prototype.conv2dDerInput=function(e,t,n){var r=new A.Conv2DDerInputProgram(n);return this.compileAndRun(r,[e,t])},e.prototype.conv2dDerFilter=function(e,t,n){var r=new A.Conv2DDerFilterProgram(n);return this.compileAndRun(r,[e,t])},e.prototype.depthwiseConv2D=function(e,t,n){var r=new C.DepthwiseConv2DProgram(n);return this.compileAndRun(r,[e,t])},e.prototype.depthwiseConv2DDerInput=function(e,t,n){var r=new O.DepthwiseConv2DDerInputProgram(n);return this.compileAndRun(r,[e,t])},e.prototype.depthwiseConv2DDerFilter=function(e,t,n){var r=new O.DepthwiseConv2DDerFilterProgram(n);return this.compileAndRun(r,[e,t])},e.prototype.maxPool=function(e,t){var n=new $.Pool2DProgram(t,"max",!1),r=this.makeOutputArray(n.outputShape,e.dtype);return this.compileAndRun(n,[e],r)},e.prototype.avgPool=function(e,t){var n=new $.Pool2DProgram(t,"avg",!1),r=this.makeOutputArray(n.outputShape,"float32");return this.compileAndRun(n,[e],r)},e.prototype.maxPoolBackprop=function(e,t,n,r){var o=!0,a=new $.Pool2DProgram(r,"max",o),i=this.compileAndRun(a,[t]),s=new U.MaxPool2DBackpropProgram(r),u=this.makeOutputArray(s.outputShape,t.dtype),l=this.compileAndRun(s,[e,i],u);return i.dispose(),l},e.prototype.avgPoolBackprop=function(e,t,n){var r=new T.AvgPool2DBackpropProgram(n),o=this.makeOutputArray(r.outputShape,t.dtype);return this.compileAndRun(r,[e],o)},e.prototype.cast=function(e,t){return x.castTensor(e,t,this)},e.prototype.reshape=function(e,t){return x.reshapeTensor(e,t)},e.prototype.resizeBilinear=function(e,t,n,r){var o=new K.ResizeBilinearProgram(e.shape,t,n,r);return this.compileAndRun(o,[e])},e.prototype.resizeBilinearBackprop=function(e,t,n){var r=new Y.ResizeBilinearBackpropProgram(e,t,n);return this.compileAndRun(r,[e])},e.prototype.resizeNearestNeighbor=function(e,t,n,r){var o=new J.ResizeNearestNeighborProgram(e.shape,t,n,r);return this.compileAndRun(o,[e])},e.prototype.resizeNearestNeighborBackprop=function(e,t,n){var r=new Q.ResizeNearestNeigborBackpropProgram(e,t,n);return this.compileAndRun(r,[e])},e.prototype.multinomial=function(e,t,n,r){var o=t?e:d.softmax(e),a=o.shape[0],i=o.shape[1],s=new q.MultinomialProgram(a,i,n),u=this.makeOutputArray(s.outputShape,"int32"),l=s.getCustomSetupFunc(r);return this.compileAndRun(s,[o],u,l)},e.prototype.oneHot=function(e,t,n,r){var o=new W.OneHotProgram(e.size,t,n,r);return this.compileAndRun(o,[e])},e.prototype.nonMaxSuppression=function(e,t,n,r,o){u.warn("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");var a=e.dataSync(),i=t.dataSync();return b.nonMaxSuppressionImpl(a,i,n,r,o)},e.prototype.makeOutputArray=function(e,t){return g.Tensor.make(e,{},t)},e.prototype.compileAndRun=function(e,t,r,o,a){var i=this;void 0===a&&(a=!0),null==r&&(r=this.makeOutputArray(e.outputShape,t[0].dtype));var s=t.map(function(e){var t=i.texData.get(e.dataId);return null==t.texture&&e.size<=n.SIZE_UPLOAD_UNIFORM?{tensor:e,texData:null,isUniform:!0}:(i.uploadToGPU(e.dataId),{tensor:e,texData:t,isUniform:!1})});this.uploadToGPU(r.dataId);var u,l={tensor:r,texData:this.texData.get(r.dataId),isUniform:!1},c=F.makeShaderKey(e,s,l),p=this.getAndSaveBinary(c,function(){return F.compileProgram(i.gpgpu,e,s,l)}),f=null!=this.activeTimers;if(f&&(u=this.startTimer()),F.runProgram(p,s,l,o),a&&this.numBytesInGPU>this.NUM_BYTES_BEFORE_PAGING)for(var h=this.numBytesInGPU-this.NUM_BYTES_BEFORE_PAGING;h>0&&this.lruDataGPU.length>0;){var d=this.lruDataGPU.shift(),m=this.texData.get(d),g=m.shape,v=m.dtype;h-=this.computeBytes(g,v),this.read(d)}return f&&(u=this.endTimer(u),this.activeTimers.push(this.getQueryTime(u))),r},e.prototype.getAndSaveBinary=function(e,t){return e in this.binaryCache||(this.binaryCache[e]=t()),this.binaryCache[e]},e.prototype.getTextureManager=function(){return this.textureManager},e.prototype.dispose=function(){if(!this.disposed){for(var e in this.binaryCache)this.gpgpu.deleteProgram(this.binaryCache[e].webGLProgram);this.textureManager.dispose(),this.canvas.remove(),null!=this.fromPixelsCanvas&&this.fromPixelsCanvas.remove(),this.gpgpuCreatedLocally&&this.gpgpu.dispose(),this.disposed=!0}},e.prototype.throwIfNoData=function(e){if(!this.texData.has(e))throw new Error("WebGL backend: No data found for this tensor. Did you change your backend in the middle of the program? New backends can't use Tensors created with previous backends")},e.prototype.uploadToGPU=function(e){this.throwIfNoData(e);var t=this.texData.get(e),n=t.shape,r=t.values,a=t.texture,i=t.dtype,s=t.usage;if(null!=a){var u=this.lruDataGPU.indexOf(e);return void(u>=0&&(this.lruDataGPU.splice(this.lruDataGPU.indexOf(e),1),this.lruDataGPU.push(e)))}var l,c=null!=this.activeTimers;c&&(l=performance.now());var p=ce.getTextureShapeFromLogicalShape(this.gpgpu.gl,n);t.texShape=p;var f=this.acquireTexture(e,p,s);t.texture=f,null!=r&&(this.gpgpu.uploadMatrixToTexture(f,p[0],p[1],o(r,i)),t.values=null,c&&(this.uploadWaitMs+=performance.now()-l))},e.prototype.cacheOnCPU=function(e,t){var n=this.delayedStorage,o=this.texData.get(e),a=o.texture,i=o.texShape,s=o.dtype,u=o.usage;n&&null!=a&&(this.releaseTexture(e,a,i,u),o.texture=null,o.texShape=null),null!=t&&(o.values=r(t,s))},e.prototype.releaseTexture=function(e,t,n,r){var o=this.texData.get(e),a=o.shape,i=o.dtype,s=this.lruDataGPU.indexOf(e);s>=0&&this.lruDataGPU.splice(s,1),this.numBytesInGPU-=this.computeBytes(a,i),this.textureManager.releaseTexture(t,n,r)},e.prototype.acquireTexture=function(e,t,n){var r=this.texData.get(e),o=r.shape,a=r.dtype;return this.lruDataGPU.push(e),this.numBytesInGPU+=this.computeBytes(o,a),this.textureManager.acquireTexture(t,n)},e.prototype.computeBytes=function(e,t){return y.sizeFromShape(e)*y.bytesPerElement(t)},e}();n.MathBackendWebGL=he,s.ENV.get("IS_BROWSER")&&s.ENV.registerBackend("webgl",function(){return new he},2,g.setTensorTracker)},{"../environment":51,"../log":115,"../ops/array_ops_util":117,"../ops/axis_util":118,"../ops/reduce_util":141,"../ops/segment_util":146,"../ops/slice_util":149,"../ops/softmax":150,"../ops/tensor_ops":152,"../tensor":169,"../types":175,"../util":176,"./backend_util":68,"./non_max_suppression_impl":70,"./topk_impl":71,"./webgl/argminmax_gpu":72,"./webgl/avg_pool_backprop_gpu":73,"./webgl/batchnorm_gpu":74,"./webgl/binaryop_gpu":75,"./webgl/clip_gpu":76,"./webgl/concat_gpu":77,"./webgl/conv_backprop_gpu":78,"./webgl/conv_backprop_gpu_depthwise":79,"./webgl/conv_gpu":80,"./webgl/conv_gpu_depthwise":81,"./webgl/cumsum_gpu":82,"./webgl/encode_float_gpu":83,"./webgl/from_pixels_gpu":84,"./webgl/gather_gpu":85,"./webgl/gpgpu_context":86,"./webgl/gpgpu_math":87,"./webgl/gpgpu_util":88,"./webgl/lrn_gpu":89,"./webgl/lrn_grad_gpu":90,"./webgl/max_pool_backprop_gpu":91,"./webgl/mulmat_gpu":92,"./webgl/multinomial_gpu":93,"./webgl/onehot_gpu":94,"./webgl/pad_gpu":95,"./webgl/pool_gpu":96,"./webgl/reduce_gpu":97,"./webgl/resize_bilinear_backprop_gpu":98,"./webgl/resize_bilinear_gpu":99,"./webgl/resize_nearest_neighbor_backprop_gpu":100,"./webgl/resize_nearest_neighbor_gpu":101,"./webgl/reverse_gpu":102,"./webgl/segment_gpu":103,"./webgl/select_gpu":104,"./webgl/slice_gpu":106,"./webgl/strided_slice_gpu":107,"./webgl/tex_util":108,"./webgl/texture_manager":109,"./webgl/tile_gpu":110,"./webgl/transpose_gpu":111,"./webgl/unaryop_gpu":112,"./webgl/webgl_util":113,"./where_impl":114}],70:[function(e,t,n){"use strict";function r(e,t,n,r,i){for(var s=Array.from(t).map(function(e,t){return{score:e,boxIndex:t}}).filter(function(e){return e.score>i}).sort(function(e,t){return t.score-e.score}),u=[],l=0;l<s.length;l++){var c=s[l],p=c.score,f=c.boxIndex;if(p<i)break;for(var h=!1,d=u.length-1;d>=0;--d){var m=o(e,f,u[d]);if(m>=r){h=!0;break}}if(!h&&(u.push(f),u.length>=n))break}return a.tensor1d(u,"int32")}function o(e,t,n){var r=e.subarray(4*t,4*t+4),o=e.subarray(4*n,4*n+4),a=Math.min(r[0],r[2]),i=Math.min(r[1],r[3]),s=Math.max(r[0],r[2]),u=Math.max(r[1],r[3]),l=Math.min(o[0],o[2]),c=Math.min(o[1],o[3]),p=Math.max(o[0],o[2]),f=Math.max(o[1],o[3]),h=(s-a)*(u-i),d=(p-l)*(f-c);if(h<=0||d<=0)return 0;var m=Math.max(a,l),g=Math.max(i,c),v=Math.min(s,p),y=Math.min(u,f),x=Math.max(v-m,0)*Math.max(y-g,0);return x/(h+d-x)}Object.defineProperty(n,"__esModule",{value:!0});var a=e("../ops/tensor_ops");n.nonMaxSuppressionImpl=r},{"../ops/tensor_ops":152}],71:[function(e,t,n){"use strict";function r(e,t,n,r,i){for(var s=t[t.length-1],u=[e.length/s,s],l=u[0],c=u[1],p=a.getTypedArrayFromDType(n,l*r),f=a.getTypedArrayFromDType("int32",l*r),h=0;h<l;h++){for(var d=h*c,m=e.subarray(d,d+c),g=[],v=0;v<m.length;v++)g.push({value:m[v],index:v});g.sort(function(e,t){return t.value-e.value});for(var y=h*r,x=p.subarray(y,y+r),b=f.subarray(y,y+r),v=0;v<r;v++)x[v]=g[v].value,b[v]=g[v].index}var _=t.slice();return _[_.length-1]=r,[o.tensor(p,_,n),o.tensor(f,_,"int32")]}Object.defineProperty(n,"__esModule",{value:!0});var o=e("../ops/tensor_ops"),a=e("../util");n.topkImpl=r},{"../ops/tensor_ops":152,"../util":176}],72:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t,n){this.variableNames=["A"];var r=e.windowSize,o=e.batchSize,a=e.inSize,i=Math.ceil(a/r);n||this.variableNames.push("bestIndicesA"),this.outputShape=[o,i];var s="max"===t?">":"<",u=n?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * "+r+";\n\n        int bestIndex = 0;\n        float bestValue = getA(batch, inOffset);\n\n        for (int i = 0; i < "+r+"; i++) {\n          int inIdx = "+u+";\n          float candidate = getA(batch, inIdx);\n          if (candidate "+s+" bestValue) {\n            bestValue = candidate;\n            bestIndex = inIdx;\n          }\n        }\n        setOutput(float(bestIndex));\n      }\n    "}return e}();n.ArgMinMaxProgram=r},{}],73:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e){this.variableNames=["dy"],this.outputShape=e.inShape;var t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,o=e.strideWidth,a=t-1-e.padInfo.top,i=n-1-e.padInfo.left,s=1/(t*n);this.userCode="\n      const ivec2 pads = ivec2("+a+", "+i+");\n      const float avgMultiplier = float("+s+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+t+"; wR++) {\n          float dyR = float(dyRCorner + wR) / "+r+".0;\n\n          if (dyR < 0.0 || dyR >= "+e.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < "+n+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+o+".0;\n\n            if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n\n            dotProd += dyValue * avgMultiplier;\n          }\n        }\n        setOutput(dotProd);\n      }\n    "}return e}();n.AvgPool2DBackpropProgram=r},{}],74:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../ops/broadcast_util"),o=function(){function e(e,t,n,o,a,i){this.outputShape=[],this.supportsBroadcasting=!0,this.variableNames=["x","mean","variance"],r.assertAndGetBroadcastShape(e,t),r.assertAndGetBroadcastShape(e,n);var s="0.0";null!=o&&(r.assertAndGetBroadcastShape(e,o),this.variableNames.push("offset"),s="getOffsetAtOutCoords()");var u="1.0";null!=a&&(r.assertAndGetBroadcastShape(e,a),this.variableNames.push("scale"),u="getScaleAtOutCoords()"),this.outputShape=e,this.userCode="\n      void main() {\n        float x = getXAtOutCoords();\n        float mean = getMeanAtOutCoords();\n        float variance = getVarianceAtOutCoords();\n        float offset = "+s+";\n        float scale = "+u+";\n        float inv = scale * inversesqrt(variance + float("+i+"));\n        setOutput((x - mean) * inv + offset);\n      }\n    "}return e}();n.BatchNormProgram=o},{"../../ops/broadcast_util":121}],75:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../ops/broadcast_util"),o="\n  if (isNaN(a)) return a;\n  if (isNaN(b)) return b;\n";n.ADD="return a + b;",n.SUB="return a - b;",n.MUL="return a * b;",n.DIV="if (a == b) return 1.0;\n  return a / b;",n.INT_DIV="\n  float resultSign = sign(a) * sign(b);\n  int ia = round(a);\n  int ib = round(b);\n  int result = ia / ib;\n  int amodb = ia - ib * result;\n\n  if (resultSign < 0.0 && amodb != 0) {\n    result -= 1;\n  }\n  return float(result);\n",n.POW="\nif(a < 0.0 && floor(b) < b){\n  return NAN;\n}\nreturn (round(mod(b, 2.0)) == 0 || round(mod(b, 2.0)) == 2) ?\n    pow(abs(a), b) : sign(a) * pow(abs(a), b);\n",n.SQUARED_DIFFERENCE="return (a - b) * (a - b);",n.EQUAL="return float(a == b);",n.NOT_EQUAL="return float(a != b);",
n.LESS="return float(a < b);",n.LESS_EQUAL="return float(a <= b);",n.GREATER="return float(a > b);",n.GREATER_EQUAL="return float(a >= b);",n.LOGICAL_AND="return float(a >= 1.0 && b >= 1.0);",n.LOGICAL_OR="return float(a >= 1.0 || b >= 1.0);",n.MAX=o+"\n  return max(a, b);\n",n.MIN=o+"\n  return min(a, b);\n",n.MOD="if (b == 0.0) return NAN;\n  return mod(a, b);",n.ATAN2=o+"\n  return atan(a, b);\n",n.ELU_DER="return (b >= 1.0) ? a : a * (b + 1.0);";var a=function(){function e(e,t,n){this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.outputShape=r.assertAndGetBroadcastShape(t,n),this.userCode="\n      uniform float NAN;\n      float binaryOperation(float a, float b) {\n        "+e+"\n      }\n\n      void main() {\n        float a = getAAtOutCoords();\n        float b = getBAtOutCoords();\n        setOutput(binaryOperation(a, b));\n      }\n    "}return e.prototype.getCustomSetupFunc=function(){var e=this;return function(t,n){null==e.startLoc&&(e.startLoc=t.getUniformLocationNoThrow(n,"NAN"),null==e.startLoc)||t.gl.uniform1f(e.startLoc,NaN)}},e}();n.BinaryOpProgram=a},{"../../ops/broadcast_util":121}],76:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t,n){this.variableNames=["A"],this.outputShape=e;var r=t.toFixed(20),o=n.toFixed(20);this.userCode="\n      void main() {\n        float value = getAAtOutCoords();\n        if (isNaN(value)) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, "+r+", "+o+"));\n      }\n    "}return e}();n.ClipProgram=r},{}],77:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../ops/concat_util"),o=function(){function e(e,t){this.variableNames=["A","B"],this.outputShape=[],this.outputShape=r.computeOutShape(e,t,1),this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int yR = coords.x;\n        int yC = coords.y;\n\n        float value = 0.0;\n        if (yC < "+e[1]+") {\n          value = getA(yR, yC);\n        } else {\n          yC -= "+e[1]+";\n          value = getB(yR, yC);\n        }\n\n        setOutput(value);\n      }\n    "}return e}();n.ConcatProgram=o},{"../../ops/concat_util":124}],78:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;var t=e.strideHeight,n=e.strideWidth,r=e.padInfo.top,o=e.padInfo.left;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int d2 = coords.w;\n\n        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int b = 0; b < "+e.batchSize+"; b++) {\n          for (int yR = 0; yR < "+e.outHeight+"; yR++) {\n            int xR = wR + yR * "+t+" - "+r+";\n\n            if (xR < 0 || xR >= "+e.inHeight+") {\n              continue;\n            }\n\n            for (int yC = 0; yC < "+e.outWidth+"; yC++) {\n              int xC = wC + yC * "+n+" - "+o+";\n\n              if (xC < 0 || xC >= "+e.inWidth+") {\n                continue;\n              }\n\n              float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "}return e}();n.Conv2DDerFilterProgram=r;var o=function(){function e(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;var t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,o=e.strideWidth,a=t-1-e.padInfo.top,i=n-1-e.padInfo.left;this.userCode="\n      const ivec2 pads = ivec2("+a+", "+i+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n\n        ivec2 dyCorner = coords.yz - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+t+"; wR++) {\n          float dyR = float(dyRCorner + wR) / "+r+".0;\n\n          if (dyR < 0.0 || dyR >= "+e.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = "+t+" - 1 - wR;\n\n          for (int wC = 0; wC < "+n+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+o+".0;\n\n            if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = "+n+" - 1 - wC;\n\n            for (int d2 = 0; d2 < "+e.outChannels+"; d2++) {\n              float xValue = getDy(batch, idyR, idyC, d2);\n              float wValue = getW(wRPerm, wCPerm, d1, d2);\n              dotProd += xValue * wValue;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "}return e}();n.Conv2DDerInputProgram=o},{}],79:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;var t=e.strideHeight,n=e.strideWidth,r=e.padInfo.top,o=e.padInfo.left,a=e.outChannels/e.inChannels;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int dm = coords.w;\n        int d2 = d1 * "+a+" + dm;\n\n        float dotProd = 0.0;\n\n        // TODO: Vec4 over the batch size\n        for (int b = 0; b < "+e.batchSize+"; b++) {\n          for (int yR = 0; yR < "+e.outHeight+"; yR++) {\n            int xR = wR + yR * "+t+" - "+r+";\n\n            if (xR < 0 || xR >= "+e.inHeight+") {\n              continue;\n            }\n\n            for (int yC = 0; yC < "+e.outWidth+"; yC++) {\n              int xC = wC + yC * "+n+" - "+o+";\n\n              if (xC < 0 || xC >= "+e.inWidth+") {\n                continue;\n              }\n\n              float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "}return e}();n.DepthwiseConv2DDerFilterProgram=r;var o=function(){function e(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;var t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,o=e.strideWidth,a=t-1-e.padInfo.top,i=n-1-e.padInfo.left,s=e.outChannels/e.inChannels;this.userCode="\n      const ivec2 pads = ivec2("+a+", "+i+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n        ivec2 dyCorner = coords.yz - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        float dotProd = 0.0;\n\n        for (int wR = 0; wR < "+t+"; wR++) {\n          float dyR = float(dyRCorner + wR) / "+r+".0;\n\n          if (dyR < 0.0 || dyR >= "+e.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = "+t+" - 1 - wR;\n\n          for (int wC = 0; wC < "+n+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+o+".0;\n\n            if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = "+n+" - 1 - wC;\n\n            // TODO: Vec4 over the channelMul\n            for (int dm = 0; dm < "+s+"; dm++) {\n              int d2 = d1 * "+s+" + dm;\n              float xValue = getDy(batch, idyR, idyC, d2);\n              float wValue = getW(wRPerm, wCPerm, d1, dm);\n              dotProd += xValue * wValue;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "}return e}();n.DepthwiseConv2DDerInputProgram=o},{}],80:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e){this.variableNames=["x","W"],this.outputShape=e.outShape;var t=e.padInfo.top,n=e.padInfo.left,r=e.strideHeight,o=e.strideWidth,a=e.dilationHeight,i=e.dilationWidth,s=e.filterHeight,u=e.filterWidth,l=4*Math.floor(e.inChannels/4),c=e.inChannels%4;this.userCode="\n      const ivec2 strides = ivec2("+r+", "+o+");\n      const ivec2 pads = ivec2("+t+", "+n+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d2 = coords[3];\n\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+s+"; wR++) {\n          int xR = xRCorner + wR * "+a+";\n\n          if (xR < 0 || xR >= "+e.inHeight+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+u+"; wC++) {\n            int xC = xCCorner + wC * "+i+";\n\n            if (xC < 0 || xC >= "+e.inWidth+") {\n              continue;\n            }\n\n            for (int d1 = 0; d1 < "+l+"; d1 += 4) {\n              vec4 xValues = vec4(\n                getX(batch, xR, xC, d1),\n                getX(batch, xR, xC, d1 + 1),\n                getX(batch, xR, xC, d1 + 2),\n                getX(batch, xR, xC, d1 + 3)\n              );\n              vec4 wValues = vec4(\n                getW(wR, wC, d1, d2),\n                getW(wR, wC, d1 + 1, d2),\n                getW(wR, wC, d1 + 2, d2),\n                getW(wR, wC, d1 + 3, d2)\n              );\n\n              dotProd += dot(xValues, wValues);\n            }\n\n            if ("+(1===c)+") {\n              dotProd +=\n                getX(batch, xR, xC, "+l+") *\n                getW(wR, wC, "+l+", d2);\n            } else if ("+(2===c)+") {\n              vec2 xValues = vec2(\n                getX(batch, xR, xC, "+l+"),\n                getX(batch, xR, xC, "+l+" + 1)\n              );\n              vec2 wValues = vec2(\n                getW(wR, wC, "+l+", d2),\n                getW(wR, wC, "+l+" + 1, d2)\n              );\n              dotProd += dot(xValues, wValues);\n            } else if ("+(3===c)+") {\n              vec3 xValues = vec3(\n                getX(batch, xR, xC, "+l+"),\n                getX(batch, xR, xC, "+l+" + 1),\n                getX(batch, xR, xC, "+l+" + 2)\n              );\n              vec3 wValues = vec3(\n                getW(wR, wC, "+l+", d2),\n                getW(wR, wC, "+l+" + 1, d2),\n                getW(wR, wC, "+l+" + 2, d2)\n              );\n              dotProd += dot(xValues, wValues);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "}return e}();n.Conv2DProgram=r},{}],81:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e){this.variableNames=["x","W"],this.outputShape=e.outShape;var t=e.inHeight,n=e.inWidth,r=e.padInfo.top,o=e.padInfo.left,a=e.strideHeight,i=e.strideWidth,s=e.dilationHeight,u=e.dilationWidth,l=e.filterHeight,c=e.filterWidth,p=e.outChannels/e.inChannels;this.userCode="\n      const ivec2 strides = ivec2("+a+", "+i+");\n      const ivec2 pads = ivec2("+r+", "+o+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / "+p+";\n        int q = d2 - d1 * "+p+";\n\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        // TODO(dsmilkov): Flatten the two for loops and vec4 the operations.\n        for (int wR = 0; wR < "+l+"; wR++) {\n          int xR = xRCorner + wR * "+s+";\n\n          if (xR < 0 || xR >= "+t+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+c+"; wC++) {\n            int xC = xCCorner + wC * "+u+";\n\n            if (xC < 0 || xC >= "+n+") {\n              continue;\n            }\n\n            float xVal = getX(batch, xR, xC, d1);\n            float wVal = getW(wR, wC, d1, q);\n            dotProd += xVal * wVal;\n          }\n        }\n        setOutput(dotProd);\n      }\n    "}return e}();n.DepthwiseConv2DProgram=r},{}],82:[function(e,t,n){"use strict";function r(e,t){if(1===e)return""+t;if(2===e)return t+".x, "+t+".y";if(3===e)return t+".x, "+t+".y, "+t+".z";if(4===e)return t+".x, "+t+".y, "+t+".z, "+t+".w";throw Error("Cumulative sum for rank "+e+" is not yet supported")}function o(e,t){if(1===e)return""+t;if(2===e)return t+".y";if(3===e)return t+".z";if(4===e)return t+".w";throw Error("Cumulative sum for rank "+e+" is not yet supported")}Object.defineProperty(n,"__esModule",{value:!0});var a=e("./shader_compiler"),i=function(){function e(e,t,n){this.variableNames=["x"],this.outputShape=e;var i=e.length,s=e[e.length-1],u=n?"<":">";this.userCode="\n      int getIndex(int i) {\n        "+(n?"return "+s+" -i - 1;":"return i;")+"\n      }\n\n      void main() {\n        "+a.getCoordsDataType(i)+" coords = getOutputCoords();\n        int end = "+o(i,"coords")+";\n        float val = 0.0;\n        for (int i = "+s+" - 1; i >= 0; i -= 1) {\n          int idx = getIndex(i);\n          if (idx "+u+" end) {\n            continue;\n          }\n          if (idx == end && "+t+") {\n            continue;\n          }\n          "+o(i,"coords")+" = idx;\n          val += getX("+r(i,"coords")+");\n        }\n        setOutput(val);\n      }\n    "}return e}();n.CumSumProgram=i},{"./shader_compiler":105}],83:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e){this.variableNames=["A"],this.outputShape=e,this.userCode="\n      const float FLOAT_MAX = 1.70141184e38;\n      const float FLOAT_MIN = 1.17549435e-38;\n\n      lowp vec4 encode_float(highp float v) {\n        if (isNaN(v)) {\n          return vec4(255, 255, 255, 255);\n        }\n\n        highp float av = abs(v);\n\n        if(av < FLOAT_MIN) {\n          return vec4(0.0, 0.0, 0.0, 0.0);\n        } else if(v > FLOAT_MAX) {\n          return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\n        } else if(v < -FLOAT_MAX) {\n          return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;\n        }\n\n        highp vec4 c = vec4(0,0,0,0);\n\n        highp float e = floor(log2(av));\n        highp float m = exp2(fract(log2(av))) - 1.0;\n\n        c[2] = floor(128.0 * m);\n        m -= c[2] / 128.0;\n        c[1] = floor(32768.0 * m);\n        m -= c[1] / 32768.0;\n        c[0] = floor(8388608.0 * m);\n\n        highp float ebias = e + 127.0;\n        c[3] = floor(ebias / 2.0);\n        ebias -= c[3] * 2.0;\n        c[2] += floor(ebias) * 128.0;\n\n        c[3] += 128.0 * step(0.0, -v);\n\n        return c / 255.0;\n      }\n\n      void main() {\n        float x = getAAtOutCoords();\n        gl_FragColor = encode_float(x);\n      }\n    "}return e}();n.EncodeFloatProgram=r},{}],84:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e){this.variableNames=["A"];var t=e[0],n=e[1];this.outputShape=e,this.userCode="\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2("+n+".0, "+t+".0);\n\n        vec4 values = texture2D(A, uv);\n        float value;\n        if (depth == 0) {\n          value = values.r;\n        } else if (depth == 1) {\n          value = values.g;\n        } else if (depth == 2) {\n          value = values.b;\n        } else if (depth == 3) {\n          value = values.a;\n        }\n\n        setOutput(floor(value * 255.0 + 0.5));\n      }\n    "}return e}();n.FromPixelsProgram=r},{}],85:[function(e,t,n){"use strict";function r(e,t){var n=e.length;if(n>4)throw Error("Gather for rank "+n+" is not yet supported");if(1===n)return"int(getIndices(resRC))";for(var r=["resRC.x","resRC.y","resRC.z","resRC.w"],o=[],a=0;a<e.length;a++)a===t?o.push("int(getIndices("+r[a]+"))"):o.push(""+r[a]);return o.join()}Object.defineProperty(n,"__esModule",{value:!0});var o=e("./shader_compiler"),a=function(){function e(e,t,n){this.variableNames=["A","indices"];var a=e.slice();a[n]=t,this.outputShape=a,this.rank=a.length;var i=o.getCoordsDataType(this.rank),s=r(e,n);this.userCode="\n      void main() {\n        "+i+" resRC = getOutputCoords();\n        setOutput(getA("+s+"));\n      }\n    "}return e}();n.GatherProgram=a},{"./shader_compiler":105}],86:[function(e,t,n){"use strict";function r(e){for(var t=0,n=e.length-1,r=-1;t<=n;){var o=t+n>>1,a=e[o]();a?(r=o,t=o+1):n=o-1}return r}var o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,s)}u((r=r.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,a&&(i=2&n[0]?a.return:n[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,n[1])).done)return i;switch(a=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,a=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(i=u.trys,!(i=i.length>0&&i[i.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){u.label=n[1];break}if(6===n[0]&&u.label<i[1]){u.label=i[1],i=n;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(n);break}i[2]&&u.ops.pop(),u.trys.pop();continue}n=t.call(e,u)}catch(e){n=[6,e],a=0}finally{o=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,a,i,s,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../environment"),s=e("../../util"),u=e("./gpgpu_util"),l=e("./tex_util"),c=e("./webgl_util"),p=function(){function e(e){this.outputTexture=null,this.program=null,this.disposed=!1,this.autoDebugValidate=!1,this.vertexAttrsAreBound=!1,this.itemsToPoll=[],null!=e?this.gl=e:this.gl=u.createWebGLContext(),1===i.ENV.get("WEBGL_VERSION")?(this.textureFloatExtension=c.getExtensionOrThrow(this.gl,"OES_texture_float"),this.colorBufferFloatExtension=this.gl.getExtension("WEBGL_color_buffer_float"),i.ENV.get("WEBGL_RENDER_FLOAT32_ENABLED")||(this.textureHalfFloatExtension=c.getExtensionOrThrow(this.gl,"OES_texture_half_float"),this.colorBufferHalfFloatExtension=this.gl.getExtension("EXT_color_buffer_half_float"))):this.colorBufferFloatExtension=c.getExtensionOrThrow(this.gl,"EXT_color_buffer_float"),this.loseContextExtension=c.getExtensionOrThrow(this.gl,"WEBGL_lose_context"),this.vertexBuffer=u.createVertexBuffer(this.gl),this.indexBuffer=u.createIndexBuffer(this.gl),this.framebuffer=c.createFramebuffer(this.gl),this.textureConfig=u.getTextureConfig(this.gl,this.textureHalfFloatExtension)}return e.prototype.dispose=function(){var e=this;if(!this.disposed){null!=this.program&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),null!=this.outputTexture&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");var t=this.gl;c.callAndCheck(t,function(){return t.finish()}),c.callAndCheck(t,function(){return t.bindFramebuffer(t.FRAMEBUFFER,null)}),c.callAndCheck(t,function(){return t.deleteFramebuffer(e.framebuffer)}),c.callAndCheck(t,function(){return t.bindBuffer(t.ARRAY_BUFFER,null)}),c.callAndCheck(t,function(){return t.deleteBuffer(e.vertexBuffer)}),c.callAndCheck(t,function(){return t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null)}),c.callAndCheck(t,function(){return t.deleteBuffer(e.indexBuffer)}),this.loseContextExtension.loseContext(),this.disposed=!0}},e.prototype.enableAutomaticDebugValidation=function(e){this.autoDebugValidate=e,c.enableDebugWebGLErrorChecking(e)},e.prototype.createFloat32MatrixTexture=function(e,t){return this.throwIfDisposed(),u.createFloat32MatrixTexture(this.gl,e,t,this.textureConfig)},e.prototype.createFloat16MatrixTexture=function(e,t){return this.throwIfDisposed(),u.createFloat16MatrixTexture(this.gl,e,t,this.textureConfig)},e.prototype.createUnsignedBytesMatrixTexture=function(e,t){return this.throwIfDisposed(),u.createUnsignedBytesMatrixTexture(this.gl,e,t,this.textureConfig)},e.prototype.uploadPixelDataToTexture=function(e,t){this.throwIfDisposed(),u.uploadPixelDataToTexture(this.gl,e,t)},e.prototype.createPackedMatrixTexture=function(e,t){return this.throwIfDisposed(),u.createPackedMatrixTexture(this.gl,e,t,this.textureConfig)},e.prototype.deleteMatrixTexture=function(e){var t=this;this.throwIfDisposed(),this.outputTexture===e&&(c.unbindColorTextureFromFramebuffer(this.gl,this.framebuffer),this.outputTexture=null),c.callAndCheck(this.gl,function(){return t.gl.deleteTexture(e)})},e.prototype.uploadMatrixToTexture=function(e,t,n,r){this.throwIfDisposed();var o=c.getNumChannels();return u.uploadMatrixToTexture(this.gl,e,t,n,r,o,this.textureConfig)},e.prototype.uploadMatrixToPackedTexture=function(e,t,n,r){return this.throwIfDisposed(),u.uploadMatrixToPackedTexture(this.gl,e,t,n,r,this.textureConfig)},e.prototype.downloadFloat32MatrixFromOutputTexture=function(e,t,n){var r=this;return this.downloadMatrixDriver(e,function(){return u.downloadFloat32MatrixFromOutputTexture(r.gl,t,n,r.textureConfig)})},e.prototype.downloadByteEncodedFloatMatrixFromOutputTexture=function(e,t,n){var r=this;return this.downloadMatrixDriver(e,function(){return u.downloadByteEncodedFloatMatrixFromOutputTexture(r.gl,t,n,r.textureConfig)})},e.prototype.downloadFloat32MatrixFromBuffer=function(e,t,n){return u.downloadFloat32MatrixFromBuffer(this.gl,e,t,n,this.textureConfig)},e.prototype.maybeCreateBufferFromTexture=function(e,t,n){this.bindTextureToFrameBuffer(e);var r=u.maybeCreateBufferFromOutputTexture(this.gl,e,t,n,this.textureConfig);return this.unbindTextureToFrameBuffer(),r},e.prototype.createAndWaitForFence=function(){var e=this.createFence(this.gl);return this.pollFence(e)},e.prototype.createFence=function(e){var t,n,r=this;if(i.ENV.get("WEBGL_FENCE_API_ENABLED")){var o=e,a=o.fenceSync(o.SYNC_GPU_COMMANDS_COMPLETE,0);e.flush(),n=function(){var e=o.clientWaitSync(a,0,0);return e===o.ALREADY_SIGNALED||e===o.CONDITION_SATISFIED},t=a}else i.ENV.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(t=this.beginQuery(),this.endQuery(),n=function(){return r.isQueryAvailable(t,i.ENV.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}):n=function(){return!0};return{query:t,isFencePassed:n}},e.prototype.downloadMatrixFromPackedTexture=function(e,t,n){var r=this;return this.downloadMatrixDriver(e,function(){return u.downloadMatrixFromPackedOutputTexture(r.gl,t,n,r.textureConfig)})},e.prototype.createProgram=function(e){this.throwIfDisposed();var t=this.gl,n=c.createFragmentShader(t,e),r=u.createVertexShader(t),o=c.createProgram(t);return c.callAndCheck(t,function(){return t.attachShader(o,r)}),c.callAndCheck(t,function(){return t.attachShader(o,n)}),c.linkProgram(t,o),this.autoDebugValidate&&c.validateProgram(t,o),this.vertexAttrsAreBound||(this.setProgram(o),this.vertexAttrsAreBound=u.bindVertexProgramAttributeStreams(t,this.program,this.vertexBuffer)),o},e.prototype.deleteProgram=function(e){var t=this;this.throwIfDisposed(),e===this.program&&(this.program=null),null!=e&&c.callAndCheck(this.gl,function(){return t.gl.deleteProgram(e)})},e.prototype.setProgram=function(e){var t=this;this.throwIfDisposed(),this.program=e,null!=this.program&&this.autoDebugValidate&&c.validateProgram(this.gl,this.program),c.callAndCheck(this.gl,function(){return t.gl.useProgram(e)})},e.prototype.getUniformLocation=function(e,t,n){return void 0===n&&(n=!0),this.throwIfDisposed(),n?c.getProgramUniformLocationOrThrow(this.gl,e,t):c.getProgramUniformLocation(this.gl,e,t)},e.prototype.getAttributeLocation=function(e,t){var n=this;return this.throwIfDisposed(),c.callAndCheck(this.gl,function(){return n.gl.getAttribLocation(e,t)})},e.prototype.getUniformLocationNoThrow=function(e,t){return this.throwIfDisposed(),this.gl.getUniformLocation(e,t)},e.prototype.setInputMatrixTexture=function(e,t,n){this.throwIfDisposed(),this.throwIfNoProgram(),c.bindTextureToProgramUniformSampler(this.gl,this.program,e,t,n)},e.prototype.setOutputMatrixTexture=function(e,t,n){this.setOutputMatrixTextureDriver(e,n,t)},e.prototype.setOutputPackedMatrixTexture=function(e,t,n){this.throwIfDisposed();var r=l.getPackedMatrixTextureShapeWidthHeight(t,n),o=r[0],a=r[1];this.setOutputMatrixTextureDriver(e,o,a)},e.prototype.setOutputMatrixWriteRegion=function(e,t,n,r){this.setOutputMatrixWriteRegionDriver(n,e,r,t)},e.prototype.setOutputPackedMatrixWriteRegion=function(e,t,n,r){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")},e.prototype.debugValidate=function(){null!=this.program&&c.validateProgram(this.gl,this.program),c.validateFramebuffer(this.gl)},e.prototype.executeProgram=function(){this.throwIfDisposed(),this.throwIfNoProgram();var e=this.gl;this.autoDebugValidate&&this.debugValidate(),c.callAndCheck(e,function(){return e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0)})},e.prototype.blockUntilAllProgramsCompleted=function(){var e=this;this.throwIfDisposed(),c.callAndCheck(this.gl,function(){return e.gl.finish()})},e.prototype.getQueryTimerExtension=function(){return null==this.disjointQueryTimerExtension&&(this.disjointQueryTimerExtension=c.getExtensionOrThrow(this.gl,2===i.ENV.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension},e.prototype.getQueryTimerExtensionWebGL2=function(){return this.getQueryTimerExtension()},e.prototype.getQueryTimerExtensionWebGL1=function(){return this.getQueryTimerExtension()},e.prototype.beginQuery=function(){if(2===i.ENV.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){var e=this.gl,t=this.getQueryTimerExtensionWebGL2(),n=e.createQuery();return e.beginQuery(t.TIME_ELAPSED_EXT,n),n}var r=this.getQueryTimerExtensionWebGL1(),o=r.createQueryEXT();return r.beginQueryEXT(r.TIME_ELAPSED_EXT,o),o},e.prototype.endQuery=function(){if(2===i.ENV.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){var e=this.gl,t=this.getQueryTimerExtensionWebGL2();return void e.endQuery(t.TIME_ELAPSED_EXT)}var n=this.getQueryTimerExtensionWebGL1();n.endQueryEXT(n.TIME_ELAPSED_EXT)},e.prototype.waitForQueryAndGetTime=function(e){return o(this,void 0,void 0,function(){var t=this;return a(this,function(n){switch(n.label){case 0:return[4,s.repeatedTry(function(){return t.isQueryAvailable(e,i.ENV.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))})];case 1:return n.sent(),[2,this.getQueryTime(e,i.ENV.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))]}})})},e.prototype.getQueryTime=function(e,t){if(0===t)return null;if(2===t){var n=this.gl,r=n.getQueryParameter(e,n.QUERY_RESULT);return r/1e6}var o=this.getQueryTimerExtensionWebGL1(),r=o.getQueryObjectEXT(e,o.QUERY_RESULT_EXT);return r/1e6},e.prototype.isQueryAvailable=function(e,t){if(0===t)return!0;if(2===t){var n=this.gl,r=this.getQueryTimerExtensionWebGL2(),o=n.getQueryParameter(e,n.QUERY_RESULT_AVAILABLE);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(r.GPU_DISJOINT_EXT)),o&&!this.disjoint}var r=this.getQueryTimerExtensionWebGL1(),o=r.getQueryObjectEXT(e,r.QUERY_RESULT_AVAILABLE_EXT);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(r.GPU_DISJOINT_EXT)),o&&!this.disjoint},e.prototype.pollFence=function(e){var t=this;return new Promise(function(n){t.addItemToPoll(function(){return e.isFencePassed()},function(){return n()})})},e.prototype.pollItems=function(){for(var e=r(this.itemsToPoll.map(function(e){return e.isDoneFn})),t=0;t<=e;++t){var n=this.itemsToPoll[t].resolveFn;n()}this.itemsToPoll=this.itemsToPoll.slice(e+1)},e.prototype.addItemToPoll=function(e,t){var n=this;this.itemsToPoll.push({isDoneFn:e,resolveFn:t}),this.itemsToPoll.length>1||s.repeatedTry(function(){return n.pollItems(),0===n.itemsToPoll.length})},e.prototype.bindTextureToFrameBuffer=function(e){this.throwIfDisposed(),c.bindColorTextureToFramebuffer(this.gl,e,this.framebuffer),this.autoDebugValidate&&c.validateFramebuffer(this.gl)},e.prototype.unbindTextureToFrameBuffer=function(){null!=this.outputTexture?(c.bindColorTextureToFramebuffer(this.gl,this.outputTexture,this.framebuffer),this.autoDebugValidate&&c.validateFramebuffer(this.gl)):c.unbindColorTextureFromFramebuffer(this.gl,this.framebuffer)},e.prototype.downloadMatrixDriver=function(e,t){this.bindTextureToFrameBuffer(e);var n=t();return this.unbindTextureToFrameBuffer(),n},e.prototype.setOutputMatrixTextureDriver=function(e,t,n){this.throwIfDisposed();var r=this.gl;c.bindColorTextureToFramebuffer(r,e,this.framebuffer),this.autoDebugValidate&&c.validateFramebuffer(r),this.outputTexture=e,c.callAndCheck(r,function(){return r.viewport(0,0,t,n)}),c.callAndCheck(r,function(){return r.scissor(0,0,t,n)})},e.prototype.setOutputMatrixWriteRegionDriver=function(e,t,n,r){var o=this;this.throwIfDisposed(),c.callAndCheck(this.gl,function(){return o.gl.scissor(e,t,n,r)})},e.prototype.throwIfDisposed=function(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")},e.prototype.throwIfNoProgram=function(){if(null==this.program)throw new Error("No GPU program is currently set.")},e}();n.GPGPUContext=p,n.binSearchLastTrue=r},{"../../environment":51,"../../util":176,"./gpgpu_util":88,"./tex_util":108,"./webgl_util":113}],87:[function(e,t,n){"use strict";function r(e,t,n,r){for(var o=t.userCode,a=n.map(function(e,n){var r={logicalShape:e.tensor.shape,texShape:e.isUniform?null:e.texData.texShape,isUniform:e.isUniform};return{name:t.variableNames[n],shapeInfo:r}}),i=a.map(function(e){return e.shapeInfo}),s={logicalShape:r.tensor.shape,texShape:r.texData.texShape,isUniform:!1},l=u.makeShader(a,s,o,t.supportsBroadcasting===!0),c=e.createProgram(l),p={},f=0;f<t.variableNames.length;f++){var h=t.variableNames[f],d=!1;p[h]=e.getUniformLocation(c,h,d)}return{program:t,source:l,webGLProgram:c,uniformLocations:p,gpgpu:e,inShapeInfos:i,outShapeInfo:s}}function o(e,t){if(e.length!==t.length)throw Error("Binary was compiled with "+e.length+" inputs, but "+("was executed with "+t.length+" inputs"));e.forEach(function(e,n){var r=e.logicalShape,o=t[n],a=o.tensor.shape;if(!s.arraysEqual(r,a))throw Error("Binary was compiled with different shapes than "+("the current args. Shapes "+r+" and "+a+" must match"));if(!e.isUniform||!o.isUniform){var i=e.texShape,u=o.isUniform?null:o.texData.texShape;if(!s.arraysEqual(i,u))throw Error("Binary was compiled with different texture shapes than the"+(" current args. Shape "+i+" and "+u+" must match"))}})}function a(e,t,n,r){o(e.inShapeInfos,t),o([e.outShapeInfo],[n]);var a=n.texData.texture,i=n.texData.texShape,s=e.gpgpu;s.setOutputMatrixTexture(a,i[0],i[1]),s.setProgram(e.webGLProgram),t.forEach(function(t,n){
var r=e.program.variableNames[n],o=e.uniformLocations[r];if(null!=o){if(t.isUniform){if(1===t.tensor.size)s.gl.uniform1f(o,t.tensor.dataSync()[0]);else{var a=t.tensor.dataSync();a instanceof Float32Array||(a=new Float32Array(a)),s.gl.uniform1fv(o,a)}return}var i=t.texData.texture;s.setInputMatrixTexture(i,o,n)}}),null!=r&&r(s,e.webGLProgram),s.executeProgram()}function i(e,t,n){var r="";t.concat(n).forEach(function(e){r+=e.tensor.shape+"_"+(e.isUniform?"uniform":e.texData.texShape)});var o=e.userCode,a=(e.supportsBroadcasting===!0).toString(),i=e.constructor.name;return i+="_"+a+"_"+r+"_"+o}Object.defineProperty(n,"__esModule",{value:!0});var s=e("../../util"),u=e("./shader_compiler");n.compileProgram=r,n.runProgram=a,n.makeShaderKey=i},{"../../util":176,"./shader_compiler":105}],88:[function(e,t,n){"use strict";function r(){return{alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0}}function o(e){var t,n=r();return t=null!=e?S.createWebGLRenderingContextFromCanvas(e,n):S.createWebGLRenderingContext(n),S.callAndCheck(t,function(){return t.disable(t.DEPTH_TEST)}),S.callAndCheck(t,function(){return t.disable(t.STENCIL_TEST)}),S.callAndCheck(t,function(){return t.disable(t.BLEND)}),S.callAndCheck(t,function(){return t.disable(t.DITHER)}),S.callAndCheck(t,function(){return t.disable(t.POLYGON_OFFSET_FILL)}),S.callAndCheck(t,function(){return t.disable(t.SAMPLE_COVERAGE)}),S.callAndCheck(t,function(){return t.enable(t.SCISSOR_TEST)}),S.callAndCheck(t,function(){return t.enable(t.CULL_FACE)}),S.callAndCheck(t,function(){return t.cullFace(t.BACK)}),t}function a(e){var t="\n    precision highp float;\n    attribute vec3 clipSpacePos;\n    attribute vec2 uv;\n    varying vec2 resultUV;\n\n    void main() {\n      gl_Position = vec4(clipSpacePos, 1);\n      resultUV = uv;\n    }";return S.createVertexShader(e,t)}function i(e){var t=new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]);return S.createStaticVertexBuffer(e,t)}function s(e){var t=new Uint16Array([0,1,2,2,1,3]);return S.createStaticIndexBuffer(e,t)}function u(e,t){var n,r,o,a,i,s,u,l,c=e;return 2===P.ENV.get("WEBGL_VERSION")?(n=c.R32F,r=c.R16F,o=c.RGBA32F,a=c.RED,s=4,u=1,l=c.HALF_FLOAT):(n=e.RGBA,r=e.RGBA,o=c.RGBA,a=e.RGBA,s=4,u=4,l=null!=t?t.HALF_FLOAT_OES:null),i=e.RGBA,{internalFormatFloat:n,internalFormatHalfFloat:r,internalFormatPackedFloat:o,textureFormatFloat:a,downloadTextureFormat:i,downloadUnpackNumChannels:s,defaultNumChannels:u,textureTypeHalfFloat:l}}function l(e,t,n,r,o,a){S.validateTextureSize(e,t,n);var i=S.createTexture(e),s=e.TEXTURE_2D;return S.callAndCheck(e,function(){return e.bindTexture(s,i)}),S.callAndCheck(e,function(){return e.texParameteri(s,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE)}),S.callAndCheck(e,function(){return e.texParameteri(s,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)}),S.callAndCheck(e,function(){return e.texParameteri(s,e.TEXTURE_MIN_FILTER,e.NEAREST)}),S.callAndCheck(e,function(){return e.texParameteri(s,e.TEXTURE_MAG_FILTER,e.NEAREST)}),S.callAndCheck(e,function(){return e.texImage2D(s,0,r,t,n,0,o,a,null)}),S.callAndCheck(e,function(){return e.bindTexture(e.TEXTURE_2D,null)}),i}function c(e,t,n,r){var o=N.getUnpackedMatrixTextureShapeWidthHeight(t,n),a=o[0],i=o[1];return l(e,a,i,r.internalFormatFloat,r.textureFormatFloat,e.FLOAT)}function p(e,t,n,r){var o=N.getUnpackedMatrixTextureShapeWidthHeight(t,n),a=o[0],i=o[1];return l(e,a,i,r.internalFormatFloat,r.textureFormatFloat,r.textureTypeHalfFloat)}function f(e,t,n,r){var o=N.getUnpackedMatrixTextureShapeWidthHeight(t,n),a=o[0],i=o[1];return l(e,a,i,e.RGBA,e.RGBA,e.UNSIGNED_BYTE)}function h(e,t,n,r){var o=N.getPackedMatrixTextureShapeWidthHeight(t,n),a=o[0],i=o[1];return l(e,a,i,r.internalFormatPackedFloat,e.RGBA,e.FLOAT)}function d(e,t,n){var r=0,o=12,a=20;S.callAndCheck(e,function(){return e.bindBuffer(e.ARRAY_BUFFER,n)});var i=S.bindVertexBufferToProgramAttribute(e,t,"clipSpacePos",n,3,a,r);return i&&S.bindVertexBufferToProgramAttribute(e,t,"uv",n,2,a,o)}function m(e,t,n){S.callAndCheck(e,function(){return e.bindTexture(e.TEXTURE_2D,t)}),S.callAndCheck(e,function(){return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n)}),S.callAndCheck(e,function(){return e.bindTexture(e.TEXTURE_2D,null)})}function g(e,t,n,r,o,a){S.validateTextureSize(e,n,r),S.callAndCheck(e,function(){return e.bindTexture(e.TEXTURE_2D,t)}),S.callAndCheck(e,function(){return e.texSubImage2D(e.TEXTURE_2D,0,0,0,n,r,a,e.FLOAT,o)}),S.callAndCheck(e,function(){return e.bindTexture(e.TEXTURE_2D,null)})}function v(e,t,n,r,o,a,i){var s,u=N.getUnpackedMatrixTextureShapeWidthHeight(n,r),l=u[0],c=u[1];1===i.defaultNumChannels?s=o:(s=new Float32Array(N.getUnpackedArraySizeFromMatrixSize(o.length,a)),N.encodeMatrixToUnpackedArray(o,s,a)),g(e,t,l,c,s,i.textureFormatFloat)}function y(e,t,n,r,o,a){var i=N.getPackedMatrixTextureShapeWidthHeight(n,r),s=i[0],u=i[1],l=new Float32Array(N.getPackedRGBAArraySizeFromMatrixShape(n,r));N.encodeMatrixToPackedRGBA(o,n,r,l),g(e,t,s,u,l,e.RGBA)}function x(e,t,n,r,o){var a=t;if(2===P.ENV.get("WEBGL_VERSION")){var i=e,s=i.createBuffer();S.callAndCheck(e,function(){return e.bindBuffer(i.PIXEL_PACK_BUFFER,s)});var u=4,l=u*N.getUnpackedArraySizeFromMatrixSize(n*r,o.downloadUnpackNumChannels);S.callAndCheck(e,function(){return e.bufferData(i.PIXEL_PACK_BUFFER,l,e.STATIC_DRAW)}),S.callAndCheck(e,function(){return i.readPixels(0,0,r,n,e.RGBA,e.FLOAT,0)}),S.callAndCheck(e,function(){return e.bindBuffer(i.PIXEL_PACK_BUFFER,null)}),a=s}return a}function b(e,t,n,r,o){var a=e,i=new Float32Array(N.getUnpackedArraySizeFromMatrixSize(n*r,o.downloadUnpackNumChannels));a.bindBuffer(e.ARRAY_BUFFER,t),a.getBufferSubData(e.ARRAY_BUFFER,0,i),a.bindBuffer(e.ARRAY_BUFFER,null);var s=new Float32Array(n*r);return N.decodeMatrixFromUnpackedArray(i,s,o.downloadUnpackNumChannels),s}function _(e,t,n,r){var o=N.getUnpackedMatrixTextureShapeWidthHeight(t,n),a=o[0],i=o[1],s=new Float32Array(N.getUnpackedArraySizeFromMatrixSize(t*n,r.downloadUnpackNumChannels));S.callAndCheck(e,function(){return e.readPixels(0,0,a,i,r.downloadTextureFormat,e.FLOAT,s)});var u=new Float32Array(t*n);return N.decodeMatrixFromUnpackedArray(s,u,r.downloadUnpackNumChannels),u}function w(e,t,n,r){var o=N.getUnpackedMatrixTextureShapeWidthHeight(t,n),a=o[0],i=o[1],s=4,u=new Uint8Array(N.getUnpackedArraySizeFromMatrixSize(t*n,s));return S.callAndCheck(e,function(){return e.readPixels(0,0,a,i,r.downloadTextureFormat,e.UNSIGNED_BYTE,u)}),new Float32Array(u.buffer)}function T(e,t,n,r){var o=N.getPackedMatrixTextureShapeWidthHeight(t,n),a=o[0],i=o[1],s=new Float32Array(N.getPackedRGBAArraySizeFromMatrixShape(t,n));S.callAndCheck(e,function(){return e.readPixels(0,0,a,i,e.RGBA,e.FLOAT,s)});var u=new Float32Array(t*n);return N.decodeMatrixFromPackedRGBA(s,t,n,u)}Object.defineProperty(n,"__esModule",{value:!0});var P=e("../../environment"),N=e("./tex_util"),S=e("./webgl_util");n.getWebGLContextAttributes=r,n.createWebGLContext=o,n.createVertexShader=a,n.createVertexBuffer=i,n.createIndexBuffer=s,n.getTextureConfig=u,n.createFloat32MatrixTexture=c,n.createFloat16MatrixTexture=p,n.createUnsignedBytesMatrixTexture=f,n.createPackedMatrixTexture=h,n.bindVertexProgramAttributeStreams=d,n.uploadPixelDataToTexture=m,n.uploadMatrixToTexture=v,n.uploadMatrixToPackedTexture=y,n.maybeCreateBufferFromOutputTexture=x,n.downloadFloat32MatrixFromBuffer=b,n.downloadFloat32MatrixFromOutputTexture=_,n.downloadByteEncodedFloatMatrixFromOutputTexture=w,n.downloadMatrixFromPackedOutputTexture=T},{"../../environment":51,"./tex_util":108,"./webgl_util":113}],89:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t,n,r,o){this.variableNames=["x"],this.outputShape=[];var a=t,i=e[3]-1;this.outputShape=e;var s,u="float("+n+") + float("+r+") * sum";s=.5===o?"inversesqrt("+u+")":1===o?"1.0/("+u+")":"exp(log("+u+") * float(-"+o+"));",this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n        int d = coords[3];\n        float x = getX(b, r, c, d);\n        float sum = 0.0;\n        for (int j = -"+a+"; j <= "+a+"; j++) {\n          int idx = d + j;\n          if (idx >= 0 && idx <=  "+i+") {\n            float z = getX(b, r, c, idx);\n            sum += z * z;\n          }\n        }\n        float val = x * "+s+";\n        setOutput(val);\n      }\n    "}return e}();n.LRNProgram=r},{}],90:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t,n,r,o){this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=e,this.depth=e[3],this.depthRadius=t,this.bias=n,this.alpha=r,this.beta=o,this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n\n        float result = 0.0;\n        for (int d = 0; d < "+this.depth+"; ++d) {\n          int depthBegin = int(max(0.0, float(d - "+t+")));\n          int depthEnd = int(min(float("+this.depth+"),\n              float(d + "+t+" + 1)));\n\n          const int MIN_DEPTH_BEGIN = 0;\n          const int MAX_DEPTH_END = "+this.depth+";\n\n          float norm = 0.0;\n          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd) {\n              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);\n            }\n            else {\n              break;\n            }\n          }\n\n          norm = float("+r+") * norm + float("+n+");\n\n          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd){\n              float dyi = -2.0 * float("+r+")\n                * float("+o+")\n                * getInputImage(b ,r ,c, k) * getOutputImage(b, r, c, d)\n                / norm;\n              if (k == d) {\n                dyi += pow(norm, -1.0 * "+o+");\n              }\n              if (k == coords[3]) {\n                dyi *= getDy(b, r, c, d);\n                result += dyi;\n              }\n            }\n            else {\n              break;\n            }\n          }\n      }\n      setOutput(result);\n      }\n    "}return e}();n.LRNGradProgram=r},{}],91:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;var t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,o=e.strideWidth,a=t-1-e.padInfo.top,i=n-1-e.padInfo.left,s=t*n-1;this.userCode="\n      const ivec2 pads = ivec2("+a+", "+i+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+t+"; wR++) {\n          float dyR = float(dyRCorner + wR) / "+r+".0;\n\n          if (dyR < 0.0 || dyR >= "+e.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < "+n+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+o+".0;\n\n            if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n            int maxPosValue = "+s+" - int(getMaxPos(b, idyR, idyC, d));\n\n            // Get the current value, check it against the value from the\n            // position matrix.\n            int curPosValue = wR * "+n+" + wC;\n            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n            dotProd += dyValue * mask;\n          }\n        }\n        setOutput(dotProd);\n      }\n    "}return e}();n.MaxPool2DBackpropProgram=r},{}],92:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t,n,r){void 0===n&&(n=!1),void 0===r&&(r=!1),this.variableNames=["matrixA","matrixB"];var o=n?e[1]:e[0],a=r?t[0]:t[1],i=n?e[0]:e[1];this.outputShape=[o,a];var s=function(e,t){return n?t+" + "+e+", aRow":"aRow, "+t+" + "+e},u=function(e,t){return r?"bCol, "+t+" + "+e:t+" + "+e+", bCol"},l=4*Math.floor(i/4),c=i%4;this.userCode=" float dotARowBCol(int aRow, int bCol) {\n      float result = 0.0;\n      for (int i = 0; i < "+l+"; i += 4) {\n        vec4 a = vec4(\n          getMatrixA("+s(0,"i")+"),\n          getMatrixA("+s(1,"i")+"),\n          getMatrixA("+s(2,"i")+"),\n          getMatrixA("+s(3,"i")+")\n        );\n        vec4 b = vec4(\n          getMatrixB("+u(0,"i")+"),\n          getMatrixB("+u(1,"i")+"),\n          getMatrixB("+u(2,"i")+"),\n          getMatrixB("+u(3,"i")+")\n        );\n\n        result += dot(a, b);\n      }\n\n      if ("+(1===c)+") {\n        result += getMatrixA("+s(0,l)+") *\n          getMatrixB("+u(0,l)+");\n      } else if ("+(2===c)+") {\n        vec2 a = vec2(\n          getMatrixA("+s(0,l)+"),\n          getMatrixA("+s(1,l)+")\n        );\n        vec2 b = vec2(\n          getMatrixB("+u(0,l)+"),\n          getMatrixB("+u(1,l)+")\n        );\n        result += dot(a, b);\n      } else if ("+(3===c)+") {\n        vec3 a = vec3(\n          getMatrixA("+s(0,l)+"),\n          getMatrixA("+s(1,l)+"),\n          getMatrixA("+s(2,l)+")\n        );\n        vec3 b = vec3(\n          getMatrixB("+u(0,l)+"),\n          getMatrixB("+u(1,l)+"),\n          getMatrixB("+u(2,l)+")\n        );\n        result += dot(a, b);\n      }\n\n      return result;\n    }\n\n    void main() {\n      ivec2 resRC = getOutputCoords();\n      setOutput(dotARowBCol(resRC.x, resRC.y));\n    }\n    "}return e}();n.MatMulProgram=r},{}],93:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t,n){this.variableNames=["probs"],this.outputShape=[e,n],this.userCode="\n      uniform float seed;\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n\n        float r = random(seed);\n        float cdf = 0.0;\n\n        for (int i = 0; i < "+(t-1)+"; i++) {\n          cdf += getProbs(batch, i);\n\n          if (r < cdf) {\n            setOutput(float(i));\n            return;\n          }\n        }\n\n        // If no other event happened, last event happened.\n        setOutput(float("+(t-1)+"));\n      }\n    "}return e.prototype.getCustomSetupFunc=function(e){var t=this;return function(n,r){null==t.seedLoc&&(t.seedLoc=n.getUniformLocation(r,"seed")),n.gl.uniform1f(t.seedLoc,e)}},e}();n.MultinomialProgram=r},{}],94:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t,n,r){this.variableNames=["indices"],this.outputShape=[e,t],this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int index = round(getIndices(coords.x));\n        setOutput(mix(float("+r+"), float("+n+"),\n                      float(index == coords.y)));\n      }\n    "}return e}();n.OneHotProgram=r},{}],95:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("./shader_compiler"),o=function(){function e(e,t,n){this.variableNames=["x"],this.outputShape=t.map(function(t,n){return t[0]+e[n]+t[1]});var o=e.length,a=r.getCoordsDataType(o),i=t.map(function(e){return e[0]}).join(","),s=t.map(function(t,n){return t[0]+e[n]}).join(","),u=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,o);return 1===o?void(this.userCode="\n        int start = "+i+";\n        int end = "+s+";\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start || outC >= end) {\n            setOutput(float("+n+"));\n          } else {\n            setOutput(getX(outC - start));\n          }\n        }\n      "):void(this.userCode="\n      "+a+" start = "+a+"("+i+");\n      "+a+" end = "+a+"("+s+");\n\n      void main() {\n        "+a+" outC = getOutputCoords();\n        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {\n          setOutput(float("+n+"));\n        } else {\n          "+a+" coords = outC - start;\n          setOutput(getX("+u+"));\n        }\n      }\n    ")}return e}();n.PadProgram=o},{"./shader_compiler":105}],96:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t,n){if(this.variableNames=["x"],"avg"===t&&n)throw new Error("Cannot compute positions for average pool.");var r=e.filterHeight,o=e.filterWidth,a=e.strideHeight,i=e.strideWidth,s=e.padInfo.top,u=e.padInfo.left;this.outputShape=e.outShape;var l="avg"===t,c="0.0";if(l||(c="-1.0 / 0.0"),n){var p=">=";return void(this.userCode="\n        const ivec2 strides = ivec2("+a+", "+i+");\n        const ivec2 pads = ivec2("+s+", "+u+");\n\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int batch = coords[0];\n          int d = coords[3];\n\n          ivec2 xRCCorner = coords.yz * strides - pads;\n          int xRCorner = xRCCorner.x;\n          int xCCorner = xRCCorner.y;\n\n          // max/min x(?, ?, d) to get y(yR, yC, d).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n          float avgValue = 0.0;\n\n          for (int wR = 0; wR < "+r+"; wR++) {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= "+e.inHeight+") {\n              continue;\n            }\n\n            for (int wC = 0; wC < "+o+"; wC++) {\n              int xC = xCCorner + wC;\n\n              if (xC < 0 || xC >= "+e.inWidth+") {\n                continue;\n              }\n\n              float value = getX(batch, xR, xC, d);\n\n              // If a min / max value has already been found, use it. If not,\n              // use the current value.\n              float currMinMaxValue = mix(\n                  value, minMaxValue, minMaxValueFound);\n              if (value "+p+" currMinMaxValue) {\n                minMaxValue = value;\n                minMaxValueFound = 1.0;\n                minMaxPosition = wR * "+o+" + wC;\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      ")}var f="max",h=t+"("+t+"("+t+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"avg"===t&&(h="avgValue / count");var d=4*Math.floor(o/4),m=o%4,g="\n      if ("+l+") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = "+f+"(values, minMaxValue);\n      }\n    ";this.userCode="\n      const ivec2 strides = ivec2("+a+", "+i+");\n      const ivec2 pads = ivec2("+s+", "+u+");\n      const float initializationValue = "+c+";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xR, int xC, int d) {\n        if (xC < 0 || xC >= "+e.inWidth+") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xR, xC, d);\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d = coords[3];\n\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // max/min x(?, ?, d) to get y(yR, yC, d).\n        // ? = to be determined\n        vec4 minMaxValue = vec4("+c+");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wR = 0; wR < "+r+"; wR++) {\n          int xR = xRCorner + wR;\n\n          if (xR < 0 || xR >= "+e.inHeight+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+d+"; wC += 4) {\n            int xC = xCCorner + wC;\n\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + 1, d),\n              getValue(batch, xR, xC + 2, d),\n              getValue(batch, xR, xC + 3, d)\n            );\n\n            "+g+"\n          }\n\n          int xC = xCCorner + "+d+";\n          if ("+(1===m)+") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              initializationValue,\n              initializationValue,\n              initializationValue\n            );\n\n            "+g+"\n          } else if ("+(2===m)+") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + 1, d),\n              initializationValue,\n              initializationValue\n            );\n\n            "+g+"\n          } else if ("+(3===m)+") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + 1, d),\n              getValue(batch, xR, xC + 2, d),\n              initializationValue\n            );\n\n            "+g+"\n          }\n        }\n        setOutput("+h+");\n      }\n    "}return e}();n.Pool2DProgram=r},{}],97:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){this.variableNames=["x"];var n=e.windowSize,r=e.batchSize,o=e.inSize,a=Math.ceil(o/n);this.outputShape=[r,a];var i="0.0",s="";"min"===t?(i="1.0 / 0.0",s="min"):"max"===t&&(i="-1.0 / 0.0",s="max");var u=t+"("+t+"("+t+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"sum"===t?u="sumValue":"all"===t?u="allValue":"any"===t&&(u="anyValue");var l=4*Math.floor(n/4),c=n%4,p="\n      if ("+("sum"===t)+") {\n        sumValue += dot(values, ones);\n      } else {\n        minMaxValue = "+s+"(values, minMaxValue);\n      }\n    ",f="vec4";"all"===t?(i="1.0",p="\n        bool reducedAllValue = all(values);\n        float floatedReducedAllValue = float(reducedAllValue);\n        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);\n      ",f="bvec4"):"any"===t&&(i="0.0",p="\n        bool reducedAnyValue = any(values);\n        float floatedReducedAnyValue = float(reducedAnyValue);\n        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);\n      ",f="bvec4");var h="";o%n>0&&(h="\n        if (inIdx < 0 || inIdx >= "+o+") {\n          return initializationValue;\n        }\n      "),this.userCode="\n      const float initializationValue = "+i+";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        "+h+"\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * "+n+";\n\n        vec4 minMaxValue = vec4("+i+");\n        float sumValue = 0.0;\n        float allValue = 1.0;\n        float anyValue = 0.0;\n\n        for (int i = 0; i < "+l+"; i += 4) {\n          int inIdx = inOffset + i;\n          "+f+" values = "+f+"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          "+p+"\n        }\n\n        int inIdx = inOffset + "+l+";\n        if ("+(1===c)+") {\n          "+f+" values = "+f+"(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          "+p+"\n        } else if ("+(2===c)+") {\n          "+f+" values = "+f+"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          "+p+"\n        } else if ("+(3===c)+") {\n          "+f+" values = "+f+"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          "+p+"\n        }\n        setOutput("+u+");\n      }\n    "}return e}();n.ReduceProgram=r},{}],98:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t.shape;var r=t.shape,o=r[1],a=r[2],i=e.shape,s=i[1],u=i[2],l=[n&&s>1?o-1:o,n&&u>1?a-1:a],c=[n&&s>1?s-1:s,n&&u>1?u-1:u],p=l[0]/c[0],f=l[1]/c[1],h=1/p,d=1/f,m=2*Math.ceil(h)+2,g=2*Math.ceil(d)+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float("+p+");\n        const float widthScale = float("+f+");\n\n        const float invHeightScale = float("+h+");\n        const float invWidthScale = float("+d+");\n\n        const int winHeight = int("+m+");\n        const int winWidth = int("+g+");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(startRLerp - float(winHeight / 2));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(startCLerp - float(winWidth / 2));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= "+s+") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= "+u+") {\n              continue;\n            }\n\n            float dxR = float(dyR) * heightScale;\n            int topDxRIndex = int(floor(dxR));\n            int bottomDxRIndex = int(min(ceil(dxR), "+(o-1)+".0));\n            float dxRLerp = dxR - float(topDxRIndex);\n            float inverseDxRLerp = 1.0 - dxRLerp;\n\n            float dxC = float(dyC) * widthScale;\n            int leftDxCIndex = int(floor(dxC));\n            int rightDxCIndex = int(min(ceil(dxC), "+(a-1)+".0));\n            float dxCLerp = dxC - float(leftDxCIndex);\n            float inverseDxCLerp = 1.0 - dxCLerp;\n\n            if (r == topDxRIndex && c == leftDxCIndex) {\n              // topLeft\n              accumulator +=\n                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;\n            }\n\n            if (r == topDxRIndex && c == rightDxCIndex) {\n              // topRight\n              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == leftDxCIndex) {\n              // bottomLeft\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == rightDxCIndex) {\n              // bottomRight\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    "}return e}();n.ResizeBilinearBackpropProgram=r},{}],99:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t,n,r){this.variableNames=["A"],this.outputShape=[];var o=e[0],a=e[1],i=e[2],s=e[3];this.outputShape=[o,t,n,s];var u=[r&&t>1?a-1:a,r&&n>1?i-1:i],l=[r&&t>1?t-1:t,r&&n>1?n-1:n];this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          "+u[0]/l[0]+",\n          "+u[1]/l[1]+");\n      const vec2 inputShapeRC = vec2("+a+".0, "+i+".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the four integer indices.\n        ivec2 sourceFloorRC = ivec2(sourceFracIndexRC);\n        ivec2 sourceCeilRC = ivec2(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);\n        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);\n        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);\n        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);\n\n        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);\n\n        float top = topLeft + (topRight - topLeft) * fracRC.y;\n        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;\n        float newValue = top + (bottom - top) * fracRC.x;\n\n        setOutput(newValue);\n      }\n    "}return e}();n.ResizeBilinearProgram=r},{}],100:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t.shape;var r=t.shape,o=r[1],a=r[2],i=e.shape,s=i[1],u=i[2],l=[n&&s>1?o-1:o,n&&u>1?a-1:a],c=[n&&s>1?s-1:s,n&&u>1?u-1:u],p=l[0]/c[0],f=l[1]/c[1],h=1/p,d=1/f,m=2*Math.ceil(h)+2,g=2*Math.ceil(d)+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float("+p+");\n        const float widthScale = float("+f+");\n\n        const float invHeightScale = float("+h+");\n        const float invWidthScale = float("+d+");\n\n        const int winHeight = int("+m+");\n        const int winWidth = int("+g+");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(floor(startRLerp - float(winHeight / 2)));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(floor(startCLerp - float(winWidth / 2)));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= "+s+") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= "+u+") {\n              continue;\n            }\n\n            float sourceFracRow =\n              float("+l[0]+") *\n                (float(dyR) / float("+c[0]+"));\n\n            float sourceFracCol =\n                float("+l[1]+") *\n                  (float(dyC) / float("+c[1]+"));\n\n            int sourceNearestRow = int(min(\n                float(int("+o+") - 1),\n                "+n+" ? float(round(sourceFracRow)) :\n                                  float(floor(sourceFracRow))));\n\n            int sourceNearestCol = int(min(\n                float(int("+a+") - 1),\n                "+n+" ? float(round(sourceFracCol)) :\n                                  float(floor(sourceFracCol))));\n\n            if (r == sourceNearestRow && c == sourceNearestCol) {\n              accumulator += getDy(b, dyR, dyC, d);\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    "}return e}();n.ResizeNearestNeigborBackpropProgram=r},{}],101:[function(e,t,n){"use strict";
Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t,n,r){this.variableNames=["A"],this.outputShape=[];var o=e[0],a=e[1],i=e[2],s=e[3];this.outputShape=[o,t,n,s];var u=[r&&t>1?a-1:a,r&&n>1?i-1:i],l=[r&&t>1?t-1:t,r&&n>1?n-1:n],c=r?"0.5":"0.0";this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          "+u[0]/l[0]+",\n          "+u[1]/l[1]+");\n      const vec2 inputShapeRC = vec2("+a+".0, "+i+".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec2 sourceNearestRC = ivec2(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + "+c+")));\n\n        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);\n\n        setOutput(newValue);\n      }\n    "}return e}();n.ResizeNearestNeighborProgram=r},{}],102:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("./shader_compiler"),o=function(){function e(e,t){this.variableNames=["x"];var n=e.length;if(n>4)throw new Error("WebGL backend: Reverse of rank-"+n+" tensor is not yet supported");if(this.outputShape=e,1===n)return void(this.userCode="\n        void main() {\n          int coord = getOutputCoords();\n          setOutput(getX("+e[0]+" - coord - 1));\n        }\n      ");var o=function(n){return t.indexOf(n)!==-1&&1!==e[n]?e[n]+" - coords["+n+"] - 1":"coords["+n+"]"},a=e.map(function(e,t){return o(t)}).join(","),i=r.getCoordsDataType(n);this.userCode="\n      void main() {\n        "+i+" coords = getOutputCoords();\n        setOutput(getX("+a+"));\n      }\n    "}return e}();n.ReverseProgram=o},{"./shader_compiler":105}],103:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){this.variableNames=["x","segmentIds"];var n=e.windowSize,r=e.batchSize,o=e.inSize,a=e.numSegments,i=a*Math.ceil(o/n);this.outputShape=[r,i];var s="0.0",u="sumValue",l=4*Math.floor(n/4),c=n%4,p="\n        sumValue += dot(values, filter);\n    ",f="";o%n>0&&(f="\n        if (inIdx < 0 || inIdx >= "+o+") {\n          return initializationValue;\n        }\n      ");var h="";o%n>0&&(h="\n        if (inIdx < 0 || inIdx >= "+o+") {\n          return -1.0;\n        }\n      "),this.userCode="\n      const float initializationValue = "+s+";\n\n      float getValue(int batch, int inIdx) {\n        "+f+"\n        return getX(batch, inIdx);\n      }\n\n      float getSegmentIdAtIndex(int inIdx) {\n        "+h+"\n        return getSegmentIds(inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = int(floor(float(outIdx) / float(\n          "+a+")) * float("+n+"));\n        int currentSeg = int(mod(float(outIdx), float("+a+")));\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < "+l+"; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          vec4 filter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0\n          );\n\n          "+p+"\n        }\n\n        int inIdx = inOffset + "+l+";\n        if ("+(1===c)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));\n\n          vec4 filter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            0,\n            0,\n            0\n          );\n\n          "+p+"\n        } else if ("+(2===c)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          vec4 filter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n              0,\n              0\n          );\n\n          "+p+"\n        } else if ("+(3===c)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          vec4 filter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            0\n          );\n\n          "+p+"\n        }\n        setOutput("+u+");\n      }\n    "}return e}();n.SegmentOpProgram=r},{}],104:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("./shader_compiler"),o=function(){function e(e,t,n){this.variableNames=["c","a","b"],this.outputShape=t;var o,a;if(n>4)throw Error("Where for rank "+n+" is not yet supported");if(1===n)a="resRC",o="resRC";else{for(var i=["resRC.x","resRC.y","resRC.z","resRC.w"],s=[],u=[],l=0;l<t.length;l++)u.push(""+i[l]),l<e&&s.push(""+i[l]);o=s.join(),a=u.join()}var c=r.getCoordsDataType(n);this.userCode="\n      void main() {\n        "+c+" resRC = getOutputCoords();\n        float cVal = getC("+o+");\n        if (cVal >= 1.0) {\n          setOutput(getA("+a+"));\n        } else {\n          setOutput(getB("+a+"));\n        }\n      }\n    "}return e}();n.SelectProgram=o},{"./shader_compiler":105}],105:[function(e,t,n){"use strict";function r(e,t,n,r){var o=e.map(function(e){var t=k.sizeFromShape(e.shapeInfo.logicalShape);return e.shapeInfo.isUniform?"uniform float "+e.name+(t>1?"["+t+"]":"")+";":"uniform sampler2D "+e.name+";"});o=o.join("\n");var s=e.map(function(e){return a(e,t,r)}).join("\n"),u=t.texShape,l=i(t.logicalShape,u),c=[L,D,V,o,l,s,n].join("\n");return c}function o(e){var t=e.shapeInfo.logicalShape;switch(t.length){case 0:return d(e);case 1:return m(e);case 2:return g(e);case 3:return v(e);case 4:return y(e);case 5:return x(e);case 6:return b(e);default:throw new Error(t.length+"-D input sampling is not yet supported")}}function a(e,t,n){var r=_(e);return r+=o(e),(n||k.arraysEqual(e.shapeInfo.logicalShape,t.logicalShape))&&(r+=T(e,t,n)),r}function i(e,t){switch(e.length){case 0:return s();case 1:return u(e,t);case 2:return h(e,t);case 3:return l(e,t);case 4:return c(e,t);case 5:return p(e,t);case 6:return f(e,t);default:throw new Error(e.length+"-D output sampling is not yet supported")}}function s(){return"\n    int getOutputCoords() {\n      return 0;\n    }\n  "}function u(e,t){return 1===t[0]?"\n      int getOutputCoords() {\n        return int(resultUV.x * "+t[1]+".0);\n      }\n    ":1===t[1]?"\n      int getOutputCoords() {\n        return int(resultUV.y * "+t[0]+".0);\n      }\n    ":"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+t[0]+", "+t[1]+"));\n      return resTexRC.x * "+t[1]+" + resTexRC.y;\n    }\n  "}function l(e,t){var n=e[1]*e[2],r=e[2];return"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+t[0]+", "+t[1]+"));\n      int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n      int r = index / "+n+";\n      index -= r * "+n+";\n      int c = index / "+r+";\n      int d = index - c * "+r+";\n      return ivec3(r, c, d);\n    }\n  "}function c(e,t){var n=e[3],r=e[2]*n,o=e[1]*r;return"\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2("+t[0]+", "+t[1]+"));\n      int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n\n      int r = index / "+o+";\n      index -= r * "+o+";\n\n      int c = index / "+r+";\n      index -= c * "+r+";\n\n      int d = index / "+n+";\n      int d2 = index - d * "+n+";\n\n      return ivec4(r, c, d, d2);\n    }\n  "}function p(e,t){var n=e[4],r=e[3]*n,o=e[2]*r,a=e[1]*o;return"\n    ivec5 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx * vec2("+t[0]+",\n                             "+t[1]+"));\n\n      int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n\n      int r = index / "+a+";\n      index -= r * "+a+";\n\n      int c = index / "+o+";\n      index -= c * "+o+";\n\n      int d = index / "+r+";\n      index -= d * "+r+";\n\n      int d2 = index  / "+n+";\n      int d3 = index - d2 * "+n+";\n\n      ivec5 outShape = ivec5(r, c, d, d2, d3);\n      return outShape;\n    }\n  "}function f(e,t){var n=e[5],r=e[4]*n,o=e[3]*r,a=e[2]*o,i=e[1]*a;return"\n    ivec6 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2("+t[0]+", "+t[1]+"));\n      int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n\n      int r = index / "+i+";\n      index -= r * "+i+";\n\n      int c = index / "+a+";\n      index -= c * "+a+";\n\n      int d = index / "+o+";\n      index -= d * "+o+";\n\n      int d2 = index / "+r+";\n      index -= d2 * "+r+";\n\n      int d3 = index / "+n+";\n      int d4 = index - d3 * "+n+";\n\n      ivec6 result = ivec6(r, c, d, d2, d3, d4);\n      return result;\n    }\n  "}function h(e,t){return k.arraysEqual(e,t)?"\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2("+t[0]+", "+t[1]+"));\n      }\n    ":1===e[1]?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2("+t[0]+", "+t[1]+"));\n        int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    ":1===e[0]?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2("+t[0]+", "+t[1]+"));\n        int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n        return ivec2(0, index);\n      }\n    ":"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+t[0]+", "+t[1]+"));\n      int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n      int r = index / "+e[1]+";\n      int c = index - r * "+e[1]+";\n      return ivec2(r, c);\n    }\n  "}function d(e){var t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1);return e.shapeInfo.isUniform?"float "+n+"() {return "+t+";}":"\n    float "+n+"() {\n      return sampleTexture("+t+", halfCR);\n    }\n  "}function m(e){var t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1);return"\n    float "+n+"(int index) {\n      return "+n+"Flat(index);\n    }\n  "}function g(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=e.shapeInfo.texShape;if(null!=a&&k.arraysEqual(t,a)){var i=a[0],s=a[1];return"\n    float "+r+"(int row, int col) {\n      vec2 uv = (vec2(col, row) + halfCR) / vec2("+s+".0, "+i+".0);\n      return sampleTexture("+n+", uv);\n    }\n  "}var u=k.squeezeShape(t),l=u.newShape,c=u.keptDims,p=l;if(p.length<t.length){var f=N(e,p),h=["row","col"];return"\n      "+o(f)+"\n      float "+r+"(int row, int col) {\n        return "+r+"("+S(h,c)+");\n      }\n    "}if(e.shapeInfo.isUniform)return"\n      float "+r+"(int row, int col) {\n        int index = row * "+t[1]+" + col;\n        return "+r+"Flat(index);\n      }\n    ";var d=a[0],m=a[1];return 1===m?"\n    float "+r+"(int row, int col) {\n      int index = row * "+t[1]+" + col;\n      vec2 uv = vec2(0.5, (float(index) + 0.5) / "+d+".0);\n      return sampleTexture("+n+", uv);\n    }\n  ":1===d?"\n    float "+r+"(int row, int col) {\n      int index = row * "+t[1]+" + col;\n      vec2 uv = vec2((float(index) + 0.5) / "+m+".0, 0.5);\n      return sampleTexture("+n+", uv);\n    }\n  ":"\n  float "+r+"(int row, int col) {\n    vec2 uv = UVfrom2D("+d+", "+m+", "+t[1]+", row, col);\n    return sampleTexture("+n+", uv);\n  }\n"}function v(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=t[1]*t[2],i=t[2],s=k.squeezeShape(t),u=s.newShape,l=s.keptDims,c=u;if(c.length<t.length){var p=N(e,c),f=["row","col","depth"];return"\n        "+o(p)+"\n        float "+r+"(int row, int col, int depth) {\n          return "+r+"("+S(f,l)+");\n        }\n      "}if(e.shapeInfo.isUniform)return"\n      float "+r+"(int row, int col, int depth) {\n        int index = row * "+a+" + col * "+i+" + depth;\n        return "+r+"Flat(index);\n      }\n    ";var h=e.shapeInfo.texShape,d=h[0],m=h[1];return m===a?"\n        float "+r+"(int row, int col, int depth) {\n          int texR = row;\n          int texC = col * "+i+" + depth;\n          vec2 uv = (vec2(texC, texR) + halfCR) /\n                     vec2("+m+".0, "+d+".0);\n          return sampleTexture("+n+", uv);\n        }\n      ":m===i?"\n    float "+r+"(int row, int col, int depth) {\n      int texR = row * "+t[1]+" + col;\n      int texC = depth;\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2("+m+".0, "+d+".0);\n      return sampleTexture("+n+", uv);\n    }\n  ":"\n      float "+r+"(int row, int col, int depth) {\n        vec2 uv = UVfrom3D(\n            "+d+", "+m+", "+a+", "+i+", row, col, depth);\n        return sampleTexture("+n+", uv);\n      }\n  "}function y(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=t[3],i=t[2]*a,s=t[1]*i,u=k.squeezeShape(t),l=u.newShape,c=u.keptDims;if(l.length<t.length){var p=N(e,l),f=["row","col","depth","depth2"];return"\n      "+o(p)+"\n      float "+r+"(int row, int col, int depth, int depth2) {\n        return "+r+"("+S(f,c)+");\n      }\n    "}if(e.shapeInfo.isUniform)return"\n      float "+r+"(int row, int col, int depth, int depth2) {\n        int index = row * "+s+" + col * "+i+" +\n            depth * "+a+" + depth2;\n        return "+r+"Flat(index);\n      }\n    ";var h=e.shapeInfo.texShape,d=h[0],m=h[1];return m===s?"\n      float "+r+"(int row, int col, int depth, int depth2) {\n        int texR = row;\n        int texC = col * "+i+" + depth * "+a+" + depth2;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2("+m+".0, "+d+".0);\n        return sampleTexture("+n+", uv);\n      }\n    ":m===a?"\n      float "+r+"(int row, int col, int depth, int depth2) {\n        int texR = row * "+t[1]*t[2]+" + col * "+t[2]+" + depth;\n        int texC = depth2;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2("+m+".0, "+d+".0);\n        return sampleTexture("+n+", uv);\n      }\n    ":"\n    float "+r+"(int row, int col, int depth, int depth2) {\n      vec2 uv = UVfrom4D("+d+", "+m+", "+s+", "+i+",\n          "+a+", row, col, depth, depth2);\n      return sampleTexture("+n+", uv);\n    }\n  "}function x(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=t[4],i=t[3]*a,s=t[2]*i,u=t[1]*s,l=k.squeezeShape(t),c=l.newShape,p=l.keptDims;if(c.length<t.length){var f=N(e,c),h=["row","col","depth","depth2","depth3"];return"\n      "+o(f)+"\n      float "+r+"(int row, int col, int depth, int depth2, int depth3) {\n        return "+r+"("+S(h,p)+");\n      }\n    "}if(e.shapeInfo.isUniform)return"\n      float "+r+"(int row, int col, int depth, int depth2, int depth3) {\n        int index = row * "+u+" + col * "+s+" +\n            depth * "+i+" + depth2 * "+a+" + depth3;\n        return "+r+"Flat(index);\n      }\n    ";var d=e.shapeInfo.texShape,m=d[0],g=d[1];return g===u?"\n      float "+r+"(int row, int col, int depth, int depth2, int depth3) {\n        int texR = row;\n        int texC = col * "+s+" + depth * "+i+" +\n                   depth2 * "+a+" + depth3;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2("+g+".0, "+m+".0);\n        return sampleTexture("+n+", uv);\n      }\n    ":g===a?"\n      float "+r+"(int row, int col, int depth, int depth2, int depth3) {\n        int texR = row * "+t[1]*t[2]+" + col * "+t[2]+" +\n                   depth * "+t[3]+" + depth2;\n        int texC = depth3;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2("+g+".0, "+m+".0);\n        return sampleTexture("+n+", uv);\n      }\n    ":"\n    float "+r+"(int row, int col, int depth, int depth2, int depth3) {\n      vec2 uv = UVfrom5D("+m+", "+g+", "+u+", "+s+",\n          "+i+", "+a+", row, col, depth, depth2, depth3);\n      return sampleTexture("+n+", uv);\n    }\n  "}function b(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=t[5],i=t[4]*a,s=t[3]*i,u=t[2]*s,l=t[1]*u,c=k.squeezeShape(t),p=c.newShape,f=c.keptDims;if(p.length<t.length){var h=N(e,p),d=["row","col","depth","depth2","depth3","depth4"];return"\n      "+o(h)+"\n      float "+r+"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        return "+r+"("+S(d,f)+");\n      }\n    "}if(e.shapeInfo.isUniform)return"\n      float "+r+"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n        int index = row * "+l+" + col * "+u+" +\n            depth * "+s+" + depth2 * "+i+" + depth3 * "+i+"\n            + depth4\n        return "+r+"Flat(index);\n      }\n    ";var m=e.shapeInfo.texShape,g=m[0],v=m[1];return v===l?"\n      float "+r+"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        int texR = row;\n        int texC = col * "+u+" + depth * "+s+" + depth2;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2("+v+".0, "+g+".0);\n        return sampleTexture("+n+", uv);\n      }\n    ":v===a?"\n      float "+r+"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        int texR = row * "+t[1]*t[2]+" + col * "+t[2]+" + depth;\n        int texC = depth4;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2("+v+".0, "+g+".0);\n        return sampleTexture("+n+", uv);\n      }\n    ":"\n    float "+r+"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n      vec2 uv = UVfrom6D("+g+", "+v+", "+l+", "+u+",\n          "+s+", "+i+", "+a+"\n          ,row, col, depth, depth2, depth3, depth4);\n      return sampleTexture("+n+", uv);\n    }\n  "}function _(e){var t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1)+"Flat",r=k.sizeFromShape(e.shapeInfo.logicalShape);if(e.shapeInfo.isUniform)return 1===r?"float "+n+"(int index) {return "+t+";}":"\n      float "+n+"(int index) {\n        for (int i = 0; i < "+r+"; i++) {\n          if (i == index) {\n            return "+t+"[i];\n          }\n        }\n      }\n    ";var o=e.shapeInfo.texShape,a=o[0],i=o[1];return 1===i&&1===a?"\n      float "+n+"(int index) {\n        return sampleTexture("+t+", halfCR);\n      }\n    ":1===i?"\n      float "+n+"(int index) {\n        vec2 uv = vec2(0.5, (float(index) + 0.5) / "+a+".0);\n        return sampleTexture("+t+", uv);\n      }\n    ":1===a?"\n      float "+n+"(int index) {\n        vec2 uv = vec2((float(index) + 0.5) / "+i+".0, 0.5);\n        return sampleTexture("+t+", uv);\n      }\n    ":"\n    float "+n+"(int index) {\n      vec2 uv = UVfrom1D("+a+", "+i+", index);\n      return sampleTexture("+t+", uv);\n    }\n  "}function w(e,t,n,r){var o=e.shapeInfo.logicalShape.length,a=t.logicalShape.length,i="int";2===a?i="ivec2":3===a?i="ivec3":4===a&&(i="ivec4");var s,u=E.getBroadcastDims(e.shapeInfo.logicalShape,t.logicalShape),l=a-o;s=0===o?"":a<2&&u.length>=1?"coords = 0;":u.map(function(e){return"coords["+(e+l)+"] = 0;"}).join("\n");var c="";return c=a<2&&o>0?"coords":e.shapeInfo.logicalShape.map(function(e,t){return"coords["+(t+l)+"]"}).join(", "),"\n    float "+r+"() {\n      "+i+" coords = getOutputCoords();\n      "+s+"\n      return get"+n+"("+c+");\n    }\n  "}function T(e,t,n){var r=e.name,o=r.charAt(0).toUpperCase()+r.slice(1),a="get"+o+"AtOutCoords",i=E.getBroadcastDims(e.shapeInfo.logicalShape,t.logicalShape),s=e.shapeInfo.logicalShape.length,u=t.logicalShape.length,l=n&&(u>s||i.length>0),c=E.broadcastDimsAreOuter(i),p=e.shapeInfo.isUniform;if(l&&!c)return w(e,t,o,a);var f=k.sizeFromShape(e.shapeInfo.logicalShape),h="";l&&c&&(h="\n        int mainPart = index / "+f+";\n        index -= mainPart * "+f+";\n      ");var d=t.texShape;if(p)return 1===f?"float "+a+"() {return "+r+";}":"\n      float "+a+"() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                              vec2("+d[0]+", "+d[1]+"));\n        int index = resTexRC.x * "+d[1]+" + resTexRC.y;\n        "+h+"\n        return get"+o+"Flat(index);\n      }\n    ";var m=e.shapeInfo.texShape;return k.arraysEqual(m,d)?"\n      float "+a+"() {\n        return sampleTexture("+r+", resultUV);\n      }\n    ":"\n    float "+a+"() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+d[0]+", "+d[1]+"));\n      int index = resTexRC.x * "+d[1]+" + resTexRC.y;\n      "+h+"\n      int texR = index / "+m[1]+";\n      int texC = index - texR * "+m[1]+";\n      vec2 uv = (vec2(texC, texR) + halfCR) /\n                 vec2("+m[1]+".0, "+m[0]+".0);\n\n      return sampleTexture("+r+", uv);\n    }\n  "}function P(e){if(e<=1)return"int";if(2===e)return"ivec2";if(3===e)return"ivec3";if(4===e)return"ivec4";if(5===e)return"ivec5";if(6===e)return"ivec6";throw Error("GPU for rank "+e+" is not yet supported")}function N(e,t){var n=JSON.parse(JSON.stringify(e));return n.shapeInfo.logicalShape=t,n}function S(e,t){return t.map(function(t){return e[t]}).join(", ")}Object.defineProperty(n,"__esModule",{value:!0});var E=e("../../ops/broadcast_util"),k=e("../../util");n.makeShader=r;var A="\nvec2 UVfrom1D(int texNumR, int texNumC, int index) {\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",O="\nvec2 UVfrom2D(int texNumR, int texNumC, int numC, int row, int col) {\n  int index = row * numC + col;\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",I="\nvec2 UVfrom3D(int texNumR, int texNumC, int stride0,\n    int stride1, int row, int col, int depth) {\n  // Explicitly use integer operations as dot() only works on floats.\n  int index = row * stride0 + col * stride1 + depth;\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",C="\nvec2 UVfrom4D(int texNumR, int texNumC, int stride0,\n    int stride1, int stride2, int row, int col, int depth,\n    int depth2) {\n  // Explicitly use integer operations as dot() only works on floats.\n  int index = row * stride0 + col * stride1 + depth * stride2 + depth2;\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",R="\nvec2 UVfrom5D(int texNumR, int texNumC, int stride0,\n    int stride1, int stride2, int stride3, int row, int col, int depth,\n    int depth2, int depth3) {\n  // Explicitly use integer operations as dot() only works on floats.\n  int index = row * stride0 + col * stride1 +\n              depth * stride2 + depth2 * stride3 + depth3;\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",M="\nvec2 UVfrom6D(int texNumR, int texNumC, int stride0,\n    int stride1, int stride2, int stride3, int stride4,\n    int row, int col, int depth, int depth2, int depth3, int depth4) {\n  // Explicitly use integer operations as dot() only works on floats.\n  int index = row * stride0 + col * stride1 + depth * stride2 + depth2 *\n    stride3 + depth3 * stride4 + depth4;\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",D="\n  float sampleTexture(sampler2D textureSampler, vec2 uv) {\n    return texture2D(textureSampler, uv).r;\n  }\n",V="\n  void setOutput(float val) {\n    gl_FragColor = vec4(val, 0, 0, 0);\n  }\n",L="\n  precision highp float;\n  precision highp int;\n  varying vec2 resultUV;\n  const vec2 halfCR = vec2(0.5, 0.5);\n\n  struct ivec5\n  {\n    int x;\n    int y;\n    int z;\n    int w;\n    int u;\n  };\n\n  struct ivec6\n  {\n    int x;\n    int y;\n    int z;\n    int w;\n    int u;\n    int v;\n  };\n\n  bool isNaN(float val) {\n    return (val < 0.0 || 0.0 < val || val == 0.0) ? false : true;\n  }\n\n  bool hasNaN(vec4 values) {\n    vec4 v1 = values * values;\n    vec4 v2 = values * values;\n    return any(notEqual(v1, v2));\n  }\n\n  float getNaN(vec4 values) {\n    return dot(vec4(1), values);\n  }\n\n  int round(float value) {\n    return int(floor(value + 0.5));\n  }\n\n  int imod(int x, int y) {\n    return x - y * (x / y);\n  }\n\n  //Based on the work of Dave Hoskins\n  //https://www.shadertoy.com/view/4djSRW\n  #define HASHSCALE1 443.8975\n  float random(float seed){\n    vec2 p = resultUV * seed;\n    vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);\n    p3 += dot(p3, p3.yzx + 19.19);\n    return fract((p3.x + p3.y) * p3.z);\n  }\n\n  "+A+"\n  "+O+"\n  "+I+"\n  "+C+"\n  "+R+"\n  "+M+"\n";n.getCoordsDataType=P},{"../../ops/broadcast_util":121,"../../util":176}],106:[function(e,t,n){"use strict";function r(e){if(1===e)return"sourceLoc";if(2===e)return"sourceLoc.x, sourceLoc.y";if(3===e)return"sourceLoc.x, sourceLoc.y, sourceLoc.z";if(4===e)return"sourceLoc.x, sourceLoc.y, sourceLoc.z, sourceLoc.w";throw Error("Slicing for rank "+e+" is not yet supported")}Object.defineProperty(n,"__esModule",{value:!0});var o=e("./shader_compiler"),a=function(){function e(e){this.variableNames=["source"],this.outputShape=e,this.rank=e.length;var t=o.getCoordsDataType(this.rank),n=r(this.rank);this.userCode="\n      uniform "+t+" start;\n\n      void main() {\n        "+t+" sourceLoc = start + getOutputCoords();\n        setOutput(getSource("+n+"));\n      }\n    "}return e.prototype.getCustomSetupFunc=function(e){var t=this;if(e.length!==this.rank)throw Error("The rank ("+this.rank+") of the program must match the "+("length of start ("+e.length+")"));return function(n,r){if(null!=t.startLoc||(t.startLoc=n.getUniformLocationNoThrow(r,"start"),null!=t.startLoc))if(1===t.rank)n.gl.uniform1i(t.startLoc,e[0]);else if(2===t.rank)n.gl.uniform2i(t.startLoc,e[0],e[1]);else if(3===t.rank)n.gl.uniform3i(t.startLoc,e[0],e[1],e[2]);else{if(4!==t.rank)throw Error("Slicing for rank "+t.rank+" is not yet supported");n.gl.uniform4i(t.startLoc,e[0],e[1],e[2],e[3])}}},e}();n.SliceProgram=a},{"./shader_compiler":105}],107:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("./shader_compiler"),o=function(){function e(e,t,n){this.variableNames=["x"],this.outputShape=n,this.rank=n.length;var o=r.getCoordsDataType(this.rank),a="";a=1===this.rank?"coords * strides + begin":n.map(function(e,t){return"coords["+t+"] * strides["+t+"] + begin["+t+"]"}).join(","),this.userCode="\n      "+o+" begin = "+o+"("+e+");\n      "+o+" strides = "+o+"("+t+");\n\n      void main() {\n        "+o+" coords = getOutputCoords();\n        setOutput(getX("+a+"));\n      }\n    "}return e}();n.StridedSliceProgram=o},{"./shader_compiler":105}],108:[function(e,t,n){"use strict";function r(e,t){return[t,e]}function o(e,t){return e*t}function a(e,t){return[4*t,e]}function i(e,t){if(e%t!==0)throw new Error("unpackedSize ("+e+") must be a multiple of "+t);return e/t}function s(e,t,n){var r=o(e.length,n);if(t.length<r)throw new Error("unpackedArray length ("+t.length+") must be >= "+r);for(var a=0,i=0;i<e.length;++i)t[a]=e[i],a+=n}function u(e,t,n){var r=i(e.length,n);if(t.length<r)throw new Error("matrix length ("+t.length+") must be >= "+r);for(var o=0,a=0;a<e.length;a+=n)t[o++]=e[a]}function l(e,t,n){var r=e.length*n/4;if(t.length<r)throw new Error("matrix length ("+t.length+") must be >= "+r);for(var o=0,a=0;a<e.length;a+=4)for(var i=0;i<n;i++)t[o++]=e[a+i]}function c(e,t){return[Math.ceil(t/2),Math.ceil(e/2)]}function p(e,t){var n=c(e,t),r=n[0],o=n[1];return r*o*4}function f(e,t,n,r){var o=p(t,n);if(r.length<o)throw new Error("packedRGBA length ("+r.length+") must be >= "+o);for(var a=c(t,n),i=a[0],s=a[1],u=n%2===1,l=t%2===1,f=Math.floor(n/2),h=Math.floor(t/2),d=u?4:0,m=n,g=0,v=0;v<h;++v){for(var y=2*v*n,x=0;x<f;++x){var b=2*x,_=y+b;r[g]=e[_],r[g+1]=e[_+1],r[g+2]=e[_+m],r[g+3]=e[_+m+1],g+=4}g+=d}if(u)for(var _=n-1,g=4*(i-1),w=2*n,d=4*i,v=0;v<h;++v)r[g]=e[_],r[g+2]=e[_+n],_+=w,g+=d;if(l)for(var _=(t-1)*n,g=(s-1)*i*4,x=0;x<f;++x)r[g++]=e[_++],r[g++]=e[_++],g+=2;return u&&l&&(r[r.length-4]=e[e.length-1]),r}function h(e,t,n,r){var o=t*n;if(o<r.length)throw new Error("matrix length ("+r.length+") must be >= "+o);for(var a=n%2===1,i=t%2===1,s=Math.floor(n/2),u=Math.floor(t/2),l=c(t,n),p=l[0],f=l[1],h=a?4:0,d=n+(a?1:0),m=0,g=0,v=n,y=0;y<u;++y){for(var x=0;x<s;++x)r[g++]=e[m++],r[g++]=e[m++],r[v++]=e[m++],r[v++]=e[m++];m+=h,g+=d,v+=d}if(a)for(var m=4*(p-1),b=n-1,h=4*p,d=2*n,y=0;y<u;++y)r[b]=e[m],r[b+n]=e[m+2],m+=h,b+=d;if(i)for(var m=(f-1)*p*4,b=(t-1)*n,x=0;x<s;++x)r[b++]=e[m++],r[b++]=e[m++],m+=2;return a&&i&&(r[r.length-1]=e[e.length-4]),r}Object.defineProperty(n,"__esModule",{value:!0});var d;!function(e){e[e.RENDER=0]="RENDER",e[e.UPLOAD=1]="UPLOAD",e[e.PIXELS=2]="PIXELS",e[e.DOWNLOAD=3]="DOWNLOAD"}(d=n.TextureUsage||(n.TextureUsage={}));var m;!function(e){e[e.FLOAT16=0]="FLOAT16",e[e.FLOAT32=1]="FLOAT32",e[e.UNSIGNED_BYTE=2]="UNSIGNED_BYTE"}(m=n.PhysicalTextureType||(n.PhysicalTextureType={})),n.getUnpackedMatrixTextureShapeWidthHeight=r,n.getUnpackedArraySizeFromMatrixSize=o,n.getColorMatrixTextureShapeWidthHeight=a,n.getMatrixSizeFromUnpackedArraySize=i,n.encodeMatrixToUnpackedArray=s,n.decodeMatrixFromUnpackedArray=u,n.decodeMatrixFromUnpackedColorRGBAArray=l,n.getPackedMatrixTextureShapeWidthHeight=c,n.getPackedRGBAArraySizeFromMatrixShape=p,n.encodeMatrixToPackedRGBA=f,n.decodeMatrixFromPackedRGBA=h},{}],109:[function(e,t,n){"use strict";function r(e){if(e===i.TextureUsage.DOWNLOAD||e===i.TextureUsage.PIXELS)return i.PhysicalTextureType.UNSIGNED_BYTE;if(e===i.TextureUsage.UPLOAD)return i.PhysicalTextureType.FLOAT32;if(e===i.TextureUsage.RENDER)return a.ENV.get("WEBGL_RENDER_FLOAT32_ENABLED")?i.PhysicalTextureType.FLOAT32:i.PhysicalTextureType.FLOAT16;throw new Error("Unknown logical texture type "+e)}function o(e,t){return e[0]+"_"+e[1]+"_"+t}Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../environment"),i=e("./tex_util"),s=function(){function e(e){this.gpgpu=e,this.numUsedTextures=0,this.numFreeTextures=0,this.freeTextures={},this.logEnabled=!1,this.usedTextures={}}return e.prototype.acquireTexture=function(e,t){var n=r(t),a=o(e,n);if(a in this.freeTextures||(this.freeTextures[a]=[]),a in this.usedTextures||(this.usedTextures[a]=[]),this.freeTextures[a].length>0){this.numFreeTextures--,this.numUsedTextures++,this.log();var s=this.freeTextures[a].shift();return this.usedTextures[a].push(s),s}this.numUsedTextures++,this.log();var u;return n===i.PhysicalTextureType.FLOAT32?u=this.gpgpu.createFloat32MatrixTexture(e[0],e[1]):n===i.PhysicalTextureType.FLOAT16?u=this.gpgpu.createFloat16MatrixTexture(e[0],e[1]):n===i.PhysicalTextureType.UNSIGNED_BYTE&&(u=this.gpgpu.createUnsignedBytesMatrixTexture(e[0],e[1])),this.usedTextures[a].push(u),u},e.prototype.releaseTexture=function(e,t,n){var a=r(n),i=o(t,a);i in this.freeTextures||(this.freeTextures[i]=[]),this.freeTextures[i].push(e),this.numFreeTextures++,this.numUsedTextures--;var s=this.usedTextures[i],u=s.indexOf(e);if(u<0)throw new Error("Cannot release a texture that was never provided by this texture manager");
s.splice(u,1),this.log()},e.prototype.log=function(){if(this.logEnabled){var e=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used",this.numFreeTextures+" / "+this.numUsedTextures,"("+e+")")}},e.prototype.getNumUsedTextures=function(){return this.numUsedTextures},e.prototype.getNumFreeTextures=function(){return this.numFreeTextures},e.prototype.dispose=function(){var e=this;if(null!=this.freeTextures){for(var t in this.freeTextures)this.freeTextures[t].forEach(function(t){e.gpgpu.deleteMatrixTexture(t)});for(var t in this.usedTextures)this.usedTextures[t].forEach(function(t){e.gpgpu.deleteMatrixTexture(t)});this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0}},e}();n.TextureManager=s},{"../../environment":51,"./tex_util":108}],110:[function(e,t,n){"use strict";function r(e){var t=e.length;if(t>5)throw Error("Tile for rank "+t+" is not yet supported");if(1===t)return"imod(resRC, "+e[0]+")";for(var n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],r=[],o=0;o<e.length;o++)r.push("imod("+n[o]+", "+e[o]+")");return r.join()}Object.defineProperty(n,"__esModule",{value:!0});var o=e("./shader_compiler"),a=function(){function e(e,t){this.variableNames=["A"];for(var n=new Array(e.length),a=0;a<n.length;a++)n[a]=e[a]*t[a];this.outputShape=n,this.rank=n.length;var i=o.getCoordsDataType(this.rank),s=r(e);this.userCode="\n      void main() {\n        "+i+" resRC = getOutputCoords();\n        setOutput(getA("+s+"));\n      }\n    "}return e}();n.TileProgram=a},{"./shader_compiler":105}],111:[function(e,t,n){"use strict";function r(e){var t=e.length;if(t>6)throw Error("Transpose for rank "+t+" is not yet supported");for(var n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],r=new Array(t),o=0;o<e.length;o++)r[e[o]]=n[o];return r.join()}Object.defineProperty(n,"__esModule",{value:!0});var o=e("./shader_compiler"),a=function(){function e(e,t){this.variableNames=["A"];for(var n=new Array(e.length),a=0;a<n.length;a++)n[a]=e[t[a]];this.outputShape=n,this.rank=n.length;var i=o.getCoordsDataType(this.rank),s=r(t);this.userCode="\n    void main() {\n      "+i+" resRC = getOutputCoords();\n      setOutput(getA("+s+"));\n    }\n    "}return e}();n.TransposeProgram=a},{"./shader_compiler":105}],112:[function(e,t,n){"use strict";function r(e){return void 0===e&&(e=0),s+("\n    return x > 0.0 ? 1.0 : float("+e+");\n  ")}Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../ops/erf_util"),a=e("../../ops/selu_util"),i=function(){function e(e,t){this.variableNames=["A"],this.outputShape=e,this.userCode="\n      uniform float NAN;\n      float unaryOperation(float x) {\n        "+t+"\n      }\n\n      void main() {\n        float x = getAAtOutCoords();\n        float y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    "}return e.prototype.getCustomSetupFunc=function(){var e=this;return function(t,n){null==e.startLoc&&(e.startLoc=t.getUniformLocationNoThrow(n,"NAN"),null==e.startLoc)||t.gl.uniform1f(e.startLoc,NaN)}},e}();n.UnaryOpProgram=i;var s="if (isNaN(x)) return x;";n.ABS="return abs(x);",n.RELU=s+"\n  return (x < 0.0) ? 0.0 : x;\n",n.ELU="return (x >= 0.0) ? x : (exp(x) - 1.0);",n.SELU="\n  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.\n  // see: https://arxiv.org/abs/1706.02515\n  float scaleAlpha = "+a.SELU_SCALEALPHA+";\n  float scale = "+a.SELU_SCALE+";\n  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);\n",n.STEP=r,n.NEG="return -x;",n.CEIL="return ceil(x);",n.FLOOR="return floor(x);",n.SIGN="\n  if (isNaN(x)) { return 0.0; }\n  return sign(x);\n",n.ROUND="\n  // OpenGL ES does not support round function.\n  // The algorithm is based on banker's rounding.\n  float base = floor(x);\n  if ((x - base) < 0.5) {\n    return floor(x);\n  } else if ((x - base) > 0.5) {\n    return ceil(x);\n  } else {\n    if (mod(base, 2.0) == 0.0) {\n      return base;\n    } else {\n      return base + 1.0;\n    }\n  }\n",n.EXP="return exp(x);",n.EXPM1="return exp(x) - 1.0;",n.LOG="if (x < 0.0) return NAN;\n  return log(x);",n.LOG1P="return log(1.0 + x);",n.SQRT="return sqrt(x);",n.RSQRT="return inversesqrt(x);",n.SIGMOID="return 1.0 / (1.0 + exp(-1.0 * x));",n.SOFTPLUS="\n  float epsilon = 1.1920928955078125e-7;\n  float threshold = log(epsilon) + 2.0;\n\n  bool too_large = x > -threshold;\n  bool too_small = x < threshold;\n\n  float result;\n  float exp_x = exp(x);\n\n  if (too_large){\n    result = x;\n  }\n  else if (too_small){\n    result = exp_x;\n  }\n  else{\n    result = log(exp_x + 1.0);\n  }\n  return result;\n",n.SIN=s+"\n  return sin(x);\n",n.COS=s+"\n  return cos(x);\n",n.TAN="return tan(x);",n.ASIN="return asin(x);",n.ACOS="return acos(x);",n.ATAN=s+"\n  return atan(x);\n",n.SINH="\n  float e2x = exp(x);\n  return (e2x - 1.0 / e2x) / 2.0;\n",n.COSH="\n  float e2x = exp(-x);\n  return (e2x + 1.0 / e2x) / 2.0;\n",n.TANH="\n  float e2x = exp(-2.0 * abs(x));\n  return sign(x) * (1.0 - e2x) / (1.0 + e2x);\n",n.ASINH="return log(x + sqrt(x * x + 1.0));",n.ACOSH=s+"\n  if (x < 1.0) return NAN;\n  return log(x + sqrt(x * x - 1.0));",n.ATANH=s+"\n  if ((x < -1.0) || (x > 1.0)) return NAN;\n  return (log(1.0 + x) - log(1.0 - x)) / 2.0;",n.ERF='\n  // Error function is calculated approximately with elementary function.\n  // See "Handbook of Mathematical Functions with Formulas,\n  // Graphs, and Mathematical Tables", Abramowitz and Stegun.\n  float p = '+o.ERF_P+";\n  float a1 = "+o.ERF_A1+";\n  float a2 = "+o.ERF_A2+";\n  float a3 = "+o.ERF_A3+";\n  float a4 = "+o.ERF_A4+";\n  float a5 = "+o.ERF_A5+";\n\n  float t = 1.0 / (1.0 + p * x);\n  return 1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x);\n",n.SQUARE="return x * x;",n.RECIPROCAL="return 1.0 / x;",n.LOGICAL_NOT="return float(!(x >= 1.0));",n.TO_INT="return float(int(x));"},{"../../ops/erf_util":127,"../../ops/selu_util":147}],113:[function(e,t,n){"use strict";function r(e){var t=document.createElement("canvas");return t.width=1,t.height=1,o(t,e)}function o(e,t){var n,r=z.ENV.get("WEBGL_VERSION");if(2===r?n=e.getContext("webgl2",t):1===r&&(n=e.getContext("webgl",t)||e.getContext("experimental-webgl",t)),0===r||null==n)throw new Error("This browser does not support WebGL.");return n}function a(e,t){var n=t();return s(e),n}function i(e){B=e}function s(e){if(B){var t=e.getError();if(t!==e.NO_ERROR)throw new Error("WebGL Error: "+u(e,t))}}function u(e,t){switch(t){case e.NO_ERROR:return"NO_ERROR";case e.INVALID_ENUM:return"INVALID_ENUM";case e.INVALID_VALUE:return"INVALID_VALUE";case e.INVALID_OPERATION:return"INVALID_OPERATION";case e.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case e.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case e.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return"Unknown error code "+t}}function l(e,t){return M(e,function(){return e.getExtension(t)},'Extension "'+t+'" not supported on this browser.')}function c(e,t){var n=M(e,function(){return e.createShader(e.VERTEX_SHADER)},"Unable to create vertex WebGLShader.");if(a(e,function(){return e.shaderSource(n,t)}),a(e,function(){return e.compileShader(n)}),e.getShaderParameter(n,e.COMPILE_STATUS)===!1)throw console.log(e.getShaderInfoLog(n)),new Error("Failed to compile vertex shader.");return n}function p(e,t){var n=M(e,function(){return e.createShader(e.FRAGMENT_SHADER)},"Unable to create fragment WebGLShader.");if(a(e,function(){return e.shaderSource(n,t)}),a(e,function(){return e.compileShader(n)}),e.getShaderParameter(n,e.COMPILE_STATUS)===!1)throw f(t,e.getShaderInfoLog(n)),new Error("Failed to compile fragment shader.");return n}function f(e,t){var n=j.exec(t);if(null==n)return console.log("Couldn't parse line number in error: "+t),void console.log(e);for(var r=+n[1],o=e.split("\n"),a=o.length.toString().length+2,i=o.map(function(e,t){return F.rightPad((t+1).toString(),a)+e}),s=0,u=0;u<i.length;u++)s=Math.max(i[u].length,s);var l=i.slice(0,r-1),c=i.slice(r-1,r),p=i.slice(r);console.log(l.join("\n")),console.log(t.split("\n")[0]),console.log("%c "+F.rightPad(c[0],s),"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(p.join("\n"))}function h(e){return M(e,function(){return e.createProgram()},"Unable to create WebGLProgram.")}function d(e,t){if(a(e,function(){return e.linkProgram(t)}),e.getProgramParameter(t,e.LINK_STATUS)===!1)throw console.log(e.getProgramInfoLog(t)),new Error("Failed to link vertex and fragment shaders.")}function m(e,t){if(a(e,function(){return e.validateProgram(t)}),e.getProgramParameter(t,e.VALIDATE_STATUS)===!1)throw console.log(e.getProgramInfoLog(t)),new Error("Shader program validation failed.")}function g(e,t){var n=M(e,function(){return e.createBuffer()},"Unable to create WebGLBuffer");return a(e,function(){return e.bindBuffer(e.ARRAY_BUFFER,n)}),a(e,function(){return e.bufferData(e.ARRAY_BUFFER,t,e.STATIC_DRAW)}),n}function v(e,t){var n=M(e,function(){return e.createBuffer()},"Unable to create WebGLBuffer");return a(e,function(){return e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,n)}),a(e,function(){return e.bufferData(e.ELEMENT_ARRAY_BUFFER,t,e.STATIC_DRAW)}),n}function y(e){return null!=L?L:L=a(e,function(){return e.getParameter(e.MAX_TEXTURE_SIZE)})}function x(){return 2===z.ENV.get("WEBGL_VERSION")?1:4}function b(e){return M(e,function(){return e.createTexture()},"Unable to create WebGLTexture.")}function _(e,t,n){var r=y(e);if(t<=0||n<=0){var o="["+t+"x"+n+"]";throw new Error("Requested texture size "+o+" is invalid.")}if(t>r||n>r){var o="["+t+"x"+n+"]",a="["+r+"x"+r+"]";throw new Error("Requested texture size "+o+" greater than WebGL maximum on this browser / GPU "+a+".")}}function w(e){return M(e,function(){return e.createFramebuffer()},"Unable to create WebGLFramebuffer.")}function T(e,t,n,r,o,i,s){var u=e.getAttribLocation(t,n);return u!==-1&&(a(e,function(){return e.bindBuffer(e.ARRAY_BUFFER,r)}),a(e,function(){return e.vertexAttribPointer(u,o,e.FLOAT,!1,i,s)}),a(e,function(){return e.enableVertexAttribArray(u)}),!0)}function P(e,t,n){D(e,n),a(e,function(){return e.activeTexture(e.TEXTURE0+n)}),a(e,function(){return e.bindTexture(e.TEXTURE_2D,t)})}function N(e,t){D(e,t),a(e,function(){return e.activeTexture(e.TEXTURE0+t)}),a(e,function(){return e.bindTexture(e.TEXTURE_2D,null)})}function S(e,t,n){return M(e,function(){return e.getUniformLocation(t,n)},'uniform "'+n+'" not present in program.')}function E(e,t,n){return e.getUniformLocation(t,n)}function k(e,t,n,r,o){a(e,function(){return P(e,n,o)}),a(e,function(){return e.uniform1i(r,o)})}function A(e){a(e,function(){return e.bindFramebuffer(e.FRAMEBUFFER,null)}),a(e,function(){return e.viewport(0,0,e.canvas.width,e.canvas.height)}),a(e,function(){return e.scissor(0,0,e.canvas.width,e.canvas.height)})}function O(e,t,n){a(e,function(){return e.bindFramebuffer(e.FRAMEBUFFER,n)}),a(e,function(){return e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0)})}function I(e,t){a(e,function(){return e.bindFramebuffer(e.FRAMEBUFFER,t)}),a(e,function(){return e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,null,0)})}function C(e){var t=e.checkFramebufferStatus(e.FRAMEBUFFER);if(t!==e.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+R(e,t))}function R(e,t){switch(t){case e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case e.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return"unknown error "+t}}function M(e,t,n){var r=a(e,function(){return t()});if(null==r)throw new Error(n);return r}function D(e,t){var n=e.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,r=t+e.TEXTURE0;if(r<e.TEXTURE0||r>n){var o="[gl.TEXTURE0, gl.TEXTURE"+n+"]";throw new Error("textureUnit must be in "+o+".")}}function V(e,t){if(2!==t.length){var n=F.squeezeShape(t);t=n.newShape}var r=y(e),o=F.sizeFromShape(t);return t.length<=1&&o<=r?[o,1]:2===t.length&&t[0]<=r&&t[1]<=r?t:3===t.length&&t[0]<=r&&t[1]*t[2]<=r?[t[0],t[1]*t[2]]:4===t.length&&t[0]<=r&&t[1]*t[2]*t[3]<=r?[t[0],t[1]*t[2]*t[3]]:F.sizeToSquarishShape(o)}Object.defineProperty(n,"__esModule",{value:!0});var L=null,F=e("../../util"),z=e("../../environment");n.createWebGLRenderingContext=r,n.createWebGLRenderingContextFromCanvas=o,n.callAndCheck=a;var B=!1;n.enableDebugWebGLErrorChecking=i,n.checkWebGLError=s,n.getWebGLErrorMessage=u,n.getExtensionOrThrow=l,n.createVertexShader=c,n.createFragmentShader=p;var j=/ERROR: [0-9]+:([0-9]+):/g;n.createProgram=h,n.linkProgram=d,n.validateProgram=m,n.createStaticVertexBuffer=g,n.createStaticIndexBuffer=v,n.queryMaxTextureSize=y,n.getNumChannels=x,n.createTexture=b,n.validateTextureSize=_,n.createFramebuffer=w,n.bindVertexBufferToProgramAttribute=T,n.bindTextureUnit=P,n.unbindTextureUnit=N,n.getProgramUniformLocationOrThrow=S,n.getProgramUniformLocation=E,n.bindTextureToProgramUniformSampler=k,n.bindCanvasToFramebuffer=A,n.bindColorTextureToFramebuffer=O,n.unbindColorTextureFromFramebuffer=I,n.validateFramebuffer=C,n.getFramebufferErrorMessage=R,n.getTextureShapeFromLogicalShape=V},{"../../environment":51,"../../util":176}],114:[function(e,t,n){"use strict";function r(e,t){for(var n=[],r=0;r<t.length;r++)t[r]&&n.push(r);for(var a=o.buffer(e,"int32"),i=o.buffer([n.length,e.length],"int32"),r=0;r<n.length;r++){var s=a.indexToLoc(n[r]),u=r*e.length;i.values.set(s,u)}return i.toTensor()}Object.defineProperty(n,"__esModule",{value:!0});var o=e("../ops/array_ops");n.whereImpl=r},{"../ops/array_ops":116}],115:[function(e,t,n){"use strict";function r(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];a.ENV.get("IS_TEST")||console.warn.apply(console,e)}function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];a.ENV.get("IS_TEST")||console.log.apply(console,e)}Object.defineProperty(n,"__esModule",{value:!0});var a=e("./environment");n.warn=r,n.log=o},{"./environment":51}],116:[function(e,t,n){"use strict";function r(e){var t=D.convertToTensor(e,"x","clone"),n=function(e){return{$x:function(){return e.toFloat()}}};return R.ENV.engine.runKernel(function(e){return M.Tensor.make(t.shape,{dataId:t.dataId},t.dtype)},{$x:t},n)}function o(e,t,r,o){void 0===o&&(o="float32"),null==t&&(t=e);for(var a=A([e,t],o),i=e<=t?e:t,s=0;s<i;++s)a.set(1,s,s);var u=a.toTensor().as2D(e,t);if(null==r)return u;if(1===r.length)return n.tile(n.expandDims(u,0),[r[0],1,1]);if(2===r.length)return n.tile(n.expandDims(n.expandDims(u,0),0),[r[0],r[1],1,1]);if(3===r.length)return n.tile(n.expandDims(n.expandDims(n.expandDims(u,0),0),0),[r[0],r[1],r[2],1,1]);throw new Error("eye() currently supports only 1D and 2D "+("batchShapes, but received "+r.length+"D."))}function a(e,t,n,r,o){if(void 0===t&&(t=0),void 0===n&&(n=1),null!=r&&"bool"===r)throw new Error("Unsupported data type "+r);for(var a=new B.MPRandGauss(t,n,r,!1,o),i=A(e,r),s=0;s<i.values.length;s++)i.values[s]=a.nextValue();return i.toTensor()}function i(e,t,n,r,o){if(void 0===t&&(t=0),void 0===n&&(n=1),null!=r&&"bool"===r)throw new Error("Unsupported data type "+r);for(var a=new B.MPRandGauss(t,n,r,!0,o),i=A(e,r),s=0;s<i.values.length;s++)i.values[s]=a.nextValue();return i.toTensor()}function s(e,t,n,r){void 0===t&&(t=0),void 0===n&&(n=1),void 0===r&&(r="float32");for(var o=A(e,r),a=0;a<o.values.length;a++)o.values[a]=V.randUniform(t,n);return o.toTensor()}function u(e,t,n){var r=V.sizeFromShape(e),o=null;if(null==n||"float32"===n)o=new Float32Array(r);else if("int32"===n)o=new Int32Array(r);else{if("bool"!==n)throw new Error("Unknown data type "+n);o=new Uint8Array(r)}for(var a=0;a<r;a++)o[a]=t();return M.Tensor.make(e,{values:o},n)}function l(e,t,n,r){void 0===r&&(r=!1);var o=D.convertToTensor(e,"logits","multinomial"),a=o.size,i=o.rank;if(a<2)throw new Error("Error in multinomial: you need at least 2 outcomes, but got "+(a+"."));if(i>2)throw new Error("Rank of probabilities must be 1 or 2, but is "+i);n=n||Math.random();var s=1===i?o.as2D(1,-1):o,u=R.ENV.engine.runKernel(function(e){return e.multinomial(s,r,t,n)},{logits2D:s});return 1===i?u.as1D():u}function c(e,t,n,r){void 0===n&&(n=1),void 0===r&&(r=0);var o=D.convertToTensor(e,"indices","oneHot","int32");if(V.assert("int32"===o.dtype,"Indices must be of dtype `int32`"),t<2)throw new Error("Error in oneHot: depth must be >=2, but it is "+t);return R.ENV.engine.runKernel(function(e){return e.oneHot(o,t,n,r)},{$indices:o})}function p(e,t){if(void 0===t&&(t=3),t>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");return R.ENV.engine.fromPixels(e,t)}function f(e,t){return I(this,void 0,void 0,function(){var n,r,o,a,i,s,u,l,c,p,f,h,d,m,g,v,y,x,b,_;return C(this,function(w){switch(w.label){case 0:if(n=D.convertToTensor(e,"img","toPixels","int32"),2!==n.rank&&3!==n.rank)throw new Error("toPixels only supports rank 2 or 3 tensors, got rank "+n.rank+".");if(r=n.shape.slice(0,2),o=r[0],a=r[1],i=2===n.rank?1:n.shape[2],i>4||2===i)throw new Error("toPixels only supports depth of size 1, 3 or 4 but got "+i);return s=n.min(),u=n.max(),[4,s.data()];case 1:return l=w.sent()[0],[4,u.data()];case 2:if(c=w.sent()[0],s.dispose(),u.dispose(),"float32"===n.dtype){if(l<0||c>1)throw new Error("Tensor values for a float32 Tensor must be in the "+("range [0 - 1] but got range ["+l+" - "+c+"]."))}else{if("int32"!==n.dtype)throw new Error("Unsupported type for toPixels: "+n.dtype+". Please use float32 or int32 tensors.");if(l<0||c>255)throw new Error("Tensor values for a int32 Tensor must be in the "+("range [0 - 255] but got range ["+l+" - "+c+"]."))}return[4,n.data()];case 3:for(p=w.sent(),f="float32"===n.dtype?255:1,h=new Uint8ClampedArray(a*o*4),d=0;d<o*a;++d)m=void 0,g=void 0,v=void 0,y=void 0,1===i?(m=p[d]*f,g=p[d]*f,v=p[d]*f,y=255):3===i?(m=p[3*d]*f,g=p[3*d+1]*f,v=p[3*d+2]*f,y=255):4===i&&(m=p[4*d]*f,g=p[4*d+1]*f,v=p[4*d+2]*f,y=p[4*d+3]*f),x=4*d,h[x+0]=Math.round(m),h[x+1]=Math.round(g),h[x+2]=Math.round(v),h[x+3]=Math.round(y);return null!=t&&(t.width=a,t.height=o,b=t.getContext("2d"),_=new ImageData(h,a,o),b.putImageData(_,0,0)),n!==e&&n.dispose(),[2,h]}})})}function h(e,t){var n=D.convertToTensor(e,"x","reshape");t=V.inferFromImplicitShape(t,n.size),V.assert(n.size===V.sizeFromShape(t),"new shape and old shape must have the same number of elements.");var r=function(e){return{$x:function(){return e.reshape(n.shape)}}};return R.ENV.engine.runKernel(function(e){return e.reshape(n,t)},{$x:n},r)}function d(e,t){var r=D.convertToTensor(e,"x","squeeze");return n.reshape(r,V.squeezeShape(r.shape,t).newShape)}function m(e,t){var n=D.convertToTensor(e,"x","cast"),r=function(e){return{$x:function(){return e.clone()}}};return R.ENV.engine.runKernel(function(e){return e.cast(n,t)},{$x:n},r)}function g(e,t){var n=D.convertToTensor(e,"x","tile");V.assert(n.rank===t.length,"Error in transpose: rank of input "+n.rank+" "+("must match length of reps "+t+"."));var r=function(e){var r=function(){var r=j.zerosLike(n);if(1===n.rank)for(var o=0;o<t[0];++o)r=r.add(e.slice([o*n.shape[0]],[n.shape[0]]));else if(2===n.rank)for(var o=0;o<t[0];++o)for(var a=0;a<t[1];++a)r=r.add(e.slice([o*n.shape[0],a*n.shape[1]],[n.shape[0],n.shape[1]]));else if(3===n.rank)for(var o=0;o<t[0];++o)for(var a=0;a<t[1];++a)for(var i=0;i<t[2];++i)r=r.add(e.slice([o*n.shape[0],a*n.shape[1],i*n.shape[2]],[n.shape[0],n.shape[1],n.shape[2]]));else{if(4!==n.rank)throw new Error("Gradient for tile operation is not implemented for rank-"+(n.rank+" tensors yet."));for(var o=0;o<t[0];++o)for(var a=0;a<t[1];++a)for(var i=0;i<t[2];++i)for(var s=0;s<t[3];++s)r=r.add(e.slice([o*n.shape[0],a*n.shape[1],i*n.shape[2],s*n.shape[3]],[n.shape[0],n.shape[1],n.shape[2],n.shape[3]]))}return r};return{$x:r}};return R.ENV.engine.runKernel(function(e){return e.tile(n,t)},{$x:n},r)}function v(e,t,r){return void 0===r&&(r=0),V.assert(2===t.length,"Invalid number of paddings. Must be length of 2."),n.pad(e,[t],r)}function y(e,t,r){return void 0===r&&(r=0),V.assert(2===t.length&&2===t[0].length&&2===t[1].length,"Invalid number of paddings. Must be length of 2 each."),n.pad(e,t,r)}function x(e,t,r){return void 0===r&&(r=0),V.assert(3===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length,"Invalid number of paddings. Must be length of 2 each."),n.pad(e,t,r)}function b(e,t,r){return void 0===r&&(r=0),V.assert(4===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length&&2===t[3].length,"Invalid number of paddings. Must be length of 2 each."),n.pad(e,t,r)}function _(e,t,n){void 0===n&&(n=0);var r=D.convertToTensor(e,"x","pad");if(0===r.rank)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");var o=t.map(function(e){return e[0]}),a=function(e){return{$x:function(){return e.slice(o,r.shape)}}};return R.ENV.engine.runKernel(function(e){return e.pad(r,t,n)},{$x:r},a)}function w(e,t){void 0===t&&(t=0);var n=D.convertToTensorArray(e,"tensors","stack");if(V.assert(n.length>=1,"Pass at least one tensor to tf.stack"),1===n.length)return n[0].expandDims(t);var r=n[0].rank,o=n[0].shape,a=n[0].dtype;V.assert(t<=r,"Axis must be <= rank of the tensor"),n.forEach(function(e){V.assertShapesMatch(o,e.shape,"All tensors passed to stack must have matching shapes")}),n.forEach(function(e){V.assert(a===e.dtype,"All tensors passed to stack must have matching dtypes")});var i=n.map(function(e){return e.expandDims(t)});return F.concat(i,t)}function T(e,t,n){var r=D.convertToTensor(e,"x","batchToSpaceND"),o=t.reduce(function(e,t){return e*t});return V.assert(r.rank>=1+t.length,"input rank should be > than [blockShape] but got "+r.rank),V.assert(n.length===t.length,"crops.shape[0] must be equal to [blockShape] but got "+n.length),V.assert(r.shape[0]%o===0,"input tensor batch must be divisible by prod( blockShape )"),R.ENV.engine.runKernel(function(e){return e.batchToSpaceND(r,t,n)},{})}function P(e,t,n){var r=D.convertToTensor(e,"x","spaceToBatchND");return V.assert(r.rank>=1+t.length,"input rank should be > than [blockShape] but got "+r.rank),V.assert(n.length===t.length,"paddings.shape[0] must be equal to [blockShape], got "+n.length),V.assert(r.shape.reduce(function(e,n,r){return r>0&&r<=t.length?e&&n%t[r-1]===0:e},!0),"input spatial dimensions must be divisible by blockShapes"),R.ENV.engine.runKernel(function(e){return e.spaceToBatchND(r,t,n)},{})}function N(e,t){void 0===t&&(t=0);for(var n=D.convertToTensor(e,"x","unstack"),r=n.shape[t],o=Array(n.rank-1).fill(0),a=0,i=0;i<n.rank;i++)i!==t&&(o[a]=n.shape[i],a++);var s;s=Array(r).fill(1);var u=Array(n.rank).fill(0),l=n.shape.slice();return s.map(function(e){l[t]=e;var r=n.slice(u,l);return u[t]+=e,r.reshape(o)})}function S(e,t,n){void 0===n&&(n=0);var r=D.convertToTensor(e,"x","split");n=L.parseAxisParam(n,r.shape)[0];var o;"number"==typeof t?(V.assert(r.shape[n]%t===0,"Number of splits must evenly divide the axis."),o=Array(t).fill(r.shape[n]/t)):(V.assert(r.shape[n]===t.reduce(function(e,t){return e+t}),"The sum of sizes must match the size of the axis dimension."),o=t);var a=Array(r.rank).fill(0),i=r.shape.slice();return o.map(function(e){i[n]=e;var t=r.slice(a,i);return a[n]+=e,t})}function E(e,t,n,r){void 0===t&&(t=0),void 0===n&&(n=!1),void 0===r&&(r=!1);var o=D.convertToTensor(e,"x","cumsum");t|=0;var a=L.getAxesPermutation([t],o.rank),i=o;null!=a&&(i=o.transpose(a));var s=L.getInnerMostAxes(1,o.rank)[0],u=function(e){return{permutedX:function(){return e.cumsum(t,n,!r)}}},l=R.ENV.engine.runKernel(function(e){return e.cumsum(i,s,n,r)},{permutedX:i},u);return null!=a&&(l=l.transpose(a)),l}function k(e,t){void 0===t&&(t=0);var r=D.convertToTensor(e,"x","expandDims");V.assert(t<=r.rank,"Axis must be <= rank of the tensor");var o=r.shape.slice();return t<0&&(V.assert(-(r.rank+1)<=t,"Axis must be in the interval ["+-(r.rank+1)+", "+r.rank+"]"),t=r.rank+t+1),o.splice(t,0,1),n.reshape(r,o)}function A(e,t,n){return void 0===t&&(t="float32"),new M.TensorBuffer(e,t,n)}function O(e,t){void 0===t&&(t=!1),console.log(e.toString(t))}var I=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,s)}u((r=r.apply(e,t||[])).next())})},C=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,a&&(i=2&n[0]?a.return:n[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,n[1])).done)return i;switch(a=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,a=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(i=u.trys,!(i=i.length>0&&i[i.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){u.label=n[1];break}if(6===n[0]&&u.label<i[1]){u.label=i[1],i=n;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(n);break}i[2]&&u.ops.pop(),u.trys.pop();continue}n=t.call(e,u)}catch(e){n=[6,e],a=0}finally{o=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,a,i,s,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(n,"__esModule",{value:!0});var R=e("../environment"),M=e("../tensor"),D=e("../tensor_util_env"),V=e("../util"),L=e("./axis_util"),F=e("./concat"),z=e("./operation"),B=e("./rand"),j=e("./tensor_ops");n.toPixels=f,n.buffer=A,n.print=O,n.cast=z.op({cast_:m}),n.clone=z.op({clone_:r}),n.cumsum=z.op({cumsum_:E}),n.expandDims=z.op({expandDims_:k}),n.eye=z.op({eye_:o}),n.fromPixels=z.op({fromPixels_:p}),n.multinomial=z.op({multinomial_:l}),n.oneHot=z.op({oneHot_:c}),n.pad=z.op({pad_:_}),n.pad1d=z.op({pad1d_:v}),n.pad2d=z.op({pad2d_:y}),n.pad3d=z.op({pad3d_:x}),n.pad4d=z.op({pad4d_:b}),n.rand=z.op({rand_:u}),n.randomNormal=z.op({randomNormal_:a}),n.randomUniform=z.op({randomUniform_:s}),n.reshape=z.op({reshape_:h}),n.split=z.op({split_:S}),n.squeeze=z.op({squeeze_:d}),n.stack=z.op({stack_:w}),n.tile=z.op({tile_:g}),n.truncatedNormal=z.op({truncatedNormal_:i}),n.unstack=z.op({unstack_:N}),n.batchToSpaceND=z.op({batchToSpaceND_:T}),n.spaceToBatchND=z.op({spaceToBatchND_:P})},{"../environment":51,"../tensor":169,"../tensor_util_env":172,"../util":176,"./axis_util":118,"./concat":123,"./operation":137,"./rand":140,"./tensor_ops":152}],117:[function(e,t,n){"use strict";function r(e,t,n,r){void 0===r&&(r=!0);var o=[];if(r)o=o.concat(t.slice(0)),o.push(e[0]/n),o=o.concat(e.slice(1));else{o=o.concat(e[0]);for(var a=t.length,i=0;i<a;++i)o=o.concat([e[i+1]/t[i],t[i]]);o=o.concat(e.slice(a+1))}return o}function o(e,t,n){void 0===n&&(n=!0);var r=[];if(n){r.push(t);for(var o=t+1;o<e;++o)o<=2*t?(r.push(o),r.push(o-(t+1))):r.push(o)}else{for(var a=[],i=[],o=1;o<e;++o)o>=2*t+1||o%2===1?i.push(o):a.push(o);r.push.apply(r,a),r.push(0),r.push.apply(r,i)}return r}function a(e,t,n,r){void 0===r&&(r=!0);var o=[];r?o.push(e[0]/n):o.push(e[0]*n);for(var a=1;a<e.length;++a)a<=t.length?r?o.push(t[a-1]*e[a]):o.push(e[a]/t[a-1]):o.push(e[a]);return o}function i(e,t){for(var n=[0],r=0;r<t;++r)n.push(e[r][0]);return n}function s(e,t,n){for(var r=e.slice(0,1),o=0;o<n;++o)r.push(e[o+1]-t[o][0]-t[o][1]);return r}Object.defineProperty(n,"__esModule",{value:!0}),n.getReshaped=r,n.getPermuted=o,n.getReshapedPermuted=a,n.getSliceBeginCoords=i,n.getSliceSize=s},{}],118:[function(e,t,n){"use strict";function r(e,t){for(var n=0;n<e.length;++n)if(e[e.length-n-1]!==t-1-n)return!1;return!0}function o(e,t,n){for(var r=e.length+t.length,o=[],a=0,i=0,s=0;s<r;s++)n.indexOf(s)===-1?o.push(e[a++]):o.push(t[i++]);return o}function a(e,t){for(var n=[],r=e.length,o=0;o<r;o++)t.indexOf(o)===-1&&n.push(e[o]);var a=t.map(function(t){return e[t]});return[n,a]}function i(e,t){var n=t.map(function(e){return 1});return o(e,n,t)}function s(e,t){var n=t.length;return e=null==e?t.map(function(e,t){return t}):[].concat(e),f.assert(e.every(function(e){return e>=-n&&e<n}),"All values in axis param must be in range [-"+n+", "+n+") but got axis "+e),f.assert(e.every(function(e){return f.isInt(e)}),"All values in axis param must be integers but got axis "+e),e.map(function(e){return e<0?n+e:e})}function u(e,t,n){f.assert(r(t,n),e+" supports only inner-most axes for now. "+("Got axes "+t+" and rank-"+n+" input."))}function l(e,t){if(r(e,t))return null;for(var n=[],o=0;o<t;++o)e.indexOf(o)===-1&&n.push(o);return e.forEach(function(e){return n.push(e)}),n}function c(e){return e.map(function(e,t){return[t,e]}).sort(function(e,t){return e[1]-t[1]}).map(function(e){return e[0]})}function p(e,t){for(var n=[],r=t-e;r<t;++r)n.push(r);return n}Object.defineProperty(n,"__esModule",{value:!0});var f=e("../util");n.axesAreInnerMostDims=r,n.combineLocations=o,n.computeOutAndReduceShapes=a,n.expandShapeToKeepDim=i,n.parseAxisParam=s,n.assertAxesAreInnerMostDims=u,n.getAxesPermutation=l,n.getUndoAxesPermutation=c,n.getInnerMostAxes=p},{"../util":176}],119:[function(e,t,n){"use strict";function r(e,t,r,o,a,i){void 0===o&&(o=.001);var s,u=l.convertToTensor(e,"x","batchNormalization"),p=l.convertToTensor(t,"mean","batchNormalization"),f=l.convertToTensor(r,"variance","batchNormalization");null!=a&&(s=l.convertToTensor(a,"scale","batchNormalization"));var h;return null!=i&&(h=l.convertToTensor(i,"offset","batchNormalization")),c.assert(2===u.rank,"Error in batchNormalization3D: x must be rank 3 but got rank "+(u.rank+".")),c.assert(2===p.rank||1===p.rank,"Error in batchNormalization2D: mean must be rank 2 or rank 1 but "+("got rank "+p.rank+".")),c.assert(2===f.rank||1===f.rank,"Error in batchNormalization2D: variance must be rank 2 or rank 1 "+("but got rank "+f.rank+".")),null!=s&&c.assert(2===s.rank||1===s.rank,"Error in batchNormalization2D: scale must be rank 2 or rank 1 "+("but got rank "+s.rank+".")),null!=h&&c.assert(2===h.rank||1===h.rank,"Error in batchNormalization2D: offset must be rank 2 or rank 1 "+("but got rank "+h.rank+".")),n.batchNormalization(u,p,f,o,s,h)}function o(e,t,r,o,a,i){void 0===o&&(o=.001);var s,u=l.convertToTensor(e,"x","batchNormalization"),p=l.convertToTensor(t,"mean","batchNormalization"),f=l.convertToTensor(r,"variance","batchNormalization");null!=a&&(s=l.convertToTensor(a,"scale","batchNormalization"));var h;return null!=i&&(h=l.convertToTensor(i,"offset","batchNormalization")),c.assert(3===u.rank,"Error in batchNormalization3D: x must be rank 3 but got rank "+(u.rank+".")),c.assert(3===p.rank||1===p.rank,"Error in batchNormalization3D: mean must be rank 3 or rank 1 but "+("got rank "+p.rank+".")),c.assert(3===f.rank||1===f.rank,"Error in batchNormalization3D: variance must be rank 3 or rank 1 "+("but got rank "+f.rank+".")),null!=s&&c.assert(3===s.rank||1===s.rank,"Error in batchNormalization3D: scale must be rank 3 or rank 1 "+("but got rank "+s.rank+".")),null!=h&&c.assert(3===h.rank||1===h.rank,"Error in batchNormalization3D: offset must be rank 3 or rank 1 "+("but got rank "+h.rank+".")),n.batchNormalization(u,p,f,o,s,h)}function a(e,t,r,o,a,i){void 0===o&&(o=.001);var s,u=l.convertToTensor(e,"x","batchNormalization"),p=l.convertToTensor(t,"mean","batchNormalization"),f=l.convertToTensor(r,"variance","batchNormalization");null!=a&&(s=l.convertToTensor(a,"scale","batchNormalization"));var h;return null!=i&&(h=l.convertToTensor(i,"offset","batchNormalization")),c.assert(4===u.rank,"Error in batchNormalization4D: x must be rank 4 but got rank "+(u.rank+".")),c.assert(4===p.rank||1===p.rank,"Error in batchNormalization4D: mean must be rank 4 or rank 1 but "+("got rank "+p.rank+".")),c.assert(4===f.rank||1===f.rank,"Error in batchNormalization4D: variance must be rank 4 or rank 1 "+("but got rank "+f.rank+".")),null!=s&&c.assert(4===s.rank||1===s.rank,"Error in batchNormalization4D: scale must be rank 4 or rank 1 "+("but got rank "+s.rank+".")),
null!=h&&c.assert(4===h.rank||1===h.rank,"Error in batchNormalization4D: offset must be rank 4 or rank 1 "+("but got rank "+h.rank+".")),n.batchNormalization(u,p,f,o,s,h)}function i(e,t,n,r,o,a){void 0===r&&(r=.001);var i,h=l.convertToTensor(e,"x","batchNormalization"),g=l.convertToTensor(t,"mean","batchNormalization"),v=l.convertToTensor(n,"variance","batchNormalization");null!=o&&(i=l.convertToTensor(o,"scale","batchNormalization"));var y;null!=a&&(y=l.convertToTensor(a,"offset","batchNormalization")),c.assert(g.rank===v.rank,"Batch normalization gradient requires mean and variance to have equal ranks."),c.assert(null==y||g.rank===y.rank,"Batch normalization gradient requires mean and offset to have equal ranks."),c.assert(null==i||g.rank===i.rank,"Batch normalization gradient requires mean and scale to have equal ranks.");var x;x=0===h.rank||1===h.rank?h.as4D(1,1,1,h.size):2===h.rank?h.as4D(1,1,h.shape[0],h.shape[1]):3===h.rank?h.as4D(1,h.shape[0],h.shape[1],h.shape[2]):h;var b=function(e){var t=null==i?d.scalar(1):i,n=f.getReductionAxes(g.shape,x.shape),o=[];if(1===g.rank){for(var a=0;a<x.shape.length-1;++a)o.push(x.shape[a]);o.push(1)}var s=h.sub(g),u=e.mul(t),l=m.rsqrt(v.add(d.scalar(r))),c=l.mul(l).mul(l).mul(d.scalar(-.5)),y=function(){return 1===g.rank?e.mul(p.tile(l.as4D(1,1,1,g.shape[0]),o)).mul(t).reshape(h.shape):e.mul(l).mul(t).reshape(h.shape)},b=function(){var e=l.mul(d.scalar(-1)).mul(u);return 1===g.rank&&(e=e.sum(n)),e.reshape(g.shape)},_=function(){var e=c.mul(s).mul(u);return 1===g.rank&&(e=e.sum(n)),e.reshape(g.shape)},w=function(){var t=s.mul(l),r=e.mul(t);return 1===g.rank&&(r=r.sum(n)),r.reshape(g.shape)},T=function(){var t=e;return 1===g.rank&&(t=t.sum(n)),t.reshape(g.shape)};return{$x:y,$mean:b,$variance:_,$scale:w,$offset:T}},_=u.ENV.engine.runKernel(function(e){return e.batchNormalization(x,s(g),s(v),r,s(i),s(y))},{$x:h,$mean:g,$variance:v,$scale:i,$offset:y},b);return _.reshape(h.shape)}function s(e){return null==e?null:0===e.rank?e.as1D():1===e.rank?e:2===e.rank?e.as4D(1,1,e.shape[0],e.shape[1]):3===e.rank?e.as4D(1,e.shape[0],e.shape[1],e.shape[2]):e}Object.defineProperty(n,"__esModule",{value:!0});var u=e("../environment"),l=e("../tensor_util_env"),c=e("../util"),p=e("./array_ops"),f=e("./broadcast_util"),h=e("./operation"),d=e("./tensor_ops"),m=e("./unary_ops");n.batchNormalization2d=h.op({batchNormalization2d_:r}),n.batchNormalization3d=h.op({batchNormalization3d_:o}),n.batchNormalization4d=h.op({batchNormalization4d_:a}),n.batchNormalization=h.op({batchNormalization_:i})},{"../environment":51,"../tensor_util_env":172,"../util":176,"./array_ops":116,"./broadcast_util":121,"./operation":137,"./tensor_ops":152,"./unary_ops":155}],120:[function(e,t,n){"use strict";function r(e,t){var n=S.convertToTensor(e,"a","add"),r=S.convertToTensor(t,"b","add");N.assertTypesMatch(n,r);var o=A.assertAndGetBroadcastShape(n.shape,r.shape),a=function(e){var t=function(){var t=e,r=A.getReductionAxes(n.shape,o);return r.length>0&&(t=t.sum(r)),t.reshape(n.shape)},a=function(){var t=e,n=A.getReductionAxes(r.shape,o);return n.length>0&&(t=t.sum(n)),t.reshape(r.shape)};return{$a:t,$b:a}};return P.ENV.engine.runKernel(function(e){return e.add(n,r)},{$a:n,$b:r},a)}function o(e){k.assert(Array.isArray(e),function(){return"The param passed to tf.addN() must be a list of tensors"}),k.assert(e.length>=1,function(){return"Must pass at least one tensor to tf.addN(), but got "+e.length});var t=e.map(function(e,t){return S.convertToTensor(e,"tensors"+t,"addN")}),n=t[0];t.forEach(function(e){if(e.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")}),t.forEach(function(e){if(!k.arraysEqual(e.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")});var r=function(e){var n={};return t.forEach(function(t,r){n[r]=function(){return e.clone()}}),n},o=t;return P.ENV.engine.runKernel(function(e){return e.addN(t)},o,r)}function a(e,t){return k.assertShapesMatch(e.shape,t.shape,"Error in addStrict: "),e.add(t)}function i(e,t){var n=S.convertToTensor(e,"a","sub"),r=S.convertToTensor(t,"b","sub");N.assertTypesMatch(n,r);var o=A.assertAndGetBroadcastShape(n.shape,r.shape),a=function(e){var t=function(){var t=e,r=A.getReductionAxes(n.shape,o);return r.length>0&&(t=t.sum(r)),t.reshape(n.shape)},a=function(){var t=e,n=A.getReductionAxes(r.shape,o);return n.length>0&&(t=t.sum(n)),t.neg().reshape(r.shape)};return{$a:t,$b:a}};return P.ENV.engine.runKernel(function(e){return e.subtract(n,r)},{$a:n,$b:r},a)}function s(e,t){return k.assertShapesMatch(e.shape,t.shape,"Error in subStrict: "),e.sub(t)}function u(e,t){var n=S.convertToTensor(e,"base","pow"),r=S.convertToTensor(t,"exp","pow"),o=A.assertAndGetBroadcastShape(n.shape,r.shape);e=n.cast(E.upcastType(n.dtype,r.dtype)),t=r.cast(E.upcastType(n.dtype,r.dtype));var a=function(e,t){var a=t[0],i=function(){var t=e.mul(r.toFloat().mul(a.div(n))),i=A.getReductionAxes(n.shape,o);return i.length>0&&(t=t.sum(i)),t.reshape(n.shape)},s=function(){var t=e.mul(a.mul(n.log()).toFloat()),i=A.getReductionAxes(r.shape,o);return i.length>0&&(t=t.sum(i)),t.reshape(r.shape)};return{$base:i,$exp:s}};return P.ENV.engine.runKernel(function(e,t){return t(e.pow(n,r))},{$base:n,$exp:r},a)}function l(e,t){return k.assertShapesMatch(e.shape,t.shape,"Error in powStrict: "),e.pow(t)}function c(e,t){var n=S.convertToTensor(e,"a","mul"),r=S.convertToTensor(t,"b","mul");N.assertTypesMatch(n,r);var o=A.assertAndGetBroadcastShape(n.shape,r.shape),a=function(e){var t=function(){var t=e.mul(r.toFloat()),a=A.getReductionAxes(n.shape,o);return a.length>0?t.sum(a).reshape(n.shape):t},a=function(){var t=e.mul(n.toFloat()),a=A.getReductionAxes(r.shape,o);return a.length>0?t.sum(a).reshape(r.shape):t};return{$a:t,$b:a}};return P.ENV.engine.runKernel(function(e){return e.multiply(n,r)},{$a:n,$b:r},a)}function p(e,t){return k.assertShapesMatch(e.shape,t.shape,"Error in multiplyStrict: "),e.mul(t)}function f(e,t){var r=S.convertToTensor(e,"a","div"),o=S.convertToTensor(t,"b","div");N.assertTypesMatch(r,o);var a;if("int32"===r.dtype&&"int32"===o.dtype)return n.floorDiv(r,o);a=function(e){return e.realDivide(r,o)};var i=A.assertAndGetBroadcastShape(r.shape,o.shape),s=function(e){var t=function(){var t=e.div(o.toFloat()),n=A.getReductionAxes(r.shape,i);return n.length>0?t.sum(n).reshape(r.shape):t},n=function(){var t=e.mul(r.toFloat()),n=A.getReductionAxes(o.shape,i);n.length>0&&(t=t.sum(n).reshape(o.shape));var a=o.square();return t.div(a.toFloat()).neg()};return{$a:t,$b:n}};return P.ENV.engine.runKernel(a,{$a:r,$b:o},s)}function h(e,t){var n=S.convertToTensor(e,"a","floorDiv"),r=S.convertToTensor(t,"b","floorDiv");N.assertTypesMatch(n,r);var o=function(e){return e.floorDiv(n,r)},a=A.assertAndGetBroadcastShape(n.shape,r.shape),i=function(e){var t=function(){var t=e.div(r.toFloat()),o=A.getReductionAxes(n.shape,a);return o.length>0?t.sum(o).reshape(n.shape):t},o=function(){var t=e.mul(n.toFloat()),o=A.getReductionAxes(r.shape,a);o.length>0&&(t=t.sum(o).reshape(r.shape));var i=r.square();return t.div(i.toFloat()).neg()};return{$a:t,$b:o}};return P.ENV.engine.runKernel(o,{$a:n,$b:r},i)}function d(e,t){return k.assertShapesMatch(e.shape,t.shape,"Error in divideStrict: "),e.div(t)}function m(e,t){var n=S.convertToTensor(e,"a","mod"),r=S.convertToTensor(t,"b","mod");N.assertTypesMatch(n,r);var o=A.assertAndGetBroadcastShape(n.shape,r.shape),a=function(e){var t=function(){var t=A.getReductionAxes(n.shape,o);return t.length>0?e.sum(t).reshape(n.shape):e},a=function(){var t=e.mul(n.div(r).floor().neg()),a=A.getReductionAxes(r.shape,o);return a.length>0?t.sum(a).reshape(r.shape):t};return{$a:t,$b:a}};return P.ENV.engine.runKernel(function(e){return e.mod(n,r)},{$a:n,$b:r},a)}function g(e,t){return k.assertShapesMatch(e.shape,t.shape,"Error in modStrict: "),e.mod(t)}function v(e,t){var n=S.convertToTensor(e,"a","minimum"),r=S.convertToTensor(t,"b","minimum");N.assertTypesMatch(n,r),"bool"===n.dtype&&(n=n.toInt()),"bool"===r.dtype&&(r=r.toInt()),A.assertAndGetBroadcastShape(n.shape,r.shape);var o=function(e){var t=function(){return e.mul(n.lessEqual(r).toFloat())},o=function(){return e.mul(n.greater(r).toFloat())};return{$a:t,$b:o}};return P.ENV.engine.runKernel(function(e){return e.minimum(n,r)},{$a:n,$b:r},o)}function y(e,t){return k.assertShapesMatch(e.shape,t.shape,"Error in minimumStrict: "),e.minimum(t)}function x(e,t){var n=S.convertToTensor(e,"a","maximum"),r=S.convertToTensor(t,"b","maximum");N.assertTypesMatch(n,r),"bool"===n.dtype&&(n=n.toInt()),"bool"===r.dtype&&(r=r.toInt()),A.assertAndGetBroadcastShape(n.shape,r.shape);var o=function(e){var t=function(){return e.mul(n.greaterEqual(r).toFloat())},o=function(){return e.mul(n.less(r).toFloat())};return{$a:t,$b:o}};return P.ENV.engine.runKernel(function(e){return e.maximum(n,r)},{$a:n,$b:r},o)}function b(e,t){return k.assertShapesMatch(e.shape,t.shape,"Error in minimumStrict: "),e.maximum(t)}function _(e,t){var n=S.convertToTensor(e,"a","squaredDifference"),r=S.convertToTensor(t,"b","squaredDifference");N.assertTypesMatch(n,r),A.assertAndGetBroadcastShape(n.shape,r.shape);var o=function(e){var t=I.scalar(2),o=function(){return e.mul(n.sub(r).mul(t))},a=function(){return e.mul(r.sub(n).mul(t))};return{$a:o,$b:a}};return P.ENV.engine.runKernel(function(e){return e.squaredDifference(n,r)},{$a:n,$b:r},o)}function w(e,t){return k.assertShapesMatch(e.shape,t.shape,"Error in squaredDifferenceStrict: "),e.squaredDifference(t)}function T(e,t){var r=S.convertToTensor(e,"a","atan2"),o=S.convertToTensor(t,"b","atan2");N.assertTypesMatch(r,o);var a=A.assertAndGetBroadcastShape(r.shape,o.shape),i=function(e){var t=function(){var t=n.add(r.square(),o.square()),i=e.mul(o.div(t)),s=A.getReductionAxes(r.shape,a);return s.length>0&&(i=i.sum(s)),i.reshape(r.shape)},i=function(){var t=n.add(r.square(),o.square()),i=C.neg(e.mul(r.div(t))),s=A.getReductionAxes(o.shape,a);return s.length>0&&(i=i.sum(s)),i.reshape(o.shape)};return{$a:t,$b:i}};return P.ENV.engine.runKernel(function(e){return e.atan2(r,o)},{$a:r,$b:o},i)}Object.defineProperty(n,"__esModule",{value:!0});var P=e("../environment"),N=e("../tensor_util"),S=e("../tensor_util_env"),E=e("../types"),k=e("../util"),A=e("./broadcast_util"),O=e("./operation"),I=e("./tensor_ops"),C=e("./unary_ops");n.add=O.op({add_:r}),n.addN=O.op({addN_:o}),n.addStrict=O.op({addStrict_:a}),n.atan2=O.op({atan2_:T}),n.div=O.op({div_:f}),n.divStrict=O.op({divStrict_:d}),n.floorDiv=O.op({floorDiv_:h}),n.maximum=O.op({maximum_:x}),n.maximumStrict=O.op({maximumStrict_:b}),n.minimum=O.op({minimum_:v}),n.minimumStrict=O.op({minimumStrict_:y}),n.mod=O.op({mod_:m}),n.modStrict=O.op({modStrict_:g}),n.mul=O.op({mul_:c}),n.mulStrict=O.op({mulStrict_:p}),n.pow=O.op({pow_:u}),n.powStrict=O.op({powStrict_:l}),n.squaredDifference=O.op({squaredDifference_:_}),n.squaredDifferenceStrict=O.op({squaredDifferenceStrict_:w}),n.sub=O.op({sub_:i}),n.subStrict=O.op({subStrict_:s})},{"../environment":51,"../tensor_util":171,"../tensor_util_env":172,"../types":175,"../util":176,"./broadcast_util":121,"./operation":137,"./tensor_ops":152,"./unary_ops":155}],121:[function(e,t,n){"use strict";function r(e,t){for(var n=e.length,r=[],o=0;o<n;o++){var a=n-1-o,i=e[a]||1,s=t[t.length-1-o]||1;s>1&&1===i&&r.unshift(a)}return r}function o(e,t){for(var n=[],r=0;r<t.length;r++){var o=e[e.length-r-1],a=t.length-r-1,i=t[a];(null==o||1===o&&i>1)&&n.unshift(a)}return n}function a(e){for(var t=0;t<e.length;t++)if(e[t]!==t)return!1;return!0}function i(e,t){for(var n=[],r="Operands could not be broadcast together with shapes "+(e+" and "+t+"."),o=Math.max(e.length,t.length),a=0;a<o;a++){var i=e[e.length-a-1]||1,s=t[t.length-a-1]||1;if(i>1&&s>1&&i!==s)throw Error(r);n.unshift(Math.max(i,s))}return n}Object.defineProperty(n,"__esModule",{value:!0}),n.getBroadcastDims=r,n.getReductionAxes=o,n.broadcastDimsAreOuter=a,n.assertAndGetBroadcastShape=i},{}],122:[function(e,t,n){"use strict";function r(e,t){var n=v.convertToTensor(e,"a","notEqual"),r=v.convertToTensor(t,"b","notEqual");return g.assertTypesMatch(n,r),x.assertAndGetBroadcastShape(n.shape,r.shape),m.ENV.engine.runKernel(function(e){return e.notEqual(n,r)},{$a:n,$b:r})}function o(e,t){var n=v.convertToTensor(e,"a","notEqualStrict"),r=v.convertToTensor(t,"b","notEqualStrict");return y.assertShapesMatch(n.shape,r.shape,"Error in notEqualStrict: "),n.notEqual(r)}function a(e,t){var n=v.convertToTensor(e,"a","less"),r=v.convertToTensor(t,"b","less");return g.assertTypesMatch(n,r),x.assertAndGetBroadcastShape(n.shape,r.shape),m.ENV.engine.runKernel(function(e){return e.less(n,r)},{$a:n,$b:r})}function i(e,t){var n=v.convertToTensor(e,"a","lessStrict"),r=v.convertToTensor(t,"b","lessStrict");return y.assertShapesMatch(n.shape,r.shape,"Error in lessStrict: "),n.less(r)}function s(e,t){var n=v.convertToTensor(e,"a","equal"),r=v.convertToTensor(t,"b","equal");return g.assertTypesMatch(n,r),x.assertAndGetBroadcastShape(n.shape,r.shape),m.ENV.engine.runKernel(function(e){return e.equal(n,r)},{$a:n,$b:r})}function u(e,t){var n=v.convertToTensor(e,"a","equalStrict"),r=v.convertToTensor(t,"b","equalStrict");return y.assertShapesMatch(n.shape,r.shape,"Error in equalStrict: "),n.equal(r)}function l(e,t){var n=v.convertToTensor(e,"a","lessEqual"),r=v.convertToTensor(t,"b","lessEqual");return g.assertTypesMatch(n,r),x.assertAndGetBroadcastShape(n.shape,r.shape),m.ENV.engine.runKernel(function(e){return e.lessEqual(n,r)},{$a:n,$b:r})}function c(e,t){var n=v.convertToTensor(e,"a","lessEqualStrict"),r=v.convertToTensor(t,"b","lessEqualStrict");return y.assertShapesMatch(n.shape,r.shape,"Error in lessEqualStrict: "),n.lessEqual(r)}function p(e,t){var n=v.convertToTensor(e,"a","greater"),r=v.convertToTensor(t,"b","greater");return g.assertTypesMatch(n,r),x.assertAndGetBroadcastShape(n.shape,r.shape),m.ENV.engine.runKernel(function(e){return e.greater(n,r)},{$a:n,$b:r})}function f(e,t){var n=v.convertToTensor(e,"a","greaterStrict"),r=v.convertToTensor(t,"b","greaterStrict");return y.assertShapesMatch(n.shape,r.shape,"Error in greaterStrict: "),n.greater(r)}function h(e,t){var n=v.convertToTensor(e,"a","greaterEqual"),r=v.convertToTensor(t,"b","greaterEqual");return g.assertTypesMatch(n,r),x.assertAndGetBroadcastShape(n.shape,r.shape),m.ENV.engine.runKernel(function(e){return e.greaterEqual(n,r)},{$a:n,$b:r})}function d(e,t){var n=v.convertToTensor(e,"a","greaterEqualStrict"),r=v.convertToTensor(t,"b","greaterEqualStrict");return y.assertShapesMatch(n.shape,r.shape,"Error in greaterEqualStrict: "),n.greaterEqual(r)}Object.defineProperty(n,"__esModule",{value:!0});var m=e("../environment"),g=e("../tensor_util"),v=e("../tensor_util_env"),y=e("../util"),x=e("./broadcast_util"),b=e("./operation");n.equal=b.op({equal_:s}),n.equalStrict=b.op({equalStrict_:u}),n.greater=b.op({greater_:p}),n.greaterEqual=b.op({greaterEqual_:h}),n.greaterEqualStrict=b.op({greaterEqualStrict_:d}),n.greaterStrict=b.op({greaterStrict_:f}),n.less=b.op({less_:a}),n.lessEqual=b.op({lessEqual_:l}),n.lessEqualStrict=b.op({lessEqualStrict_:c}),n.lessStrict=b.op({lessStrict_:i}),n.notEqual=b.op({notEqual_:r}),n.notEqualStrict=b.op({notEqualStrict_:o})},{"../environment":51,"../tensor_util":171,"../tensor_util_env":172,"../util":176,"./broadcast_util":121,"./operation":137}],123:[function(e,t,n){"use strict";function r(e){return n.concat(e,0)}function o(e,t){return n.concat(e,t)}function a(e,t){return n.concat(e,t)}function i(e,t){return n.concat(e,t)}function s(e,t){void 0===t&&(t=0),p.assert(e.length>=1,"Pass at least one tensor to concat");var n=c.convertToTensorArray(e,"tensors","concat"),r=n[0];if(1===n.length)return r;for(var o=f.parseAxisParam(t,r.shape),a=1;a<n.length;++a)r=u(r,n[a],o[0]);return r}function u(e,t,n){h.assertParams(e.shape,t.shape,n);var r=h.computeOutShape(e.shape,t.shape,n),o=e.as2D(-1,p.sizeFromShape(e.shape.slice(n))),a=t.as2D(-1,p.sizeFromShape(t.shape.slice(n))),i=h.computeGradientSliceShapes(o.shape,a.shape),s=i.aBegin,u=i.aSize,c=i.bBegin,f=i.bSize,d=function(e){return{a:function(){return e.slice(s,u)},b:function(){return e.slice(c,f)}}},m=l.ENV.engine.runKernel(function(e){return e.concat(o,a)},{a:o,b:a},d);return m.reshape(r)}Object.defineProperty(n,"__esModule",{value:!0});var l=e("../environment"),c=e("../tensor_util_env"),p=e("../util"),f=e("./axis_util"),h=e("./concat_util"),d=e("./operation");n.concat=d.op({concat_:s}),n.concat1d=d.op({concat1d_:r}),n.concat2d=d.op({concat2d_:o}),n.concat3d=d.op({concat3d_:a}),n.concat4d=d.op({concat4d_:i})},{"../environment":51,"../tensor_util_env":172,"../util":176,"./axis_util":118,"./concat_util":124,"./operation":137}],124:[function(e,t,n){"use strict";function r(e,t,n){var r=e.length,o=t.length;i.assert(e.length===t.length,"Error in concat"+r+"D: rank of x1 ("+r+") and x2 ("+o+") must be the same."),i.assert(n>=0&&n<r,"Error in concat"+r+"D: axis must be "+("between 0 and "+(r-1)+"."));for(var a=0;a<r;a++)i.assert(a===n||e[a]===t[a],"Error in concat"+r+"D: Shape ("+e+") does not match "+("("+t+") along the non-concatenated axis "+a+"."))}function o(e,t,n){i.assert(e.length===t.length,"x1 and x2 should have the same rank.");var r=e.slice();return r[n]+=t[n],r}function a(e,t){return{aBegin:[0,0],aSize:e,bBegin:[0,e[1]],bSize:t}}Object.defineProperty(n,"__esModule",{value:!0});var i=e("../util");n.assertParams=r,n.computeOutShape=o,n.computeGradientSliceShapes=a},{"../util":176}],125:[function(e,t,n){"use strict";function r(e,t,r,o,a,i,s){void 0===a&&(a="NWC"),void 0===i&&(i=1);var u=g.convertToTensor(e,"x","conv1d"),l=g.convertToTensor(t,"filter","conv1d"),c=u,p=!1;2===u.rank&&(p=!0,c=u.as3D(1,u.shape[0],u.shape[1])),v.assert(3===c.rank,"Error in conv1d: input must be rank 3, but got rank "+c.rank+"."),v.assert(3===l.rank,"Error in conv1d: filter must be rank 3, but got rank "+(l.rank+".")),null!=s&&v.assert(v.isInt(o),"Error in conv1d: pad must be an integer when using, "+("dimRoundingMode "+s+" but got pad "+o+".")),v.assert(c.shape[2]===l.shape[1],"Error in conv1d: depth of input ("+c.shape[2]+") must match "+("input depth for filter "+l.shape[1]+".")),v.assert(f(r,i),"Error in conv1D: Either stride or dilation must be 1. "+("Got stride "+r+" and dilation '"+i+"'")),v.assert("NWC"===a,"Error in conv1d: got dataFormat of "+a+" but only NWC is currently supported.");var h=l.as4D(1,l.shape[0],l.shape[1],l.shape[2]),d=c.as4D(c.shape[0],1,c.shape[1],c.shape[2]),m=[1,r],y=[1,i],x="NHWC",b=n.conv2d(d,h,m,o,x,y,s);return p?b.as2D(b.shape[2],b.shape[3]):b.as3D(b.shape[0],b.shape[2],b.shape[3])}function o(e,t,n,r,o,s,u){void 0===o&&(o="NHWC"),void 0===s&&(s=[1,1]);var l=g.convertToTensor(e,"x","conv2d"),c=g.convertToTensor(t,"filter","conv2d"),h=l,d=!1;3===l.rank&&(d=!0,h=l.as4D(1,l.shape[0],l.shape[1],l.shape[2])),v.assert(4===h.rank,"Error in conv2d: input must be rank 4, but got rank "+h.rank+"."),v.assert(4===c.rank,"Error in conv2d: filter must be rank 4, but got rank "+(c.rank+".")),null!=u&&v.assert(v.isInt(r),"Error in conv2d: pad must be an integer when using, "+("dimRoundingMode "+u+" but got pad "+r+".")),v.assert(h.shape[3]===c.shape[2],"Error in conv2d: depth of input ("+h.shape[3]+") must match "+("input depth for filter "+c.shape[2]+".")),v.assert(f(n,s),"Error in conv2D: Either strides or dilations must be 1. "+("Got strides "+n+" and dilations '"+s+"'")),v.assert("NHWC"===o,"Error in conv2d: got dataFormat of "+o+" but only NHWC is currently supported.");var x=y.computeConv2DInfo(h.shape,c.shape,n,s,r,u),b=function(e){return v.assert(p(s),"Error in gradient of conv2D: dilation rates greater than 1 are not"+("yet supported in gradients. Got dilations '"+s+"'")),{x:function(){return a(h.shape,e,c,n,r)},$filter:function(){return i(h,e,c.shape,n,r)}}},_=m.ENV.engine.runKernel(function(e){return e.conv2d(h,c,x)},{x:h,$filter:c},b);return d?_.as3D(_.shape[1],_.shape[2],_.shape[3]):_}function a(e,t,n,r,o,a){v.assert(e.length===t.rank,"Length of inShape "+("("+e.length+") and rank of dy ("+t.rank+") must match"));var i=e,s=t,u=!1;3===t.rank&&(u=!0,s=t.as4D(1,t.shape[0],t.shape[1],t.shape[2]),i=[1,e[0],e[1],e[2]]);var l=i[3],c=s.shape[3];v.assert(4===i.length,"Error in conv2dDerInput: inShape must be length 4, but got length "+(i.length+".")),v.assert(4===s.rank,"Error in conv2dDerInput: dy must be rank 4, but got rank "+s.rank),v.assert(4===n.rank,"Error in conv2dDerInput: filter must be rank 4, but got rank "+n.rank),v.assert(l===n.shape[2],"Error in conv2dDerInput: depth of input ("+l+") must "+("match input depth for filter "+n.shape[2]+".")),v.assert(c===n.shape[3],"Error in conv2dDerInput: depth of output ("+c+") must "+("match output depth for filter "+n.shape[3]+".")),null!=a&&v.assert(v.isInt(o),"Error in conv2dDerInput: pad must be an integer when using, "+("dimRoundingMode "+a+" but got pad "+o+"."));var p=1,f=y.computeConv2DInfo(i,n.shape,r,p,o,a),h=m.ENV.engine.runKernel(function(e){return e.conv2dDerInput(s,n,f)},{dy4D:s});return u?h.as3D(h.shape[1],h.shape[2],h.shape[3]):h}function i(e,t,n,r,o,a){var i=e;3===e.rank&&(i=e.as4D(1,e.shape[0],e.shape[1],e.shape[2]));var s=t;3===s.rank&&(s=t.as4D(1,t.shape[0],t.shape[1],t.shape[2])),v.assert(4===i.rank,"Error in conv2dDerFilter: input must be rank 4, but got shape "+(i.shape+".")),v.assert(4===s.rank,"Error in conv2dDerFilter: dy must be rank 4, but got shape "+(s.shape+".")),v.assert(4===n.length,"Error in conv2dDerFilter: filterShape must be length 4, but got "+(n+".")),v.assert(i.shape[3]===n[2],"Error in conv2dDerFilter: depth of input "+i.shape[3]+") must "+("match input depth in filter ("+n[2]+".")),v.assert(s.shape[3]===n[3],"Error in conv2dDerFilter: depth of dy ("+s.shape[3]+") must "+("match output depth for filter ("+n[3]+").")),null!=a&&v.assert(v.isInt(o),"Error in conv2dDerFilter: pad must be an integer when using, "+("dimRoundingMode "+a+" but got pad "+o+"."));var u=1,l=y.computeConv2DInfo(i.shape,n,r,u,o,a);return m.ENV.engine.runKernel(function(e){return e.conv2dDerFilter(i,s,l)},{x4D:i,dy4D:s})}function s(e,t,n,r,o,i){var s=g.convertToTensor(e,"x","conv2dTranspose"),u=g.convertToTensor(t,"filter","conv2dTranspose");return a(n,s,u,r,o,i)}function u(e,t,n,r,o,a,i){void 0===o&&(o="NHWC"),void 0===a&&(a=[1,1]);var s=g.convertToTensor(e,"x","depthwiseConv2d"),u=g.convertToTensor(t,"filter","depthwiseConv2d"),l=s,c=!1;3===s.rank&&(c=!0,l=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),v.assert(4===l.rank,"Error in depthwiseConv2d: input must be rank 4, but got "+("rank "+l.rank+".")),v.assert(4===u.rank,"Error in depthwiseConv2d: filter must be rank 4, but got rank "+(u.rank+".")),v.assert(l.shape[3]===u.shape[2],"Error in depthwiseConv2d: number of input channels "+("("+l.shape[3]+") must match the inChannels dimension in ")+("filter "+u.shape[2]+".")),null==a&&(a=[1,1]),v.assert(f(n,a),"Error in depthwiseConv2d: Either strides or dilations must be 1. "+("Got strides "+n+" and dilations '"+a+"'")),null!=i&&v.assert(v.isInt(r),"Error in depthwiseConv2d: pad must be an integer when using, "+("dimRoundingMode "+i+" but got pad "+r+"."));var x=y.computeConv2DInfo(l.shape,u.shape,n,a,r,i,!0),b=function(e){return v.assert(p(a),"Error in gradient of depthwiseConv2d: dilation rates greater than "+("1 are not yet supported. Got dilations '"+a+"'")),{x:function(){return h(l.shape,e,u,x)},$filter:function(){return d(l,e,u.shape,x)}}},_=m.ENV.engine.runKernel(function(e){return e.depthwiseConv2D(l,u,x)},{x:l,$filter:u},b);return c?_.as3D(_.shape[1],_.shape[2],_.shape[3]):_}function l(e,t,r,o,a,i,s){void 0===i&&(i=[1,1]),void 0===s&&(s="NHWC");var u=g.convertToTensor(e,"x","separableConv2d"),l=g.convertToTensor(t,"depthwiseFilter","separableConv2d"),c=g.convertToTensor(r,"pointwiseFilter","separableConv2d"),p=u,f=!1;if(3===u.rank&&(f=!0,p=u.as4D(1,u.shape[0],u.shape[1],u.shape[2])),"NCHW"===s)throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");v.assert(4===p.rank,"Error in separableConv2d: input must be rank 4, but got "+("rank "+p.rank+".")),v.assert(4===l.rank,"Error in separableConv2d: depthwise filter must be rank 4, but got "+("rank "+l.rank+".")),v.assert(4===c.rank,"Error in separableConv2d: pointwise filter must be rank 4, but got "+("rank "+l.rank+".")),v.assert(1===c.shape[0],"Error in separableConv2d: the first dimension of pointwise filter "+(" must be 1, but got "+c.shape[0]+".")),v.assert(1===c.shape[1],"Error in separableConv2d: the second dimension of pointwise filter "+(" must be 1, but got "+c.shape[1]+"."));var h=l.shape[2],d=l.shape[3];v.assert(c.shape[2]===h*d,"Error in separableConv2d: the third dimension of pointwise filter "+("must be "+h*d+", ")+("but got "+c.shape[2]+"."));var m=n.depthwiseConv2d(p,l,o,a,s,i),y=1,x=n.conv2d(m,c,y,"valid",s);return f?x.as3D(x.shape[1],x.shape[2],x.shape[3]):x}function c(e){return"number"==typeof e?[e,e]:e}function p(e){var t=c(e),n=t[0],r=t[1];return 1===n&&1===r}function f(e,t){return p(e)||p(t)}function h(e,t,n,r){var o=t,a=!1;3===t.rank&&(a=!0,o=t.as4D(1,t.shape[0],t.shape[1],t.shape[2]));var i=m.ENV.engine.runKernel(function(e){return e.depthwiseConv2DDerInput(o,n,r)},{dy4D:o});return a?i.as3D(i.shape[1],i.shape[2],i.shape[3]):i}function d(e,t,n,r){var o=e;3===e.rank&&(o=e.as4D(1,e.shape[0],e.shape[1],e.shape[2]));var a=t;return 3===a.rank&&(a=t.as4D(1,t.shape[0],t.shape[1],t.shape[2])),m.ENV.engine.runKernel(function(e){return e.depthwiseConv2DDerFilter(o,a,r)},{x4D:o,dy4D:a})}Object.defineProperty(n,"__esModule",{value:!0});var m=e("../environment"),g=e("../tensor_util_env"),v=e("../util"),y=e("./conv_util"),x=e("./operation");n.conv1d=x.op({conv1d_:r}),n.conv2d=x.op({conv2d_:o}),n.depthwiseConv2d=x.op({depthwiseConv2d_:u}),n.separableConv2d=x.op({separableConv2d_:l}),n.conv2dTranspose=x.op({conv2dTranspose_:s})},{"../environment":51,"../tensor_util_env":172,"../util":176,"./conv_util":126,"./operation":137}],126:[function(e,t,n){"use strict";function r(e,t,n,r,a,i){void 0===i&&(i="channelsLast");var u,l=s(t),c=l[0],p=l[1];if("channelsLast"===i)u=[c,p,e[3],e[3]];else{if("channelsFirst"!==i)throw new Error("Unknown dataFormat "+i);u=[c,p,e[1],e[1]]}var f=1;return o(e,u,n,f,r,a,!1,i)}function o(e,t,n,r,o,a,i,c){void 0===i&&(i=!1),void 0===c&&(c="channelsLast");var p=[-1,-1,-1,-1],f=p[0],h=p[1],d=p[2],m=p[3];if("channelsLast"===c)f=e[0],h=e[1],d=e[2],m=e[3];else{if("channelsFirst"!==c)throw new Error("Unknown dataFormat "+c);f=e[0],m=e[1],h=e[2],d=e[3]}var g,v=t[0],y=t[1],x=t[3],b=s(n),_=b[0],w=b[1],T=s(r),P=T[0],N=T[1],S=u(v,P),E=u(y,N),k=l(o,h,d,_,w,S,E,a),A=k.padInfo,O=k.outHeight,I=k.outWidth,C=i?x*m:x;return"channelsFirst"===c?g=[f,C,O,I]:"channelsLast"===c&&(g=[f,O,I,C]),{batchSize:f,dataFormat:c,inHeight:h,inWidth:d,inChannels:m,outHeight:O,outWidth:I,outChannels:C,padInfo:A,strideHeight:_,strideWidth:w,filterHeight:v,filterWidth:y,dilationHeight:P,dilationWidth:N,inShape:e,outShape:g,filterShape:t}}function a(e,t,n,r,o,a){null==o&&(o=i(e,t,r));var s=e[0],u=e[1],l=c((s-t+2*o)/r+1,a);p.assert(p.isInt(l),"The output # of rows ("+l+") must be an integer. Change the stride and/or zero pad parameters");var f=c((u-t+2*o)/r+1,a);return p.assert(p.isInt(f),"The output # of columns ("+f+") must be an integer. Change the stride and/or zero pad parameters"),[l,f,n]}function i(e,t,n,r){void 0===r&&(r=1);var o=u(t,r);return Math.floor((e[0]*(n-1)-n+o)/2)}function s(e){return"number"==typeof e?[e,e]:e}function u(e,t){return t<=1?e:e+(e-1)*(t-1)}function l(e,t,n,r,o,i,s,u){var l,c,p;if("number"==typeof e){var f=0===e?"VALID":"NUMBER";l={top:e,bottom:e,left:e,right:e,type:f};var h=a([t,n,1],i,1,r,e,u);c=h[0],p=h[1]}else if("same"===e){c=Math.ceil(t/r),p=Math.ceil(n/o);var d=(c-1)*r+i-t,m=(p-1)*o+s-n,g=Math.floor(d/2),v=d-g,y=Math.floor(m/2),x=m-y;l={top:g,bottom:v,left:y,right:x,type:"SAME"}}else{if("valid"!==e)throw Error("Unknown padding parameter: "+e);l={top:0,bottom:0,left:0,right:0,type:"VALID"},c=Math.ceil((t-i+1)/r),p=Math.ceil((n-s+1)/o)}return{padInfo:l,outHeight:c,outWidth:p}}function c(e,t){if(!t)return e;switch(t){case"round":return Math.round(e);case"ceil":return Math.ceil(e);case"floor":return Math.floor(e);default:throw new Error("Unknown roundingMode "+t)}}Object.defineProperty(n,"__esModule",{value:!0});var p=e("../util");n.computePool2DInfo=r,n.computeConv2DInfo=o,n.computeDefaultPad=i},{"../util":176}],127:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ERF_P=.3275911,n.ERF_A1=.254829592,n.ERF_A2=-.284496736,n.ERF_A3=1.421413741,n.ERF_A4=-1.453152027,n.ERF_A5=1.061405429},{}],128:[function(e,t,n){"use strict";function r(e,t,n){void 0===n&&(n=!1);var r=f.convertToTensor(e,"images","resizeBilinear");h.assert(3===r.rank||4===r.rank,"Error in resizeBilinear: x must be rank 3 or 4, but got "+("rank "+r.rank+".")),h.assert(2===t.length,"Error in resizeBilinear: new shape must 2D, but got shape "+(t+"."));var o=r,a=!1;3===r.rank&&(a=!0,o=r.as4D(1,r.shape[0],r.shape[1],r.shape[2]));var i=t[0],s=t[1],u=function(e,t){return e.resizeBilinear(o,i,s,n)},l=function(e,t){return{batchImages:function(){return c.ENV.engine.runKernel(function(t){return t.resizeBilinearBackprop(e,o,n)},{})}}},p=c.ENV.engine.runKernel(u,{batchImages:o},l);return a?p.as3D(p.shape[1],p.shape[2],p.shape[3]):p}function o(e,t,n){void 0===n&&(n=!1);var r=f.convertToTensor(e,"images","resizeNearestNeighbor");h.assert(3===r.rank||4===r.rank,"Error in resizeNearestNeighbor: x must be rank 3 or 4, but got "+("rank "+r.rank+".")),h.assert(2===t.length,"Error in resizeNearestNeighbor: new shape must 2D, but got shape "+(t+".")),h.assert("float32"===r.dtype||"int32"===r.dtype,"`images` must have `int32` or `float32` as dtype");var o=r,a=!1;3===r.rank&&(a=!0,o=r.as4D(1,r.shape[0],r.shape[1],r.shape[2]));var i=t[0],s=t[1],u=function(e,t){return e.resizeNearestNeighbor(o,i,s,n)},l=function(e,t){return{batchImages:function(){return c.ENV.engine.runKernel(function(t){return t.resizeNearestNeighborBackprop(e,o,n)},{})}}},p=c.ENV.engine.runKernel(u,{batchImages:o},l);return a?p.as3D(p.shape[1],p.shape[2],p.shape[3]):p}function a(e,t,n,r,o){void 0===r&&(r=.5),void 0===o&&(o=Number.NEGATIVE_INFINITY);var a=f.convertToTensor(e,"boxes","nonMaxSuppression"),i=f.convertToTensor(t,"scores","nonMaxSuppression"),u=s(a,i,n,r,o);return n=u.maxOutputSize,r=u.iouThreshold,o=u.scoreThreshold,c.ENV.engine.runKernel(function(e){return e.nonMaxSuppression(a,i,n,r,o)},{$boxes:a})}function i(e,t,n,r,o){return void 0===r&&(r=.5),void 0===o&&(o=Number.NEGATIVE_INFINITY),u(this,void 0,void 0,function(){var a,i,u,c,h,d;return l(this,function(l){switch(l.label){case 0:return a=f.convertToTensor(e,"boxes","nonMaxSuppressionAsync"),i=f.convertToTensor(t,"scores","nonMaxSuppressionAsync"),u=s(a,i,n,r,o),n=u.maxOutputSize,r=u.iouThreshold,o=u.scoreThreshold,[4,a.data()];case 1:return c=l.sent(),[4,i.data()];case 2:return h=l.sent(),d=p.nonMaxSuppressionImpl(c,h,n,r,o),a!==e&&a.dispose(),i!==t&&i.dispose(),[2,d]}})})}function s(e,t,n,r,o){null==r&&(r=.5),null==o&&(o=Number.NEGATIVE_INFINITY);var a=e.shape[0];return n=Math.min(n,a),h.assert(0<=r&&r<=1,"iouThreshold must be in [0, 1], but was '"+r+"'"),h.assert(2===e.rank,"boxes must be a 2D tensor, but was of rank '"+e.rank+"'"),h.assert(4===e.shape[1],"boxes must have 4 columns, but 2nd dimension was "+e.shape[1]),h.assert(1===t.rank,"scores must be a 1D tensor"),h.assert(t.shape[0]===a,"scores has incompatible shape with boxes. Expected "+a+", but was "+t.shape[0]),{maxOutputSize:n,iouThreshold:r,scoreThreshold:o}}var u=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,s)}u((r=r.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{
if(o=1,a&&(i=2&n[0]?a.return:n[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,n[1])).done)return i;switch(a=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,a=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(i=u.trys,!(i=i.length>0&&i[i.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){u.label=n[1];break}if(6===n[0]&&u.label<i[1]){u.label=i[1],i=n;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(n);break}i[2]&&u.ops.pop(),u.trys.pop();continue}n=t.call(e,u)}catch(e){n=[6,e],a=0}finally{o=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,a,i,s,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(n,"__esModule",{value:!0});var c=e("../environment"),p=e("../kernels/non_max_suppression_impl"),f=e("../tensor_util_env"),h=e("../util"),d=e("./operation");n.resizeBilinear=d.op({resizeBilinear_:r}),n.resizeNearestNeighbor=d.op({resizeNearestNeighbor_:o}),n.nonMaxSuppression=d.op({nonMaxSuppression_:a}),n.nonMaxSuppressionAsync=i},{"../environment":51,"../kernels/non_max_suppression_impl":70,"../tensor_util_env":172,"../util":176,"./operation":137}],129:[function(e,t,n){"use strict";function r(e){var t;if(Array.isArray(e)){t=!1,u.assert(null!=e&&e.length>0,"Gram-Schmidt process: input must not be null, undefined, or empty");for(var n=e[0].shape[0],r=1;r<e.length;++r)u.assert(e[r].shape[0]===n,"Gram-Schmidt: Non-unique lengths found in the input vectors: "+("("+e[r].shape[0]+" vs. "+n+")"))}else t=!0,e=l.split(e,e.shape[0],0).map(function(e){return l.squeeze(e,[0])});u.assert(e.length<=e[0].shape[0],"Gram-Schmidt: Number of vectors ("+e.length+") exceeds "+("number of dimensions ("+e[0].shape[0]+")."));for(var o=[],a=e,s=function(e){o.push(i.ENV.engine.tidy(function(){var t=a[e];if(e>0)for(var n=0;n<e;++n){var r=f.sum(o[n].mulStrict(t)).mul(o[n]);t=t.sub(r)}return t.div(c.norm(t,"euclidean"))}))},r=0;r<e.length;++r)s(r);return t?l.stack(o,0):o}function o(e,t){if(void 0===t&&(t=!1),e.rank<2)throw new Error("qr() requires input tensor to have a rank >= 2, but got rank "+e.rank);if(2===e.rank)return a(e,t);var n=e.shape.slice(0,e.shape.length-2).reduce(function(e,t){return e*t}),r=l.unstack(e.reshape([n,e.shape[e.shape.length-2],e.shape[e.shape.length-1]]),0),o=[],i=[];r.forEach(function(e){var n=a(e,t),r=n[0],s=n[1];o.push(r),i.push(s)});var s=l.stack(o,0).reshape(e.shape),u=l.stack(i,0).reshape(e.shape);return[s,u]}function a(e,t){return void 0===t&&(t=!1),i.ENV.engine.tidy(function(){if(2!==e.shape.length)throw new Error("qr2d() requires a 2D Tensor, but got a "+e.shape.length+"D Tensor.");for(var n=e.shape[0],r=e.shape[1],o=l.eye(n),a=e.clone(),u=h.tensor2d([[1]],[1,1]),c=u.clone(),p=n>=r?r:n,f=function(e){var t,l=a,p=c,f=o;t=i.ENV.engine.tidy(function(){var t=a.slice([e,e],[n-e,1]),i=t.norm(),s=a.slice([e,e],[1,1]),l=s.sign().neg(),p=s.sub(l.mul(i)),f=t.div(p);c=1===f.shape[0]?u.clone():u.concat(f.slice([1,0],[f.shape[0]-1,f.shape[1]]),0);var h=l.matMul(p).div(i).neg(),d=a.slice([e,0],[n-e,r]),m=h.mul(c);a=0===e?d.sub(m.matMul(c.transpose().matMul(d))):a.slice([0,0],[e,r]).concat(d.sub(m.matMul(c.transpose().matMul(d))),0);var g=o.slice([0,e],[n,o.shape[1]-e]);return o=0===e?g.sub(g.matMul(c).matMul(m.transpose())):o.slice([0,0],[n,e]).concat(g.sub(g.matMul(c).matMul(m.transpose())),1),[c,a,o]}),c=t[0],a=t[1],o=t[2],s.dispose([l,p,f])},d=0;d<p;++d)f(d);return!t&&n>r&&(o=o.slice([0,0],[n,r]),a=a.slice([0,0],[r,r])),[o,a]})}Object.defineProperty(n,"__esModule",{value:!0});var i=e("../environment"),s=e("../globals"),u=e("../util"),l=e("./array_ops"),c=e("./norm"),p=e("./operation"),f=e("./reduction_ops"),h=e("./tensor_ops");n.gramSchmidt=p.op({gramSchmidt_:r}),n.qr=p.op({qr_:o})},{"../environment":51,"../globals":53,"../util":176,"./array_ops":116,"./norm":136,"./operation":137,"./reduction_ops":142,"./tensor_ops":152}],130:[function(e,t,n){"use strict";function r(e){var t=h.convertToTensor(e,"x","logicalNot","bool");return d.assert("bool"===t.dtype,"Error Array must be of type bool."),p.ENV.engine.runKernel(function(e){return e.logicalNot(t)},{$x:t})}function o(e,t){var n=h.convertToTensor(e,"a","logicalAnd","bool"),r=h.convertToTensor(t,"b","logicalAnd","bool");return d.assert("bool"===n.dtype&&"bool"===r.dtype,"Error Array must be of type bool."),m.assertAndGetBroadcastShape(n.shape,r.shape),p.ENV.engine.runKernel(function(e){return e.logicalAnd(n,r)},{$a:n,$b:r})}function a(e,t){var n=h.convertToTensor(e,"a","logicalOr","bool"),r=h.convertToTensor(t,"b","logicalOr","bool");return d.assert("bool"===n.dtype&&"bool"===r.dtype,"Error Array must be of type bool."),m.assertAndGetBroadcastShape(n.shape,r.shape),p.ENV.engine.runKernel(function(e){return e.logicalOr(n,r)},{$a:n,$b:r})}function i(e,t){var r=h.convertToTensor(e,"a","logicalXor","bool"),o=h.convertToTensor(t,"b","logicalXor","bool");return d.assert("bool"===r.dtype&&"bool"===o.dtype,"Error Array must be of type bool."),m.assertAndGetBroadcastShape(r.shape,o.shape),n.logicalOr(e,t).logicalAnd(n.logicalAnd(e,t).logicalNot())}function s(e,t,n){var r=h.convertToTensor(t,"a","where"),o=h.convertToTensor(n,"b","where"),a=h.convertToTensor(e,"condition","where","bool");d.assert("bool"===a.dtype,"Error Condition must be of type bool."),d.assertShapesMatch(r.shape,o.shape,"Error in where: "),1===a.rank?d.assert(a.shape[0]===r.shape[0],"The first dimension of `a` must match the size of `condition`."):d.assertShapesMatch(a.shape,o.shape,"Error in where: ");var i=function(e){return{$condition:function(){return v.zerosLike(a)},$a:function(){return e.mul(a.cast(r.dtype))},$b:function(){return e.mul(a.logicalNot().cast(o.dtype))}}};return p.ENV.engine.runKernel(function(e){return e.select(a,r,o)},{$condition:a,$a:r,$b:o},i)}function u(e){return l(this,void 0,void 0,function(){var t,n,r;return c(this,function(o){switch(o.label){case 0:return t=h.convertToTensor(e,"condition","where","bool"),d.assert("bool"===t.dtype,"Condition must be of type bool."),[4,t.data()];case 1:return n=o.sent(),r=f.whereImpl(t.shape,n),e!==t&&t.dispose(),[2,r]}})})}var l=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,s)}u((r=r.apply(e,t||[])).next())})},c=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,a&&(i=2&n[0]?a.return:n[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,n[1])).done)return i;switch(a=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,a=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(i=u.trys,!(i=i.length>0&&i[i.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){u.label=n[1];break}if(6===n[0]&&u.label<i[1]){u.label=i[1],i=n;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(n);break}i[2]&&u.ops.pop(),u.trys.pop();continue}n=t.call(e,u)}catch(e){n=[6,e],a=0}finally{o=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,a,i,s,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(n,"__esModule",{value:!0});var p=e("../environment"),f=e("../kernels/where_impl"),h=e("../tensor_util_env"),d=e("../util"),m=e("./broadcast_util"),g=e("./operation"),v=e("./tensor_ops");n.logicalAnd=g.op({logicalAnd_:o}),n.logicalNot=g.op({logicalNot_:r}),n.logicalOr=g.op({logicalOr_:a}),n.logicalXor=g.op({logicalXor_:i}),n.where=g.op({where_:s}),n.whereAsync=u},{"../environment":51,"../kernels/where_impl":114,"../tensor_util_env":172,"../util":176,"./broadcast_util":121,"./operation":137,"./tensor_ops":152}],131:[function(e,t,n){"use strict";function r(e,t,n){void 0===n&&(n=d.SUM_BY_NONZERO_WEIGHTS);var r=g.convertToTensor(e,"losses","computeWeightedLoss"),o=null;null!=t&&(o=g.convertToTensor(t,"weights","computeWeightedLoss"));var a=null==o?r:r.mul(o);if(n===d.NONE)return a;if(n===d.SUM)return a.sum();if(n===d.MEAN){if(null==o)return a.mean();var i=v.sizeFromShape(r.shape)/v.sizeFromShape(o.shape),s=a.sum().div(o.sum());return i>1?s.div(_.scalar(i)):s}if(n===d.SUM_BY_NONZERO_WEIGHTS){if(null==o)return a.sum().div(_.scalar(r.size));var u=o.mul(_.ones(r.shape)),l=u.notEqual(_.scalar(0)).sum().toFloat();return a.sum().div(l)}throw Error("Unknown reduction: "+n)}function o(e,t,r,o){void 0===o&&(o=d.SUM_BY_NONZERO_WEIGHTS);var a=g.convertToTensor(e,"labels","absoluteDifference"),i=g.convertToTensor(t,"predictions","absoluteDifference"),s=null;null!=r&&(s=g.convertToTensor(r,"weights","absoluteDifference")),v.assertShapesMatch(a.shape,i.shape,"Error in absoluteDifference: ");var u=a.sub(i).abs();return n.computeWeightedLoss(u,s,o)}function a(e,t,r,o){void 0===o&&(o=d.SUM_BY_NONZERO_WEIGHTS);var a=g.convertToTensor(e,"labels","meanSquaredError"),i=g.convertToTensor(t,"predictions","meanSquaredError"),s=null;null!=r&&(s=g.convertToTensor(r,"weights","meanSquaredError")),v.assertShapesMatch(a.shape,i.shape,"Error in meanSquaredError: ");var u=a.squaredDifference(i);return n.computeWeightedLoss(u,s,o)}function i(e,t,r,o,a){void 0===a&&(a=d.SUM_BY_NONZERO_WEIGHTS);var i=g.convertToTensor(e,"labels","cosineDistance"),s=g.convertToTensor(t,"predictions","cosineDistance"),u=null;null!=o&&(u=g.convertToTensor(o,"weights","cosineDistance")),v.assertShapesMatch(i.shape,s.shape,"Error in cosineDistance: ");var l=_.scalar(1),c=l.sub(i.mul(s).sum(r,!0));return n.computeWeightedLoss(c,u,a)}function s(e,t,r,o){void 0===o&&(o=d.SUM_BY_NONZERO_WEIGHTS);var a=g.convertToTensor(e,"labels","hingeLoss"),i=g.convertToTensor(t,"predictions","hingeLoss"),s=null;null!=r&&(s=g.convertToTensor(r,"weights","hingeLoss")),v.assertShapesMatch(a.shape,i.shape,"Error in hingeLoss: ");var u=_.scalar(1);a=_.scalar(2).mul(a).sub(u);var l=u.sub(a.mul(i)).relu();return n.computeWeightedLoss(l,s,o)}function u(e,t,r,o,a){void 0===o&&(o=1e-7),void 0===a&&(a=d.SUM_BY_NONZERO_WEIGHTS);var i=g.convertToTensor(e,"labels","logLoss"),s=g.convertToTensor(t,"predictions","logLoss"),u=null;null!=r&&(u=g.convertToTensor(r,"weights","logLoss")),v.assertShapesMatch(i.shape,s.shape,"Error in logLoss: ");var l=_.scalar(1),c=_.scalar(o),p=i.mul(s.add(c).log()).neg().sub(l.sub(i).mul(l.sub(s).add(c).log()));return n.computeWeightedLoss(p,u,a)}function l(e,t){var n=g.convertToTensor(e,"labels","sigmoidCrossEntropyWithLogits"),r=g.convertToTensor(t,"logits","sigmoidCrossEntropyWithLogits");v.assertShapesMatch(n.shape,r.shape,"Error in sigmoidCrossEntropyWithLogits: ");var o=r.relu(),a=r.mul(n),i=r.abs().neg().exp().log1p();return o.sub(a).add(i)}function c(e,t,r,o,a){void 0===o&&(o=0),void 0===a&&(a=d.SUM_BY_NONZERO_WEIGHTS);var i=g.convertToTensor(e,"multiClassLabels","sigmoidCrossEntropy"),s=g.convertToTensor(t,"logits","sigmoidCrossEntropy"),u=null;if(null!=r&&(u=g.convertToTensor(r,"weights","sigmoidCrossEntropy")),v.assertShapesMatch(i.shape,s.shape,"Error in sigmoidCrossEntropy: "),o>0){var c=_.scalar(o),p=_.scalar(1),f=_.scalar(.5);i=i.mul(p.sub(c)).add(f.mul(c))}var h=l(i,s);return n.computeWeightedLoss(h,u,a)}function p(e,t,r,o,a){void 0===o&&(o=1),void 0===a&&(a=d.SUM_BY_NONZERO_WEIGHTS);var i=g.convertToTensor(e,"labels","huberLoss"),s=g.convertToTensor(t,"predictions","huberLoss"),u=null;null!=r&&(u=g.convertToTensor(r,"weights","huberLoss")),v.assertShapesMatch(i.shape,s.shape,"Error in huberLoss: ");var l=_.scalar(o),c=s.sub(i).abs(),p=x.minimum(c,l),f=c.sub(p),h=_.scalar(.5).mul(p.square()).add(l.mul(f));return n.computeWeightedLoss(h,u,a)}function f(e,t,n){if(void 0===n&&(n=-1),n===-1&&(n=t.rank-1),n!==t.rank-1)throw Error("Softmax cross entropy along a non-last dimension is not yet "+("supported. Labels / logits was rank "+t.rank+" ")+("and dim was "+n));var r=m.customGrad(function(e,t){var r=!0,o=t.logSumExp([n],r),a=t.toFloat().sub(o),i=a.mul(e).neg(),s=i.sum([n]),u=function(t){var r=y.expandShapeToKeepDim(t.shape,[n]);return[t.reshape(r).mul(e.toFloat().sub(a.exp())),t.reshape(r).mul(a.exp().sub(e.toFloat()))]};return{value:s,gradFunc:u}});return r(e,t)}function h(e,t,r,o,a){void 0===o&&(o=0),void 0===a&&(a=d.SUM_BY_NONZERO_WEIGHTS);var i=g.convertToTensor(e,"onehotLabels","softmaxCrossEntropy"),s=g.convertToTensor(t,"logits","softmaxCrossEntropy"),u=null;if(null!=r&&(u=g.convertToTensor(r,"weights","softmaxCrossEntropy")),v.assertShapesMatch(i.shape,s.shape,"Error in softmaxCrossEntropy: "),o>0){var l=_.scalar(o),c=_.scalar(1),p=_.scalar(i.shape[1]);i=i.mul(c.sub(l)).add(l.div(p))}var h=f(i,s);return n.computeWeightedLoss(h,u,a)}Object.defineProperty(n,"__esModule",{value:!0});var d,m=e("../globals"),g=e("../tensor_util_env"),v=e("../util"),y=e("./axis_util"),x=e("./binary_ops"),b=e("./operation"),_=e("./tensor_ops");!function(e){e[e.NONE=0]="NONE",e[e.MEAN=1]="MEAN",e[e.SUM=2]="SUM",e[e.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"}(d=n.Reduction||(n.Reduction={})),n.absoluteDifference=b.op({absoluteDifference_:o}),n.computeWeightedLoss=b.op({computeWeightedLoss_:r}),n.cosineDistance=b.op({cosineDistance_:i}),n.hingeLoss=b.op({hingeLoss_:s}),n.huberLoss=b.op({huberLoss_:p}),n.logLoss=b.op({logLoss_:u}),n.meanSquaredError=b.op({meanSquaredError_:a}),n.sigmoidCrossEntropy=b.op({sigmoidCrossEntropy_:c}),n.softmaxCrossEntropy=b.op({softmaxCrossEntropy_:h})},{"../globals":53,"../tensor_util_env":172,"../util":176,"./axis_util":118,"./binary_ops":120,"./operation":137,"./tensor_ops":152}],132:[function(e,t,n){"use strict";function r(e,t,n,r,s){void 0===t&&(t=5),void 0===n&&(n=1),void 0===r&&(r=1),void 0===s&&(s=.5);var u=a.convertToTensor(e,"x","localResponseNormalization");i.assert(4===u.rank||3===u.rank,"Error in localResponseNormalization: x must be rank 3 or 4 but got\n               rank "+u.rank+"."),i.assert(i.isInt(t),"Error in localResponseNormalization: depthRadius must be an integer\n                     but got depthRadius "+t+".");var l=u,c=!1;3===u.rank&&(c=!0,l=u.as4D(1,u.shape[0],u.shape[1],u.shape[2]));var p=function(e,a){var i=a[0];return{x4D:function(){return o.ENV.engine.runKernel(function(o){return o.LRNGrad(e,l,i,t,n,r,s)},{})}}},f=o.ENV.engine.runKernel(function(e,o){return o(e.localResponseNormalization4D(l,t,n,r,s))},{x4D:l},p);return c?f.as3D(f.shape[1],f.shape[2],f.shape[3]):f}Object.defineProperty(n,"__esModule",{value:!0});var o=e("../environment"),a=e("../tensor_util_env"),i=e("../util"),s=e("./operation");n.localResponseNormalization=s.op({localResponseNormalization_:r})},{"../environment":51,"../tensor_util_env":172,"../util":176,"./operation":137}],133:[function(e,t,n){"use strict";function r(e,t,n,r){for(var o=a.convertToTensor(t,"data","multiRNNCell"),i=a.convertToTensorArray(n,"c","multiRNNCell"),s=a.convertToTensorArray(r,"h","multiRNNCell"),u=o,l=[],c=0;c<e.length;c++){var p=e[c](u,i[c],s[c]);l.push(p[0]),l.push(p[1]),u=p[1]}for(var f=[],h=[],c=0;c<l.length;c+=2)f.push(l[c]),h.push(l[c+1]);return[f,h]}function o(e,t,n,r,o,i){var s=a.convertToTensor(e,"forgetBias","basicLSTMCell"),u=a.convertToTensor(t,"lstmKernel","basicLSTMCell"),l=a.convertToTensor(n,"lstmBias","basicLSTMCell"),c=a.convertToTensor(r,"data","basicLSTMCell"),p=a.convertToTensor(o,"c","basicLSTMCell"),f=a.convertToTensor(i,"h","basicLSTMCell"),h=c.concat(f,1),d=h.matMul(u),m=d.add(l),g=m.shape[0],v=m.shape[1]/4,y=[g,v],x=m.slice([0,0],y),b=m.slice([0,v],y),_=m.slice([0,2*v],y),w=m.slice([0,3*v],y),T=x.sigmoid().mulStrict(b.tanh()).addStrict(p.mulStrict(s.add(_).sigmoid())),P=T.tanh().mulStrict(w.sigmoid());return[T,P]}Object.defineProperty(n,"__esModule",{value:!0});var a=e("../tensor_util_env"),i=e("./operation");n.basicLSTMCell=i.op({basicLSTMCell_:o}),n.multiRNNCell=i.op({multiRNNCell_:r})},{"../tensor_util_env":172,"./operation":137}],134:[function(e,t,n){"use strict";function r(e,t,n,r){void 0===n&&(n=!1),void 0===r&&(r=!1);var o=s.convertToTensor(e,"a","matMul"),a=s.convertToTensor(t,"b","matMul"),l=n?o.shape[0]:o.shape[1],c=r?a.shape[1]:a.shape[0];u.assert(2===o.rank&&2===a.rank,"Error in matMul: inputs must be rank 2, got ranks "+o.rank+(" and "+a.rank+".")),u.assert(l===c,"Error in matMul: inner shapes ("+l+") and ("+(c+") of Tensors with shapes "+o.shape+" and ")+(a.shape+" and transposeA="+n)+(" and transposeB="+r+" must match."));var p=function(e){return n||r?!n&&r?{$a:function(){return e.matMul(a.toFloat(),!1,!1)},$b:function(){return e.matMul(o.toFloat(),!0,!1)}}:n&&!r?{$a:function(){return a.toFloat().matMul(e,!1,!0)},$b:function(){return o.toFloat().matMul(e,!1,!1)}}:{$a:function(){return a.toFloat().matMul(e,!0,!0)},$b:function(){return e.matMul(o.toFloat(),!0,!0)}}:{$a:function(){return e.matMul(a.toFloat(),!1,!0)},$b:function(){return o.toFloat().matMul(e,!0,!1)}}};return i.ENV.engine.runKernel(function(e){return e.matMul(o,a,n,r)},{$a:o,$b:a},p)}function o(e,t){var n=s.convertToTensor(e,"v1","outerProduct"),r=s.convertToTensor(t,"v2","outerProduct");return u.assert(1===n.rank&&1===r.rank,"Error in outerProduct: inputs must be rank 1, but got ranks "+(n.rank+" and "+r.rank+".")),n.as2D(-1,1).matMul(r.as2D(1,-1))}function a(e,t){var n=s.convertToTensor(e,"t1","dot"),r=s.convertToTensor(t,"t2","dot");u.assert(!(1!==n.rank&&2!==n.rank||1!==r.rank&&2!==r.rank),"Error in dot: inputs must all be rank 1 or 2, but got ranks "+(n.rank+" and "+r.rank+"."));var o=1===n.rank?n.size:n.shape[1],a=1===r.rank?r.size:r.shape[0];return u.assert(o===a,"Error in dot: inner dimensions of inputs must match, but got "+(o+" and "+a+".")),1===n.rank&&1===r.rank?n.as2D(1,-1).matMul(r.as2D(-1,1)).asScalar():1===n.rank&&2===r.rank?n.as2D(1,-1).matMul(r.as2D(r.shape[0],r.shape[1])).as1D():2===n.rank&&1===r.rank?n.matMul(r.as2D(-1,1)).as1D():n.matMul(r.as2D(r.shape[0],r.shape[1]))}Object.defineProperty(n,"__esModule",{value:!0});var i=e("../environment"),s=e("../tensor_util_env"),u=e("../util"),l=e("./operation");n.matMul=l.op({matMul_:r}),n.dot=l.op({dot_:a}),n.outerProduct=l.op({outerProduct_:o})},{"../environment":51,"../tensor_util_env":172,"../util":176,"./operation":137}],135:[function(e,t,n){"use strict";function r(e,t,n,r,u){void 0===u&&(u=!0);var c=a.convertToTensor(e,"v","movingAverage"),p=a.convertToTensor(t,"x","movingAverage"),f=a.convertToTensor(n,"decay","movingAverage");o.assertTypesMatch(c,p),i.assert(i.arraysEqual(c.shape,p.shape),"Shape mismatch in v and x");var h=l.scalar(1),d=h.sub(f),m=p.sub(c).mul(d);if(u){i.assert(null!=r,"When using zeroDebias: true, step is required.");var g=a.convertToTensor(r,"step","movingAverage");m=m.div(h.sub(s.pow(f,g)))}return c.add(m)}Object.defineProperty(n,"__esModule",{value:!0});var o=e("../tensor_util"),a=e("../tensor_util_env"),i=e("../util"),s=e("./binary_ops"),u=e("./operation"),l=e("./tensor_ops");n.movingAverage=u.op({movingAverage_:r})},{"../tensor_util":171,"../tensor_util_env":172,"../util":176,"./binary_ops":120,"./operation":137,"./tensor_ops":152}],136:[function(e,t,n){"use strict";function r(e,t,n,r){void 0===t&&(t="euclidean"),void 0===n&&(n=null),void 0===r&&(r=!1),e=a.convertToTensor(e,"x","norm");var s=o(e,t,n),u=s.shape;if(r){var l=i.parseAxisParam(n,e.shape);u=i.expandShapeToKeepDim(s.shape,l)}return s.reshape(u)}function o(e,t,n){if(void 0===n&&(n=null),0===e.rank)return e.abs();if(1!==e.rank&&null===n)return o(e.reshape([-1]),t,n);if(1===e.rank||"number"==typeof n||n instanceof Array&&1===n.length){if(1===t)return e.abs().sum(n);if(t===1/0)return e.abs().max(n);if(t===-(1/0))return e.abs().min(n);if("euclidean"===t||2===t)return e.abs().pow(u.scalar(2,"int32")).sum(n).sqrt();throw new Error("Error in norm: invalid ord value: "+t)}if(n instanceof Array&&2===n.length){if(1===t)return e.abs().sum(n[0]).max(n[1]-1);if(t===1/0)return e.abs().sum(n[1]).max(n[0]);if(t===-(1/0))return e.abs().sum(n[1]).min(n[0]);if("fro"===t||"euclidean"===t)return e.square().sum(n).sqrt();throw new Error("Error in norm: invalid ord value: "+t)}throw new Error("Error in norm: invalid axis: "+n)}Object.defineProperty(n,"__esModule",{value:!0});var a=e("../tensor_util_env"),i=e("./axis_util"),s=e("./operation"),u=e("./tensor_ops");n.norm=s.op({norm_:r})},{"../tensor_util_env":172,"./axis_util":118,"./operation":137,"./tensor_ops":152}],137:[function(e,t,n){"use strict";function r(e){var t=Object.keys(e);if(1!==t.length)throw new Error("Please provide an object with a single key (operation name) mapping to a function. Got an object with "+(t.length+" keys."));var n=t[0],r=e[n];n.endsWith("_")&&(n=n.substring(0,n.length-1));var a=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];o.ENV.engine.startScope(n);try{var a=r.apply(void 0,e);return a instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),o.ENV.engine.endScope(a),a}catch(e){throw o.ENV.engine.endScope(null),e}};return Object.defineProperty(a,"name",{value:n,configurable:!0}),a}Object.defineProperty(n,"__esModule",{value:!0});var o=e("../environment");n.op=r},{"../environment":51}],138:[function(e,t,n){"use strict";function r(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}Object.defineProperty(n,"__esModule",{value:!0}),r(e("./batchnorm")),r(e("./concat")),r(e("./conv")),r(e("./matmul")),r(e("./reverse")),r(e("./pool")),r(e("./slice")),r(e("./unary_ops")),r(e("./reduction_ops")),r(e("./compare")),r(e("./binary_ops")),r(e("./relu_ops")),r(e("./logical_ops")),r(e("./array_ops")),r(e("./tensor_ops")),r(e("./transpose")),r(e("./softmax")),r(e("./lrn")),r(e("./norm")),r(e("./segment_ops")),r(e("./lstm")),r(e("./moving_average")),r(e("./strided_slice")),r(e("./topk"));var o=e("./operation");n.op=o.op;var a=e("./loss_ops");n.losses=a;var i=e("./linalg_ops");n.linalg=i;var s=e("./image_ops");n.image=s},{"./array_ops":116,"./batchnorm":119,"./binary_ops":120,"./compare":122,"./concat":123,"./conv":125,"./image_ops":128,"./linalg_ops":129,"./logical_ops":130,"./loss_ops":131,"./lrn":132,"./lstm":133,"./matmul":134,"./moving_average":135,"./norm":136,"./operation":137,"./pool":139,"./reduction_ops":142,"./relu_ops":143,"./reverse":144,"./segment_ops":145,"./slice":148,"./softmax":150,"./strided_slice":151,"./tensor_ops":152,"./topk":153,"./transpose":154,"./unary_ops":155}],139:[function(e,t,n){"use strict";function r(e,t,n,r,o){var i=u.convertToTensor(e,"x","maxPool"),p=i,f=!1;3===i.rank&&(f=!0,p=i.as4D(1,i.shape[0],i.shape[1],i.shape[2])),l.assert(4===p.rank,"Error in maxPool: input must be rank 4 but got rank "+p.rank+"."),null!=o&&l.assert(l.isInt(r),"Error in maxPool: pad must be an integer when using, "+("dimRoundingMode "+o+" but got pad "+r+"."));var h=c.computePool2DInfo(p.shape,t,n,r,o),d=function(e,o){var i=o[0];return{x:function(){return a(e,p,i,t,n,r)}}},m=s.ENV.engine.runKernel(function(e,t){return t(e.maxPool(p,h))},{x:p},d);return f?m.as3D(m.shape[1],m.shape[2],m.shape[3]):m}function o(e,t,n,r,o){var a=u.convertToTensor(e,"x","avgPool");l.assert("float32"===a.dtype,"The input dtype to avgPool must be float32");var p=a,f=!1;3===a.rank&&(f=!0,p=a.as4D(1,a.shape[0],a.shape[1],a.shape[2])),l.assert(4===p.rank,"Error in avgPool: x must be rank 4 but got rank "+p.rank+"."),null!=o&&l.assert(l.isInt(r),"Error in avgPool: pad must be an integer when using, "+("dimRoundingMode "+o+" but got pad "+r+"."));var h=c.computePool2DInfo(p.shape,t,n,r),d=function(e){return{x:function(){return i(e,p,t,n,r)}}},m=s.ENV.engine.runKernel(function(e){return e.avgPool(p,h)},{x:p},d);return m=m.cast(a.dtype),f?m.as3D(m.shape[1],m.shape[2],m.shape[3]):m}function a(e,t,n,r,o,a,i){var p=u.convertToTensor(e,"dy","maxPoolBackprop"),f=u.convertToTensor(t,"input","maxPoolBackprop"),h=u.convertToTensor(n,"output","maxPoolBackprop");l.assert(f.rank===p.rank,"Rank of input ("+f.rank+") does not match rank of dy ("+p.rank+")"),l.assert(4===p.rank,"Error in maxPoolBackprop: dy must be rank 4 but got rank "+(p.rank+".")),l.assert(4===f.rank,"Error in maxPoolBackprop: input must be rank 4 but got rank "+(f.rank+".")),null!=i&&l.assert(l.isInt(a),"Error in maxPoolBackprop: pad must be an integer when using, "+("dimRoundingMode "+i+" but got pad "+a+"."));var d=c.computePool2DInfo(f.shape,r,o,a,i),m=s.ENV.engine.runKernel(function(e){return e.maxPoolBackprop(p,f,h,d)},{$dy:p,$input:f});return m}function i(e,t,n,r,o){var a=u.convertToTensor(e,"dy","avgPoolBackprop"),i=u.convertToTensor(t,"input","avgPoolBackprop");l.assert(i.rank===a.rank,"Rank of input ("+i.rank+") does not match rank of dy ("+a.rank+")");var p=i,f=a,h=!1;3===i.rank&&(h=!0,p=i.as4D(1,i.shape[0],i.shape[1],i.shape[2]),f=a.as4D(1,a.shape[0],a.shape[1],a.shape[2])),l.assert(4===f.rank,"Error in avgPoolBackprop: dy must be rank 4 but got rank "+(f.rank+".")),l.assert(4===p.rank,"Error in avgPoolBackprop: input must be rank 4 but got rank "+(p.rank+"."));var d=c.computePool2DInfo(p.shape,n,r,o),m=s.ENV.engine.runKernel(function(e){return e.avgPoolBackprop(f,p,d)},{dy4D:f,input4D:p});return h?m.as3D(m.shape[1],m.shape[2],m.shape[3]):m}Object.defineProperty(n,"__esModule",{value:!0});var s=e("../environment"),u=e("../tensor_util_env"),l=e("../util"),c=e("./conv_util"),p=e("./operation");n.maxPool=p.op({maxPool_:r}),n.avgPool=p.op({avgPool_:o})},{"../environment":51,"../tensor_util_env":172,"../util":176,"./conv_util":126,"./operation":137}],140:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("seedrandom"),o=function(){function e(e,t,n,o,a){this.mean=e,this.stdDev=t,this.dtype=n,this.nextVal=NaN,this.truncated=o,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);var i=a?a:Math.random();this.random=r.alea(i.toString())}return e.prototype.nextValue=function(){if(!isNaN(this.nextVal)){var e=this.nextVal;return this.nextVal=NaN,e}for(var t,n,r=!1;!r;){var o=void 0,a=void 0,i=void 0;do o=2*this.random()-1,a=2*this.random()-1,i=o*o+a*a;while(i>=1||0===i);var s=Math.sqrt(-2*Math.log(i)/i);t=this.mean+this.stdDev*o*s,n=this.mean+this.stdDev*a*s,this.truncated&&!this.isValidTruncated(t)||(r=!0)}return this.truncated&&!this.isValidTruncated(n)||(this.nextVal=this.convertValue(n)),this.convertValue(t)},e.prototype.convertValue=function(e){return null==this.dtype||"float32"===this.dtype?e:Math.round(e)},e.prototype.isValidTruncated=function(e){return e<=this.upper&&e>=this.lower},e}();n.MPRandGauss=o},{seedrandom:203}],141:[function(e,t,n){"use strict";function r(e){return e<=n.PARALLELIZE_THRESHOLD?e:o.nearestDivisor(e,Math.floor(Math.sqrt(e)))}Object.defineProperty(n,"__esModule",{value:!0});var o=e("../util");n.PARALLELIZE_THRESHOLD=30,n.computeOptimalWindowSize=r},{"../util":176}],142:[function(e,t,n){"use strict";function r(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=m.convertToTensor(e,"x","logSumExp"),o=v.parseAxisParam(t,r.shape),a=r.max(o,!0),i=r.sub(a),s=i.exp(),u=s.sum(o),l=u.log(),c=a.reshape(l.shape).add(l);if(n){var p=v.expandShapeToKeepDim(c.shape,o);return c.reshape(p)}return c}function o(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=m.convertToTensor(e,"x","sum");"bool"===r.dtype&&(r=r.toInt());var o=v.parseAxisParam(t,r.shape),a=d.customGrad(function(e){var t=v.getAxesPermutation(o,e.rank),r=o,a=e;null!=t&&(a=e.transpose(t),r=v.getInnerMostAxes(r.length,e.rank));var i=h.ENV.engine.runKernel(function(e){return e.sum(a,r)},{permutedX:a});if(n){var s=v.expandShapeToKeepDim(i.shape,o);i=i.reshape(s)}var u=function(t){var n=e.shape.slice();o.forEach(function(e){n[e]=1});var r=t.reshape(n),a=r.mul(x.ones(e.shape,"float32"));return a};return{value:i,gradFunc:u}});return a(r)}function a(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=m.convertToTensor(e,"x","mean"),o=v.parseAxisParam(t,r.shape),a=v.computeOutAndReduceShapes(r.shape,o),i=a[1],s=g.sizeFromShape(i),u=d.customGrad(function(e){var r=x.scalar(s),a=r.dtype===e.dtype?e:e.cast(r.dtype),i=a.div(r),u=i.sum(t,n),l=function(t){var n=e.shape.slice();o.forEach(function(e){n[e]=1});var a=t.reshape(n),i=a.mul(x.ones(e.shape,"float32")).div(r);return i};return{value:u,gradFunc:l}});return u(r)}function i(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=m.convertToTensor(e,"x","min"),o=v.parseAxisParam(t,r.shape),a=o,i=v.getAxesPermutation(a,r.rank);null!=i&&(r=r.transpose(i),a=v.getInnerMostAxes(a.length,r.rank));var s=h.ENV.engine.runKernel(function(e){return e.min(r,a)},{$x:r});if(n){var u=v.expandShapeToKeepDim(s.shape,o);return s.reshape(u)}return s}function s(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=m.convertToTensor(e,"x","max"),o=v.parseAxisParam(t,r.shape),a=o,i=v.getAxesPermutation(a,r.rank);null!=i&&(r=r.transpose(i),a=v.getInnerMostAxes(a.length,r.rank));var s=h.ENV.engine.runKernel(function(e){return e.max(r,a)},{$x:r});if(n){var u=v.expandShapeToKeepDim(s.shape,o);return s.reshape(u)}return s}function u(e,t){void 0===t&&(t=0);var n=m.convertToTensor(e,"x","argMin");null==t&&(t=0);var r=v.parseAxisParam(t,n.shape),o=v.getAxesPermutation(r,n.rank);return null!=o&&(n=n.transpose(o),r=v.getInnerMostAxes(r.length,n.rank)),h.ENV.engine.runKernel(function(e){return e.argMin(n,r[0])},{$x:n})}function l(e,t){void 0===t&&(t=0);var n=m.convertToTensor(e,"x","argMax");null==t&&(t=0);var r=v.parseAxisParam(t,n.shape),o=v.getAxesPermutation(r,n.rank);return null!=o&&(n=n.transpose(o),r=v.getInnerMostAxes(r.length,n.rank)),h.ENV.engine.runKernel(function(e){return e.argMax(n,r[0])},{$x:n})}function c(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=m.convertToTensor(e,"x","all","bool");g.assert("bool"===r.dtype,"Error Tensor must be of type bool. Got: "+r.dtype);var o=v.parseAxisParam(t,r.shape),a=o,i=v.getAxesPermutation(a,r.rank);null!=i&&(r=r.transpose(i),a=v.getInnerMostAxes(a.length,r.rank));var s=h.ENV.engine.runKernel(function(e){return e.all(r,a)},{$x:r});if(n){var u=v.expandShapeToKeepDim(s.shape,o);return s.reshape(u)}return s}function p(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=m.convertToTensor(e,"x","any","bool");g.assert("bool"===r.dtype,"Error Tensor must be of type bool. Got: "+r.dtype);var o=v.parseAxisParam(t,r.shape),a=o,i=v.getAxesPermutation(a,r.rank);null!=i&&(r=r.transpose(i),a=v.getInnerMostAxes(a.length,r.rank));var s=h.ENV.engine.runKernel(function(e){return e.any(r,a)},{$x:r});if(n){var u=v.expandShapeToKeepDim(s.shape,o);return s.reshape(u)}return s}function f(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1),e=m.convertToTensor(e,"x","moments");var r=v.parseAxisParam(t,e.shape),o=e.mean(r,n),a=o.shape;n||(a=v.expandShapeToKeepDim(o.shape,r));var i=e.toFloat().sub(o.reshape(a)).square(),s=i.mean(r,n);return{mean:o,variance:s}}Object.defineProperty(n,"__esModule",{value:!0});var h=e("../environment"),d=e("../globals"),m=e("../tensor_util_env"),g=e("../util"),v=e("./axis_util"),y=e("./operation"),x=e("./tensor_ops");n.all=y.op({all_:c}),n.any=y.op({any_:p}),n.argMax=y.op({argMax_:l}),n.argMin=y.op({argMin_:u}),n.logSumExp=y.op({logSumExp_:r}),n.max=y.op({max_:s}),n.mean=y.op({mean_:a}),n.min=y.op({min_:i}),n.moments=y.op({moments_:f}),n.sum=y.op({sum_:o})},{"../environment":51,"../globals":53,"../tensor_util_env":172,"../util":176,"./axis_util":118,"./operation":137,"./tensor_ops":152}],143:[function(e,t,n){"use strict";function r(e){var t=l.convertToTensor(e,"x","relu");if("bool"===t.dtype)return t.toInt();var n=function(e){var n=t.step();return{$x:function(){return e.mulStrict(n.toFloat())}}};return u.ENV.engine.runKernel(function(e){return e.relu(t)},{$x:t},n)}function o(e){var t=l.convertToTensor(e,"x","elu"),n=function(e,t){var n=t[0];return{$x:function(){return u.ENV.engine.runKernel(function(t){
return t.eluDer(e,n)},{dy:e,y:n})}}};return u.ENV.engine.runKernel(function(e,n){return n(e.elu(t))},{$x:t},n)}function a(e){var t=l.convertToTensor(e,"x","selu"),n=function(e){return{$x:function(){var n=t.greater(d.scalar(0)),r=d.scalar(h.SELU_SCALEALPHA),o=d.scalar(h.SELU_SCALE),a=e.mul(o),i=e.mul(r).mul(t.toFloat().exp());return p.where(n,a,i)}}};return u.ENV.engine.runKernel(function(e){return e.selu(t)},{$x:t},n)}function i(e,t){void 0===t&&(t=.2);var n=l.convertToTensor(e,"x","leakyRelu");return c.maximum(d.scalar(t).mul(n),n)}function s(e,t){var n=l.convertToTensor(e,"x","prelu"),r=l.convertToTensor(t,"alpha","prelu"),o=d.scalar(0);return c.maximum(o,n).add(r.mul(c.minimum(o,n)))}Object.defineProperty(n,"__esModule",{value:!0});var u=e("../environment"),l=e("../tensor_util_env"),c=e("./binary_ops"),p=e("./logical_ops"),f=e("./operation"),h=e("./selu_util"),d=e("./tensor_ops");n.elu=f.op({elu_:o}),n.leakyRelu=f.op({leakyRelu_:i}),n.prelu=f.op({prelu_:s}),n.relu=f.op({relu_:r}),n.selu=f.op({selu_:a})},{"../environment":51,"../tensor_util_env":172,"./binary_ops":120,"./logical_ops":130,"./operation":137,"./selu_util":147,"./tensor_ops":152}],144:[function(e,t,n){"use strict";function r(e){var t=l.convertToTensor(e,"x","reverse");return c.assert(1===t.rank,"Error in reverse1D: x must be rank 1 but got\n             rank "+t.rank+"."),n.reverse(t,0)}function o(e,t){var r=l.convertToTensor(e,"x","reverse");return c.assert(2===r.rank,"Error in reverse2D: x must be rank 2 but got\n             rank "+r.rank+"."),n.reverse(r,t)}function a(e,t){var r=l.convertToTensor(e,"x","reverse");return c.assert(3===r.rank,"Error in reverse3D: x must be rank 3 but got\n             rank "+r.rank+"."),n.reverse(r,t)}function i(e,t){var r=l.convertToTensor(e,"x","reverse");return c.assert(4===r.rank,"Error in reverse4D: x must be rank 4 but got\n             rank "+r.rank+"."),n.reverse(r,t)}function s(e,t){var n=l.convertToTensor(e,"x","reverse");if(0===n.rank)return n.clone();var r=p.parseAxisParam(t,n.shape),o=function(e){return{$x:function(){return e.reverse(r)}}},a=u.ENV.engine.runKernel(function(e){return e.reverse(n,r)},{$x:n},o);return a.reshapeAs(n)}Object.defineProperty(n,"__esModule",{value:!0});var u=e("../environment"),l=e("../tensor_util_env"),c=e("../util"),p=e("./axis_util"),f=e("./operation");n.reverse=f.op({reverse_:s}),n.reverse1d=f.op({reverse1d_:r}),n.reverse2d=f.op({reverse2d_:o}),n.reverse3d=f.op({reverse3d_:a}),n.reverse4d=f.op({reverse4d_:i})},{"../environment":51,"../tensor_util_env":172,"../util":176,"./axis_util":118,"./operation":137}],145:[function(e,t,n){"use strict";function r(e,t,n){var r=l.convertToTensor(e,"x","unsortedSegmentSum"),o=l.convertToTensor(t,"segmentIds","unsortedSegmentSum","int32");c.assert("int32"===o.dtype,"segmentIds must be of dtype `int32`"),c.assert(c.isInt(n),"numSegments must be of dtype int");var a=function(e){var t=function(){return s(e,o)};return{$x:t}};return u.ENV.engine.runKernel(function(e){return e.unsortedSegmentSum(r,o,n)},{$x:r},a)}function o(e,t,r){void 0===r&&(r=0);var o=l.convertToTensor(e,"x","gather"),s=l.convertToTensor(t,"indices","gather","int32");c.assert("int32"===s.dtype,"Indices must be of dtype `int32`"),r=f.parseAxisParam(r,o.shape)[0];var p=function(e){var t=function(){if(0===r)return n.unsortedSegmentSum(e,s,o.shape[r]);var t=o.shape,u=s.size,l=t.slice(0,r),c=l.length,p=t.slice(r,t.length).slice(1),h=p.length,d=a(0,c),m=a(c+1,c+1+h),g=i([l,[u],p]),v=e.reshape(g),y=s.reshape([u]),x=i([[c],d,m]),b=v.transpose(x),_=n.unsortedSegmentSum(b,y,o.shape[r]),w=f.getUndoAxesPermutation(x);return _=_.transpose(w)};return{$x:t}};return u.ENV.engine.runKernel(function(e){return e.gather(o,s,r)},{$x:o},p)}function a(e,t){for(var n=[],r=e;r<t;++r)n.push(r);return n}function i(e){for(var t=[],n=0;n<e.length;++n)for(var r=0;r<e[n].length;++r)t.push(e[n][r]);return t}function s(e,t){for(var r=h.maximum(t,v.zerosLike(t)),o=n.gather(e,r),a=d.greaterEqual(t,v.scalar(0,"int32")),i=o.rank-a.rank,s=0;s<i;++s)a=p.expandDims(a,s+1);a=m.logicalAnd(a,v.ones(o.shape,"bool"));var u=v.zerosLike(o);return m.where(a,o,u)}Object.defineProperty(n,"__esModule",{value:!0});var u=e("../environment"),l=e("../tensor_util_env"),c=e("../util"),p=e("./array_ops"),f=e("./axis_util"),h=e("./binary_ops"),d=e("./compare"),m=e("./logical_ops"),g=e("./operation"),v=e("./tensor_ops");n.gather=g.op({gather_:o}),n.unsortedSegmentSum=g.op({unsortedSegmentSum_:r})},{"../environment":51,"../tensor_util_env":172,"../util":176,"./array_ops":116,"./axis_util":118,"./binary_ops":120,"./compare":122,"./logical_ops":130,"./operation":137,"./tensor_ops":152}],146:[function(e,t,n){"use strict";function r(e,t){var n,r=!1;for(e<=i.PARALLELIZE_THRESHOLD?(n=e,r=!0):n=a.nearestDivisor(e,Math.floor(Math.sqrt(e)));!r;){if(n>t||n===e){r=!0;break}n=a.nearestDivisor(e,n+1)}return n}function o(e,t,n){for(var r=[],o=e.length,a=0;a<o;a++)a!==t?r.push(e[a]):r.push(n);return r}Object.defineProperty(n,"__esModule",{value:!0});var a=e("../util"),i=e("./reduce_util");n.segOpComputeOptimalWindowSize=r,n.computeOutShape=o},{"../util":176,"./reduce_util":141}],147:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.SELU_SCALEALPHA=1.7580993408473768,n.SELU_SCALE=1.0507009873554805},{}],148:[function(e,t,n){"use strict";function r(e,t,r){var o=l.convertToTensor(e,"x","slice1d");return c.assert(1===o.rank,"slice1d expects a rank-1 tensor, but got a rank-"+o.rank+" tensor"),n.slice(o,[t],[r])}function o(e,t,r){var o=l.convertToTensor(e,"x","slice2d");return c.assert(2===o.rank,"slice1d expects a rank-2 tensor, but got a rank-"+o.rank+" tensor"),n.slice(o,t,r)}function a(e,t,r){var o=l.convertToTensor(e,"x","slice3d");return c.assert(3===o.rank,"slice1d expects a rank-3 tensor, but got a rank-"+o.rank+" tensor"),n.slice(o,t,r)}function i(e,t,r){var o=l.convertToTensor(e,"x","slice4d");return c.assert(4===o.rank,"slice1d expects a rank-4 tensor, but got a rank-"+o.rank+" tensor"),n.slice(o,t,r)}function s(e,t,n){var r=l.convertToTensor(e,"x","slice");if(0===r.rank)throw new Error("Slicing scalar is not possible");var o;o="number"==typeof t?[t].concat(new Array(r.rank-1).fill(0)):t.length<r.rank?t.concat(new Array(r.rank-t.length).fill(0)):t;var a;a=null==n?new Array(r.rank).fill(-1):"number"==typeof n?[n].concat(new Array(r.rank-1).fill(-1)):n.length<r.rank?n.concat(new Array(r.rank-n.length).fill(-1)):n,a=a.map(function(e,t){return e>=0?e:(c.assert(e===-1,"Bad value in size"),r.shape[t]-o[t])}),f.assertParamsValid(r,o,a);var i=r.shape,s=function(e){for(var t=[],n=0;n<e.rank;n++)t.push([o[n],i[n]-o[n]-a[n]]);return{$x:function(){return e.pad(t)}}};return u.ENV.engine.runKernel(function(e){return e.slice(r,o,a)},{$x:r},s)}Object.defineProperty(n,"__esModule",{value:!0});var u=e("../environment"),l=e("../tensor_util_env"),c=e("../util"),p=e("./operation"),f=e("./slice_util");n.slice=p.op({slice_:s}),n.slice1d=p.op({slice1d_:r}),n.slice2d=p.op({slice2d_:o}),n.slice3d=p.op({slice3d_:a}),n.slice4d=p.op({slice4d_:i})},{"../environment":51,"../tensor_util_env":172,"../util":176,"./operation":137,"./slice_util":149}],149:[function(e,t,n){"use strict";function r(e,t,n){s.assert(e.rank===t.length,"Error in slice"+e.rank+"D: Length of begin "+t+" must "+("match the rank of the array ("+e.rank+").")),s.assert(e.rank===n.length,"Error in slice"+e.rank+"D: Length of size "+n+" must "+("match the rank of the array ("+e.rank+")."));for(var r=0;r<e.rank;++r)s.assert(t[r]+n[r]<=e.shape[r],"Error in slice"+e.rank+"D: begin["+r+"] + size["+r+"] "+("("+(t[r]+n[r])+") would overflow input.shape["+r+"] ("+e.shape[r]+")"))}function o(e,t,n,r,o,s){void 0===o&&(o=0),void 0===s&&(s=0);for(var u=[],l=[],c=0;c<e.length;c++)u[c]=a(o,t,r,e,c),l[c]=i(s,n,r,e,c);var p=new Array(e.length).fill(0);return p=p.map(function(e,t){for(var n=0,o=u[t];!(r[t]>0?o>=l[t]:o<=l[t]);o+=r[t])n+=1;return n}),[u,p]}function a(e,t,n,r,o){var a=t[o];e&1<<o&&(a=n[o]>0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);var i=r[o];return a<0&&(a+=i),a=s.clamp(0,a,i-1)}function i(e,t,n,r,o){var a=t[o];e&1<<o&&(a=n[o]>0?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);var i=r[o];return a<0&&(a+=i),a=n[o]>0?s.clamp(0,a,i):s.clamp(-1,a,i-1)}Object.defineProperty(n,"__esModule",{value:!0});var s=e("../util");n.assertParamsValid=r,n.getStridedSlicedInfo=o,n.startForAxis=a,n.stopForAxis=i},{"../util":176}],150:[function(e,t,n){"use strict";function r(e,t){void 0===t&&(t=-1);var n=a.convertToTensor(e,"logits","softmax");if(t===-1&&(t=n.rank-1),t!==n.rank-1)throw Error("Softmax along a non-last dimension is not yet supported. "+("Logits was rank "+n.rank+" and dim was "+t));var r=o.customGrad(function(e){var n=!0,r=e.logSumExp([t],n),o=e.toFloat().sub(r),a=o.exp(),i=function(e){var n=e.mul(a),r=!0;return n.sub(n.sum([t],r).mul(a))};return{value:a,gradFunc:i}});return r(n)}Object.defineProperty(n,"__esModule",{value:!0});var o=e("../gradients"),a=e("../tensor_util_env"),i=e("./operation");n.softmax=i.op({softmax_:r})},{"../gradients":54,"../tensor_util_env":172,"./operation":137}],151:[function(e,t,n){"use strict";function r(e,t,n,r,i,s){void 0===i&&(i=0),void 0===s&&(s=0);var u=a.convertToTensor(e,"x","stridedSlice");return o.ENV.engine.runKernel(function(e){return e.stridedSlice(u,t,n,r,i,s)},{$x:u})}Object.defineProperty(n,"__esModule",{value:!0});var o=e("../environment"),a=e("../tensor_util_env"),i=e("./operation");n.stridedSlice=i.op({stridedSlice_:r})},{"../environment":51,"../tensor_util_env":172,"./operation":137}],152:[function(e,t,n){"use strict";function r(e,t,n){if(void 0===n&&(n="float32"),!_.isTypedArray(e)&&!Array.isArray(e)&&"number"!=typeof e&&"boolean"!=typeof e)throw new Error("values passed to tensor(values) must be an array of numbers or booleans, or a TypedArray");var r=_.inferShape(e);return null!=t&&1!==r.length&&_.assertShapesMatch(t,r,"Error creating a new Tensor. "+("Inferred shape ("+r+") does not match the ")+("provided shape ("+t+"). ")),_.isTypedArray(e)||Array.isArray(e)||(e=[e]),t=t||r,x.Tensor.make(t,{values:_.toTypedArray(e,n,y.ENV.get("DEBUG"))},n)}function o(e,t){if(void 0===t&&(t="float32"),_.isTypedArray(e)||Array.isArray(e))throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean)");return r(e,[],t)}function a(e,t){void 0===t&&(t="float32"),_.assertNonNull(e);var n=_.inferShape(e);if(1!==n.length)throw new Error("tensor1d() requires values to be a flat/TypedArray");return r(e,n,t)}function i(e,t,n){if(void 0===n&&(n="float32"),_.assertNonNull(e),null!=t&&2!==t.length)throw new Error("tensor2d() requires shape to have two numbers");var o=_.inferShape(e);if(2!==o.length&&1!==o.length)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(1===o.length&&null==t)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return t=t||o,r(e,t,n)}function s(e,t,n){if(void 0===n&&(n="float32"),_.assertNonNull(e),null!=t&&3!==t.length)throw new Error("tensor3d() requires shape to have three numbers");var o=_.inferShape(e);if(3!==o.length&&1!==o.length)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(1===o.length&&null==t)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return t=t||o,r(e,t,n)}function u(e,t,n){if(void 0===n&&(n="float32"),_.assertNonNull(e),null!=t&&4!==t.length)throw new Error("tensor4d() requires shape to have four numbers");var o=_.inferShape(e);if(4!==o.length&&1!==o.length)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(1===o.length&&null==t)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return t=t||o,r(e,t,n)}function l(e,t,n){if(void 0===n&&(n="float32"),_.assertNonNull(e),null!=t&&5!==t.length)throw new Error("tensor5d() requires shape to have five numbers");var o=_.inferShape(e);if(5!==o.length&&1!==o.length)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(1===o.length&&null==t)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return t=t||o,r(e,t,n)}function c(e,t,n){if(void 0===n&&(n="float32"),_.assertNonNull(e),null!=t&&6!==t.length)throw new Error("tensor6d() requires shape to have six numbers");var o=_.inferShape(e);if(6!==o.length&&1!==o.length)throw new Error("tensor6d() requires values to be number[][][][] or flat/TypedArray");if(1===o.length&&null==t)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return t=t||o,r(e,t,n)}function p(e,t){void 0===t&&(t="float32");var n=_.makeOnesTypedArray(_.sizeFromShape(e),t);return x.Tensor.make(e,{values:n},t)}function f(e,t){void 0===t&&(t="float32");var n=_.makeZerosTypedArray(_.sizeFromShape(e),t);return x.Tensor.make(e,{values:n},t)}function h(e,t,n){void 0===n&&(n="float32");var r=_.getTypedArrayFromDType(n,_.sizeFromShape(e));return r.fill(t),x.Tensor.make(e,{values:r},n)}function d(e){var t=b.convertToTensor(e,"x","onesLike");return p(t.shape,t.dtype)}function m(e){var t=b.convertToTensor(e,"x","zerosLike");return f(t.shape,t.dtype)}function g(e,t,n){if(0===n)throw new Error("Cannot request zero samples");var r=(t-e)/(n-1),o=_.makeZerosTypedArray(n,"float32");o[0]=e;for(var i=1;i<o.length;i++)o[i]=o[i-1]+r;return a(o,"float32")}function v(e,t,n,r){if(void 0===n&&(n=1),void 0===r&&(r="float32"),0===n)throw new Error("Cannot have a step of zero");var o=e===t,i=e<t&&n<0,s=t<e&&n>1;if(o||i||s)return f([0],r);var u=Math.abs(Math.ceil((t-e)/n)),l=_.makeZerosTypedArray(u,r);t<e&&1===n&&(n=-1),l[0]=e;for(var c=1;c<l.length;c++)l[c]=l[c-1]+n;return a(l,r)}Object.defineProperty(n,"__esModule",{value:!0});var y=e("../environment"),x=e("../tensor"),b=e("../tensor_util_env"),_=e("../util"),w=e("./operation");n.tensor=r,n.scalar=o,n.tensor1d=a,n.tensor2d=i,n.tensor3d=s,n.tensor4d=u,n.tensor5d=l,n.tensor6d=c,n.ones=p,n.zeros=f,n.fill=h,n.linspace=g,n.range=v,n.onesLike=w.op({onesLike_:d}),n.zerosLike=w.op({zerosLike_:m})},{"../environment":51,"../tensor":169,"../tensor_util_env":172,"../util":176,"./operation":137}],153:[function(e,t,n){"use strict";function r(e,t,n){void 0===t&&(t=1),void 0===n&&(n=!0);var r=a.convertToTensor(e,"x","topk");if(0===r.rank)throw new Error("topk() expects the input to be of rank 1 or higher");var i=r.shape[r.shape.length-1];if(t>i)throw new Error("'k' passed to topk() must be <= the last dimension ("+i+") but got "+t);var s=o.ENV.engine.runKernel(function(e){return e.topk(r,t,n)},{$x:r}),u=s[0],l=s[1];return{values:u,indices:l}}Object.defineProperty(n,"__esModule",{value:!0});var o=e("../environment"),a=e("../tensor_util_env"),i=e("./operation");n.topk=i.op({topk_:r})},{"../environment":51,"../tensor_util_env":172,"./operation":137}],154:[function(e,t,n){"use strict";function r(e,t){var n=a.convertToTensor(e,"x","transpose");if(null==t&&(t=n.shape.map(function(e,t){return t}).reverse()),i.assert(n.rank===t.length,"Error in transpose: rank of input "+n.rank+" "+("must match length of perm "+t+".")),t.forEach(function(e){i.assert(e>=0&&e<n.rank,"All entries in 'perm' must be between 0 and "+(n.rank-1)+(" but got "+t))}),n.rank<=1)return n.clone();var r=function(e){var n=s.getUndoAxesPermutation(t);return{$x:function(){return e.transpose(n)}}};return o.ENV.engine.runKernel(function(e){return e.transpose(n,t)},{$x:n},r)}Object.defineProperty(n,"__esModule",{value:!0});var o=e("../environment"),a=e("../tensor_util_env"),i=e("../util"),s=e("./axis_util"),u=e("./operation");n.transpose=u.op({transpose_:r})},{"../environment":51,"../tensor_util_env":172,"../util":176,"./axis_util":118,"./operation":137}],155:[function(e,t,n){"use strict";function r(e){var t=V.convertToTensor(e,"x","neg"),n=function(e){return{$x:function(){return e.neg()}}};return D.ENV.engine.runKernel(function(e){return e.neg(t)},{$x:t},n)}function o(e){var t=V.convertToTensor(e,"x","ceil"),n=function(e){return{$x:function(){return z.zerosLike(e)}}};return D.ENV.engine.runKernel(function(e){return e.ceil(t)},{$x:t},n)}function a(e){var t=V.convertToTensor(e,"x","floor"),n=function(e){return{$x:function(){return z.zerosLike(e)}}};return D.ENV.engine.runKernel(function(e){return e.floor(t)},{$x:t},n)}function i(e){var t=V.convertToTensor(e,"x","sign"),n=function(e){return{$x:function(){return z.zerosLike(e)}}};return D.ENV.engine.runKernel(function(e){return e.sign(t)},{$x:t},n)}function s(e){var t=V.convertToTensor(e,"x","round"),n=function(e){return{$x:function(){return z.zerosLike(e)}}};return D.ENV.engine.runKernel(function(e){return e.round(t)},{$x:t},n)}function u(e){var t=V.convertToTensor(e,"x","exp"),n=function(e,t){var n=t[0];return{$x:function(){return e.mulStrict(n)}}};return D.ENV.engine.runKernel(function(e,n){return n(e.exp(t))},{$x:t},n)}function l(e){var t=V.convertToTensor(e,"x","expm1"),n=function(e){return{$x:function(){return e.mulStrict(t.exp())}}};return D.ENV.engine.runKernel(function(e){return e.expm1(t)},{$x:t},n)}function c(e){var t=V.convertToTensor(e,"x","log"),n=function(e){return{$x:function(){return e.divStrict(t.toFloat())}}};return D.ENV.engine.runKernel(function(e){return e.log(t)},{$x:t},n)}function p(e){var t=V.convertToTensor(e,"x","log1p"),n=function(e){return{$x:function(){return e.divStrict(t.add(z.scalar(1)))}}};return D.ENV.engine.runKernel(function(e){return e.log1p(t)},{$x:t},n)}function f(e){var t=V.convertToTensor(e,"x","sqrt"),n=function(e){return{$x:function(){return e.divStrict(t.toFloat().sqrt().mul(z.scalar(2)))}}};return D.ENV.engine.runKernel(function(e){return e.sqrt(t)},{$x:t},n)}function h(e){var t=V.convertToTensor(e,"x","rsqrt"),n=function(e){return{$x:function(){return e.divStrict(t.pow(z.scalar(1.5)).mul(z.scalar(2))).neg()}}};return D.ENV.engine.runKernel(function(e){return e.rsqrt(t)},{$x:t},n)}function d(e){var t=V.convertToTensor(e,"x","square"),n=function(e){return{$x:function(){return e.mulStrict(t.toFloat().mul(z.scalar(2)))}}};return D.ENV.engine.runKernel(function(e){return e.square(t)},{$x:t},n)}function m(e){var t=V.convertToTensor(e,"x","reciprocal"),n=function(e){return{$x:function(){return e.divStrict(t.square().neg())}}};return D.ENV.engine.runKernel(function(e){return e.reciprocal(t)},{$x:t},n)}function g(e){var t=V.convertToTensor(e,"x","abs"),n=function(e){return{$x:function(){return e.mulStrict(t.toFloat().step(-1))}}};return D.ENV.engine.runKernel(function(e){return e.abs(t)},{$x:t},n)}function v(e,t,n){var r=V.convertToTensor(e,"x","clipByValue");L.assert(t<=n,"Error in clip: min ("+t+") must be "+("less than or equal to max ("+n+")."));var o=function(e){return{$x:function(){return e.where(r.greaterEqual(z.scalar(t)).logicalAnd(r.lessEqual(z.scalar(n))),z.zerosLike(e))}}};return D.ENV.engine.runKernel(function(e){return e.clip(r,t,n)},{$x:r},o)}function y(e){var t=V.convertToTensor(e,"x","sigmoid"),n=function(e,t){var n=t[0];return{$x:function(){return e.mulStrict(n.mul(z.scalar(1).sub(n)))}}};return D.ENV.engine.runKernel(function(e,n){return n(e.sigmoid(t))},{$x:t},n)}function x(e){var t=V.convertToTensor(e,"x","logSigmoid"),n=function(e){return{$x:function(){return e.mulStrict(t.neg().sigmoid())}}};return D.ENV.engine.runKernel(function(e){return e.softplus(t.neg()).neg()},{$x:t},n)}function b(e){var t=V.convertToTensor(e,"x","softplus"),n=function(e){return{$x:function(){return e.mulStrict(t.sigmoid())}}};return D.ENV.engine.runKernel(function(e){return e.softplus(t)},{$x:t},n)}function _(e){var t=V.convertToTensor(e,"x","sin"),n=function(e){return{$x:function(){return t.toFloat().cos().mulStrict(e)}}};return D.ENV.engine.runKernel(function(e){return e.sin(t)},{$x:t},n)}function w(e){var t=V.convertToTensor(e,"x","cos"),n=function(e){return{$x:function(){return t.toFloat().sin().neg().mulStrict(e)}}};return D.ENV.engine.runKernel(function(e){return e.cos(t)},{$x:t},n)}function T(e){var t=V.convertToTensor(e,"x","tan"),n=function(e){return{$x:function(){return e.divStrict(t.cos().square())}}};return D.ENV.engine.runKernel(function(e){return e.tan(t)},{$x:t},n)}function P(e){var t=V.convertToTensor(e,"x","asin"),n=function(e){return{$x:function(){return e.divStrict(z.scalar(1).sub(t.toFloat().square()).sqrt())}}};return D.ENV.engine.runKernel(function(e){return e.asin(t)},{$x:t},n)}function N(e){var t=V.convertToTensor(e,"x","acos"),n=function(e){return{$x:function(){return e.divStrict(z.scalar(1).sub(t.toFloat().square()).sqrt()).neg()}}};return D.ENV.engine.runKernel(function(e){return e.acos(t)},{$x:t},n)}function S(e){var t=V.convertToTensor(e,"x","atan"),n=function(e){return{$x:function(){return e.divStrict(z.scalar(1).add(t.toFloat().square()))}}};return D.ENV.engine.runKernel(function(e){return e.atan(t)},{$x:t},n)}function E(e){var t=V.convertToTensor(e,"x","sinh"),n=function(e){return{$x:function(){return t.toFloat().cosh().mulStrict(e)}}};return D.ENV.engine.runKernel(function(e){return e.sinh(t)},{$x:t},n)}function k(e){var t=V.convertToTensor(e,"x","cosh"),n=function(e){return{$x:function(){return t.toFloat().sinh().mulStrict(e)}}};return D.ENV.engine.runKernel(function(e){return e.cosh(t)},{$x:t},n)}function A(e){var t=V.convertToTensor(e,"x","tanh"),n=function(e,t){var n=t[0];return{$x:function(){return z.scalar(1).sub(n.square()).mulStrict(e)}}};return D.ENV.engine.runKernel(function(e,n){return n(e.tanh(t))},{$x:t},n)}function O(e){var t=V.convertToTensor(e,"x","asinh"),n=function(e){return{$x:function(){return e.divStrict(z.scalar(1).add(t.toFloat().square()).sqrt())}}};return D.ENV.engine.runKernel(function(e){return e.asinh(t)},{$x:t},n)}function I(e){var t=V.convertToTensor(e,"x","acosh"),n=function(e){return{$x:function(){return e.divStrict(t.toFloat().square().sub(z.scalar(1)).sqrt())}}};return D.ENV.engine.runKernel(function(e){return e.acosh(t)},{$x:t},n)}function C(e){var t=V.convertToTensor(e,"x","atanh"),n=function(e){return{$x:function(){return e.divStrict(z.scalar(1).sub(t.toFloat().square()))}}};return D.ENV.engine.runKernel(function(e){return e.atanh(t)},{$x:t},n)}function R(e){var t=V.convertToTensor(e,"x","erf");L.assert("int32"===t.dtype||"float32"===t.dtype,"Input dtype must be `int32` or `float32`."),"int32"===t.dtype&&(t=t.toFloat());var n=function(e){return{$x:function(){return e.mulStrict(z.scalar(2/Math.sqrt(Math.PI)).mul(t.square().neg().exp()))}}};return D.ENV.engine.runKernel(function(e){return e.erf(t)},{$x:t},n)}function M(e,t){void 0===t&&(t=0);var n=V.convertToTensor(e,"x","step"),r=function(e){return{$x:function(){return z.zerosLike(e)}}};return D.ENV.engine.runKernel(function(e){return e.step(n,t)},{$x:n},r)}Object.defineProperty(n,"__esModule",{value:!0});var D=e("../environment"),V=e("../tensor_util_env"),L=e("../util"),F=e("./operation"),z=e("./tensor_ops");n.abs=F.op({abs_:g}),n.acos=F.op({acos_:N}),n.acosh=F.op({acosh_:I}),n.asin=F.op({asin_:P}),n.asinh=F.op({asinh_:O}),n.atan=F.op({atan_:S}),n.atanh=F.op({atanh_:C}),n.ceil=F.op({ceil_:o}),n.clipByValue=F.op({clipByValue_:v}),n.cos=F.op({cos_:w}),n.cosh=F.op({cosh_:k}),n.erf=F.op({erf_:R}),n.exp=F.op({exp_:u}),n.expm1=F.op({expm1_:l}),n.floor=F.op({floor_:a}),n.log=F.op({log_:c}),n.log1p=F.op({log1p_:p}),n.logSigmoid=F.op({logSigmoid_:x}),n.neg=F.op({neg_:r}),n.reciprocal=F.op({reciprocal_:m}),n.round=F.op({round_:s}),n.rsqrt=F.op({rsqrt_:h}),n.sigmoid=F.op({sigmoid_:y}),n.sign=F.op({sign_:i}),n.sin=F.op({sin_:_}),n.sinh=F.op({sinh_:E}),n.softplus=F.op({softplus_:b}),n.sqrt=F.op({sqrt_:f}),n.square=F.op({square_:d}),n.step=F.op({step_:M}),n.tan=F.op({tan_:T}),n.tanh=F.op({tanh_:A})},{"../environment":51,"../tensor_util_env":172,"../util":176,"./operation":137,"./tensor_ops":152}],156:[function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=e("../environment"),a=e("../globals"),i=e("../ops/ops"),s=e("../serialization"),u=e("./optimizer"),l=e("./optimizer_utils"),c=function(e){function t(t,n,r){void 0===r&&(r=null);var o=e.call(this)||this;return o.learningRate=t,o.rho=n,o.epsilon=r,o.accumulatedGrads={},o.accumulatedUpdates={},o.c=a.keep(i.scalar(-t)),o.rhoScalar=a.keep(i.scalar(n)),o.oneMinusRho=a.keep(i.scalar(1-n)),null===r&&(r=l.getOptimizerDefaultEpsilonValue()),o.epsilonScalar=a.keep(i.scalar(r)),o}return r(t,e),t.prototype.applyGradients=function(e){var t=this,n=function(n){var s=o.ENV.engine.registeredVariables[n];if(null==r.accumulatedGrads[n]){var u=!1;a.tidy(function(){t.accumulatedGrads[n]=i.zerosLike(s).variable(u)})}if(null==r.accumulatedUpdates[n]){var l=!1;a.tidy(function(){t.accumulatedUpdates[n]=i.zerosLike(s).variable(l)})}var c=e[n],p=r.accumulatedGrads[n],f=r.accumulatedUpdates[n];a.tidy(function(){var e=t.rhoScalar.mul(p).add(t.oneMinusRho.mul(c.square())),r=f.add(t.epsilonScalar).sqrt().div(p.add(t.epsilonScalar).sqrt()).mul(c),o=t.rhoScalar.mul(f).add(t.oneMinusRho.mul(r.square()));t.accumulatedGrads[n].assign(e),t.accumulatedUpdates[n].assign(o);var a=t.c.mul(r).add(s);s.assign(a)})},r=this;for(var s in e)n(s)},t.prototype.dispose=function(){var e=this;this.c.dispose(),this.epsilonScalar.dispose(),this.rhoScalar.dispose(),this.oneMinusRho.dispose(),null!=this.accumulatedUpdates&&(Object.keys(this.accumulatedUpdates).forEach(function(t){return e.accumulatedUpdates[t].dispose()}),Object.keys(this.accumulatedGrads).forEach(function(t){return e.accumulatedGrads[t].dispose()}))},t.prototype.getConfig=function(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}},t.fromConfig=function(e,t){return new e(t.learningRate,t.rho,t.epsilon)},t.className="AdadeltaOptimizer",t}(u.Optimizer);n.AdadeltaOptimizer=c,s.SerializationMap.register(c)},{"../environment":51,"../globals":53,"../ops/ops":138,"../serialization":167,"./optimizer":161,"./optimizer_utils":163}],157:[function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=e("../environment"),a=e("../globals"),i=e("../ops/ops"),s=e("../serialization"),u=e("./optimizer"),l=e("./optimizer_utils"),c=function(e){function t(t,n){void 0===n&&(n=.1);var r=e.call(this)||this;r.learningRate=t,r.initialAccumulatorValue=n,r.accumulatedGrads={},r.c=a.keep(i.scalar(-t));var o=l.getOptimizerDefaultEpsilonValue();return r.epsilon=a.keep(i.scalar(o)),r}return r(t,e),t.prototype.applyGradients=function(e){var t=this,n=function(n){var s=o.ENV.engine.registeredVariables[n];if(null==r.accumulatedGrads[n]){var u=!1;a.tidy(function(){t.accumulatedGrads[n]=i.fill(s.shape,t.initialAccumulatorValue).variable(u)})}var l=e[n],c=r.accumulatedGrads[n];a.tidy(function(){var e=c.add(l.square());t.accumulatedGrads[n].assign(e);var r=t.c.mul(l.div(e.add(t.epsilon).sqrt())).add(s);s.assign(r)})},r=this;for(var s in e)n(s)},t.prototype.dispose=function(){var e=this;this.epsilon.dispose(),this.c.dispose(),null!=this.accumulatedGrads&&Object.keys(this.accumulatedGrads).forEach(function(t){return e.accumulatedGrads[t].dispose()})},t.prototype.getConfig=function(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}},t.fromConfig=function(e,t){return new e(t.learningRate,t.initialAccumulatorValue)},t.className="AdagradOptimizer",t}(u.Optimizer);n.AdagradOptimizer=c,s.SerializationMap.register(c)},{"../environment":51,"../globals":53,"../ops/ops":138,"../serialization":167,"./optimizer":161,"./optimizer_utils":163}],158:[function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=e("../environment"),a=e("../globals"),i=e("../ops/ops"),s=e("../serialization"),u=e("./optimizer"),l=e("./optimizer_utils"),c=function(e){function t(t,n,r,o){void 0===o&&(o=null);var s=e.call(this)||this;return s.learningRate=t,s.beta1=n,s.beta2=r,s.epsilon=o,s.accumulatedFirstMoment={},s.accumulatedSecondMoment={},s.c=a.keep(i.scalar(-t)),s.beta1Scalar=a.keep(i.scalar(n)),s.beta2Scalar=a.keep(i.scalar(r)),a.tidy(function(){s.accBeta1=i.scalar(n).variable(),s.accBeta2=i.scalar(r).variable()}),s.oneMinusBeta1=a.keep(i.scalar(1-n)),s.oneMinusBeta2=a.keep(i.scalar(1-r)),s.one=a.keep(i.scalar(1)),null===o&&(o=l.getOptimizerDefaultEpsilonValue()),s.epsScalar=a.keep(i.scalar(o)),s}return r(t,e),t.prototype.applyGradients=function(e){var t=this;a.tidy(function(){var n=t.one.sub(t.accBeta1),r=t.one.sub(t.accBeta2);for(var a in e){var s=o.ENV.engine.registeredVariables[a];if(null==t.accumulatedFirstMoment[a]){var u=!1;t.accumulatedFirstMoment[a]=i.zerosLike(s).variable(u)}if(null==t.accumulatedSecondMoment[a]){var u=!1;t.accumulatedSecondMoment[a]=i.zerosLike(s).variable(u)}var l=e[a],c=t.accumulatedFirstMoment[a],p=t.accumulatedSecondMoment[a],f=t.beta1Scalar.mul(c).add(t.oneMinusBeta1.mul(l)),h=t.beta2Scalar.mul(p).add(t.oneMinusBeta2.mul(l.square())),d=f.div(n),m=h.div(r);t.accumulatedFirstMoment[a].assign(f),t.accumulatedSecondMoment[a].assign(h);var g=t.c.mul(d.div(t.epsScalar.add(m.sqrt()))).add(s);s.assign(g)}t.accBeta1.assign(t.accBeta1.mul(t.beta1Scalar)),t.accBeta2.assign(t.accBeta2.mul(t.beta2Scalar))})},t.prototype.dispose=function(){var e=this;this.c.dispose(),this.epsScalar.dispose(),this.beta1Scalar.dispose(),this.beta2Scalar.dispose(),this.accBeta1.dispose(),this.accBeta2.dispose(),this.oneMinusBeta1.dispose(),this.oneMinusBeta2.dispose(),this.one.dispose(),null!=this.accumulatedFirstMoment&&Object.keys(this.accumulatedFirstMoment).forEach(function(t){return e.accumulatedFirstMoment[t].dispose()}),null!=this.accumulatedSecondMoment&&Object.keys(this.accumulatedSecondMoment).forEach(function(t){return e.accumulatedSecondMoment[t].dispose()})},t.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}},t.fromConfig=function(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon)},t.className="AdamOptimizer",t}(u.Optimizer);n.AdamOptimizer=c,s.SerializationMap.register(c)},{"../environment":51,"../globals":53,"../ops/ops":138,"../serialization":167,"./optimizer":161,"./optimizer_utils":163}],159:[function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=e("../environment"),a=e("../globals"),i=e("../ops/ops"),s=e("../serialization"),u=e("./optimizer"),l=e("./optimizer_utils"),c=function(e){function t(t,n,r,o,s){void 0===o&&(o=null),void 0===s&&(s=0);var u=e.call(this)||this;return u.learningRate=t,u.beta1=n,u.beta2=r,u.epsilon=o,u.decay=s,u.accumulatedFirstMoment={},u.accumulatedWeightedInfNorm={},u.c=a.keep(i.scalar(-t)),u.beta1Scalar=a.keep(i.scalar(n)),u.beta2Scalar=a.keep(i.scalar(r)),u.decayScalar=a.keep(i.scalar(s)),a.tidy(function(){u.iteration=i.scalar(0).variable(),u.accBeta1=i.scalar(n).variable()}),u.oneMinusBeta1=a.keep(i.scalar(1-n)),u.one=a.keep(i.scalar(1)),null===o&&(o=l.getOptimizerDefaultEpsilonValue()),
u.epsScalar=a.keep(i.scalar(o)),u}return r(t,e),t.prototype.applyGradients=function(e){var t=this;a.tidy(function(){var n=t.one.sub(t.accBeta1),r=t.c.div(t.one.add(t.decayScalar.mul(t.iteration)));for(var a in e){var s=o.ENV.engine.registeredVariables[a];if(null==t.accumulatedFirstMoment[a]){var u=!1;t.accumulatedFirstMoment[a]=i.zerosLike(s).variable(u)}if(null==t.accumulatedWeightedInfNorm[a]){var u=!1;t.accumulatedWeightedInfNorm[a]=i.zerosLike(s).variable(u)}var l=e[a],c=t.accumulatedFirstMoment[a],p=t.accumulatedWeightedInfNorm[a],f=t.beta1Scalar.mul(c).add(t.oneMinusBeta1.mul(l)),h=t.beta2Scalar.mul(p),d=l.abs(),m=h.maximum(d);t.accumulatedFirstMoment[a].assign(f),t.accumulatedWeightedInfNorm[a].assign(m);var g=r.div(n).mul(f.div(t.epsScalar.add(m))).add(s);s.assign(g)}t.iteration.assign(t.iteration.add(t.one)),t.accBeta1.assign(t.accBeta1.mul(t.beta1Scalar))})},t.prototype.dispose=function(){var e=this;this.c.dispose(),this.epsScalar.dispose(),this.accBeta1.dispose(),this.beta1Scalar.dispose(),this.beta2Scalar.dispose(),this.oneMinusBeta1.dispose(),this.decayScalar.dispose(),this.iteration.dispose(),this.one.dispose(),null!=this.accumulatedFirstMoment&&Object.keys(this.accumulatedFirstMoment).forEach(function(t){return e.accumulatedFirstMoment[t].dispose()}),null!=this.accumulatedWeightedInfNorm&&Object.keys(this.accumulatedWeightedInfNorm).forEach(function(t){return e.accumulatedWeightedInfNorm[t].dispose()})},t.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}},t.fromConfig=function(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon,t.decay)},t.className="AdamaxOptimizer",t}(u.Optimizer);n.AdamaxOptimizer=c,s.SerializationMap.register(c)},{"../environment":51,"../globals":53,"../ops/ops":138,"../serialization":167,"./optimizer":161,"./optimizer_utils":163}],160:[function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=e("../environment"),a=e("../globals"),i=e("../ops/ops"),s=e("../serialization"),u=e("./sgd_optimizer"),l=function(e){function t(t,n,r){void 0===r&&(r=!1);var o=e.call(this,t)||this;return o.learningRate=t,o.momentum=n,o.useNesterov=r,o.m=i.scalar(o.momentum),o.accumulations={},o}return r(t,e),t.prototype.applyGradients=function(e){var t=this,n=function(n){var s=o.ENV.engine.registeredVariables[n];if(null==r.accumulations[n]){var u=!1;a.tidy(function(){t.accumulations[n]=i.zerosLike(s).variable(u)})}var l=r.accumulations[n],c=e[n];a.tidy(function(){var e,r=t.m.mul(l).add(c);e=t.useNesterov?t.c.mul(c.add(r.mul(t.m))).add(s):t.c.mul(r).add(s),t.accumulations[n].assign(r),s.assign(e)})},r=this;for(var s in e)n(s)},t.prototype.dispose=function(){if(e.prototype.dispose.call(this),this.m.dispose(),null!=this.accumulations)for(var t in this.accumulations)this.accumulations[t].dispose()},t.prototype.setMomentum=function(e){this.momentum=e},t.prototype.getConfig=function(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}},t.fromConfig=function(e,t){return new e(t.learningRate,t.momentum,t.useNesterov)},t.className="MomentumOptimizer",t}(u.SGDOptimizer);n.MomentumOptimizer=l,s.SerializationMap.register(l)},{"../environment":51,"../globals":53,"../ops/ops":138,"../serialization":167,"./sgd_optimizer":165}],161:[function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=e("../globals"),a=e("../serialization"),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.minimize=function(e,t,n){void 0===t&&(t=!1);var r=this.computeGradients(e,n),o=r.value,a=r.grads;this.applyGradients(a);var i=Object.keys(a);return i.forEach(function(e){return a[e].dispose()}),t?o:(o.dispose(),null)},t.prototype.computeGradients=function(e,t){return o.variableGrads(e,t)},t}(a.Serializable);n.Optimizer=i},{"../globals":53,"../serialization":167}],162:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("./adadelta_optimizer"),o=e("./adagrad_optimizer"),a=e("./adam_optimizer"),i=e("./adamax_optimizer"),s=e("./momentum_optimizer"),u=e("./rmsprop_optimizer"),l=e("./sgd_optimizer"),c=function(){function e(){}return e.sgd=function(e){return new l.SGDOptimizer(e)},e.momentum=function(e,t,n){return void 0===n&&(n=!1),new s.MomentumOptimizer(e,t,n)},e.rmsprop=function(e,t,n,r,o){return void 0===t&&(t=.9),void 0===n&&(n=0),void 0===r&&(r=null),void 0===o&&(o=!1),new u.RMSPropOptimizer(e,t,n,r,o)},e.adam=function(e,t,n,r){return void 0===e&&(e=.001),void 0===t&&(t=.9),void 0===n&&(n=.999),void 0===r&&(r=null),new a.AdamOptimizer(e,t,n,r)},e.adadelta=function(e,t,n){return void 0===e&&(e=.001),void 0===t&&(t=.95),void 0===n&&(n=null),new r.AdadeltaOptimizer(e,t,n)},e.adamax=function(e,t,n,r,o){return void 0===e&&(e=.002),void 0===t&&(t=.9),void 0===n&&(n=.999),void 0===r&&(r=null),void 0===o&&(o=0),new i.AdamaxOptimizer(e,t,n,r,o)},e.adagrad=function(e,t){return void 0===t&&(t=.1),new o.AdagradOptimizer(e,t)},e}();n.OptimizerConstructors=c},{"./adadelta_optimizer":156,"./adagrad_optimizer":157,"./adam_optimizer":158,"./adamax_optimizer":159,"./momentum_optimizer":160,"./rmsprop_optimizer":164,"./sgd_optimizer":165}],163:[function(e,t,n){"use strict";function r(){return o.ENV.get("WEBGL_RENDER_FLOAT32_ENABLED")?a:i}Object.defineProperty(n,"__esModule",{value:!0});var o=e("../environment"),a=1e-8,i=1e-4;n.getOptimizerDefaultEpsilonValue=r},{"../environment":51}],164:[function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=e("../environment"),a=e("../globals"),i=e("../ops/ops"),s=e("../serialization"),u=e("./optimizer"),l=e("./optimizer_utils"),c=function(e){function t(t,n,r,o,s){void 0===n&&(n=.9),void 0===r&&(r=0),void 0===o&&(o=null),void 0===s&&(s=!1);var u=e.call(this)||this;return u.learningRate=t,u.decay=n,u.momentum=r,u.epsilon=o,u.accumulatedMeanSquares={},u.accumulatedMeanGrads={},u.accumulatedMoments={},u.c=a.keep(i.scalar(t)),u.decayScalar=a.keep(i.scalar(n)),u.momentumScalar=a.keep(i.scalar(r)),u.oneMinusDecay=a.keep(i.scalar(1-n)),u.centered=s,null===o&&(o=l.getOptimizerDefaultEpsilonValue()),u.epsilonScalar=a.keep(i.scalar(o)),u}return r(t,e),t.prototype.applyGradients=function(e){var t=this,n=function(n){var s=o.ENV.engine.registeredVariables[n];if(null==r.accumulatedMeanSquares[n]){var u=!1;a.tidy(function(){t.accumulatedMeanSquares[n]=i.zerosLike(s).variable(u)})}if(null==r.accumulatedMeanGrads[n]&&r.centered){var l=!1;a.tidy(function(){t.accumulatedMeanGrads[n]=i.zerosLike(s).variable(l)})}if(null==r.accumulatedMoments[n]){var c=!1;a.tidy(function(){t.accumulatedMoments[n]=i.zerosLike(s).variable(c)})}var p=r.accumulatedMeanSquares[n],f=r.accumulatedMeanGrads[n],h=r.accumulatedMoments[n],d=e[n];a.tidy(function(){var e=t.decayScalar.mul(p).add(t.oneMinusDecay.mul(d.square()));if(t.centered){var r=t.decayScalar.mul(f).add(t.oneMinusDecay.mul(d)),o=t.momentumScalar.mul(h).add(t.c.mul(d).div(e.sub(r.square().add(t.epsilonScalar)).sqrt()));t.accumulatedMeanSquares[n].assign(e),t.accumulatedMeanGrads[n].assign(r),t.accumulatedMoments[n].assign(o);var a=s.sub(o);s.assign(a)}else{var i=t.decayScalar.mul(p).add(t.oneMinusDecay.mul(d.square())),o=t.momentumScalar.mul(h).add(t.c.mul(d).div(i.add(t.epsilonScalar).sqrt()));t.accumulatedMeanSquares[n].assign(i),t.accumulatedMoments[n].assign(o);var a=s.sub(o);s.assign(a)}})},r=this;for(var s in e)n(s)},t.prototype.dispose=function(){var e=this;this.c.dispose(),this.epsilonScalar.dispose(),this.decayScalar.dispose(),this.momentumScalar.dispose(),this.oneMinusDecay.dispose(),null!=this.accumulatedMeanSquares&&Object.keys(this.accumulatedMeanSquares).forEach(function(t){return e.accumulatedMeanSquares[t].dispose()}),null!=this.accumulatedMeanGrads&&this.centered&&Object.keys(this.accumulatedMeanGrads).forEach(function(t){return e.accumulatedMeanGrads[t].dispose()}),null!=this.accumulatedMoments&&Object.keys(this.accumulatedMoments).forEach(function(t){return e.accumulatedMoments[t].dispose()})},t.prototype.getConfig=function(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}},t.fromConfig=function(e,t){return new e(t.learningRate,t.decay,t.momentum,t.epsilon,t.centered)},t.className="RMSPropOptimizer",t}(u.Optimizer);n.RMSPropOptimizer=c,s.SerializationMap.register(c)},{"../environment":51,"../globals":53,"../ops/ops":138,"../serialization":167,"./optimizer":161,"./optimizer_utils":163}],165:[function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=e("../environment"),a=e("../globals"),i=e("../ops/ops"),s=e("../serialization"),u=e("./optimizer"),l=function(e){function t(t){var n=e.call(this)||this;return n.learningRate=t,n.setLearningRate(t),n}return r(t,e),t.prototype.applyGradients=function(e){var t=this,n=Object.keys(e);n.forEach(function(n){var r=e[n],i=o.ENV.engine.registeredVariables[n];a.tidy(function(){var e=t.c.mul(r).add(i);i.assign(e)})})},t.prototype.setLearningRate=function(e){this.learningRate=e,null!=this.c&&this.c.dispose(),this.c=a.keep(i.scalar(-e))},t.prototype.dispose=function(){this.c.dispose()},t.prototype.getConfig=function(){return{learningRate:this.learningRate}},t.fromConfig=function(e,t){return new e(t.learningRate)},t.className="SGDOptimizer",t}(u.Optimizer);n.SGDOptimizer=l,s.SerializationMap.register(l)},{"../environment":51,"../globals":53,"../ops/ops":138,"../serialization":167,"./optimizer":161}],166:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("./util"),o=function(){function e(e,t){this.backendTimer=e,this.logger=t,null==t&&(this.logger=new a)}return e.prototype.profileKernel=function(e,t){var n,o=this,a=function(){n=t()},i=this.backendTimer.time(a),s=Array.isArray(n)?n:[n];return s.forEach(function(t){var n=t.dataSync();r.checkComputationForNaN(n,t.dtype,e),i.then(function(r){o.logger.logKernelProfile(e,t,n,r.kernelMs)})}),n},e}();n.Profiler=o;var a=function(){function e(){}return e.prototype.logKernelProfile=function(e,t,n,o){var a=r.rightPad(o+"ms",9),i=r.rightPad(e,25),s=t.rank,u=t.size,l=r.rightPad(t.shape.toString(),14);console.log("%c"+i+"\t%c"+a+"\t%c"+s+"D "+l+"\t%c"+u,"font-weight:bold","color:red","color:blue","color: orange")},e}();n.Logger=a},{"./util":176}],167:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(){}return e.prototype.getClassName=function(){return this.constructor.className},e.fromConfig=function(e,t){return new e(t)},e}();n.Serializable=r;var o=function(){function e(){this.classNameMap={}}return e.getMap=function(){return null==e.instance&&(e.instance=new e),e.instance},e.register=function(t){e.getMap().classNameMap[t.className]=[t,t.fromConfig]},e}();n.SerializationMap=o},{}],168:[function(e,t,n){"use strict";function r(e,t,n){for(var r={},o={},a=0;a<t.length;a++)r[t[a].id]=!0;for(var a=0;a<e.length;a++){var i=e[a],s=i.inputs;for(var u in s){for(var l=s[u],c=!1,p=0;p<t.length;p++)if(r[l.id]){r[i.output.id]=!0,c=!0,o[i.id]=!0;break}if(c)break}}var f={};f[n.id]=!0;for(var h={},a=e.length-1;a>=0;a--){var i=e[a],s=i.inputs,d=[];d.push(i.output);for(var p=0;p<d.length;p++)if(f[d[p].id]){for(var u in s)f[s[u].id]=!0,h[i.id]=!0;break}}for(var m=[],a=0;a<e.length;a++){var i=e[a];if(o[i.id]&&h[i.id]){var g={};for(var u in i.inputs){var v=i.inputs[u];r[v.id]&&(g[u]=v)}var y=Object.assign({},i);y.inputs=g,y.output=i.output,m.push(y)}}return m}function o(e,t){for(var n=t.length-1;n>=0;n--){var r=t[n],o=e[r.output.id];if(null==r.gradient)throw new Error("Cannot compute gradient: gradient function not found "+("for "+r.name+"."));var i=r.gradient(o);for(var s in r.inputs){if(!(s in i))throw new Error("Cannot backprop through input "+s+". "+("Available gradients found: "+Object.keys(i)+"."));var u=i[s](),l=r.inputs[s];if(!a.arraysEqual(u.shape,l.shape))throw new Error("Error in gradient for op "+r.name+". The gradient of input "+("'"+s+"' has shape '"+u.shape+"', which does not match ")+("the shape of the input '"+l.shape+"'"));if(null==e[l.id])e[l.id]=u;else{var c=e[l.id];e[l.id]=c.add(u),c.dispose()}}}}Object.defineProperty(n,"__esModule",{value:!0});var a=e("./util");n.getFilteredNodesXToY=r,n.backpropagateGradients=o},{"./util":176}],169:[function(e,t,n){"use strict";function r(e){f=e}function o(e){h=e}var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,s)}u((r=r.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,a&&(i=2&n[0]?a.return:n[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,n[1])).done)return i;switch(a=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,a=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(i=u.trys,!(i=i.length>0&&i[i.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){u.label=n[1];break}if(6===n[0]&&u.label<i[1]){u.label=i[1],i=n;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(n);break}i[2]&&u.ops.pop(),u.trys.pop();continue}n=t.call(e,u)}catch(e){n=[6,e],a=0}finally{o=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,a,i,s,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(n,"__esModule",{value:!0});var u=e("./tensor_format"),l=e("./util"),c=e("./util"),p=function(){function e(e,t,n){if(this.dtype=t,null!=n){var r=n.length,o=l.sizeFromShape(e);l.assert(r===o,"Length of values '"+r+"' does not match the size "+("inferred by the shape '"+o+"'"))}this.shape=e.slice(),this.values=n||l.getTypedArrayFromDType(t,l.sizeFromShape(e)),this.strides=c.computeStrides(e),this.size=l.sizeFromShape(e)}return e.prototype.set=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];0===t.length&&(t=[0]),l.assert(t.length===this.rank,"The number of provided coordinates ("+t.length+") must "+("match the rank ("+this.rank+")"));var r=this.locToIndex(t);this.values[r]=e},e.prototype.get=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];0===e.length&&(e=[0]);for(var n=e[e.length-1],r=0;r<e.length-1;++r)n+=this.strides[r]*e[r];return this.values[n]},e.prototype.locToIndex=function(e){if(0===this.rank)return 0;if(1===this.rank)return e[0];for(var t=e[e.length-1],n=0;n<e.length-1;++n)t+=this.strides[n]*e[n];return t},e.prototype.indexToLoc=function(e){if(0===this.rank)return[];if(1===this.rank)return[e];for(var t=new Array(this.shape.length),n=0;n<t.length-1;++n)t[n]=Math.floor(e/this.strides[n]),e-=t[n]*this.strides[n];return t[t.length-1]=e,t},Object.defineProperty(e.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),e.prototype.toTensor=function(){return d.make(this.shape,{values:this.values},this.dtype)},e}();n.TensorBuffer=p;var f=null,h=null;n.setTensorTracker=r,n.setOpHandler=o;var d=function(){function e(t,n,r,o){this.isDisposedInternal=!1,this.size=l.sizeFromShape(t),null!=r&&l.assert(this.size===r.length,"Constructing tensor of shape ("+this.size+") should match the "+("length of values ("+r.length+")")),this.shape=t.slice(),this.dtype=n||"float32",this.strides=c.computeStrides(t),this.dataId=null!=o?o:{},this.id=e.nextId++,this.rankType=this.rank<5?this.rank.toString():"higher",f().registerTensor(this),null!=r&&f().write(this.dataId,r)}return e.make=function(t,n,r){return new e(t,r,n.values,n.dataId)},e.prototype.flatten=function(){return this.throwIfDisposed(),this.as1D()},e.prototype.asScalar=function(){return this.throwIfDisposed(),l.assert(1===this.size,"The array must have only 1 element."),this.reshape([])},e.prototype.as1D=function(){return this.throwIfDisposed(),this.reshape([this.size])},e.prototype.as2D=function(e,t){return this.throwIfDisposed(),this.reshape([e,t])},e.prototype.as3D=function(e,t,n){return this.throwIfDisposed(),this.reshape([e,t,n])},e.prototype.as4D=function(e,t,n,r){return this.throwIfDisposed(),this.reshape([e,t,n,r])},e.prototype.asType=function(e){return this.throwIfDisposed(),h.cast(this,e)},Object.defineProperty(e.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),e.prototype.get=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];l.assert(e.length===this.rank,"Number of coordinates in get() must match the rank of the tensor"),this.throwIfDisposed(),0===e.length&&(e=[0]);for(var n=e[e.length-1],r=0;r<e.length-1;++r)n+=this.strides[r]*e[r];return this.dataSync()[n]},e.prototype.buffer=function(){return h.buffer(this.shape,this.dtype,this.dataSync())},e.prototype.data=function(){return i(this,void 0,void 0,function(){return s(this,function(e){return this.throwIfDisposed(),[2,f().read(this.dataId)]})})},e.prototype.dataSync=function(){return this.throwIfDisposed(),f().readSync(this.dataId)},e.prototype.dispose=function(){this.isDisposed||(f().disposeTensor(this),this.isDisposedInternal=!0)},Object.defineProperty(e.prototype,"isDisposed",{get:function(){return this.isDisposedInternal},enumerable:!0,configurable:!0}),e.prototype.throwIfDisposed=function(){if(this.isDisposed)throw new Error("Tensor is disposed.")},e.prototype.toFloat=function(){return this.asType("float32")},e.prototype.toInt=function(){return this.asType("int32")},e.prototype.toBool=function(){return this.asType("bool")},e.prototype.print=function(e){return void 0===e&&(e=!1),h.print(this,e)},e.prototype.reshape=function(e){return this.throwIfDisposed(),h.reshape(this,e)},e.prototype.reshapeAs=function(e){return this.throwIfDisposed(),this.reshape(e.shape)},e.prototype.expandDims=function(e){return void 0===e&&(e=0),h.expandDims(this,e)},e.prototype.cumsum=function(e,t,n){return void 0===e&&(e=0),void 0===t&&(t=!1),void 0===n&&(n=!1),h.cumsum(this,e,t,n)},e.prototype.squeeze=function(e){return this.throwIfDisposed(),h.squeeze(this,e)},e.prototype.clone=function(){return this.throwIfDisposed(),h.clone(this)},e.prototype.toString=function(e){void 0===e&&(e=!1);var t=this.dataSync();return u.tensorToString(t,this.shape,this.dtype,e)},e.prototype.tile=function(e){return this.throwIfDisposed(),h.tile(this,e)},e.prototype.gather=function(e,t){return void 0===t&&(t=0),this.throwIfDisposed(),h.gather(this,e,t)},e.prototype.matMul=function(e,t,n){return void 0===t&&(t=!1),void 0===n&&(n=!1),this.throwIfDisposed(),h.matMul(this,e,t,n)},e.prototype.dot=function(e){return this.throwIfDisposed(),h.dot(this,e)},e.prototype.norm=function(e,t,n){return void 0===e&&(e="euclidean"),void 0===t&&(t=null),void 0===n&&(n=!1),this.throwIfDisposed(),h.norm(this,e,t,n)},e.prototype.slice=function(e,t){return this.throwIfDisposed(),h.slice(this,e,t)},e.prototype.reverse=function(e){return this.throwIfDisposed(),h.reverse(this,e)},e.prototype.concat=function(e,t){return void 0===t&&(t=0),this.throwIfDisposed(),h.concat([this,e],t)},e.prototype.stack=function(e,t){return void 0===t&&(t=0),h.stack([this,e],t)},e.prototype.unstack=function(e,t){return void 0===t&&(t=0),h.unstack(this,t)},e.prototype.pad=function(e,t){return void 0===t&&(t=0),h.pad(this,e,t)},e.prototype.batchNormalization=function(e,t,n,r,o){return void 0===n&&(n=.001),this.throwIfDisposed(),h.batchNormalization(this,e,t,n,r,o)},e.prototype.all=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),h.all(this,e,t)},e.prototype.any=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),h.any(this,e,t)},e.prototype.logSumExp=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),h.logSumExp(this,e,t)},e.prototype.sum=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),h.sum(this,e,t)},e.prototype.mean=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),h.mean(this,e,t)},e.prototype.min=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),h.min(this,e,t)},e.prototype.max=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),h.max(this,e,t)},e.prototype.argMin=function(e){return void 0===e&&(e=null),this.throwIfDisposed(),h.argMin(this,e)},e.prototype.argMax=function(e){return void 0===e&&(e=null),this.throwIfDisposed(),h.argMax(this,e)},e.prototype.cast=function(e){return this.throwIfDisposed(),h.cast(this,e)},e.prototype.add=function(e){return this.throwIfDisposed(),h.add(this,e)},e.prototype.addStrict=function(e){return this.throwIfDisposed(),h.addStrict(this,e)},e.prototype.sub=function(e){return this.throwIfDisposed(),h.sub(this,e)},e.prototype.subStrict=function(e){return this.throwIfDisposed(),h.subStrict(this,e)},e.prototype.pow=function(e){return this.throwIfDisposed(),h.pow(this,e)},e.prototype.powStrict=function(e){return this.throwIfDisposed(),h.powStrict(this,e)},e.prototype.mul=function(e){return this.throwIfDisposed(),h.mul(this,e)},e.prototype.mulStrict=function(e){return this.throwIfDisposed(),h.mulStrict(this,e)},e.prototype.div=function(e){return this.throwIfDisposed(),h.div(this,e)},e.prototype.floorDiv=function(e){return this.throwIfDisposed(),h.floorDiv(this,e)},e.prototype.divStrict=function(e){return this.throwIfDisposed(),h.divStrict(this,e)},e.prototype.minimum=function(e){return this.throwIfDisposed(),h.minimum(this,e)},e.prototype.minimumStrict=function(e){return this.throwIfDisposed(),h.minimumStrict(this,e)},e.prototype.maximum=function(e){return this.throwIfDisposed(),h.maximum(this,e)},e.prototype.maximumStrict=function(e){return this.throwIfDisposed(),h.maximumStrict(this,e)},e.prototype.mod=function(e){return this.throwIfDisposed(),h.mod(this,e)},e.prototype.modStrict=function(e){return this.throwIfDisposed(),h.modStrict(this,e)},e.prototype.squaredDifference=function(e){return this.throwIfDisposed(),h.squaredDifference(this,e)},e.prototype.squaredDifferenceStrict=function(e){return this.throwIfDisposed(),h.squaredDifferenceStrict(this,e)},e.prototype.transpose=function(e){return this.throwIfDisposed(),h.transpose(this,e)},e.prototype.notEqual=function(e){return this.throwIfDisposed(),h.notEqual(this,e)},e.prototype.notEqualStrict=function(e){return this.throwIfDisposed(),h.notEqualStrict(this,e)},e.prototype.less=function(e){return this.throwIfDisposed(),h.less(this,e)},e.prototype.lessStrict=function(e){return this.throwIfDisposed(),h.lessStrict(this,e)},e.prototype.equal=function(e){return this.throwIfDisposed(),h.equal(this,e)},e.prototype.equalStrict=function(e){return this.throwIfDisposed(),h.equalStrict(this,e)},e.prototype.lessEqual=function(e){return this.throwIfDisposed(),h.lessEqual(this,e)},e.prototype.lessEqualStrict=function(e){return this.throwIfDisposed(),h.lessEqualStrict(this,e)},e.prototype.greater=function(e){return this.throwIfDisposed(),h.greater(this,e)},e.prototype.greaterStrict=function(e){return this.throwIfDisposed(),h.greaterStrict(this,e)},e.prototype.greaterEqual=function(e){return this.throwIfDisposed(),h.greaterEqual(this,e)},e.prototype.greaterEqualStrict=function(e){return this.throwIfDisposed(),h.greaterEqualStrict(this,e)},e.prototype.logicalAnd=function(e){return this.throwIfDisposed(),h.logicalAnd(this,e)},e.prototype.logicalOr=function(e){return this.throwIfDisposed(),h.logicalOr(this,e)},e.prototype.logicalNot=function(){return this.throwIfDisposed(),h.logicalNot(this)},e.prototype.logicalXor=function(e){return this.throwIfDisposed(),h.logicalXor(this,e)},e.prototype.where=function(e,t){return this.throwIfDisposed(),h.where(e,this,t)},e.prototype.neg=function(){return this.throwIfDisposed(),h.neg(this)},e.prototype.ceil=function(){return this.throwIfDisposed(),h.ceil(this)},e.prototype.floor=function(){return this.throwIfDisposed(),h.floor(this)},e.prototype.sign=function(){return this.throwIfDisposed(),h.sign(this)},e.prototype.exp=function(){return this.throwIfDisposed(),h.exp(this)},e.prototype.expm1=function(){return this.throwIfDisposed(),h.expm1(this)},e.prototype.log=function(){return this.throwIfDisposed(),h.log(this)},e.prototype.log1p=function(){return this.throwIfDisposed(),h.log1p(this)},e.prototype.sqrt=function(){return this.throwIfDisposed(),h.sqrt(this)},e.prototype.rsqrt=function(){return this.throwIfDisposed(),h.rsqrt(this)},e.prototype.square=function(){return this.throwIfDisposed(),h.square(this)},e.prototype.reciprocal=function(){return this.throwIfDisposed(),h.reciprocal(this)},e.prototype.abs=function(){return this.throwIfDisposed(),h.abs(this)},e.prototype.clipByValue=function(e,t){return this.throwIfDisposed(),h.clipByValue(this,e,t)},e.prototype.relu=function(){return this.throwIfDisposed(),h.relu(this)},e.prototype.elu=function(){return this.throwIfDisposed(),h.elu(this)},e.prototype.selu=function(){return this.throwIfDisposed(),h.selu(this)},e.prototype.leakyRelu=function(e){return void 0===e&&(e=.2),this.throwIfDisposed(),h.leakyRelu(this,e)},e.prototype.prelu=function(e){return this.throwIfDisposed(),h.prelu(this,e)},e.prototype.sigmoid=function(){return this.throwIfDisposed(),h.sigmoid(this)},e.prototype.logSigmoid=function(){return this.throwIfDisposed(),h.logSigmoid(this)},e.prototype.softplus=function(){return this.throwIfDisposed(),h.softplus(this)},e.prototype.sin=function(){return this.throwIfDisposed(),h.sin(this)},e.prototype.cos=function(){return this.throwIfDisposed(),h.cos(this)},e.prototype.tan=function(){return this.throwIfDisposed(),h.tan(this)},e.prototype.asin=function(){return this.throwIfDisposed(),h.asin(this)},e.prototype.acos=function(){return this.throwIfDisposed(),h.acos(this)},e.prototype.atan=function(){return this.throwIfDisposed(),h.atan(this)},e.prototype.sinh=function(){return this.throwIfDisposed(),h.sinh(this)},e.prototype.cosh=function(){return this.throwIfDisposed(),h.cosh(this)},e.prototype.tanh=function(){return this.throwIfDisposed(),h.tanh(this)},e.prototype.asinh=function(){return this.throwIfDisposed(),h.asinh(this)},e.prototype.acosh=function(){return this.throwIfDisposed(),h.acosh(this)},e.prototype.atanh=function(){return this.throwIfDisposed(),h.atanh(this)},e.prototype.erf=function(){return this.throwIfDisposed(),h.erf(this)},e.prototype.round=function(){return this.throwIfDisposed(),h.round(this)},e.prototype.step=function(e){return void 0===e&&(e=0),this.throwIfDisposed(),h.step(this,e)},e.prototype.softmax=function(e){return void 0===e&&(e=-1),this.throwIfDisposed(),h.softmax(this,e)},e.prototype.resizeBilinear=function(e,t){return void 0===t&&(t=!1),this.throwIfDisposed(),h.image.resizeBilinear(this,e,t)},e.prototype.resizeNearestNeighbor=function(e,t){return void 0===t&&(t=!1),this.throwIfDisposed(),h.image.resizeNearestNeighbor(this,e,t)},e.prototype.conv1d=function(e,t,n,r,o,a){return void 0===r&&(r="NWC"),void 0===o&&(o=1),this.throwIfDisposed(),h.conv1d(this,e,t,n,r,o,a)},e.prototype.conv2d=function(e,t,n,r,o,a){return void 0===r&&(r="NHWC"),void 0===o&&(o=[1,1]),this.throwIfDisposed(),h.conv2d(this,e,t,n,r,o,a)},e.prototype.conv2dTranspose=function(e,t,n,r,o){return this.throwIfDisposed(),h.conv2dTranspose(this,e,t,n,r,o)},e.prototype.depthwiseConv2D=function(e,t,n,r,o,a){return void 0===r&&(r="NHWC"),void 0===o&&(o=[1,1]),this.throwIfDisposed(),h.depthwiseConv2d(this,e,t,n,r,o,a)},e.prototype.avgPool=function(e,t,n,r){return this.throwIfDisposed(),h.avgPool(this,e,t,n,r)},e.prototype.maxPool=function(e,t,n,r){return this.throwIfDisposed(),h.maxPool(this,e,t,n,r)},e.prototype.localResponseNormalization=function(e,t,n,r){return void 0===e&&(e=5),void 0===t&&(t=1),void 0===n&&(n=1),void 0===r&&(r=.5),h.localResponseNormalization(this,e,t,n,r)},e.prototype.variable=function(e,t,n){return void 0===e&&(e=!0),this.throwIfDisposed(),m.variable(this,e,t,n)},e.prototype.unsortedSegmentSum=function(e,t){return this.throwIfDisposed(),h.unsortedSegmentSum(this,e,t)},e.prototype.batchToSpaceND=function(e,t){return this.throwIfDisposed(),h.batchToSpaceND(this,e,t)},e.prototype.spaceToBatchND=function(e,t){return this.throwIfDisposed(),h.spaceToBatchND(this,e,t)},e.nextId=0,e}();n.Tensor=d,Object.defineProperty(d,Symbol.hasInstance,{value:function(e){return!!e&&null!=e.shape&&null!=e.dtype}});var m=function(e){function t(n,r,o){void 0===r&&(r=!0);var a=e.call(this,n.shape,n.dtype,null,n.dataId)||this;a.trainable=r,a.name=o,null==a.name&&(a.name=t.nextVarId.toString(),t.nextVarId++);try{f().registerVariable(a)}catch(e){throw f().disposeTensor(a),e}return a}return a(t,e),t.variable=function(e,n,r,o){return void 0===n&&(n=!0),null!=o&&o!==e.dtype&&(e=e.asType(o)),new t(e,n,r)},t.prototype.assign=function(e){if(e.dtype!==this.dtype)throw new Error("dtype of the new value ("+e.dtype+") and "+("previous value ("+this.dtype+") must match"));if(!l.arraysEqual(e.shape,this.shape))throw new Error("shape of the new value ("+e.shape+") and "+("previous value ("+this.shape+") must match"));f().disposeTensor(this),this.dataId=e.dataId,f().registerTensor(this)},t.nextVarId=0,t}(d);n.Variable=m,Object.defineProperty(m,Symbol.hasInstance,{value:function(e){return e instanceof d&&null!=e.assign&&e.assign instanceof Function}});var g=m.variable;n.variable=g},{"./tensor_format":170,"./util":176}],170:[function(e,t,n){"use strict";function r(e,t,n,r){var a=s.computeStrides(t),u=o(e,t,a),l=t.length,c=i(e,t,a,u),p=["Tensor"];return r&&(p.push("  dtype: "+n),p.push("  rank: "+l),p.push("  shape: ["+t+"]"),p.push("  values:")),p.push(c.map(function(e){return"    "+e}).join("\n")),p.join("\n")}function o(e,t,n){var r=s.sizeFromShape(t),o=n[n.length-1],i=new Array(o).fill(0),u=t.length;if(u>1)for(var l=0;l<r/o;l++)for(var c=l*o,p=0;p<o;p++)i[p]=Math.max(i[p],a(e[c+p],0).length);return i}function a(e,t){return s.rightPad(parseFloat(e.toFixed(c)).toString(),t)}function i(e,t,n,r,o){void 0===o&&(o=!0);var s=t[0],c=t.length;if(0===c)return[e[0].toString()];if(1===c){if(s>u){var p=Array.from(e.subarray(0,l)),f=Array.from(e.subarray(s-l,s));return["["+p.map(function(e,t){
return a(e,r[t])}).join(", ")+", ..., "+f.map(function(e,t){return a(e,r[s-l+t])}).join(", ")+"]"]}return["["+Array.from(e).map(function(e,t){return a(e,r[t])}).join(", ")+"]"]}var h=t.slice(1),d=n.slice(1),m=n[0],g=[];if(s>u){for(var v=0;v<l;v++){var y=v*m,x=y+m;g.push.apply(g,i(e.subarray(y,x),h,d,r,!1))}g.push("...");for(var v=s-l;v<s;v++){var y=v*m,x=y+m;g.push.apply(g,i(e.subarray(y,x),h,d,r,v===s-1))}}else for(var v=0;v<s;v++){var y=v*m,x=y+m;g.push.apply(g,i(e.subarray(y,x),h,d,r,v===s-1))}var b=2===c?",":"";g[0]="["+g[0]+b;for(var v=1;v<g.length-1;v++)g[v]=" "+g[v]+b;for(var _=",\n",v=2;v<c;v++)_+="\n";return g[g.length-1]=" "+g[g.length-1]+"]"+(o?"":_),g}Object.defineProperty(n,"__esModule",{value:!0});var s=e("./util"),u=20,l=3,c=7;n.tensorToString=r},{"./util":176}],171:[function(e,t,n){"use strict";function r(e,t){p.assert(e.dtype===t.dtype," The dtypes of the first("+e.dtype+") and"+(" second("+t.dtype+") input must match"))}function o(e,t){for(var n=0;n<t.length;n++)if(t[n].id===e.id)return!0;return!1}function a(e,t){var n=[];if(e instanceof c.Tensor)n.push(e);else for(var r=e,o=0;o<t.length;o++)n.push(r[t[o]]);return n}function i(e,t){if(e.length!==t.length)throw new Error("Cannot unflatten Tensor[], keys and arrays are not of same length.");for(var n={},r=0;r<e.length;r++)n[e[r]]=t[r];return n}function s(e){var t=[],n=new Set;return u(e,t,n),t}function u(e,t,n){if(null!=e){if(e instanceof c.Tensor)return void t.push(e);if(l(e)){var r=e;for(var o in r){var a=r[o];n.has(a)||(n.add(a),u(a,t,n))}}}}function l(e){return Array.isArray(e)||"object"==typeof e}Object.defineProperty(n,"__esModule",{value:!0});var c=e("./tensor"),p=e("./util");n.assertTypesMatch=r,n.isTensorInList=o,n.flattenNameArrayMap=a,n.unflattenToNameArrayMap=i,n.getTensorsInContainer=s},{"./tensor":169,"./util":176}],172:[function(e,t,n){"use strict";function r(e,t,n,r){if(void 0===r&&(r="float32"),r=r||"float32",e instanceof i.Tensor)return e;if(!s.isTypedArray(e)&&!Array.isArray(e)&&"number"!=typeof e&&"boolean"!=typeof e)throw new Error("Argument '"+t+"' passed to '"+n+"' must be a Tensor or TensorLike, but got "+e.constructor.name);var o=s.inferShape(e);return s.isTypedArray(e)||Array.isArray(e)||(e=[e]),i.Tensor.make(o,{values:s.toTypedArray(e,r,a.ENV.get("DEBUG"))},r)}function o(e,t,n){if(!Array.isArray(e))throw new Error("Argument "+t+" passed to "+n+" must be a `Tensor[]` or `TensorLike[]`");var o=e;return o.map(function(e,o){return r(e,t+"["+o+"]",n)})}Object.defineProperty(n,"__esModule",{value:!0});var a=e("./environment"),i=e("./tensor"),s=e("./util");n.convertToTensor=r,n.convertToTensorArray=o},{"./environment":51,"./tensor":169,"./util":176}],173:[function(e,t,n){"use strict";function r(e,t,n){if(null==n&&(n=c.ENV.get("TEST_EPSILON")),e instanceof p.Tensor||t instanceof p.Tensor){if(e instanceof p.Tensor&&t instanceof p.Tensor){if(e.dtype!==t.dtype)throw new Error("Arrays are of different type actual: "+e.dtype+" "+("vs expected: "+t.dtype+"."));if(!f.arraysEqual(e.shape,t.shape))throw new Error("Arrays are of different shape actual: "+e.shape+" "+("vs expected: "+t.shape+"."))}}else{var r=e.constructor.name,o=t.constructor.name;if(r!==o)throw new Error("Arrays are of different type actual: "+r+" vs expected: "+o)}var a,i;if(a=e instanceof p.Tensor?e.dataSync():e,i=t instanceof p.Tensor?t.dataSync():t,a.length!==i.length)throw new Error("Arrays have different lengths actual: "+a.length+" vs "+("expected: "+i.length+".\n")+("Actual:   "+a+".\n")+("Expected: "+i+"."));for(var u=0;u<i.length;++u){var l=a[u],h=i[u];if(!s(l,Number(h),n))throw new Error("Arrays differ: actual["+u+"] = "+l+", expected["+u+"] = "+h+".\n"+("Actual:   "+a+".\n")+("Expected: "+i+"."))}}function o(e,t){e().then(function(){return t.fail()},function(){return t()})}function a(e,t){return r(e,t,0)}function i(e,t,n){if(null==n&&(n=c.ENV.get("TEST_EPSILON")),!s(e,t,n))throw new Error("Numbers differ: actual === "+e+", expected === "+t)}function s(e,t,n){return!(!isNaN(e)||!isNaN(t))||!(isNaN(e)||isNaN(t)||Math.abs(e-t)>n)}function u(e,t,n){var r;r=e instanceof p.Tensor?e.dataSync():e;for(var o=0;o<r.length;o++)if(r[o]<t||r[o]>n)throw new Error("Value out of range:"+r[o]+" low: "+t+", high: "+n)}function l(e,t){expect(new Float32Array(e)).toEqual(new Float32Array(t))}Object.defineProperty(n,"__esModule",{value:!0});var c=e("./environment"),p=e("./tensor"),f=e("./util");n.WEBGL_ENVS={HAS_WEBGL:!0},n.NODE_ENVS={IS_NODE:!0},n.CHROME_ENVS={IS_CHROME:!0},n.BROWSER_ENVS={IS_BROWSER:!0},n.CPU_ENVS={HAS_WEBGL:!1},n.ALL_ENVS={},n.expectArraysClose=r,n.expectPromiseToFail=o,n.expectArraysEqual=a,n.expectNumbersClose=i,n.expectValuesInRange=u,n.expectArrayBuffersEqual=l},{"./environment":51,"./tensor":169,"./util":176}],174:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("./optimizers/adadelta_optimizer"),o=e("./optimizers/adagrad_optimizer"),a=e("./optimizers/adam_optimizer"),i=e("./optimizers/adamax_optimizer"),s=e("./optimizers/momentum_optimizer"),u=e("./optimizers/optimizer_constructors"),l=e("./optimizers/rmsprop_optimizer"),c=e("./optimizers/sgd_optimizer");[s.MomentumOptimizer,c.SGDOptimizer,r.AdadeltaOptimizer,o.AdagradOptimizer,l.RMSPropOptimizer,i.AdamaxOptimizer,a.AdamOptimizer],n.train={sgd:u.OptimizerConstructors.sgd,momentum:u.OptimizerConstructors.momentum,adadelta:u.OptimizerConstructors.adadelta,adagrad:u.OptimizerConstructors.adagrad,rmsprop:u.OptimizerConstructors.rmsprop,adamax:u.OptimizerConstructors.adamax,adam:u.OptimizerConstructors.adam}},{"./optimizers/adadelta_optimizer":156,"./optimizers/adagrad_optimizer":157,"./optimizers/adam_optimizer":158,"./optimizers/adamax_optimizer":159,"./optimizers/momentum_optimizer":160,"./optimizers/optimizer_constructors":162,"./optimizers/rmsprop_optimizer":164,"./optimizers/sgd_optimizer":165}],175:[function(e,t,n){"use strict";function r(e,t){return c[e][t]}function o(e){return r(e,"int32")}Object.defineProperty(n,"__esModule",{value:!0});var a;!function(e){e.float32="float32",e.int32="int32",e.bool="bool"}(a=n.DType||(n.DType={}));var i;!function(e){e.R0="R0",e.R1="R1",e.R2="R2",e.R3="R3",e.R4="R4",e.R5="R5",e.R6="R6"}(i=n.Rank||(n.Rank={}));var s;!function(e){e.float32="float32",e.int32="int32",e.bool="int32"}(s||(s={}));var u;!function(e){e.float32="float32",e.int32="int32",e.bool="bool"}(u||(u={}));var l;!function(e){e.float32="float32",e.int32="float32",e.bool="float32"}(l||(l={}));var c={float32:l,int32:s,bool:u};n.upcastType=r,n.sumOutType=o},{}],176:[function(e,t,n){(function(e){"use strict";function t(e){for(var t=e.length,n=0,r=0;t>0;)r=Math.random()*t|0,t--,n=e[t],e[t]=e[r],e[r]=n}function r(e,t,n){return Math.max(e,Math.min(t,n))}function o(e,t){return Math.random()*(t-e)+e}function a(e,t){for(var n=0,r=0;r<e.length;r++){var o=Number(e[r])-Number(t[r]);n+=o*o}return n}function i(e,t){if(!e)throw new Error("string"==typeof t?t:t())}function s(e,t,n){void 0===n&&(n=""),i(d(e,t),n+(" Shapes "+e+" and "+t+" must match"))}function u(e){i(null!=e,"The input to the tensor constructor must be a non-null value.")}function l(e,t){if(void 0===t&&(t=[]),Array.isArray(e))for(var n=0;n<e.length;++n)l(e[n],t);else t.push(e);return t}function c(e){var t=e;if(k(e))return[e.length];if(!Array.isArray(e))return[];for(var n=[];t instanceof Array;)n.push(t.length),t=t[0];return e instanceof Array&&p(e,n,[]),n}function p(e,t,n){if(n=n||[],!(e instanceof Array))return void i(0===t.length,function(){return"Element arr["+n.join("][")+"] is a primitive, "+("but should be an array of "+t[0]+" elements")});i(t.length>0,function(){return"Element arr["+n.join("][")+"] should be a primitive, "+("but is an array of "+e.length+" elements")}),i(e.length===t[0],function(){return"Element arr["+n.join("][")+"] should have "+t[0]+" "+("elements, but has "+e.length+" elements")});for(var r=t.slice(1),o=0;o<e.length;++o)p(e[o],r,n.concat(o))}function f(e){if(0===e.length)return 1;for(var t=e[0],n=1;n<e.length;n++)t*=e[n];return t}function h(e){return 0===e.length}function d(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function m(e){return e%1===0}function g(e){if(null!=Math.tanh)return Math.tanh(e);if(e===1/0)return 1;if(e===-(1/0))return-1;var t=Math.exp(2*e);return(t-1)/(t+1)}function v(e){for(var t=Math.floor(Math.sqrt(e));t>1;--t)if(e%t===0)return[t,e/t];return[1,e]}function y(e){for(var n=new Uint32Array(e),r=0;r<e;++r)n[r]=r;return t(n),n}function x(e,t){return t<=e.length?e:e+" ".repeat(t-e.length)}function b(e,t,n){return void 0===t&&(t=function(e){return 0}),new Promise(function(r,o){var a=0,i=function(){if(e())return void r();a++;var s=t(a);return null!=n&&a>=n?void o():void setTimeout(i,s)};i()})}function _(e,t){for(var n=1,r=-1,o=0;o<e.length;++o)if(e[o]>0)n*=e[o];else if(e[o]===-1){if(r!==-1)throw Error("Shapes can only have 1 implicit size. "+("Found - 1 at dim "+r+" and dim "+o));r=o}else if(e[o]<=0)throw Error("Shapes can not be <= 0. Found "+e[o]+" at dim "+o);if(r===-1){if(t>0&&t!==n)throw Error("Size("+t+") must match the product of shape "+e);return e}if(t%n!==0)throw Error("The implicit shape can't be a fractional number. "+("Got "+t+" / "+n));var a=e.slice();return a[r]=t/n,a}function w(e,t){for(var n=[],r=[],o=0,a=0;a<e.length;++a){if(null!=t){if(t[o]===a&&e[a]>1)throw new Error("Can't squeeze axis "+a+" since its dim '"+e[a]+"' is not 1");(null==t[o]||t[o]>a)&&1===e[a]&&(n.push(e[a]),r.push(a)),t[o]<=a&&o++}e[a]>1&&(n.push(e[a]),r.push(a))}return{newShape:n,keptDims:r}}function T(e,t){var n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else{if("bool"!==e)throw new Error("Unknown data type "+e);n=new Uint8Array(t)}return n}function P(e,t,n){if("float32"===t)for(var r=0;r<e.length;r++)if(isNaN(e[r]))throw Error("The result of the '"+n+"' has NaNs.")}function N(e,t){if("float32"!==t)for(var n=0;n<e.length;n++)if(isNaN(e[n]))throw Error("NaN is not a valid value for dtype: '"+t+"'.")}function S(e,t){return"float32"!==t&&(("int32"!==t||"float32"===e)&&("bool"!==t||"bool"!==e))}function E(e,t,n){if(null==t||"float32"===t)return new Float32Array(e);if("int32"===t)return n&&N(e,t),new Int32Array(e);if("bool"===t){for(var r=new Uint8Array(e.length),o=0;o<r.length;++o)0!==Math.round(e[o])&&(r[o]=1);return r}throw new Error("Unknown data type "+t)}function k(e){return e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array}function A(e){if("float32"===e||"int32"===e)return 4;if("bool"===e)return 1;throw new Error("Unknown dtype "+e)}function O(e){return!!(e&&e.constructor&&e.call&&e.apply)}function I(e,t){for(var n=t;n<e;++n)if(e%n===0)return n;return e}function C(e){var t=e.length;if(t<2)return[];var n=new Array(t-1);n[t-2]=e[t-1];for(var r=t-3;r>=0;--r)n[r]=n[r+1]*e[r+1];return n}function R(e,t,n){return M(e,t)?e:(Array.isArray(e)&&(e=l(e)),E(e,t,n))}function M(e,t){return e instanceof Float32Array&&"float32"===t||e instanceof Int32Array&&"int32"===t||e instanceof Uint8Array&&"bool"===t}function D(e,t){for(var n=V(e,t),r=0;r<n.length;r++)n[r]=1;return n}function V(e,t){if(null==t||"float32"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t)return new Uint8Array(e);throw new Error("Unknown data type "+t)}function L(){if("undefined"!=typeof performance)return performance.now();if("undefined"!=typeof e){var t=e.hrtime();return 1e3*t[0]+t[1]/1e6}throw new Error("Can not measure time in this environment. You should run tf.js in the browser or in Node.js")}Object.defineProperty(n,"__esModule",{value:!0}),n.shuffle=t,n.clamp=r,n.randUniform=o,n.distSquared=a,n.assert=i,n.assertShapesMatch=s,n.assertNonNull=u,n.flatten=l,n.inferShape=c,n.sizeFromShape=f,n.isScalarShape=h,n.arraysEqual=d,n.isInt=m,n.tanh=g,n.sizeToSquarishShape=v,n.createShuffledIndices=y,n.rightPad=x,n.repeatedTry=b,n.inferFromImplicitShape=_,n.squeezeShape=w,n.getTypedArrayFromDType=T,n.checkComputationForNaN=P,n.checkConversionForNaN=N,n.hasEncodingLoss=S,n.isTypedArray=k,n.bytesPerElement=A,n.isFunction=O,n.nearestDivisor=I,n.computeStrides=C,n.toTypedArray=R,n.makeOnesTypedArray=D,n.makeZerosTypedArray=V,n.now=L}).call(this,e("_process"))},{_process:191}],177:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r="0.12.8";n.version=r},{}],178:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("./kernels/webgl/gpgpu_util");n.gpgpu_util=r;var o=e("./kernels/webgl/webgl_util");n.webgl_util=o;var a=e("./kernels/backend_webgl");n.MathBackendWebGL=a.MathBackendWebGL;var i=e("./kernels/webgl/gpgpu_context");n.GPGPUContext=i.GPGPUContext},{"./kernels/backend_webgl":69,"./kernels/webgl/gpgpu_context":86,"./kernels/webgl/gpgpu_util":88,"./kernels/webgl/webgl_util":113}],179:[function(e,t,n){"use strict";function r(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");n===-1&&(n=t);var r=n===t?0:4-n%4;return[n,r]}function o(e){var t=r(e),n=t[0],o=t[1];return 3*(n+o)/4-o}function a(e,t,n){return 3*(t+n)/4-n}function i(e){for(var t,n=r(e),o=n[0],i=n[1],s=new f(a(e,o,i)),u=0,l=i>0?o-4:o,c=0;c<l;c+=4)t=p[e.charCodeAt(c)]<<18|p[e.charCodeAt(c+1)]<<12|p[e.charCodeAt(c+2)]<<6|p[e.charCodeAt(c+3)],s[u++]=t>>16&255,s[u++]=t>>8&255,s[u++]=255&t;return 2===i&&(t=p[e.charCodeAt(c)]<<2|p[e.charCodeAt(c+1)]>>4,s[u++]=255&t),1===i&&(t=p[e.charCodeAt(c)]<<10|p[e.charCodeAt(c+1)]<<4|p[e.charCodeAt(c+2)]>>2,s[u++]=t>>8&255,s[u++]=255&t),s}function s(e){return c[e>>18&63]+c[e>>12&63]+c[e>>6&63]+c[63&e]}function u(e,t,n){for(var r,o=[],a=t;a<n;a+=3)r=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),o.push(s(r));return o.join("")}function l(e){for(var t,n=e.length,r=n%3,o=[],a=16383,i=0,s=n-r;i<s;i+=a)o.push(u(e,i,i+a>s?s:i+a));return 1===r?(t=e[n-1],o.push(c[t>>2]+c[t<<4&63]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],o.push(c[t>>10]+c[t>>4&63]+c[t<<2&63]+"=")),o.join("")}n.byteLength=o,n.toByteArray=i,n.fromByteArray=l;for(var c=[],p=[],f="undefined"!=typeof Uint8Array?Uint8Array:Array,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=0,m=h.length;d<m;++d)c[d]=h[d],p[h.charCodeAt(d)]=d;p["-".charCodeAt(0)]=62,p["_".charCodeAt(0)]=63},{}],180:[function(e,t,n){},{}],181:[function(e,t,n){(function(t){"use strict";function r(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}function o(){return i.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(e,t){if(o()<t)throw new RangeError("Invalid typed array length");return i.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=i.prototype):(null===e&&(e=new i(t)),e.length=t),e}function i(e,t,n){if(!(i.TYPED_ARRAY_SUPPORT||this instanceof i))return new i(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return c(this,e)}return s(this,e,t,n)}function s(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?h(e,t,n,r):"string"==typeof t?p(e,t,n):d(e,t)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function l(e,t,n,r){return u(t),t<=0?a(e,t):void 0!==n?"string"==typeof r?a(e,t).fill(n,r):a(e,t).fill(n):a(e,t)}function c(e,t){if(u(t),e=a(e,t<0?0:0|m(t)),!i.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function p(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!i.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|v(t,n);e=a(e,r);var o=e.write(t,n);return o!==r&&(e=e.slice(0,o)),e}function f(e,t){var n=t.length<0?0:0|m(t.length);e=a(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function h(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),i.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=i.prototype):e=f(e,t),e}function d(e,t){if(i.isBuffer(t)){var n=0|m(t.length);return e=a(e,n),0===e.length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||K(t.length)?a(e,0):f(e,t);if("Buffer"===t.type&&Z(t.data))return f(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function m(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|e}function g(e){return+e!=e&&(e=0),i.alloc(+e)}function v(e,t){if(i.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return W(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return X(e).length;default:if(r)return W(e).length;t=(""+t).toLowerCase(),r=!0}}function y(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,t>>>=0,n<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return R(this,t,n);case"utf8":case"utf-8":return A(this,t,n);case"ascii":return I(this,t,n);case"latin1":case"binary":return C(this,t,n);case"base64":return k(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function x(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function b(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=i.from(t,r)),i.isBuffer(t))return 0===t.length?-1:_(e,t,n,r,o);if("number"==typeof t)return t&=255,i.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):_(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function _(e,t,n,r,o){function a(e,t){return 1===i?e[t]:e.readUInt16BE(t*i)}var i=1,s=e.length,u=t.length;if(void 0!==r&&(r=String(r).toLowerCase(),"ucs2"===r||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;i=2,s/=2,u/=2,n/=2}var l;if(o){var c=-1;for(l=n;l<s;l++)if(a(e,l)===a(t,c===-1?0:l-c)){if(c===-1&&(c=l),l-c+1===u)return c*i}else c!==-1&&(l-=l-c),c=-1}else for(n+u>s&&(n=s-u),l=n;l>=0;l--){for(var p=!0,f=0;f<u;f++)if(a(e,l+f)!==a(t,f)){p=!1;break}if(p)return l}return-1}function w(e,t,n,r){n=Number(n)||0;var o=e.length-n;r?(r=Number(r),r>o&&(r=o)):r=o;var a=t.length;if(a%2!==0)throw new TypeError("Invalid hex string");r>a/2&&(r=a/2);for(var i=0;i<r;++i){var s=parseInt(t.substr(2*i,2),16);if(isNaN(s))return i;e[n+i]=s}return i}function T(e,t,n,r){return Y(W(t,e.length-n),e,n,r)}function P(e,t,n,r){return Y(H(t),e,n,r)}function N(e,t,n,r){return P(e,t,n,r)}function S(e,t,n,r){return Y(X(t),e,n,r)}function E(e,t,n,r){return Y($(t,e.length-n),e,n,r)}function k(e,t,n){return 0===t&&n===e.length?Q.fromByteArray(e):Q.fromByteArray(e.slice(t,n))}function A(e,t,n){n=Math.min(e.length,n);for(var r=[],o=t;o<n;){var a=e[o],i=null,s=a>239?4:a>223?3:a>191?2:1;if(o+s<=n){var u,l,c,p;switch(s){case 1:a<128&&(i=a);break;case 2:u=e[o+1],128===(192&u)&&(p=(31&a)<<6|63&u,p>127&&(i=p));break;case 3:u=e[o+1],l=e[o+2],128===(192&u)&&128===(192&l)&&(p=(15&a)<<12|(63&u)<<6|63&l,p>2047&&(p<55296||p>57343)&&(i=p));break;case 4:u=e[o+1],l=e[o+2],c=e[o+3],128===(192&u)&&128===(192&l)&&128===(192&c)&&(p=(15&a)<<18|(63&u)<<12|(63&l)<<6|63&c,p>65535&&p<1114112&&(i=p))}}null===i?(i=65533,s=1):i>65535&&(i-=65536,r.push(i>>>10&1023|55296),i=56320|1023&i),r.push(i),o+=s}return O(r)}function O(e){var t=e.length;if(t<=ee)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=ee));return n}function I(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function C(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function R(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var o="",a=t;a<n;++a)o+=q(e[a]);return o}function M(e,t,n){for(var r=e.slice(t,n),o="",a=0;a<r.length;a+=2)o+=String.fromCharCode(r[a]+256*r[a+1]);return o}function D(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function V(e,t,n,r,o,a){if(!i.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<a)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function L(e,t,n,r){t<0&&(t=65535+t+1);for(var o=0,a=Math.min(e.length-n,2);o<a;++o)e[n+o]=(t&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function F(e,t,n,r){t<0&&(t=4294967295+t+1);for(var o=0,a=Math.min(e.length-n,4);o<a;++o)e[n+o]=t>>>8*(r?o:3-o)&255}function z(e,t,n,r,o,a){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function B(e,t,n,r,o){return o||z(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),J.write(e,t,n,r,23,4),n+4}function j(e,t,n,r,o){return o||z(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),J.write(e,t,n,r,52,8),n+8}function U(e){if(e=G(e).replace(te,""),e.length<2)return"";for(;e.length%4!==0;)e+="=";return e}function G(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function q(e){return e<16?"0"+e.toString(16):e.toString(16)}function W(e,t){t=t||1/0;for(var n,r=e.length,o=null,a=[],i=0;i<r;++i){if(n=e.charCodeAt(i),n>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(i+1===r){(t-=3)>-1&&a.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&a.push(239,191,189),o=n;continue}n=(o-55296<<10|n-56320)+65536}else o&&(t-=3)>-1&&a.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;a.push(n)}else if(n<2048){if((t-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return a}function H(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function $(e,t){for(var n,r,o,a=[],i=0;i<e.length&&!((t-=2)<0);++i)n=e.charCodeAt(i),r=n>>8,o=n%256,a.push(o),a.push(r);return a}function X(e){return Q.toByteArray(U(e))}function Y(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}function K(e){return e!==e}var Q=e("base64-js"),J=e("ieee754"),Z=e("isarray");n.Buffer=i,n.SlowBuffer=g,n.INSPECT_MAX_BYTES=50,i.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:r(),n.kMaxLength=o(),i.poolSize=8192,i._augment=function(e){return e.__proto__=i.prototype,e},i.from=function(e,t,n){return s(null,e,t,n)},i.TYPED_ARRAY_SUPPORT&&(i.prototype.__proto__=Uint8Array.prototype,i.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&i[Symbol.species]===i&&Object.defineProperty(i,Symbol.species,{value:null,configurable:!0})),i.alloc=function(e,t,n){return l(null,e,t,n)},i.allocUnsafe=function(e){return c(null,e)},i.allocUnsafeSlow=function(e){return c(null,e)},i.isBuffer=function(e){return!(null==e||!e._isBuffer)},i.compare=function(e,t){if(!i.isBuffer(e)||!i.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,o=0,a=Math.min(n,r);o<a;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},i.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(e,t){if(!Z(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return i.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=i.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){var a=e[n];if(!i.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,o),o+=a.length}return r},i.byteLength=v,i.prototype._isBuffer=!0,i.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)x(this,t,t+1);return this},i.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)x(this,t,t+3),x(this,t+1,t+2);return this},i.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)x(this,t,t+7),x(this,t+1,t+6),x(this,t+2,t+5),x(this,t+3,t+4);return this},i.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?A(this,0,e):y.apply(this,arguments)},i.prototype.equals=function(e){if(!i.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===i.compare(this,e)},i.prototype.inspect=function(){var e="",t=n.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},i.prototype.compare=function(e,t,n,r,o){if(!i.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,o>>>=0,this===e)return 0;for(var a=o-r,s=n-t,u=Math.min(a,s),l=this.slice(r,o),c=e.slice(t,n),p=0;p<u;++p)if(l[p]!==c[p]){a=l[p],s=c[p];break}return a<s?-1:s<a?1:0},i.prototype.includes=function(e,t,n){return this.indexOf(e,t,n)!==-1},i.prototype.indexOf=function(e,t,n){return b(this,e,t,n,!0)},i.prototype.lastIndexOf=function(e,t,n){return b(this,e,t,n,!1)},i.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var a=!1;;)switch(r){case"hex":return w(this,e,t,n);case"utf8":case"utf-8":return T(this,e,t,n);case"ascii":return P(this,e,t,n);case"latin1":case"binary":return N(this,e,t,n);case"base64":return S(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,t,n);default:if(a)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),a=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var ee=4096;i.prototype.slice=function(e,t){var n=this.length;e=~~e,t=void 0===t?n:~~t,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),t<e&&(t=e);var r;if(i.TYPED_ARRAY_SUPPORT)r=this.subarray(e,t),r.__proto__=i.prototype;else{var o=t-e;r=new i(o,void 0);for(var a=0;a<o;++a)r[a]=this[a+e]}return r},i.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||D(e,t,this.length);for(var r=this[e],o=1,a=0;++a<t&&(o*=256);)r+=this[e+a]*o;return r},i.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||D(e,t,this.length);for(var r=this[e+--t],o=1;t>0&&(o*=256);)r+=this[e+--t]*o;return r},i.prototype.readUInt8=function(e,t){return t||D(e,1,this.length),this[e]},i.prototype.readUInt16LE=function(e,t){return t||D(e,2,this.length),this[e]|this[e+1]<<8},i.prototype.readUInt16BE=function(e,t){return t||D(e,2,this.length),this[e]<<8|this[e+1]},i.prototype.readUInt32LE=function(e,t){return t||D(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},i.prototype.readUInt32BE=function(e,t){return t||D(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},i.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||D(e,t,this.length);for(var r=this[e],o=1,a=0;++a<t&&(o*=256);)r+=this[e+a]*o;return o*=128,r>=o&&(r-=Math.pow(2,8*t)),r},i.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||D(e,t,this.length);for(var r=t,o=1,a=this[e+--r];r>0&&(o*=256);)a+=this[e+--r]*o;return o*=128,a>=o&&(a-=Math.pow(2,8*t)),a},i.prototype.readInt8=function(e,t){return t||D(e,1,this.length),128&this[e]?(255-this[e]+1)*-1:this[e]},i.prototype.readInt16LE=function(e,t){t||D(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt16BE=function(e,t){t||D(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt32LE=function(e,t){return t||D(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},i.prototype.readInt32BE=function(e,t){return t||D(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},i.prototype.readFloatLE=function(e,t){return t||D(e,4,this.length),J.read(this,e,!0,23,4)},i.prototype.readFloatBE=function(e,t){return t||D(e,4,this.length),J.read(this,e,!1,23,4)},i.prototype.readDoubleLE=function(e,t){return t||D(e,8,this.length),J.read(this,e,!0,52,8)},i.prototype.readDoubleBE=function(e,t){return t||D(e,8,this.length),J.read(this,e,!1,52,8)},i.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r){var o=Math.pow(2,8*n)-1;V(this,e,t,n,o,0)}var a=1,i=0;for(this[t]=255&e;++i<n&&(a*=256);)this[t+i]=e/a&255;return t+n},i.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r){var o=Math.pow(2,8*n)-1;V(this,e,t,n,o,0)}var a=n-1,i=1;for(this[t+a]=255&e;--a>=0&&(i*=256);)this[t+a]=e/i&255;return t+n},i.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||V(this,e,t,1,255,0),i.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},i.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||V(this,e,t,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):L(this,e,t,!0),t+2},i.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||V(this,e,t,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):L(this,e,t,!1),t+2},i.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||V(this,e,t,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):F(this,e,t,!0),t+4},i.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||V(this,e,t,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):F(this,e,t,!1),t+4},i.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);V(this,e,t,n,o-1,-o)}var a=0,i=1,s=0;for(this[t]=255&e;++a<n&&(i*=256);)e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/i>>0)-s&255;return t+n},i.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);V(this,e,t,n,o-1,-o)}var a=n-1,i=1,s=0;for(this[t+a]=255&e;--a>=0&&(i*=256);)e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/i>>0)-s&255;return t+n},i.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||V(this,e,t,1,127,-128),i.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},i.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||V(this,e,t,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):L(this,e,t,!0),t+2},i.prototype.writeInt16BE=function(e,t,n){
return e=+e,t|=0,n||V(this,e,t,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):L(this,e,t,!1),t+2},i.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||V(this,e,t,4,2147483647,-2147483648),i.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):F(this,e,t,!0),t+4},i.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||V(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):F(this,e,t,!1),t+4},i.prototype.writeFloatLE=function(e,t,n){return B(this,e,t,!0,n)},i.prototype.writeFloatBE=function(e,t,n){return B(this,e,t,!1,n)},i.prototype.writeDoubleLE=function(e,t,n){return j(this,e,t,!0,n)},i.prototype.writeDoubleBE=function(e,t,n){return j(this,e,t,!1,n)},i.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var o,a=r-n;if(this===e&&n<t&&t<r)for(o=a-1;o>=0;--o)e[o+t]=this[o+n];else if(a<1e3||!i.TYPED_ARRAY_SUPPORT)for(o=0;o<a;++o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+a),t);return a},i.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!i.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0);var a;if("number"==typeof e)for(a=t;a<n;++a)this[a]=e;else{var s=i.isBuffer(e)?e:W(new i(e,r).toString()),u=s.length;for(a=0;a<n-t;++a)this[a+t]=s[a%u]}return this};var te=/[^+\/0-9A-Za-z-_]/g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":179,ieee754:189,isarray:182}],182:[function(e,t,n){var r={}.toString;t.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},{}],183:[function(e,t,n){(function(e){(function(e,t,n,r,o){!function(){"use strict";function t(e,n,r){return("string"==typeof n?n:n.toString()).replace(e.define||s,function(t,n,o,a){return 0===n.indexOf("def.")&&(n=n.substring(4)),n in r||(":"===o?(e.defineParams&&a.replace(e.defineParams,function(e,t,o){r[n]={arg:t,text:o}}),n in r||(r[n]=a)):new Function("def","def['"+n+"']="+a)(r)),""}).replace(e.use||s,function(n,o){e.useParams&&(o=o.replace(e.useParams,function(e,t,n,o){if(r[n]&&r[n].arg&&o){var a=(n+":"+o).replace(/'|\\/g,"_");return r.__exp=r.__exp||{},r.__exp[a]=r[n].text.replace(new RegExp("(^|[^\\w$])"+r[n].arg+"([^\\w$])","g"),"$1"+o+"$2"),t+"def.__exp['"+a+"']"}}));var a=new Function("def","return "+o)(r);return a?t(e,a,r):a})}function n(e){return e.replace(/\\('|\\)/g,"$1").replace(/[\r\t\n]/g," ")}var o,a={name:"doT",version:"1.1.1",templateSettings:{evaluate:/\{\{([\s\S]+?(\}?)+)\}\}/g,interpolate:/\{\{=([\s\S]+?)\}\}/g,encode:/\{\{!([\s\S]+?)\}\}/g,use:/\{\{#([\s\S]+?)\}\}/g,useParams:/(^|[^\w$])def(?:\.|\[[\'\"])([\w$\.]+)(?:[\'\"]\])?\s*\:\s*([\w$\.]+|\"[^\"]+\"|\'[^\']+\'|\{[^\}]+\})/g,define:/\{\{##\s*([\w\.$]+)\s*(\:|=)([\s\S]+?)#\}\}/g,defineParams:/^\s*([\w$]+):([\s\S]+)/,conditional:/\{\{\?(\?)?\s*([\s\S]*?)\s*\}\}/g,iterate:/\{\{~\s*(?:\}\}|([\s\S]+?)\s*\:\s*([\w$]+)\s*(?:\:\s*([\w$]+))?\s*\}\})/g,varname:"it",strip:!0,append:!0,selfcontained:!1,doNotSkipEncoded:!1},template:void 0,compile:void 0,log:!0};a.encodeHTMLSource=function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},n=e?/[&<>"'\/]/g:/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return e?e.toString().replace(n,function(e){return t[e]||e}):""}},o=function(){return this||(0,eval)("this")}(),"undefined"!=typeof e&&e.exports?e.exports=a:"function"==typeof r&&r.amd?r(function(){return a}):o.doT=a;var i={append:{start:"'+(",end:")+'",startencode:"'+encodeHTML("},split:{start:"';out+=(",end:");out+='",startencode:"';out+=encodeHTML("}},s=/$^/;a.template=function(e,r,u){r=r||a.templateSettings;var l,c,p=r.append?i.append:i.split,f=0,h=r.use||r.define?t(r,e,u||{}):e;h=("var out='"+(r.strip?h.replace(/(^|\r|\n)\t* +| +\t*(\r|\n|$)/g," ").replace(/\r|\n|\t|\/\*[\s\S]*?\*\//g,""):h).replace(/'|\\/g,"\\$&").replace(r.interpolate||s,function(e,t){return p.start+n(t)+p.end}).replace(r.encode||s,function(e,t){return l=!0,p.startencode+n(t)+p.end}).replace(r.conditional||s,function(e,t,r){return t?r?"';}else if("+n(r)+"){out+='":"';}else{out+='":r?"';if("+n(r)+"){out+='":"';}out+='"}).replace(r.iterate||s,function(e,t,r,o){return t?(f+=1,c=o||"i"+f,t=n(t),"';var arr"+f+"="+t+";if(arr"+f+"){var "+r+","+c+"=-1,l"+f+"=arr"+f+".length-1;while("+c+"<l"+f+"){"+r+"=arr"+f+"["+c+"+=1];out+='"):"';} } out+='"}).replace(r.evaluate||s,function(e,t){return"';"+n(t)+"out+='"})+"';return out;").replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r").replace(/(\s|;|\}|^|\{)out\+='';/g,"$1").replace(/\+''/g,""),l&&(r.selfcontained||!o||o._encodeHTML||(o._encodeHTML=a.encodeHTMLSource(r.doNotSkipEncoded)),h="var encodeHTML = typeof _encodeHTML !== 'undefined' ? _encodeHTML : ("+a.encodeHTMLSource.toString()+"("+(r.doNotSkipEncoded||"")+"));"+h);try{return new Function(r.varname,h)}catch(e){throw"undefined"!=typeof console&&console.log("Could not create a template function: "+h),e}},a.compile=function(e,t){return a.template(e,null,t)}}(),o("undefined"!=typeof doT?doT:window.doT)}).call(e,void 0,void 0,void 0,void 0,function(e){t.exports=e})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],184:[function(e,t,n){(function(e){!function(e,n){"use strict";var r={},o=e.document,a=e.GreenSockGlobals=e.GreenSockGlobals||e;if(a.TweenLite)return a.TweenLite;var i,s,u,l,c,p=function(e){var t,n=e.split("."),r=a;for(t=0;t<n.length;t++)r[n[t]]=r=r[n[t]]||{};return r},f=p("com.greensock"),h=1e-10,d=function(e){var t,n=[],r=e.length;for(t=0;t!==r;n.push(e[t++]));return n},m=function(){},g=function(){var e=Object.prototype.toString,t=e.call([]);return function(n){return null!=n&&(n instanceof Array||"object"==typeof n&&!!n.push&&e.call(n)===t)}}(),v={},y=function(o,i,s,u){this.sc=v[o]?v[o].sc:[],v[o]=this,this.gsClass=null,this.func=s;var l=[];this.check=function(c){for(var f,h,d,m,g=i.length,x=g;--g>-1;)(f=v[i[g]]||new y(i[g],[])).gsClass?(l[g]=f.gsClass,x--):c&&f.sc.push(this);if(0===x&&s){if(h=("com.greensock."+o).split("."),d=h.pop(),m=p(h.join("."))[d]=this.gsClass=s.apply(s,l),u)if(a[d]=r[d]=m,"undefined"!=typeof t&&t.exports)if(o===n){t.exports=r[n]=m;for(g in r)m[g]=r[g]}else r[n]&&(r[n][d]=m);else"function"==typeof define&&define.amd&&define((e.GreenSockAMDPath?e.GreenSockAMDPath+"/":"")+o.split(".").pop(),[],function(){return m});for(g=0;g<this.sc.length;g++)this.sc[g].check()}},this.check(!0)},x=e._gsDefine=function(e,t,n,r){return new y(e,t,n,r)},b=f._class=function(e,t,n){return t=t||function(){},x(e,[],function(){return t},n),t};x.globals=a;var _=[0,0,1,1],w=b("easing.Ease",function(e,t,n,r){this._func=e,this._type=n||0,this._power=r||0,this._params=t?_.concat(t):_},!0),T=w.map={},P=w.register=function(e,t,n,r){for(var o,a,i,s,u=t.split(","),l=u.length,c=(n||"easeIn,easeOut,easeInOut").split(",");--l>-1;)for(a=u[l],o=r?b("easing."+a,null,!0):f.easing[a]||{},i=c.length;--i>-1;)s=c[i],T[a+"."+s]=T[s+a]=o[s]=e.getRatio?e:e[s]||new e};for(u=w.prototype,u._calcEnd=!1,u.getRatio=function(e){if(this._func)return this._params[0]=e,this._func.apply(null,this._params);var t=this._type,n=this._power,r=1===t?1-e:2===t?e:e<.5?2*e:2*(1-e);return 1===n?r*=r:2===n?r*=r*r:3===n?r*=r*r*r:4===n&&(r*=r*r*r*r),1===t?1-r:2===t?r:e<.5?r/2:1-r/2},i=["Linear","Quad","Cubic","Quart","Quint,Strong"],s=i.length;--s>-1;)u=i[s]+",Power"+s,P(new w(null,null,1,s),u,"easeOut",!0),P(new w(null,null,2,s),u,"easeIn"+(0===s?",easeNone":"")),P(new w(null,null,3,s),u,"easeInOut");T.linear=f.easing.Linear.easeIn,T.swing=f.easing.Quad.easeInOut;var N=b("events.EventDispatcher",function(e){this._listeners={},this._eventTarget=e||this});u=N.prototype,u.addEventListener=function(e,t,n,r,o){o=o||0;var a,i,s=this._listeners[e],u=0;for(this!==l||c||l.wake(),null==s&&(this._listeners[e]=s=[]),i=s.length;--i>-1;)a=s[i],a.c===t&&a.s===n?s.splice(i,1):0===u&&a.pr<o&&(u=i+1);s.splice(u,0,{c:t,s:n,up:r,pr:o})},u.removeEventListener=function(e,t){var n,r=this._listeners[e];if(r)for(n=r.length;--n>-1;)if(r[n].c===t)return void r.splice(n,1)},u.dispatchEvent=function(e){var t,n,r,o=this._listeners[e];if(o)for(t=o.length,t>1&&(o=o.slice(0)),n=this._eventTarget;--t>-1;)r=o[t],r&&(r.up?r.c.call(r.s||n,{type:e,target:n}):r.c.call(r.s||n))};var S=e.requestAnimationFrame,E=e.cancelAnimationFrame,k=Date.now||function(){return(new Date).getTime()},A=k();for(i=["ms","moz","webkit","o"],s=i.length;--s>-1&&!S;)S=e[i[s]+"RequestAnimationFrame"],E=e[i[s]+"CancelAnimationFrame"]||e[i[s]+"CancelRequestAnimationFrame"];b("Ticker",function(e,t){var n,r,a,i,s,u=this,p=k(),f=!(t===!1||!S)&&"auto",d=500,g=33,v="tick",y=function(e){var t,o,l=k()-A;l>d&&(p+=l-g),A+=l,u.time=(A-p)/1e3,t=u.time-s,(!n||t>0||e===!0)&&(u.frame++,s+=t+(t>=i?.004:i-t),o=!0),e!==!0&&(a=r(y)),o&&u.dispatchEvent(v)};N.call(u),u.time=u.frame=0,u.tick=function(){y(!0)},u.lagSmoothing=function(e,t){return arguments.length?(d=e||1/h,void(g=Math.min(t,d,0))):d<1/h},u.sleep=function(){null!=a&&(f&&E?E(a):clearTimeout(a),r=m,a=null,u===l&&(c=!1))},u.wake=function(e){null!==a?u.sleep():e?p+=-A+(A=k()):u.frame>10&&(A=k()-d+5),r=0===n?m:f&&S?S:function(e){return setTimeout(e,1e3*(s-u.time)+1|0)},u===l&&(c=!0),y(2)},u.fps=function(e){return arguments.length?(n=e,i=1/(n||60),s=this.time+i,void u.wake()):n},u.useRAF=function(e){return arguments.length?(u.sleep(),f=e,void u.fps(n)):f},u.fps(e),setTimeout(function(){"auto"===f&&u.frame<5&&"hidden"!==(o||{}).visibilityState&&u.useRAF(!1)},1500)}),u=f.Ticker.prototype=new f.events.EventDispatcher,u.constructor=f.Ticker;var O=b("core.Animation",function(e,t){if(this.vars=t=t||{},this._duration=this._totalDuration=e||0,this._delay=Number(t.delay)||0,this._timeScale=1,this._active=t.immediateRender===!0,this.data=t.data,this._reversed=t.reversed===!0,K){c||l.wake();var n=this.vars.useFrames?Y:K;n.add(this,n._time),this.vars.paused&&this.paused(!0)}});l=O.ticker=new f.Ticker,u=O.prototype,u._dirty=u._gc=u._initted=u._paused=!1,u._totalTime=u._time=0,u._rawPrevTime=-1,u._next=u._last=u._onUpdate=u._timeline=u.timeline=null,u._paused=!1;var I=function(){c&&k()-A>2e3&&("hidden"!==(o||{}).visibilityState||!l.lagSmoothing())&&l.wake();var e=setTimeout(I,2e3);e.unref&&e.unref()};I(),u.play=function(e,t){return null!=e&&this.seek(e,t),this.reversed(!1).paused(!1)},u.pause=function(e,t){return null!=e&&this.seek(e,t),this.paused(!0)},u.resume=function(e,t){return null!=e&&this.seek(e,t),this.paused(!1)},u.seek=function(e,t){return this.totalTime(Number(e),t!==!1)},u.restart=function(e,t){return this.reversed(!1).paused(!1).totalTime(e?-this._delay:0,t!==!1,!0)},u.reverse=function(e,t){return null!=e&&this.seek(e||this.totalDuration(),t),this.reversed(!0).paused(!1)},u.render=function(e,t,n){},u.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,!this._gc&&this.timeline||this._enabled(!0),this},u.isActive=function(){var e,t=this._timeline,n=this._startTime;return!t||!this._gc&&!this._paused&&t.isActive()&&(e=t.rawTime(!0))>=n&&e<n+this.totalDuration()/this._timeScale-1e-7},u._enabled=function(e,t){return c||l.wake(),this._gc=!e,this._active=this.isActive(),t!==!0&&(e&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!e&&this.timeline&&this._timeline._remove(this,!0)),!1},u._kill=function(e,t){return this._enabled(!1,!1)},u.kill=function(e,t){return this._kill(e,t),this},u._uncache=function(e){for(var t=e?this:this.timeline;t;)t._dirty=!0,t=t.timeline;return this},u._swapSelfInParams=function(e){for(var t=e.length,n=e.concat();--t>-1;)"{self}"===e[t]&&(n[t]=this);return n},u._callback=function(e){var t=this.vars,n=t[e],r=t[e+"Params"],o=t[e+"Scope"]||t.callbackScope||this,a=r?r.length:0;switch(a){case 0:n.call(o);break;case 1:n.call(o,r[0]);break;case 2:n.call(o,r[0],r[1]);break;default:n.apply(o,r)}},u.eventCallback=function(e,t,n,r){if("on"===(e||"").substr(0,2)){var o=this.vars;if(1===arguments.length)return o[e];null==t?delete o[e]:(o[e]=t,o[e+"Params"]=g(n)&&n.join("").indexOf("{self}")!==-1?this._swapSelfInParams(n):n,o[e+"Scope"]=r),"onUpdate"===e&&(this._onUpdate=t)}return this},u.delay=function(e){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+e-this._delay),this._delay=e,this):this._delay},u.duration=function(e){return arguments.length?(this._duration=this._totalDuration=e,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==e&&this.totalTime(this._totalTime*(e/this._duration),!0),this):(this._dirty=!1,this._duration)},u.totalDuration=function(e){return this._dirty=!1,arguments.length?this.duration(e):this._totalDuration},u.time=function(e,t){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(e>this._duration?this._duration:e,t)):this._time},u.totalTime=function(e,t,n){if(c||l.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(e<0&&!n&&(e+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var r=this._totalDuration,o=this._timeline;if(e>r&&!n&&(e=r),this._startTime=(this._paused?this._pauseTime:o._time)-(this._reversed?r-e:e)/this._timeScale,o._dirty||this._uncache(!1),o._timeline)for(;o._timeline;)o._timeline._time!==(o._startTime+o._totalTime)/o._timeScale&&o.totalTime(o._totalTime,!0),o=o._timeline}this._gc&&this._enabled(!0,!1),this._totalTime===e&&0!==this._duration||(V.length&&J(),this.render(e,t,!1),V.length&&J())}return this},u.progress=u.totalProgress=function(e,t){var n=this.duration();return arguments.length?this.totalTime(n*e,t):n?this._time/n:this.ratio},u.startTime=function(e){return arguments.length?(e!==this._startTime&&(this._startTime=e,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,e-this._delay)),this):this._startTime},u.endTime=function(e){return this._startTime+(0!=e?this.totalDuration():this.duration())/this._timeScale},u.timeScale=function(e){if(!arguments.length)return this._timeScale;var t,n;for(e=e||h,this._timeline&&this._timeline.smoothChildTiming&&(t=this._pauseTime,n=t||0===t?t:this._timeline.totalTime(),this._startTime=n-(n-this._startTime)*this._timeScale/e),this._timeScale=e,n=this.timeline;n&&n.timeline;)n._dirty=!0,n.totalDuration(),n=n.timeline;return this},u.reversed=function(e){return arguments.length?(e!=this._reversed&&(this._reversed=e,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},u.paused=function(e){if(!arguments.length)return this._paused;var t,n,r=this._timeline;return e!=this._paused&&r&&(c||e||l.wake(),t=r.rawTime(),n=t-this._pauseTime,!e&&r.smoothChildTiming&&(this._startTime+=n,this._uncache(!1)),this._pauseTime=e?t:null,this._paused=e,this._active=this.isActive(),!e&&0!==n&&this._initted&&this.duration()&&(t=r.smoothChildTiming?this._totalTime:(t-this._startTime)/this._timeScale,this.render(t,t===this._totalTime,!0))),this._gc&&!e&&this._enabled(!0,!1),this};var C=b("core.SimpleTimeline",function(e){O.call(this,0,e),this.autoRemoveChildren=this.smoothChildTiming=!0});u=C.prototype=new O,u.constructor=C,u.kill()._gc=!1,u._first=u._last=u._recent=null,u._sortChildren=!1,u.add=u.insert=function(e,t,n,r){var o,a;if(e._startTime=Number(t||0)+e._delay,e._paused&&this!==e._timeline&&(e._pauseTime=this.rawTime()-(e._timeline.rawTime()-e._pauseTime)),e.timeline&&e.timeline._remove(e,!0),e.timeline=e._timeline=this,e._gc&&e._enabled(!0,!0),o=this._last,this._sortChildren)for(a=e._startTime;o&&o._startTime>a;)o=o._prev;return o?(e._next=o._next,o._next=e):(e._next=this._first,this._first=e),e._next?e._next._prev=e:this._last=e,e._prev=o,this._recent=e,this._timeline&&this._uncache(!0),this},u._remove=function(e,t){return e.timeline===this&&(t||e._enabled(!1,!0),e._prev?e._prev._next=e._next:this._first===e&&(this._first=e._next),e._next?e._next._prev=e._prev:this._last===e&&(this._last=e._prev),e._next=e._prev=e.timeline=null,e===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},u.render=function(e,t,n){var r,o=this._first;for(this._totalTime=this._time=this._rawPrevTime=e;o;)r=o._next,(o._active||e>=o._startTime&&!o._paused&&!o._gc)&&(o._reversed?o.render((o._dirty?o.totalDuration():o._totalDuration)-(e-o._startTime)*o._timeScale,t,n):o.render((e-o._startTime)*o._timeScale,t,n)),o=r},u.rawTime=function(){return c||l.wake(),this._totalTime};var R=b("TweenLite",function(t,n,r){if(O.call(this,n,r),this.render=R.prototype.render,null==t)throw"Cannot tween a null target.";this.target=t="string"!=typeof t?t:R.selector(t)||t;var o,a,i,s=t.jquery||t.length&&t!==e&&t[0]&&(t[0]===e||t[0].nodeType&&t[0].style&&!t.nodeType),u=this.vars.overwrite;if(this._overwrite=u=null==u?X[R.defaultOverwrite]:"number"==typeof u?u>>0:X[u],(s||t instanceof Array||t.push&&g(t))&&"number"!=typeof t[0])for(this._targets=i=d(t),this._propLookup=[],this._siblings=[],o=0;o<i.length;o++)a=i[o],a?"string"!=typeof a?a.length&&a!==e&&a[0]&&(a[0]===e||a[0].nodeType&&a[0].style&&!a.nodeType)?(i.splice(o--,1),this._targets=i=i.concat(d(a))):(this._siblings[o]=Z(a,this,!1),1===u&&this._siblings[o].length>1&&te(a,this,null,1,this._siblings[o])):(a=i[o--]=R.selector(a),"string"==typeof a&&i.splice(o+1,1)):i.splice(o--,1);else this._propLookup={},this._siblings=Z(t,this,!1),1===u&&this._siblings.length>1&&te(t,this,null,1,this._siblings);(this.vars.immediateRender||0===n&&0===this._delay&&this.vars.immediateRender!==!1)&&(this._time=-h,this.render(Math.min(0,-this._delay)))},!0),M=function(t){return t&&t.length&&t!==e&&t[0]&&(t[0]===e||t[0].nodeType&&t[0].style&&!t.nodeType)},D=function(e,t){var n,r={};for(n in e)$[n]||n in t&&"transform"!==n&&"x"!==n&&"y"!==n&&"width"!==n&&"height"!==n&&"className"!==n&&"border"!==n||!(!q[n]||q[n]&&q[n]._autoCSS)||(r[n]=e[n],delete e[n]);e.css=r};u=R.prototype=new O,u.constructor=R,u.kill()._gc=!1,u.ratio=0,u._firstPT=u._targets=u._overwrittenProps=u._startAt=null,u._notifyPluginsOfEnabled=u._lazy=!1,R.version="1.20.5",R.defaultEase=u._ease=new w(null,null,1,1),R.defaultOverwrite="auto",R.ticker=l,R.autoSleep=120,R.lagSmoothing=function(e,t){l.lagSmoothing(e,t)},R.selector=e.$||e.jQuery||function(t){var n=e.$||e.jQuery;return n?(R.selector=n,n(t)):(o||(o=e.document),o?o.querySelectorAll?o.querySelectorAll(t):o.getElementById("#"===t.charAt(0)?t.substr(1):t):t)};var V=[],L={},F=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,z=/[\+-]=-?[\.\d]/,B=function(e){for(var t,n=this._firstPT,r=1e-6;n;)t=n.blob?1===e&&null!=this.end?this.end:e?this.join(""):this.start:n.c*e+n.s,n.m?t=n.m.call(this._tween,t,this._target||n.t,this._tween):t<r&&t>-r&&!n.blob&&(t=0),n.f?n.fp?n.t[n.p](n.fp,t):n.t[n.p](t):n.t[n.p]=t,n=n._next},j=function(e,t,n,r){var o,a,i,s,u,l,c,p=[],f=0,h="",d=0;for(p.start=e,p.end=t,e=p[0]=e+"",t=p[1]=t+"",n&&(n(p),e=p[0],t=p[1]),p.length=0,o=e.match(F)||[],a=t.match(F)||[],r&&(r._next=null,r.blob=1,p._firstPT=p._applyPT=r),u=a.length,s=0;s<u;s++)c=a[s],l=t.substr(f,t.indexOf(c,f)-f),h+=l||!s?l:",",f+=l.length,d?d=(d+1)%5:"rgba("===l.substr(-5)&&(d=1),c===o[s]||o.length<=s?h+=c:(h&&(p.push(h),h=""),i=parseFloat(o[s]),p.push(i),p._firstPT={_next:p._firstPT,t:p,p:p.length-1,s:i,c:("="===c.charAt(1)?parseInt(c.charAt(0)+"1",10)*parseFloat(c.substr(2)):parseFloat(c)-i)||0,f:0,m:d&&d<4?Math.round:0}),f+=c.length;return h+=t.substr(f),h&&p.push(h),p.setRatio=B,z.test(t)&&(p.end=null),p},U=function(e,t,n,r,o,a,i,s,u){"function"==typeof r&&(r=r(u||0,e));var l,c=typeof e[t],p="function"!==c?"":t.indexOf("set")||"function"!=typeof e["get"+t.substr(3)]?t:"get"+t.substr(3),f="get"!==n?n:p?i?e[p](i):e[p]():e[t],h="string"==typeof r&&"="===r.charAt(1),d={t:e,p:t,s:f,f:"function"===c,pg:0,n:o||t,m:a?"function"==typeof a?a:Math.round:0,pr:0,c:h?parseInt(r.charAt(0)+"1",10)*parseFloat(r.substr(2)):parseFloat(r)-f||0};if(("number"!=typeof f||"number"!=typeof r&&!h)&&(i||isNaN(f)||!h&&isNaN(r)||"boolean"==typeof f||"boolean"==typeof r?(d.fp=i,l=j(f,h?parseFloat(d.s)+d.c+(d.s+"").replace(/[0-9\-\.]/g,""):r,s||R.defaultStringFilter,d),d={t:l,p:"setRatio",s:0,c:1,f:2,pg:0,n:o||t,pr:0,m:0}):(d.s=parseFloat(f),h||(d.c=parseFloat(r)-d.s||0))),d.c)return(d._next=this._firstPT)&&(d._next._prev=d),this._firstPT=d,d},G=R._internals={isArray:g,isSelector:M,lazyTweens:V,blobDif:j},q=R._plugins={},W=G.tweenLookup={},H=0,$=G.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1,stringFilter:1,id:1,yoyoEase:1},X={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,true:1,false:0},Y=O._rootFramesTimeline=new C,K=O._rootTimeline=new C,Q=30,J=G.lazyRender=function(){var e,t=V.length;for(L={};--t>-1;)e=V[t],e&&e._lazy!==!1&&(e.render(e._lazy[0],e._lazy[1],!0),e._lazy=!1);V.length=0};K._startTime=l.time,Y._startTime=l.frame,K._active=Y._active=!0,setTimeout(J,1),O._updateRoot=R.render=function(){var e,t,n;if(V.length&&J(),K.render((l.time-K._startTime)*K._timeScale,!1,!1),Y.render((l.frame-Y._startTime)*Y._timeScale,!1,!1),V.length&&J(),l.frame>=Q){Q=l.frame+(parseInt(R.autoSleep,10)||120);for(n in W){for(t=W[n].tweens,e=t.length;--e>-1;)t[e]._gc&&t.splice(e,1);0===t.length&&delete W[n]}if(n=K._first,(!n||n._paused)&&R.autoSleep&&!Y._first&&1===l._listeners.tick.length){for(;n&&n._paused;)n=n._next;n||l.sleep()}}},l.addEventListener("tick",O._updateRoot);var Z=function(e,t,n){var r,o,a=e._gsTweenID;if(W[a||(e._gsTweenID=a="t"+H++)]||(W[a]={target:e,tweens:[]}),t&&(r=W[a].tweens,r[o=r.length]=t,n))for(;--o>-1;)r[o]===t&&r.splice(o,1);return W[a].tweens},ee=function(e,t,n,r){var o,a,i=e.vars.onOverwrite;return i&&(o=i(e,t,n,r)),i=R.onOverwrite,i&&(a=i(e,t,n,r)),o!==!1&&a!==!1},te=function(e,t,n,r,o){var a,i,s,u;if(1===r||r>=4){for(u=o.length,a=0;a<u;a++)if((s=o[a])!==t)s._gc||s._kill(null,e,t)&&(i=!0);else if(5===r)break;return i}var l,c=t._startTime+h,p=[],f=0,d=0===t._duration;for(a=o.length;--a>-1;)(s=o[a])===t||s._gc||s._paused||(s._timeline!==t._timeline?(l=l||ne(t,0,d),0===ne(s,l,d)&&(p[f++]=s)):s._startTime<=c&&s._startTime+s.totalDuration()/s._timeScale>c&&((d||!s._initted)&&c-s._startTime<=2e-10||(p[f++]=s)));for(a=f;--a>-1;)if(s=p[a],2===r&&s._kill(n,e,t)&&(i=!0),2!==r||!s._firstPT&&s._initted){if(2!==r&&!ee(s,t))continue;s._enabled(!1,!1)&&(i=!0)}return i},ne=function(e,t,n){for(var r=e._timeline,o=r._timeScale,a=e._startTime;r._timeline;){if(a+=r._startTime,o*=r._timeScale,r._paused)return-100;r=r._timeline}return a/=o,a>t?a-t:n&&a===t||!e._initted&&a-t<2*h?h:(a+=e.totalDuration()/e._timeScale/o)>t+h?0:a-t-h};u._init=function(){var e,t,n,r,o,a,i=this.vars,s=this._overwrittenProps,u=this._duration,l=!!i.immediateRender,c=i.ease;if(i.startAt){this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),o={};for(r in i.startAt)o[r]=i.startAt[r];if(o.data="isStart",o.overwrite=!1,o.immediateRender=!0,o.lazy=l&&i.lazy!==!1,o.startAt=o.delay=null,o.onUpdate=i.onUpdate,o.onUpdateParams=i.onUpdateParams,o.onUpdateScope=i.onUpdateScope||i.callbackScope||this,this._startAt=R.to(this.target||{},0,o),l)if(this._time>0)this._startAt=null;else if(0!==u)return}else if(i.runBackwards&&0!==u)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{0!==this._time&&(l=!1),n={};for(r in i)$[r]&&"autoCSS"!==r||(n[r]=i[r]);if(n.overwrite=0,n.data="isFromStart",n.lazy=l&&i.lazy!==!1,n.immediateRender=l,this._startAt=R.to(this.target,0,n),l){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=c=c?c instanceof w?c:"function"==typeof c?new w(c,i.easeParams):T[c]||R.defaultEase:R.defaultEase,i.easeParams instanceof Array&&c.config&&(this._ease=c.config.apply(c,i.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(a=this._targets.length,e=0;e<a;e++)this._initProps(this._targets[e],this._propLookup[e]={},this._siblings[e],s?s[e]:null,e)&&(t=!0);else t=this._initProps(this.target,this._propLookup,this._siblings,s,0);if(t&&R._onPluginEvent("_onInitAllProps",this),s&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),i.runBackwards)for(n=this._firstPT;n;)n.s+=n.c,n.c=-n.c,n=n._next;this._onUpdate=i.onUpdate,this._initted=!0},u._initProps=function(t,n,r,o,a){var i,s,u,l,c,p;if(null==t)return!1;L[t._gsTweenID]&&J(),this.vars.css||t.style&&t!==e&&t.nodeType&&q.css&&this.vars.autoCSS!==!1&&D(this.vars,t);for(i in this.vars)if(p=this.vars[i],$[i])p&&(p instanceof Array||p.push&&g(p))&&p.join("").indexOf("{self}")!==-1&&(this.vars[i]=p=this._swapSelfInParams(p,this));else if(q[i]&&(l=new q[i])._onInitTween(t,this.vars[i],this,a)){for(this._firstPT=c={_next:this._firstPT,t:l,p:"setRatio",s:0,c:1,f:1,n:i,pg:1,pr:l._priority,m:0},s=l._overwriteProps.length;--s>-1;)n[l._overwriteProps[s]]=this._firstPT;(l._priority||l._onInitAllProps)&&(u=!0),(l._onDisable||l._onEnable)&&(this._notifyPluginsOfEnabled=!0),c._next&&(c._next._prev=c)}else n[i]=U.call(this,t,i,"get",p,i,0,null,this.vars.stringFilter,a);return o&&this._kill(o,t)?this._initProps(t,n,r,o,a):this._overwrite>1&&this._firstPT&&r.length>1&&te(t,this,n,this._overwrite,r)?(this._kill(n,t),this._initProps(t,n,r,o,a)):(this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration)&&(L[t._gsTweenID]=!0),u)},u.render=function(e,t,n){var r,o,a,i,s=this._time,u=this._duration,l=this._rawPrevTime;if(e>=u-1e-7&&e>=0)this._totalTime=this._time=u,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(r=!0,o="onComplete",n=n||this._timeline.autoRemoveChildren),0===u&&(this._initted||!this.vars.lazy||n)&&(this._startTime===this._timeline._duration&&(e=0),(l<0||e<=0&&e>=-1e-7||l===h&&"isPause"!==this.data)&&l!==e&&(n=!0,l>h&&(o="onReverseComplete")),this._rawPrevTime=i=!t||e||l===e?e:h);else if(e<1e-7)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==s||0===u&&l>0)&&(o="onReverseComplete",r=this._reversed),e<0&&(this._active=!1,0===u&&(this._initted||!this.vars.lazy||n)&&(l>=0&&(l!==h||"isPause"!==this.data)&&(n=!0),this._rawPrevTime=i=!t||e||l===e?e:h)),(!this._initted||this._startAt&&this._startAt.progress())&&(n=!0);else if(this._totalTime=this._time=e,this._easeType){var c=e/u,p=this._easeType,f=this._easePower;(1===p||3===p&&c>=.5)&&(c=1-c),3===p&&(c*=2),1===f?c*=c:2===f?c*=c*c:3===f?c*=c*c*c:4===f&&(c*=c*c*c*c),1===p?this.ratio=1-c:2===p?this.ratio=c:e/u<.5?this.ratio=c/2:this.ratio=1-c/2}else this.ratio=this._ease.getRatio(e/u);if(this._time!==s||n){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!n&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=s,this._rawPrevTime=l,V.push(this),void(this._lazy=[e,t]);this._time&&!r?this.ratio=this._ease.getRatio(this._time/u):r&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==s&&e>=0&&(this._active=!0),0===s&&(this._startAt&&(e>=0?this._startAt.render(e,!0,n):o||(o="_dummyGS")),this.vars.onStart&&(0===this._time&&0!==u||t||this._callback("onStart"))),a=this._firstPT;a;)a.f?a.t[a.p](a.c*this.ratio+a.s):a.t[a.p]=a.c*this.ratio+a.s,a=a._next;this._onUpdate&&(e<0&&this._startAt&&e!==-1e-4&&this._startAt.render(e,!0,n),t||(this._time!==s||r||n)&&this._callback("onUpdate")),o&&(this._gc&&!n||(e<0&&this._startAt&&!this._onUpdate&&e!==-1e-4&&this._startAt.render(e,!0,n),r&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[o]&&this._callback(o),0===u&&this._rawPrevTime===h&&i!==h&&(this._rawPrevTime=0)))}},u._kill=function(e,t,n){if("all"===e&&(e=null),null==e&&(null==t||t===this.target))return this._lazy=!1,this._enabled(!1,!1);t="string"!=typeof t?t||this._targets||this.target:R.selector(t)||t;var r,o,a,i,s,u,l,c,p,f=n&&this._time&&n._startTime===this._startTime&&this._timeline===n._timeline;if((g(t)||M(t))&&"number"!=typeof t[0])for(r=t.length;--r>-1;)this._kill(e,t[r],n)&&(u=!0);else{if(this._targets){for(r=this._targets.length;--r>-1;)if(t===this._targets[r]){s=this._propLookup[r]||{},this._overwrittenProps=this._overwrittenProps||[],o=this._overwrittenProps[r]=e?this._overwrittenProps[r]||{}:"all";break}}else{if(t!==this.target)return!1;s=this._propLookup,o=this._overwrittenProps=e?this._overwrittenProps||{}:"all"}if(s){if(l=e||s,c=e!==o&&"all"!==o&&e!==s&&("object"!=typeof e||!e._tempKill),n&&(R.onOverwrite||this.vars.onOverwrite)){for(a in l)s[a]&&(p||(p=[]),p.push(a));if((p||!e)&&!ee(this,n,t,p))return!1}for(a in l)(i=s[a])&&(f&&(i.f?i.t[i.p](i.s):i.t[i.p]=i.s,u=!0),i.pg&&i.t._kill(l)&&(u=!0),i.pg&&0!==i.t._overwriteProps.length||(i._prev?i._prev._next=i._next:i===this._firstPT&&(this._firstPT=i._next),i._next&&(i._next._prev=i._prev),i._next=i._prev=null),delete s[a]),c&&(o[a]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return u},u.invalidate=function(){return this._notifyPluginsOfEnabled&&R._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],O.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-h,this.render(Math.min(0,-this._delay))),this},u._enabled=function(e,t){if(c||l.wake(),e&&this._gc){var n,r=this._targets;if(r)for(n=r.length;--n>-1;)this._siblings[n]=Z(r[n],this,!0);else this._siblings=Z(this.target,this,!0)}return O.prototype._enabled.call(this,e,t),!(!this._notifyPluginsOfEnabled||!this._firstPT)&&R._onPluginEvent(e?"_onEnable":"_onDisable",this)},R.to=function(e,t,n){return new R(e,t,n)},R.from=function(e,t,n){return n.runBackwards=!0,n.immediateRender=0!=n.immediateRender,new R(e,t,n)},R.fromTo=function(e,t,n,r){return r.startAt=n,r.immediateRender=0!=r.immediateRender&&0!=n.immediateRender,new R(e,t,r)},R.delayedCall=function(e,t,n,r,o){return new R(t,0,{delay:e,onComplete:t,onCompleteParams:n,callbackScope:r,onReverseComplete:t,onReverseCompleteParams:n,immediateRender:!1,lazy:!1,useFrames:o,overwrite:0})},R.set=function(e,t){return new R(e,0,t)},R.getTweensOf=function(e,t){if(null==e)return[];e="string"!=typeof e?e:R.selector(e)||e;var n,r,o,a;if((g(e)||M(e))&&"number"!=typeof e[0]){for(n=e.length,r=[];--n>-1;)r=r.concat(R.getTweensOf(e[n],t));for(n=r.length;--n>-1;)for(a=r[n],o=n;--o>-1;)a===r[o]&&r.splice(n,1)}else if(e._gsTweenID)for(r=Z(e).concat(),n=r.length;--n>-1;)(r[n]._gc||t&&!r[n].isActive())&&r.splice(n,1);return r||[]},R.killTweensOf=R.killDelayedCallsTo=function(e,t,n){"object"==typeof t&&(n=t,t=!1);for(var r=R.getTweensOf(e,t),o=r.length;--o>-1;)r[o]._kill(n,e)};var re=b("plugins.TweenPlugin",function(e,t){this._overwriteProps=(e||"").split(","),
this._propName=this._overwriteProps[0],this._priority=t||0,this._super=re.prototype},!0);if(u=re.prototype,re.version="1.19.0",re.API=2,u._firstPT=null,u._addTween=U,u.setRatio=B,u._kill=function(e){var t,n=this._overwriteProps,r=this._firstPT;if(null!=e[this._propName])this._overwriteProps=[];else for(t=n.length;--t>-1;)null!=e[n[t]]&&n.splice(t,1);for(;r;)null!=e[r.n]&&(r._next&&(r._next._prev=r._prev),r._prev?(r._prev._next=r._next,r._prev=null):this._firstPT===r&&(this._firstPT=r._next)),r=r._next;return!1},u._mod=u._roundProps=function(e){for(var t,n=this._firstPT;n;)t=e[this._propName]||null!=n.n&&e[n.n.split(this._propName+"_").join("")],t&&"function"==typeof t&&(2===n.f?n.t._applyPT.m=t:n.m=t),n=n._next},R._onPluginEvent=function(e,t){var n,r,o,a,i,s=t._firstPT;if("_onInitAllProps"===e){for(;s;){for(i=s._next,r=o;r&&r.pr>s.pr;)r=r._next;(s._prev=r?r._prev:a)?s._prev._next=s:o=s,(s._next=r)?r._prev=s:a=s,s=i}s=t._firstPT=o}for(;s;)s.pg&&"function"==typeof s.t[e]&&s.t[e]()&&(n=!0),s=s._next;return n},re.activate=function(e){for(var t=e.length;--t>-1;)e[t].API===re.API&&(q[(new e[t])._propName]=e[t]);return!0},x.plugin=function(e){if(!(e&&e.propName&&e.init&&e.API))throw"illegal plugin definition.";var t,n=e.propName,r=e.priority||0,o=e.overwriteProps,a={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_mod",mod:"_mod",initAll:"_onInitAllProps"},i=b("plugins."+n.charAt(0).toUpperCase()+n.substr(1)+"Plugin",function(){re.call(this,n,r),this._overwriteProps=o||[]},e.global===!0),s=i.prototype=new re(n);s.constructor=i,i.API=e.API;for(t in a)"function"==typeof e[t]&&(s[a[t]]=e[t]);return i.version=e.version,re.activate([i]),i},i=e._gsQueue){for(s=0;s<i.length;s++)i[s]();for(u in v)v[u].func||e.console.log("GSAP encountered missing dependency: "+u)}c=!1}("undefined"!=typeof t&&t.exports&&"undefined"!=typeof e?e:this||window,"TweenLite")}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],185:[function(e,t,n){(function(e){!function(e,n){"use strict";var r={},o=e.document,a=e.GreenSockGlobals=e.GreenSockGlobals||e;if(a.TweenLite)return a.TweenLite;var i,s,u,l,c,p=function(e){var t,n=e.split("."),r=a;for(t=0;t<n.length;t++)r[n[t]]=r=r[n[t]]||{};return r},f=p("com.greensock"),h=1e-10,d=function(e){var t,n=[],r=e.length;for(t=0;t!==r;n.push(e[t++]));return n},m=function(){},g=function(){var e=Object.prototype.toString,t=e.call([]);return function(n){return null!=n&&(n instanceof Array||"object"==typeof n&&!!n.push&&e.call(n)===t)}}(),v={},y=function(o,i,s,u){this.sc=v[o]?v[o].sc:[],v[o]=this,this.gsClass=null,this.func=s;var l=[];this.check=function(c){for(var f,h,d,m,g=i.length,x=g;--g>-1;)(f=v[i[g]]||new y(i[g],[])).gsClass?(l[g]=f.gsClass,x--):c&&f.sc.push(this);if(0===x&&s){if(h=("com.greensock."+o).split("."),d=h.pop(),m=p(h.join("."))[d]=this.gsClass=s.apply(s,l),u)if(a[d]=r[d]=m,"undefined"!=typeof t&&t.exports)if(o===n){t.exports=r[n]=m;for(g in r)m[g]=r[g]}else r[n]&&(r[n][d]=m);else"function"==typeof define&&define.amd&&define((e.GreenSockAMDPath?e.GreenSockAMDPath+"/":"")+o.split(".").pop(),[],function(){return m});for(g=0;g<this.sc.length;g++)this.sc[g].check()}},this.check(!0)},x=e._gsDefine=function(e,t,n,r){return new y(e,t,n,r)},b=f._class=function(e,t,n){return t=t||function(){},x(e,[],function(){return t},n),t};x.globals=a;var _=[0,0,1,1],w=b("easing.Ease",function(e,t,n,r){this._func=e,this._type=n||0,this._power=r||0,this._params=t?_.concat(t):_},!0),T=w.map={},P=w.register=function(e,t,n,r){for(var o,a,i,s,u=t.split(","),l=u.length,c=(n||"easeIn,easeOut,easeInOut").split(",");--l>-1;)for(a=u[l],o=r?b("easing."+a,null,!0):f.easing[a]||{},i=c.length;--i>-1;)s=c[i],T[a+"."+s]=T[s+a]=o[s]=e.getRatio?e:e[s]||new e};for(u=w.prototype,u._calcEnd=!1,u.getRatio=function(e){if(this._func)return this._params[0]=e,this._func.apply(null,this._params);var t=this._type,n=this._power,r=1===t?1-e:2===t?e:e<.5?2*e:2*(1-e);return 1===n?r*=r:2===n?r*=r*r:3===n?r*=r*r*r:4===n&&(r*=r*r*r*r),1===t?1-r:2===t?r:e<.5?r/2:1-r/2},i=["Linear","Quad","Cubic","Quart","Quint,Strong"],s=i.length;--s>-1;)u=i[s]+",Power"+s,P(new w(null,null,1,s),u,"easeOut",!0),P(new w(null,null,2,s),u,"easeIn"+(0===s?",easeNone":"")),P(new w(null,null,3,s),u,"easeInOut");T.linear=f.easing.Linear.easeIn,T.swing=f.easing.Quad.easeInOut;var N=b("events.EventDispatcher",function(e){this._listeners={},this._eventTarget=e||this});u=N.prototype,u.addEventListener=function(e,t,n,r,o){o=o||0;var a,i,s=this._listeners[e],u=0;for(this!==l||c||l.wake(),null==s&&(this._listeners[e]=s=[]),i=s.length;--i>-1;)a=s[i],a.c===t&&a.s===n?s.splice(i,1):0===u&&a.pr<o&&(u=i+1);s.splice(u,0,{c:t,s:n,up:r,pr:o})},u.removeEventListener=function(e,t){var n,r=this._listeners[e];if(r)for(n=r.length;--n>-1;)if(r[n].c===t)return void r.splice(n,1)},u.dispatchEvent=function(e){var t,n,r,o=this._listeners[e];if(o)for(t=o.length,t>1&&(o=o.slice(0)),n=this._eventTarget;--t>-1;)r=o[t],r&&(r.up?r.c.call(r.s||n,{type:e,target:n}):r.c.call(r.s||n))};var S=e.requestAnimationFrame,E=e.cancelAnimationFrame,k=Date.now||function(){return(new Date).getTime()},A=k();for(i=["ms","moz","webkit","o"],s=i.length;--s>-1&&!S;)S=e[i[s]+"RequestAnimationFrame"],E=e[i[s]+"CancelAnimationFrame"]||e[i[s]+"CancelRequestAnimationFrame"];b("Ticker",function(e,t){var n,r,a,i,s,u=this,p=k(),f=!(t===!1||!S)&&"auto",d=500,g=33,v="tick",y=function(e){var t,o,l=k()-A;l>d&&(p+=l-g),A+=l,u.time=(A-p)/1e3,t=u.time-s,(!n||t>0||e===!0)&&(u.frame++,s+=t+(t>=i?.004:i-t),o=!0),e!==!0&&(a=r(y)),o&&u.dispatchEvent(v)};N.call(u),u.time=u.frame=0,u.tick=function(){y(!0)},u.lagSmoothing=function(e,t){return arguments.length?(d=e||1/h,void(g=Math.min(t,d,0))):d<1/h},u.sleep=function(){null!=a&&(f&&E?E(a):clearTimeout(a),r=m,a=null,u===l&&(c=!1))},u.wake=function(e){null!==a?u.sleep():e?p+=-A+(A=k()):u.frame>10&&(A=k()-d+5),r=0===n?m:f&&S?S:function(e){return setTimeout(e,1e3*(s-u.time)+1|0)},u===l&&(c=!0),y(2)},u.fps=function(e){return arguments.length?(n=e,i=1/(n||60),s=this.time+i,void u.wake()):n},u.useRAF=function(e){return arguments.length?(u.sleep(),f=e,void u.fps(n)):f},u.fps(e),setTimeout(function(){"auto"===f&&u.frame<5&&"hidden"!==(o||{}).visibilityState&&u.useRAF(!1)},1500)}),u=f.Ticker.prototype=new f.events.EventDispatcher,u.constructor=f.Ticker;var O=b("core.Animation",function(e,t){if(this.vars=t=t||{},this._duration=this._totalDuration=e||0,this._delay=Number(t.delay)||0,this._timeScale=1,this._active=t.immediateRender===!0,this.data=t.data,this._reversed=t.reversed===!0,K){c||l.wake();var n=this.vars.useFrames?Y:K;n.add(this,n._time),this.vars.paused&&this.paused(!0)}});l=O.ticker=new f.Ticker,u=O.prototype,u._dirty=u._gc=u._initted=u._paused=!1,u._totalTime=u._time=0,u._rawPrevTime=-1,u._next=u._last=u._onUpdate=u._timeline=u.timeline=null,u._paused=!1;var I=function(){c&&k()-A>2e3&&("hidden"!==(o||{}).visibilityState||!l.lagSmoothing())&&l.wake();var e=setTimeout(I,2e3);e.unref&&e.unref()};I(),u.play=function(e,t){return null!=e&&this.seek(e,t),this.reversed(!1).paused(!1)},u.pause=function(e,t){return null!=e&&this.seek(e,t),this.paused(!0)},u.resume=function(e,t){return null!=e&&this.seek(e,t),this.paused(!1)},u.seek=function(e,t){return this.totalTime(Number(e),t!==!1)},u.restart=function(e,t){return this.reversed(!1).paused(!1).totalTime(e?-this._delay:0,t!==!1,!0)},u.reverse=function(e,t){return null!=e&&this.seek(e||this.totalDuration(),t),this.reversed(!0).paused(!1)},u.render=function(e,t,n){},u.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,!this._gc&&this.timeline||this._enabled(!0),this},u.isActive=function(){var e,t=this._timeline,n=this._startTime;return!t||!this._gc&&!this._paused&&t.isActive()&&(e=t.rawTime(!0))>=n&&e<n+this.totalDuration()/this._timeScale-1e-7},u._enabled=function(e,t){return c||l.wake(),this._gc=!e,this._active=this.isActive(),t!==!0&&(e&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!e&&this.timeline&&this._timeline._remove(this,!0)),!1},u._kill=function(e,t){return this._enabled(!1,!1)},u.kill=function(e,t){return this._kill(e,t),this},u._uncache=function(e){for(var t=e?this:this.timeline;t;)t._dirty=!0,t=t.timeline;return this},u._swapSelfInParams=function(e){for(var t=e.length,n=e.concat();--t>-1;)"{self}"===e[t]&&(n[t]=this);return n},u._callback=function(e){var t=this.vars,n=t[e],r=t[e+"Params"],o=t[e+"Scope"]||t.callbackScope||this,a=r?r.length:0;switch(a){case 0:n.call(o);break;case 1:n.call(o,r[0]);break;case 2:n.call(o,r[0],r[1]);break;default:n.apply(o,r)}},u.eventCallback=function(e,t,n,r){if("on"===(e||"").substr(0,2)){var o=this.vars;if(1===arguments.length)return o[e];null==t?delete o[e]:(o[e]=t,o[e+"Params"]=g(n)&&n.join("").indexOf("{self}")!==-1?this._swapSelfInParams(n):n,o[e+"Scope"]=r),"onUpdate"===e&&(this._onUpdate=t)}return this},u.delay=function(e){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+e-this._delay),this._delay=e,this):this._delay},u.duration=function(e){return arguments.length?(this._duration=this._totalDuration=e,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==e&&this.totalTime(this._totalTime*(e/this._duration),!0),this):(this._dirty=!1,this._duration)},u.totalDuration=function(e){return this._dirty=!1,arguments.length?this.duration(e):this._totalDuration},u.time=function(e,t){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(e>this._duration?this._duration:e,t)):this._time},u.totalTime=function(e,t,n){if(c||l.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(e<0&&!n&&(e+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var r=this._totalDuration,o=this._timeline;if(e>r&&!n&&(e=r),this._startTime=(this._paused?this._pauseTime:o._time)-(this._reversed?r-e:e)/this._timeScale,o._dirty||this._uncache(!1),o._timeline)for(;o._timeline;)o._timeline._time!==(o._startTime+o._totalTime)/o._timeScale&&o.totalTime(o._totalTime,!0),o=o._timeline}this._gc&&this._enabled(!0,!1),this._totalTime===e&&0!==this._duration||(V.length&&J(),this.render(e,t,!1),V.length&&J())}return this},u.progress=u.totalProgress=function(e,t){var n=this.duration();return arguments.length?this.totalTime(n*e,t):n?this._time/n:this.ratio},u.startTime=function(e){return arguments.length?(e!==this._startTime&&(this._startTime=e,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,e-this._delay)),this):this._startTime},u.endTime=function(e){return this._startTime+(0!=e?this.totalDuration():this.duration())/this._timeScale},u.timeScale=function(e){if(!arguments.length)return this._timeScale;var t,n;for(e=e||h,this._timeline&&this._timeline.smoothChildTiming&&(t=this._pauseTime,n=t||0===t?t:this._timeline.totalTime(),this._startTime=n-(n-this._startTime)*this._timeScale/e),this._timeScale=e,n=this.timeline;n&&n.timeline;)n._dirty=!0,n.totalDuration(),n=n.timeline;return this},u.reversed=function(e){return arguments.length?(e!=this._reversed&&(this._reversed=e,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},u.paused=function(e){if(!arguments.length)return this._paused;var t,n,r=this._timeline;return e!=this._paused&&r&&(c||e||l.wake(),t=r.rawTime(),n=t-this._pauseTime,!e&&r.smoothChildTiming&&(this._startTime+=n,this._uncache(!1)),this._pauseTime=e?t:null,this._paused=e,this._active=this.isActive(),!e&&0!==n&&this._initted&&this.duration()&&(t=r.smoothChildTiming?this._totalTime:(t-this._startTime)/this._timeScale,this.render(t,t===this._totalTime,!0))),this._gc&&!e&&this._enabled(!0,!1),this};var C=b("core.SimpleTimeline",function(e){O.call(this,0,e),this.autoRemoveChildren=this.smoothChildTiming=!0});u=C.prototype=new O,u.constructor=C,u.kill()._gc=!1,u._first=u._last=u._recent=null,u._sortChildren=!1,u.add=u.insert=function(e,t,n,r){var o,a;if(e._startTime=Number(t||0)+e._delay,e._paused&&this!==e._timeline&&(e._pauseTime=this.rawTime()-(e._timeline.rawTime()-e._pauseTime)),e.timeline&&e.timeline._remove(e,!0),e.timeline=e._timeline=this,e._gc&&e._enabled(!0,!0),o=this._last,this._sortChildren)for(a=e._startTime;o&&o._startTime>a;)o=o._prev;return o?(e._next=o._next,o._next=e):(e._next=this._first,this._first=e),e._next?e._next._prev=e:this._last=e,e._prev=o,this._recent=e,this._timeline&&this._uncache(!0),this},u._remove=function(e,t){return e.timeline===this&&(t||e._enabled(!1,!0),e._prev?e._prev._next=e._next:this._first===e&&(this._first=e._next),e._next?e._next._prev=e._prev:this._last===e&&(this._last=e._prev),e._next=e._prev=e.timeline=null,e===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},u.render=function(e,t,n){var r,o=this._first;for(this._totalTime=this._time=this._rawPrevTime=e;o;)r=o._next,(o._active||e>=o._startTime&&!o._paused&&!o._gc)&&(o._reversed?o.render((o._dirty?o.totalDuration():o._totalDuration)-(e-o._startTime)*o._timeScale,t,n):o.render((e-o._startTime)*o._timeScale,t,n)),o=r},u.rawTime=function(){return c||l.wake(),this._totalTime};var R=b("TweenLite",function(t,n,r){if(O.call(this,n,r),this.render=R.prototype.render,null==t)throw"Cannot tween a null target.";this.target=t="string"!=typeof t?t:R.selector(t)||t;var o,a,i,s=t.jquery||t.length&&t!==e&&t[0]&&(t[0]===e||t[0].nodeType&&t[0].style&&!t.nodeType),u=this.vars.overwrite;if(this._overwrite=u=null==u?X[R.defaultOverwrite]:"number"==typeof u?u>>0:X[u],(s||t instanceof Array||t.push&&g(t))&&"number"!=typeof t[0])for(this._targets=i=d(t),this._propLookup=[],this._siblings=[],o=0;o<i.length;o++)a=i[o],a?"string"!=typeof a?a.length&&a!==e&&a[0]&&(a[0]===e||a[0].nodeType&&a[0].style&&!a.nodeType)?(i.splice(o--,1),this._targets=i=i.concat(d(a))):(this._siblings[o]=Z(a,this,!1),1===u&&this._siblings[o].length>1&&te(a,this,null,1,this._siblings[o])):(a=i[o--]=R.selector(a),"string"==typeof a&&i.splice(o+1,1)):i.splice(o--,1);else this._propLookup={},this._siblings=Z(t,this,!1),1===u&&this._siblings.length>1&&te(t,this,null,1,this._siblings);(this.vars.immediateRender||0===n&&0===this._delay&&this.vars.immediateRender!==!1)&&(this._time=-h,this.render(Math.min(0,-this._delay)))},!0),M=function(t){return t&&t.length&&t!==e&&t[0]&&(t[0]===e||t[0].nodeType&&t[0].style&&!t.nodeType)},D=function(e,t){var n,r={};for(n in e)$[n]||n in t&&"transform"!==n&&"x"!==n&&"y"!==n&&"width"!==n&&"height"!==n&&"className"!==n&&"border"!==n||!(!q[n]||q[n]&&q[n]._autoCSS)||(r[n]=e[n],delete e[n]);e.css=r};u=R.prototype=new O,u.constructor=R,u.kill()._gc=!1,u.ratio=0,u._firstPT=u._targets=u._overwrittenProps=u._startAt=null,u._notifyPluginsOfEnabled=u._lazy=!1,R.version="1.20.5",R.defaultEase=u._ease=new w(null,null,1,1),R.defaultOverwrite="auto",R.ticker=l,R.autoSleep=120,R.lagSmoothing=function(e,t){l.lagSmoothing(e,t)},R.selector=e.$||e.jQuery||function(t){var n=e.$||e.jQuery;return n?(R.selector=n,n(t)):(o||(o=e.document),o?o.querySelectorAll?o.querySelectorAll(t):o.getElementById("#"===t.charAt(0)?t.substr(1):t):t)};var V=[],L={},F=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,z=/[\+-]=-?[\.\d]/,B=function(e){for(var t,n=this._firstPT,r=1e-6;n;)t=n.blob?1===e&&null!=this.end?this.end:e?this.join(""):this.start:n.c*e+n.s,n.m?t=n.m.call(this._tween,t,this._target||n.t,this._tween):t<r&&t>-r&&!n.blob&&(t=0),n.f?n.fp?n.t[n.p](n.fp,t):n.t[n.p](t):n.t[n.p]=t,n=n._next},j=function(e,t,n,r){var o,a,i,s,u,l,c,p=[],f=0,h="",d=0;for(p.start=e,p.end=t,e=p[0]=e+"",t=p[1]=t+"",n&&(n(p),e=p[0],t=p[1]),p.length=0,o=e.match(F)||[],a=t.match(F)||[],r&&(r._next=null,r.blob=1,p._firstPT=p._applyPT=r),u=a.length,s=0;s<u;s++)c=a[s],l=t.substr(f,t.indexOf(c,f)-f),h+=l||!s?l:",",f+=l.length,d?d=(d+1)%5:"rgba("===l.substr(-5)&&(d=1),c===o[s]||o.length<=s?h+=c:(h&&(p.push(h),h=""),i=parseFloat(o[s]),p.push(i),p._firstPT={_next:p._firstPT,t:p,p:p.length-1,s:i,c:("="===c.charAt(1)?parseInt(c.charAt(0)+"1",10)*parseFloat(c.substr(2)):parseFloat(c)-i)||0,f:0,m:d&&d<4?Math.round:0}),f+=c.length;return h+=t.substr(f),h&&p.push(h),p.setRatio=B,z.test(t)&&(p.end=null),p},U=function(e,t,n,r,o,a,i,s,u){"function"==typeof r&&(r=r(u||0,e));var l,c=typeof e[t],p="function"!==c?"":t.indexOf("set")||"function"!=typeof e["get"+t.substr(3)]?t:"get"+t.substr(3),f="get"!==n?n:p?i?e[p](i):e[p]():e[t],h="string"==typeof r&&"="===r.charAt(1),d={t:e,p:t,s:f,f:"function"===c,pg:0,n:o||t,m:a?"function"==typeof a?a:Math.round:0,pr:0,c:h?parseInt(r.charAt(0)+"1",10)*parseFloat(r.substr(2)):parseFloat(r)-f||0};if(("number"!=typeof f||"number"!=typeof r&&!h)&&(i||isNaN(f)||!h&&isNaN(r)||"boolean"==typeof f||"boolean"==typeof r?(d.fp=i,l=j(f,h?parseFloat(d.s)+d.c+(d.s+"").replace(/[0-9\-\.]/g,""):r,s||R.defaultStringFilter,d),d={t:l,p:"setRatio",s:0,c:1,f:2,pg:0,n:o||t,pr:0,m:0}):(d.s=parseFloat(f),h||(d.c=parseFloat(r)-d.s||0))),d.c)return(d._next=this._firstPT)&&(d._next._prev=d),this._firstPT=d,d},G=R._internals={isArray:g,isSelector:M,lazyTweens:V,blobDif:j},q=R._plugins={},W=G.tweenLookup={},H=0,$=G.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1,stringFilter:1,id:1,yoyoEase:1},X={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,true:1,false:0},Y=O._rootFramesTimeline=new C,K=O._rootTimeline=new C,Q=30,J=G.lazyRender=function(){var e,t=V.length;for(L={};--t>-1;)e=V[t],e&&e._lazy!==!1&&(e.render(e._lazy[0],e._lazy[1],!0),e._lazy=!1);V.length=0};K._startTime=l.time,Y._startTime=l.frame,K._active=Y._active=!0,setTimeout(J,1),O._updateRoot=R.render=function(){var e,t,n;if(V.length&&J(),K.render((l.time-K._startTime)*K._timeScale,!1,!1),Y.render((l.frame-Y._startTime)*Y._timeScale,!1,!1),V.length&&J(),l.frame>=Q){Q=l.frame+(parseInt(R.autoSleep,10)||120);for(n in W){for(t=W[n].tweens,e=t.length;--e>-1;)t[e]._gc&&t.splice(e,1);0===t.length&&delete W[n]}if(n=K._first,(!n||n._paused)&&R.autoSleep&&!Y._first&&1===l._listeners.tick.length){for(;n&&n._paused;)n=n._next;n||l.sleep()}}},l.addEventListener("tick",O._updateRoot);var Z=function(e,t,n){var r,o,a=e._gsTweenID;if(W[a||(e._gsTweenID=a="t"+H++)]||(W[a]={target:e,tweens:[]}),t&&(r=W[a].tweens,r[o=r.length]=t,n))for(;--o>-1;)r[o]===t&&r.splice(o,1);return W[a].tweens},ee=function(e,t,n,r){var o,a,i=e.vars.onOverwrite;return i&&(o=i(e,t,n,r)),i=R.onOverwrite,i&&(a=i(e,t,n,r)),o!==!1&&a!==!1},te=function(e,t,n,r,o){var a,i,s,u;if(1===r||r>=4){for(u=o.length,a=0;a<u;a++)if((s=o[a])!==t)s._gc||s._kill(null,e,t)&&(i=!0);else if(5===r)break;return i}var l,c=t._startTime+h,p=[],f=0,d=0===t._duration;for(a=o.length;--a>-1;)(s=o[a])===t||s._gc||s._paused||(s._timeline!==t._timeline?(l=l||ne(t,0,d),0===ne(s,l,d)&&(p[f++]=s)):s._startTime<=c&&s._startTime+s.totalDuration()/s._timeScale>c&&((d||!s._initted)&&c-s._startTime<=2e-10||(p[f++]=s)));for(a=f;--a>-1;)if(s=p[a],2===r&&s._kill(n,e,t)&&(i=!0),2!==r||!s._firstPT&&s._initted){if(2!==r&&!ee(s,t))continue;s._enabled(!1,!1)&&(i=!0)}return i},ne=function(e,t,n){for(var r=e._timeline,o=r._timeScale,a=e._startTime;r._timeline;){if(a+=r._startTime,o*=r._timeScale,r._paused)return-100;r=r._timeline}return a/=o,a>t?a-t:n&&a===t||!e._initted&&a-t<2*h?h:(a+=e.totalDuration()/e._timeScale/o)>t+h?0:a-t-h};u._init=function(){var e,t,n,r,o,a,i=this.vars,s=this._overwrittenProps,u=this._duration,l=!!i.immediateRender,c=i.ease;if(i.startAt){this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),o={};for(r in i.startAt)o[r]=i.startAt[r];if(o.data="isStart",o.overwrite=!1,o.immediateRender=!0,o.lazy=l&&i.lazy!==!1,o.startAt=o.delay=null,o.onUpdate=i.onUpdate,o.onUpdateParams=i.onUpdateParams,o.onUpdateScope=i.onUpdateScope||i.callbackScope||this,this._startAt=R.to(this.target||{},0,o),l)if(this._time>0)this._startAt=null;else if(0!==u)return}else if(i.runBackwards&&0!==u)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{0!==this._time&&(l=!1),n={};for(r in i)$[r]&&"autoCSS"!==r||(n[r]=i[r]);if(n.overwrite=0,n.data="isFromStart",n.lazy=l&&i.lazy!==!1,n.immediateRender=l,this._startAt=R.to(this.target,0,n),l){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=c=c?c instanceof w?c:"function"==typeof c?new w(c,i.easeParams):T[c]||R.defaultEase:R.defaultEase,i.easeParams instanceof Array&&c.config&&(this._ease=c.config.apply(c,i.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(a=this._targets.length,e=0;e<a;e++)this._initProps(this._targets[e],this._propLookup[e]={},this._siblings[e],s?s[e]:null,e)&&(t=!0);else t=this._initProps(this.target,this._propLookup,this._siblings,s,0);if(t&&R._onPluginEvent("_onInitAllProps",this),s&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),i.runBackwards)for(n=this._firstPT;n;)n.s+=n.c,n.c=-n.c,n=n._next;this._onUpdate=i.onUpdate,this._initted=!0},u._initProps=function(t,n,r,o,a){var i,s,u,l,c,p;if(null==t)return!1;L[t._gsTweenID]&&J(),this.vars.css||t.style&&t!==e&&t.nodeType&&q.css&&this.vars.autoCSS!==!1&&D(this.vars,t);for(i in this.vars)if(p=this.vars[i],$[i])p&&(p instanceof Array||p.push&&g(p))&&p.join("").indexOf("{self}")!==-1&&(this.vars[i]=p=this._swapSelfInParams(p,this));else if(q[i]&&(l=new q[i])._onInitTween(t,this.vars[i],this,a)){for(this._firstPT=c={_next:this._firstPT,t:l,p:"setRatio",s:0,c:1,f:1,n:i,pg:1,pr:l._priority,m:0},s=l._overwriteProps.length;--s>-1;)n[l._overwriteProps[s]]=this._firstPT;(l._priority||l._onInitAllProps)&&(u=!0),(l._onDisable||l._onEnable)&&(this._notifyPluginsOfEnabled=!0),c._next&&(c._next._prev=c)}else n[i]=U.call(this,t,i,"get",p,i,0,null,this.vars.stringFilter,a);return o&&this._kill(o,t)?this._initProps(t,n,r,o,a):this._overwrite>1&&this._firstPT&&r.length>1&&te(t,this,n,this._overwrite,r)?(this._kill(n,t),this._initProps(t,n,r,o,a)):(this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration)&&(L[t._gsTweenID]=!0),u)},u.render=function(e,t,n){var r,o,a,i,s=this._time,u=this._duration,l=this._rawPrevTime;if(e>=u-1e-7&&e>=0)this._totalTime=this._time=u,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(r=!0,o="onComplete",n=n||this._timeline.autoRemoveChildren),0===u&&(this._initted||!this.vars.lazy||n)&&(this._startTime===this._timeline._duration&&(e=0),(l<0||e<=0&&e>=-1e-7||l===h&&"isPause"!==this.data)&&l!==e&&(n=!0,l>h&&(o="onReverseComplete")),this._rawPrevTime=i=!t||e||l===e?e:h);else if(e<1e-7)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==s||0===u&&l>0)&&(o="onReverseComplete",r=this._reversed),e<0&&(this._active=!1,0===u&&(this._initted||!this.vars.lazy||n)&&(l>=0&&(l!==h||"isPause"!==this.data)&&(n=!0),this._rawPrevTime=i=!t||e||l===e?e:h)),(!this._initted||this._startAt&&this._startAt.progress())&&(n=!0);else if(this._totalTime=this._time=e,this._easeType){var c=e/u,p=this._easeType,f=this._easePower;(1===p||3===p&&c>=.5)&&(c=1-c),3===p&&(c*=2),1===f?c*=c:2===f?c*=c*c:3===f?c*=c*c*c:4===f&&(c*=c*c*c*c),1===p?this.ratio=1-c:2===p?this.ratio=c:e/u<.5?this.ratio=c/2:this.ratio=1-c/2}else this.ratio=this._ease.getRatio(e/u);if(this._time!==s||n){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!n&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=s,this._rawPrevTime=l,V.push(this),void(this._lazy=[e,t]);this._time&&!r?this.ratio=this._ease.getRatio(this._time/u):r&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==s&&e>=0&&(this._active=!0),0===s&&(this._startAt&&(e>=0?this._startAt.render(e,!0,n):o||(o="_dummyGS")),this.vars.onStart&&(0===this._time&&0!==u||t||this._callback("onStart"))),a=this._firstPT;a;)a.f?a.t[a.p](a.c*this.ratio+a.s):a.t[a.p]=a.c*this.ratio+a.s,a=a._next;this._onUpdate&&(e<0&&this._startAt&&e!==-1e-4&&this._startAt.render(e,!0,n),t||(this._time!==s||r||n)&&this._callback("onUpdate")),o&&(this._gc&&!n||(e<0&&this._startAt&&!this._onUpdate&&e!==-1e-4&&this._startAt.render(e,!0,n),r&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[o]&&this._callback(o),0===u&&this._rawPrevTime===h&&i!==h&&(this._rawPrevTime=0)))}},u._kill=function(e,t,n){if("all"===e&&(e=null),null==e&&(null==t||t===this.target))return this._lazy=!1,this._enabled(!1,!1);t="string"!=typeof t?t||this._targets||this.target:R.selector(t)||t;var r,o,a,i,s,u,l,c,p,f=n&&this._time&&n._startTime===this._startTime&&this._timeline===n._timeline;if((g(t)||M(t))&&"number"!=typeof t[0])for(r=t.length;--r>-1;)this._kill(e,t[r],n)&&(u=!0);else{if(this._targets){for(r=this._targets.length;--r>-1;)if(t===this._targets[r]){s=this._propLookup[r]||{},this._overwrittenProps=this._overwrittenProps||[],o=this._overwrittenProps[r]=e?this._overwrittenProps[r]||{}:"all";break}}else{if(t!==this.target)return!1;s=this._propLookup,o=this._overwrittenProps=e?this._overwrittenProps||{}:"all"}if(s){if(l=e||s,c=e!==o&&"all"!==o&&e!==s&&("object"!=typeof e||!e._tempKill),n&&(R.onOverwrite||this.vars.onOverwrite)){for(a in l)s[a]&&(p||(p=[]),p.push(a));if((p||!e)&&!ee(this,n,t,p))return!1}for(a in l)(i=s[a])&&(f&&(i.f?i.t[i.p](i.s):i.t[i.p]=i.s,u=!0),i.pg&&i.t._kill(l)&&(u=!0),i.pg&&0!==i.t._overwriteProps.length||(i._prev?i._prev._next=i._next:i===this._firstPT&&(this._firstPT=i._next),i._next&&(i._next._prev=i._prev),i._next=i._prev=null),delete s[a]),c&&(o[a]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return u},u.invalidate=function(){return this._notifyPluginsOfEnabled&&R._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],O.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-h,this.render(Math.min(0,-this._delay))),this},u._enabled=function(e,t){if(c||l.wake(),e&&this._gc){var n,r=this._targets;if(r)for(n=r.length;--n>-1;)this._siblings[n]=Z(r[n],this,!0);else this._siblings=Z(this.target,this,!0)}return O.prototype._enabled.call(this,e,t),!(!this._notifyPluginsOfEnabled||!this._firstPT)&&R._onPluginEvent(e?"_onEnable":"_onDisable",this)},R.to=function(e,t,n){return new R(e,t,n)},R.from=function(e,t,n){return n.runBackwards=!0,n.immediateRender=0!=n.immediateRender,new R(e,t,n)},R.fromTo=function(e,t,n,r){return r.startAt=n,r.immediateRender=0!=r.immediateRender&&0!=n.immediateRender,new R(e,t,r)},R.delayedCall=function(e,t,n,r,o){return new R(t,0,{delay:e,onComplete:t,onCompleteParams:n,callbackScope:r,onReverseComplete:t,onReverseCompleteParams:n,immediateRender:!1,lazy:!1,useFrames:o,overwrite:0})},R.set=function(e,t){return new R(e,0,t)},R.getTweensOf=function(e,t){if(null==e)return[];e="string"!=typeof e?e:R.selector(e)||e;var n,r,o,a;if((g(e)||M(e))&&"number"!=typeof e[0]){for(n=e.length,r=[];--n>-1;)r=r.concat(R.getTweensOf(e[n],t));for(n=r.length;--n>-1;)for(a=r[n],o=n;--o>-1;)a===r[o]&&r.splice(n,1)}else if(e._gsTweenID)for(r=Z(e).concat(),n=r.length;--n>-1;)(r[n]._gc||t&&!r[n].isActive())&&r.splice(n,1);return r||[]},R.killTweensOf=R.killDelayedCallsTo=function(e,t,n){"object"==typeof t&&(n=t,t=!1);for(var r=R.getTweensOf(e,t),o=r.length;--o>-1;)r[o]._kill(n,e)};var re=b("plugins.TweenPlugin",function(e,t){this._overwriteProps=(e||"").split(","),this._propName=this._overwriteProps[0],this._priority=t||0,this._super=re.prototype},!0);if(u=re.prototype,re.version="1.19.0",re.API=2,u._firstPT=null,u._addTween=U,u.setRatio=B,u._kill=function(e){var t,n=this._overwriteProps,r=this._firstPT;if(null!=e[this._propName])this._overwriteProps=[];else for(t=n.length;--t>-1;)null!=e[n[t]]&&n.splice(t,1);for(;r;)null!=e[r.n]&&(r._next&&(r._next._prev=r._prev),r._prev?(r._prev._next=r._next,r._prev=null):this._firstPT===r&&(this._firstPT=r._next)),r=r._next;return!1},u._mod=u._roundProps=function(e){for(var t,n=this._firstPT;n;)t=e[this._propName]||null!=n.n&&e[n.n.split(this._propName+"_").join("")],t&&"function"==typeof t&&(2===n.f?n.t._applyPT.m=t:n.m=t),n=n._next},R._onPluginEvent=function(e,t){var n,r,o,a,i,s=t._firstPT;if("_onInitAllProps"===e){for(;s;){for(i=s._next,r=o;r&&r.pr>s.pr;)r=r._next;(s._prev=r?r._prev:a)?s._prev._next=s:o=s,(s._next=r)?r._prev=s:a=s,s=i}s=t._firstPT=o}for(;s;)s.pg&&"function"==typeof s.t[e]&&s.t[e]()&&(n=!0),s=s._next;return n},re.activate=function(e){for(var t=e.length;--t>-1;)e[t].API===re.API&&(q[(new e[t])._propName]=e[t]);return!0},x.plugin=function(e){if(!(e&&e.propName&&e.init&&e.API))throw"illegal plugin definition.";var t,n=e.propName,r=e.priority||0,o=e.overwriteProps,a={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_mod",mod:"_mod",initAll:"_onInitAllProps"},i=b("plugins."+n.charAt(0).toUpperCase()+n.substr(1)+"Plugin",function(){re.call(this,n,r),this._overwriteProps=o||[]},e.global===!0),s=i.prototype=new re(n);s.constructor=i,i.API=e.API;for(t in a)"function"==typeof e[t]&&(s[a[t]]=e[t]);return i.version=e.version,re.activate([i]),i},i=e._gsQueue){for(s=0;s<i.length;s++)i[s]();for(u in v)v[u].func||e.console.log("GSAP encountered missing dependency: "+u)}c=!1}("undefined"!=typeof t&&t.exports&&"undefined"!=typeof e?e:this||window,"TweenLite")}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],186:[function(e,t,n){(function(n){var r="undefined"!=typeof t&&t.exports&&"undefined"!=typeof n?n:this||window;(r._gsQueue||(r._gsQueue=[])).push(function(){"use strict";r._gsDefine("easing.Back",["easing.Ease"],function(e){var t,n,o,a,i=r.GreenSockGlobals||r,s=i.com.greensock,u=2*Math.PI,l=Math.PI/2,c=s._class,p=function(t,n){var r=c("easing."+t,function(){},!0),o=r.prototype=new e;return o.constructor=r,o.getRatio=n,r},f=e.register||function(){},h=function(e,t,n,r,o){var a=c("easing."+e,{easeOut:new t,easeIn:new n,easeInOut:new r},!0);return f(a,e),a},d=function(e,t,n){this.t=e,this.v=t,n&&(this.next=n,n.prev=this,this.c=n.v-t,this.gap=n.t-e)},m=function(t,n){var r=c("easing."+t,function(e){this._p1=e||0===e?e:1.70158,this._p2=1.525*this._p1},!0),o=r.prototype=new e;return o.constructor=r,o.getRatio=n,o.config=function(e){return new r(e)},r},g=h("Back",m("BackOut",function(e){return(e-=1)*e*((this._p1+1)*e+this._p1)+1}),m("BackIn",function(e){return e*e*((this._p1+1)*e-this._p1)}),m("BackInOut",function(e){return(e*=2)<1?.5*e*e*((this._p2+1)*e-this._p2):.5*((e-=2)*e*((this._p2+1)*e+this._p2)+2)})),v=c("easing.SlowMo",function(e,t,n){t=t||0===t?t:.7,null==e?e=.7:e>1&&(e=1),this._p=1!==e?t:0,this._p1=(1-e)/2,this._p2=e,this._p3=this._p1+this._p2,this._calcEnd=n===!0},!0),y=v.prototype=new e;return y.constructor=v,y.getRatio=function(e){var t=e+(.5-e)*this._p;return e<this._p1?this._calcEnd?1-(e=1-e/this._p1)*e:t-(e=1-e/this._p1)*e*e*e*t:e>this._p3?this._calcEnd?1===e?0:1-(e=(e-this._p3)/this._p1)*e:t+(e-t)*(e=(e-this._p3)/this._p1)*e*e*e:this._calcEnd?1:t},v.ease=new v(.7,.7),y.config=v.config=function(e,t,n){return new v(e,t,n)},t=c("easing.SteppedEase",function(e,t){e=e||1,this._p1=1/e,this._p2=e+(t?0:1),this._p3=t?1:0},!0),y=t.prototype=new e,y.constructor=t,y.getRatio=function(e){return e<0?e=0:e>=1&&(e=.999999999),((this._p2*e|0)+this._p3)*this._p1},y.config=t.config=function(e,n){return new t(e,n)},n=c("easing.ExpoScaleEase",function(e,t,n){this._p1=Math.log(t/e),this._p2=t-e,this._p3=e,this._ease=n},!0),y=n.prototype=new e,
y.constructor=n,y.getRatio=function(e){return this._ease&&(e=this._ease.getRatio(e)),(this._p3*Math.exp(this._p1*e)-this._p3)/this._p2},y.config=n.config=function(e,t,r){return new n(e,t,r)},o=c("easing.RoughEase",function(t){t=t||{};for(var n,r,o,a,i,s,u=t.taper||"none",l=[],c=0,p=0|(t.points||20),f=p,h=t.randomize!==!1,m=t.clamp===!0,g=t.template instanceof e?t.template:null,v="number"==typeof t.strength?.4*t.strength:.4;--f>-1;)n=h?Math.random():1/p*f,r=g?g.getRatio(n):n,"none"===u?o=v:"out"===u?(a=1-n,o=a*a*v):"in"===u?o=n*n*v:n<.5?(a=2*n,o=a*a*.5*v):(a=2*(1-n),o=a*a*.5*v),h?r+=Math.random()*o-.5*o:f%2?r+=.5*o:r-=.5*o,m&&(r>1?r=1:r<0&&(r=0)),l[c++]={x:n,y:r};for(l.sort(function(e,t){return e.x-t.x}),s=new d(1,1,null),f=p;--f>-1;)i=l[f],s=new d(i.x,i.y,s);this._prev=new d(0,0,0!==s.t?s:s.next)},!0),y=o.prototype=new e,y.constructor=o,y.getRatio=function(e){var t=this._prev;if(e>t.t){for(;t.next&&e>=t.t;)t=t.next;t=t.prev}else for(;t.prev&&e<=t.t;)t=t.prev;return this._prev=t,t.v+(e-t.t)/t.gap*t.c},y.config=function(e){return new o(e)},o.ease=new o,h("Bounce",p("BounceOut",function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}),p("BounceIn",function(e){return(e=1-e)<1/2.75?1-7.5625*e*e:e<2/2.75?1-(7.5625*(e-=1.5/2.75)*e+.75):e<2.5/2.75?1-(7.5625*(e-=2.25/2.75)*e+.9375):1-(7.5625*(e-=2.625/2.75)*e+.984375)}),p("BounceInOut",function(e){var t=e<.5;return e=t?1-2*e:2*e-1,e<1/2.75?e*=7.5625*e:e=e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375,t?.5*(1-e):.5*e+.5})),h("Circ",p("CircOut",function(e){return Math.sqrt(1-(e-=1)*e)}),p("CircIn",function(e){return-(Math.sqrt(1-e*e)-1)}),p("CircInOut",function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)})),a=function(t,n,r){var o=c("easing."+t,function(e,t){this._p1=e>=1?e:1,this._p2=(t||r)/(e<1?e:1),this._p3=this._p2/u*(Math.asin(1/this._p1)||0),this._p2=u/this._p2},!0),a=o.prototype=new e;return a.constructor=o,a.getRatio=n,a.config=function(e,t){return new o(e,t)},o},h("Elastic",a("ElasticOut",function(e){return this._p1*Math.pow(2,-10*e)*Math.sin((e-this._p3)*this._p2)+1},.3),a("ElasticIn",function(e){return-(this._p1*Math.pow(2,10*(e-=1))*Math.sin((e-this._p3)*this._p2))},.3),a("ElasticInOut",function(e){return(e*=2)<1?-.5*(this._p1*Math.pow(2,10*(e-=1))*Math.sin((e-this._p3)*this._p2)):this._p1*Math.pow(2,-10*(e-=1))*Math.sin((e-this._p3)*this._p2)*.5+1},.45)),h("Expo",p("ExpoOut",function(e){return 1-Math.pow(2,-10*e)}),p("ExpoIn",function(e){return Math.pow(2,10*(e-1))-.001}),p("ExpoInOut",function(e){return(e*=2)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*(e-1)))})),h("Sine",p("SineOut",function(e){return Math.sin(e*l)}),p("SineIn",function(e){return-Math.cos(e*l)+1}),p("SineInOut",function(e){return-.5*(Math.cos(Math.PI*e)-1)})),c("easing.EaseLookup",{find:function(t){return e.map[t]}},!0),f(i.SlowMo,"SlowMo","ease,"),f(o,"RoughEase","ease,"),f(t,"SteppedEase","ease,"),g},!0)}),r._gsDefine&&r._gsQueue.pop()(),function(){"use strict";var n=function(){return r.GreenSockGlobals||r};"undefined"!=typeof t&&t.exports?(e("../TweenLite.js"),t.exports=n()):"function"==typeof define&&define.amd&&define(["TweenLite"],n)}()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../TweenLite.js":184}],187:[function(e,t,n){(function(n){var r="undefined"!=typeof t&&t.exports&&"undefined"!=typeof n?n:this||window;(r._gsQueue||(r._gsQueue=[])).push(function(){"use strict";r._gsDefine.plugin({propName:"attr",API:2,version:"0.6.1",init:function(e,t,n,r){var o,a;if("function"!=typeof e.setAttribute)return!1;for(o in t)a=t[o],"function"==typeof a&&(a=a(r,e)),this._addTween(e,"setAttribute",e.getAttribute(o)+"",a+"",o,!1,o),this._overwriteProps.push(o);return!0}})}),r._gsDefine&&r._gsQueue.pop()(),function(n){"use strict";var o=function(){return(r.GreenSockGlobals||r)[n]};"undefined"!=typeof t&&t.exports?(e("../TweenLite.js"),t.exports=o()):"function"==typeof define&&define.amd&&define(["TweenLite"],o)}("AttrPlugin")}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../TweenLite.js":184}],188:[function(e,t,n){(function(n){var r="undefined"!=typeof t&&t.exports&&"undefined"!=typeof n?n:this||window;(r._gsQueue||(r._gsQueue=[])).push(function(){"use strict";r._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(e,t){var n,o,a,i,s=function(){e.call(this,"css"),this._overwriteProps.length=0,this.setRatio=s.prototype.setRatio},u=r._gsDefine.globals,l={},c=s.prototype=new e("css");c.constructor=s,s.version="1.20.5",s.API=2,s.defaultTransformPerspective=0,s.defaultSkewType="compensated",s.defaultSmoothOrigin=!0,c="px",s.suffixMap={top:c,right:c,bottom:c,left:c,width:c,height:c,fontSize:c,padding:c,margin:c,perspective:c,lineHeight:""};var p,f,h,d,m,g,v,y,x=/(?:\-|\.|\b)(\d|\.|e\-)+/g,b=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,_=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,w=/(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,T=/(?:\d|\-|\+|=|#|\.)*/g,P=/opacity *= *([^)]*)/i,N=/opacity:([^;]*)/i,S=/alpha\(opacity *=.+?\)/i,E=/^(rgb|hsl)/,k=/([A-Z])/g,A=/-([a-z])/gi,O=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,I=function(e,t){return t.toUpperCase()},C=/(?:Left|Right|Width)/i,R=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,M=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,D=/,(?=[^\)]*(?:\(|$))/gi,V=/[\s,\(]/i,L=Math.PI/180,F=180/Math.PI,z={},B={style:{}},j=r.document||{createElement:function(){return B}},U=function(e,t){return j.createElementNS?j.createElementNS(t||"http://www.w3.org/1999/xhtml",e):j.createElement(e)},G=U("div"),q=U("img"),W=s._internals={_specialProps:l},H=(r.navigator||{}).userAgent||"",$=function(){var e=H.indexOf("Android"),t=U("a");return h=H.indexOf("Safari")!==-1&&H.indexOf("Chrome")===-1&&(e===-1||parseFloat(H.substr(e+8,2))>3),m=h&&parseFloat(H.substr(H.indexOf("Version/")+8,2))<6,d=H.indexOf("Firefox")!==-1,(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(H)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(H))&&(g=parseFloat(RegExp.$1)),!!t&&(t.style.cssText="top:1px;opacity:.55;",/^0.55/.test(t.style.opacity))}(),X=function(e){return P.test("string"==typeof e?e:(e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?parseFloat(RegExp.$1)/100:1},Y=function(e){r.console&&console.log(e)},K="",Q="",J=function(e,t){t=t||G;var n,r,o=t.style;if(void 0!==o[e])return e;for(e=e.charAt(0).toUpperCase()+e.substr(1),n=["O","Moz","ms","Ms","Webkit"],r=5;--r>-1&&void 0===o[n[r]+e];);return r>=0?(Q=3===r?"ms":n[r],K="-"+Q.toLowerCase()+"-",Q+e):null},Z=("undefined"!=typeof window?window:j.defaultView||{getComputedStyle:function(){}}).getComputedStyle,ee=s.getStyle=function(e,t,n,r,o){var a;return $||"opacity"!==t?(!r&&e.style[t]?a=e.style[t]:(n=n||Z(e))?a=n[t]||n.getPropertyValue(t)||n.getPropertyValue(t.replace(k,"-$1").toLowerCase()):e.currentStyle&&(a=e.currentStyle[t]),null==o||a&&"none"!==a&&"auto"!==a&&"auto auto"!==a?a:o):X(e)},te=W.convertToPixels=function(e,n,r,o,a){if("px"===o||!o&&"lineHeight"!==n)return r;if("auto"===o||!r)return 0;var i,u,l,c=C.test(n),p=e,f=G.style,h=r<0,d=1===r;if(h&&(r=-r),d&&(r*=100),"lineHeight"!==n||o)if("%"===o&&n.indexOf("border")!==-1)i=r/100*(c?e.clientWidth:e.clientHeight);else{if(f.cssText="border:0 solid red;position:"+ee(e,"position")+";line-height:0;","%"!==o&&p.appendChild&&"v"!==o.charAt(0)&&"rem"!==o)f[c?"borderLeftWidth":"borderTopWidth"]=r+o;else{if(p=e.parentNode||j.body,ee(p,"display").indexOf("flex")!==-1&&(f.position="absolute"),u=p._gsCache,l=t.ticker.frame,u&&c&&u.time===l)return u.width*r/100;f[c?"width":"height"]=r+o}p.appendChild(G),i=parseFloat(G[c?"offsetWidth":"offsetHeight"]),p.removeChild(G),c&&"%"===o&&s.cacheWidths!==!1&&(u=p._gsCache=p._gsCache||{},u.time=l,u.width=i/r*100),0!==i||a||(i=te(e,n,r,o,!0))}else u=Z(e).lineHeight,e.style.lineHeight=r,i=parseFloat(Z(e).lineHeight),e.style.lineHeight=u;return d&&(i/=100),h?-i:i},ne=W.calculateOffset=function(e,t,n){if("absolute"!==ee(e,"position",n))return 0;var r="left"===t?"Left":"Top",o=ee(e,"margin"+r,n);return e["offset"+r]-(te(e,t,parseFloat(o),o.replace(T,""))||0)},re=function(e,t){var n,r,o,a={};if(t=t||Z(e,null))if(n=t.length)for(;--n>-1;)o=t[n],o.indexOf("-transform")!==-1&&Oe!==o||(a[o.replace(A,I)]=t.getPropertyValue(o));else for(n in t)n.indexOf("Transform")!==-1&&Ae!==n||(a[n]=t[n]);else if(t=e.currentStyle||e.style)for(n in t)"string"==typeof n&&void 0===a[n]&&(a[n.replace(A,I)]=t[n]);return $||(a.opacity=X(e)),r=qe(e,t,!1),a.rotation=r.rotation,a.skewX=r.skewX,a.scaleX=r.scaleX,a.scaleY=r.scaleY,a.x=r.x,a.y=r.y,Ce&&(a.z=r.z,a.rotationX=r.rotationX,a.rotationY=r.rotationY,a.scaleZ=r.scaleZ),a.filters&&delete a.filters,a},oe=function(e,t,n,r,o){var a,i,s,u={},l=e.style;for(i in n)"cssText"!==i&&"length"!==i&&isNaN(i)&&(t[i]!==(a=n[i])||o&&o[i])&&i.indexOf("Origin")===-1&&("number"!=typeof a&&"string"!=typeof a||(u[i]="auto"!==a||"left"!==i&&"top"!==i?""!==a&&"auto"!==a&&"none"!==a||"string"!=typeof t[i]||""===t[i].replace(w,"")?a:0:ne(e,i),void 0!==l[i]&&(s=new xe(l,i,l[i],s))));if(r)for(i in r)"className"!==i&&(u[i]=r[i]);return{difs:u,firstMPT:s}},ae={width:["Left","Right"],height:["Top","Bottom"]},ie=["marginLeft","marginRight","marginTop","marginBottom"],se=function(e,t,n){if("svg"===(e.nodeName+"").toLowerCase())return(n||Z(e))[t]||0;if(e.getCTM&&je(e))return e.getBBox()[t]||0;var r=parseFloat("width"===t?e.offsetWidth:e.offsetHeight),o=ae[t],a=o.length;for(n=n||Z(e,null);--a>-1;)r-=parseFloat(ee(e,"padding"+o[a],n,!0))||0,r-=parseFloat(ee(e,"border"+o[a]+"Width",n,!0))||0;return r},ue=function(e,t){if("contain"===e||"auto"===e||"auto auto"===e)return e+" ";null!=e&&""!==e||(e="0 0");var n,r=e.split(" "),o=e.indexOf("left")!==-1?"0%":e.indexOf("right")!==-1?"100%":r[0],a=e.indexOf("top")!==-1?"0%":e.indexOf("bottom")!==-1?"100%":r[1];if(r.length>3&&!t){for(r=e.split(", ").join(",").split(","),e=[],n=0;n<r.length;n++)e.push(ue(r[n]));return e.join(",")}return null==a?a="center"===o?"50%":"0":"center"===a&&(a="50%"),("center"===o||isNaN(parseFloat(o))&&(o+"").indexOf("=")===-1)&&(o="50%"),e=o+" "+a+(r.length>2?" "+r[2]:""),t&&(t.oxp=o.indexOf("%")!==-1,t.oyp=a.indexOf("%")!==-1,t.oxr="="===o.charAt(1),t.oyr="="===a.charAt(1),t.ox=parseFloat(o.replace(w,"")),t.oy=parseFloat(a.replace(w,"")),t.v=e),t||e},le=function(e,t){return"function"==typeof e&&(e=e(y,v)),"string"==typeof e&&"="===e.charAt(1)?parseInt(e.charAt(0)+"1",10)*parseFloat(e.substr(2)):parseFloat(e)-parseFloat(t)||0},ce=function(e,t){return"function"==typeof e&&(e=e(y,v)),null==e?t:"string"==typeof e&&"="===e.charAt(1)?parseInt(e.charAt(0)+"1",10)*parseFloat(e.substr(2))+t:parseFloat(e)||0},pe=function(e,t,n,r){var o,a,i,s,u,l=1e-6;return"function"==typeof e&&(e=e(y,v)),null==e?s=t:"number"==typeof e?s=e:(o=360,a=e.split("_"),u="="===e.charAt(1),i=(u?parseInt(e.charAt(0)+"1",10)*parseFloat(a[0].substr(2)):parseFloat(a[0]))*(e.indexOf("rad")===-1?1:F)-(u?0:t),a.length&&(r&&(r[n]=t+i),e.indexOf("short")!==-1&&(i%=o,i!==i%(o/2)&&(i=i<0?i+o:i-o)),e.indexOf("_cw")!==-1&&i<0?i=(i+9999999999*o)%o-(i/o|0)*o:e.indexOf("ccw")!==-1&&i>0&&(i=(i-9999999999*o)%o-(i/o|0)*o)),s=t+i),s<l&&s>-l&&(s=0),s},fe={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},he=function(e,t,n){return e=e<0?e+1:e>1?e-1:e,255*(6*e<1?t+(n-t)*e*6:e<.5?n:3*e<2?t+(n-t)*(2/3-e)*6:t)+.5|0},de=s.parseColor=function(e,t){var n,r,o,a,i,s,u,l,c,p,f;if(e)if("number"==typeof e)n=[e>>16,e>>8&255,255&e];else{if(","===e.charAt(e.length-1)&&(e=e.substr(0,e.length-1)),fe[e])n=fe[e];else if("#"===e.charAt(0))4===e.length&&(r=e.charAt(1),o=e.charAt(2),a=e.charAt(3),e="#"+r+r+o+o+a+a),e=parseInt(e.substr(1),16),n=[e>>16,e>>8&255,255&e];else if("hsl"===e.substr(0,3))if(n=f=e.match(x),t){if(e.indexOf("=")!==-1)return e.match(b)}else i=Number(n[0])%360/360,s=Number(n[1])/100,u=Number(n[2])/100,o=u<=.5?u*(s+1):u+s-u*s,r=2*u-o,n.length>3&&(n[3]=Number(n[3])),n[0]=he(i+1/3,r,o),n[1]=he(i,r,o),n[2]=he(i-1/3,r,o);else n=e.match(x)||fe.transparent;n[0]=Number(n[0]),n[1]=Number(n[1]),n[2]=Number(n[2]),n.length>3&&(n[3]=Number(n[3]))}else n=fe.black;return t&&!f&&(r=n[0]/255,o=n[1]/255,a=n[2]/255,l=Math.max(r,o,a),c=Math.min(r,o,a),u=(l+c)/2,l===c?i=s=0:(p=l-c,s=u>.5?p/(2-l-c):p/(l+c),i=l===r?(o-a)/p+(o<a?6:0):l===o?(a-r)/p+2:(r-o)/p+4,i*=60),n[0]=i+.5|0,n[1]=100*s+.5|0,n[2]=100*u+.5|0),n},me=function(e,t){var n,r,o,a=e.match(ge)||[],i=0,s="";if(!a.length)return e;for(n=0;n<a.length;n++)r=a[n],o=e.substr(i,e.indexOf(r,i)-i),i+=o.length+r.length,r=de(r,t),3===r.length&&r.push(1),s+=o+(t?"hsla("+r[0]+","+r[1]+"%,"+r[2]+"%,"+r[3]:"rgba("+r.join(","))+")";return s+e.substr(i)},ge="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";for(c in fe)ge+="|"+c+"\\b";ge=new RegExp(ge+")","gi"),s.colorStringFilter=function(e){var t,n=e[0]+" "+e[1];ge.test(n)&&(t=n.indexOf("hsl(")!==-1||n.indexOf("hsla(")!==-1,e[0]=me(e[0],t),e[1]=me(e[1],t)),ge.lastIndex=0},t.defaultStringFilter||(t.defaultStringFilter=s.colorStringFilter);var ve=function(e,t,n,r){if(null==e)return function(e){return e};var o,a=t?(e.match(ge)||[""])[0]:"",i=e.split(a).join("").match(_)||[],s=e.substr(0,e.indexOf(i[0])),u=")"===e.charAt(e.length-1)?")":"",l=e.indexOf(" ")!==-1?" ":",",c=i.length,p=c>0?i[0].replace(x,""):"";return c?o=t?function(e){var t,f,h,d;if("number"==typeof e)e+=p;else if(r&&D.test(e)){for(d=e.replace(D,"|").split("|"),h=0;h<d.length;h++)d[h]=o(d[h]);return d.join(",")}if(t=(e.match(ge)||[a])[0],f=e.split(t).join("").match(_)||[],h=f.length,c>h--)for(;++h<c;)f[h]=n?f[(h-1)/2|0]:i[h];return s+f.join(l)+l+t+u+(e.indexOf("inset")!==-1?" inset":"")}:function(e){var t,a,f;if("number"==typeof e)e+=p;else if(r&&D.test(e)){for(a=e.replace(D,"|").split("|"),f=0;f<a.length;f++)a[f]=o(a[f]);return a.join(",")}if(t=e.match(_)||[],f=t.length,c>f--)for(;++f<c;)t[f]=n?t[(f-1)/2|0]:i[f];return s+t.join(l)+u}:function(e){return e}},ye=function(e){return e=e.split(","),function(t,n,r,o,a,i,s){var u,l=(n+"").split(" ");for(s={},u=0;u<4;u++)s[e[u]]=l[u]=l[u]||l[(u-1)/2>>0];return o.parse(t,s,a,i)}},xe=(W._setPluginRatio=function(e){this.plugin.setRatio(e);for(var t,n,r,o,a,i=this.data,s=i.proxy,u=i.firstMPT,l=1e-6;u;)t=s[u.v],u.r?t=u.r(t):t<l&&t>-l&&(t=0),u.t[u.p]=t,u=u._next;if(i.autoRotate&&(i.autoRotate.rotation=i.mod?i.mod.call(this._tween,s.rotation,this.t,this._tween):s.rotation),1===e||0===e)for(u=i.firstMPT,a=1===e?"e":"b";u;){if(n=u.t,n.type){if(1===n.type){for(o=n.xs0+n.s+n.xs1,r=1;r<n.l;r++)o+=n["xn"+r]+n["xs"+(r+1)];n[a]=o}}else n[a]=n.s+n.xs0;u=u._next}},function(e,t,n,r,o){this.t=e,this.p=t,this.v=n,this.r=o,r&&(r._prev=this,this._next=r)}),be=(W._parseToProxy=function(e,t,n,r,o,a){var i,s,u,l,c,p=r,f={},h={},d=n._transform,m=z;for(n._transform=null,z=t,r=c=n.parse(e,t,r,o),z=m,a&&(n._transform=d,p&&(p._prev=null,p._prev&&(p._prev._next=null)));r&&r!==p;){if(r.type<=1&&(s=r.p,h[s]=r.s+r.c,f[s]=r.s,a||(l=new xe(r,"s",s,l,r.r),r.c=0),1===r.type))for(i=r.l;--i>0;)u="xn"+i,s=r.p+"_"+u,h[s]=r.data[u],f[s]=r[u],a||(l=new xe(r,u,s,l,r.rxp[u]));r=r._next}return{proxy:f,end:h,firstMPT:l,pt:c}},W.CSSPropTween=function(e,t,r,o,a,s,u,l,c,p,f){this.t=e,this.p=t,this.s=r,this.c=o,this.n=u||t,e instanceof be||i.push(this.n),this.r=l?"function"==typeof l?l:Math.round:l,this.type=s||0,c&&(this.pr=c,n=!0),this.b=void 0===p?r:p,this.e=void 0===f?r+o:f,a&&(this._next=a,a._prev=this)}),_e=function(e,t,n,r,o,a){var i=new be(e,t,n,r-n,o,-1,a);return i.b=n,i.e=i.xs0=r,i},we=s.parseComplex=function(e,t,n,r,o,a,i,u,l,c){n=n||a||"","function"==typeof r&&(r=r(y,v)),i=new be(e,t,0,0,i,c?2:1,null,!1,u,n,r),r+="",o&&ge.test(r+n)&&(r=[n,r],s.colorStringFilter(r),n=r[0],r=r[1]);var f,h,d,m,g,_,w,T,P,N,S,E,k,A=n.split(", ").join(",").split(" "),O=r.split(", ").join(",").split(" "),I=A.length,C=p!==!1;for(r.indexOf(",")===-1&&n.indexOf(",")===-1||((r+n).indexOf("rgb")!==-1||(r+n).indexOf("hsl")!==-1?(A=A.join(" ").replace(D,", ").split(" "),O=O.join(" ").replace(D,", ").split(" ")):(A=A.join(" ").split(",").join(", ").split(" "),O=O.join(" ").split(",").join(", ").split(" ")),I=A.length),I!==O.length&&(A=(a||"").split(" "),I=A.length),i.plugin=l,i.setRatio=c,ge.lastIndex=0,f=0;f<I;f++)if(m=A[f],g=O[f]+"",T=parseFloat(m),T||0===T)i.appendXtra("",T,le(g,T),g.replace(b,""),!(!C||g.indexOf("px")===-1)&&Math.round,!0);else if(o&&ge.test(m))E=g.indexOf(")")+1,E=")"+(E?g.substr(E):""),k=g.indexOf("hsl")!==-1&&$,N=g,m=de(m,k),g=de(g,k),P=m.length+g.length>6,P&&!$&&0===g[3]?(i["xs"+i.l]+=i.l?" transparent":"transparent",i.e=i.e.split(O[f]).join("transparent")):($||(P=!1),k?i.appendXtra(N.substr(0,N.indexOf("hsl"))+(P?"hsla(":"hsl("),m[0],le(g[0],m[0]),",",!1,!0).appendXtra("",m[1],le(g[1],m[1]),"%,",!1).appendXtra("",m[2],le(g[2],m[2]),P?"%,":"%"+E,!1):i.appendXtra(N.substr(0,N.indexOf("rgb"))+(P?"rgba(":"rgb("),m[0],g[0]-m[0],",",Math.round,!0).appendXtra("",m[1],g[1]-m[1],",",Math.round).appendXtra("",m[2],g[2]-m[2],P?",":E,Math.round),P&&(m=m.length<4?1:m[3],i.appendXtra("",m,(g.length<4?1:g[3])-m,E,!1))),ge.lastIndex=0;else if(_=m.match(x)){if(w=g.match(b),!w||w.length!==_.length)return i;for(d=0,h=0;h<_.length;h++)S=_[h],N=m.indexOf(S,d),i.appendXtra(m.substr(d,N-d),Number(S),le(w[h],S),"",!(!C||"px"!==m.substr(N+S.length,2))&&Math.round,0===h),d=N+S.length;i["xs"+i.l]+=m.substr(d)}else i["xs"+i.l]+=i.l||i["xs"+i.l]?" "+g:g;if(r.indexOf("=")!==-1&&i.data){for(E=i.xs0+i.data.s,f=1;f<i.l;f++)E+=i["xs"+f]+i.data["xn"+f];i.e=E+i["xs"+f]}return i.l||(i.type=-1,i.xs0=i.e),i.xfirst||i},Te=9;for(c=be.prototype,c.l=c.pr=0;--Te>0;)c["xn"+Te]=0,c["xs"+Te]="";c.xs0="",c._next=c._prev=c.xfirst=c.data=c.plugin=c.setRatio=c.rxp=null,c.appendXtra=function(e,t,n,r,o,a){var i=this,s=i.l;return i["xs"+s]+=a&&(s||i["xs"+s])?" "+e:e||"",n||0===s||i.plugin?(i.l++,i.type=i.setRatio?2:1,i["xs"+i.l]=r||"",s>0?(i.data["xn"+s]=t+n,i.rxp["xn"+s]=o,i["xn"+s]=t,i.plugin||(i.xfirst=new be(i,"xn"+s,t,n,i.xfirst||i,0,i.n,o,i.pr),i.xfirst.xs0=0),i):(i.data={s:t+n},i.rxp={},i.s=t,i.c=n,i.r=o,i)):(i["xs"+s]+=t+(r||""),i)};var Pe=function(e,t){t=t||{},this.p=t.prefix?J(e)||e:e,l[e]=l[this.p]=this,this.format=t.formatter||ve(t.defaultValue,t.color,t.collapsible,t.multi),t.parser&&(this.parse=t.parser),this.clrs=t.color,this.multi=t.multi,this.keyword=t.keyword,this.dflt=t.defaultValue,this.pr=t.priority||0},Ne=W._registerComplexSpecialProp=function(e,t,n){"object"!=typeof t&&(t={parser:n});var r,o,a=e.split(","),i=t.defaultValue;for(n=n||[i],r=0;r<a.length;r++)t.prefix=0===r&&t.prefix,t.defaultValue=n[r]||i,o=new Pe(a[r],t)},Se=W._registerPluginProp=function(e){if(!l[e]){var t=e.charAt(0).toUpperCase()+e.substr(1)+"Plugin";Ne(e,{parser:function(e,n,r,o,a,i,s){var c=u.com.greensock.plugins[t];return c?(c._cssRegister(),l[r].parse(e,n,r,o,a,i,s)):(Y("Error: "+t+" js file not loaded."),a)}})}};c=Pe.prototype,c.parseComplex=function(e,t,n,r,o,a){var i,s,u,l,c,p,f=this.keyword;if(this.multi&&(D.test(n)||D.test(t)?(s=t.replace(D,"|").split("|"),u=n.replace(D,"|").split("|")):f&&(s=[t],u=[n])),u){for(l=u.length>s.length?u.length:s.length,i=0;i<l;i++)t=s[i]=s[i]||this.dflt,n=u[i]=u[i]||this.dflt,f&&(c=t.indexOf(f),p=n.indexOf(f),c!==p&&(p===-1?s[i]=s[i].split(f).join(""):c===-1&&(s[i]+=" "+f)));t=s.join(", "),n=u.join(", ")}return we(e,this.p,t,n,this.clrs,this.dflt,r,this.pr,o,a)},c.parse=function(e,t,n,r,o,i,s){return this.parseComplex(e.style,this.format(ee(e,this.p,a,!1,this.dflt)),this.format(t),o,i)},s.registerSpecialProp=function(e,t,n){Ne(e,{parser:function(e,r,o,a,i,s,u){var l=new be(e,o,0,0,i,2,o,!1,n);return l.plugin=s,l.setRatio=t(e,r,a._tween,o),l},priority:n})},s.useSVGTransformAttr=!0;var Ee,ke="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),Ae=J("transform"),Oe=K+"transform",Ie=J("transformOrigin"),Ce=null!==J("perspective"),Re=W.Transform=function(){this.perspective=parseFloat(s.defaultTransformPerspective)||0,this.force3D=!(s.defaultForce3D===!1||!Ce)&&(s.defaultForce3D||"auto")},Me=r.SVGElement,De=function(e,t,n){var r,o=j.createElementNS("http://www.w3.org/2000/svg",e),a=/([a-z])([A-Z])/g;for(r in n)o.setAttributeNS(null,r.replace(a,"$1-$2").toLowerCase(),n[r]);return t.appendChild(o),o},Ve=j.documentElement||{},Le=function(){var e,t,n,o=g||/Android/i.test(H)&&!r.chrome;return j.createElementNS&&!o&&(e=De("svg",Ve),t=De("rect",e,{width:100,height:50,x:100}),n=t.getBoundingClientRect().width,t.style[Ie]="50% 50%",t.style[Ae]="scaleX(0.5)",o=n===t.getBoundingClientRect().width&&!(d&&Ce),Ve.removeChild(e)),o}(),Fe=function(e,t,n,r,o,a){var i,u,l,c,p,f,h,d,m,g,v,y,x,b,_=e._gsTransform,w=Ge(e,!0);_&&(x=_.xOrigin,b=_.yOrigin),(!r||(i=r.split(" ")).length<2)&&(h=e.getBBox(),0===h.x&&0===h.y&&h.width+h.height===0&&(h={x:parseFloat(e.hasAttribute("x")?e.getAttribute("x"):e.hasAttribute("cx")?e.getAttribute("cx"):0)||0,y:parseFloat(e.hasAttribute("y")?e.getAttribute("y"):e.hasAttribute("cy")?e.getAttribute("cy"):0)||0,width:0,height:0}),t=ue(t).split(" "),i=[(t[0].indexOf("%")!==-1?parseFloat(t[0])/100*h.width:parseFloat(t[0]))+h.x,(t[1].indexOf("%")!==-1?parseFloat(t[1])/100*h.height:parseFloat(t[1]))+h.y]),n.xOrigin=c=parseFloat(i[0]),n.yOrigin=p=parseFloat(i[1]),r&&w!==Ue&&(f=w[0],h=w[1],d=w[2],m=w[3],g=w[4],v=w[5],y=f*m-h*d,y&&(u=c*(m/y)+p*(-d/y)+(d*v-m*g)/y,l=c*(-h/y)+p*(f/y)-(f*v-h*g)/y,c=n.xOrigin=i[0]=u,p=n.yOrigin=i[1]=l)),_&&(a&&(n.xOffset=_.xOffset,n.yOffset=_.yOffset,_=n),o||o!==!1&&s.defaultSmoothOrigin!==!1?(u=c-x,l=p-b,_.xOffset+=u*w[0]+l*w[2]-u,_.yOffset+=u*w[1]+l*w[3]-l):_.xOffset=_.yOffset=0),a||e.setAttribute("data-svg-origin",i.join(" "))},ze=function(e){var t,n=U("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=this.parentNode,o=this.nextSibling,a=this.style.cssText;if(Ve.appendChild(n),n.appendChild(this),this.style.display="block",e)try{t=this.getBBox(),this._originalGetBBox=this.getBBox,this.getBBox=ze}catch(e){}else this._originalGetBBox&&(t=this._originalGetBBox());return o?r.insertBefore(this,o):r.appendChild(this),Ve.removeChild(n),this.style.cssText=a,t},Be=function(e){try{return e.getBBox()}catch(t){return ze.call(e,!0)}},je=function(e){return!(!Me||!e.getCTM||e.parentNode&&!e.ownerSVGElement||!Be(e))},Ue=[1,0,0,1,0,0],Ge=function(e,t){var n,r,o,a,i,s,u=e._gsTransform||new Re,l=1e5,c=e.style;if(Ae?r=ee(e,Oe,null,!0):e.currentStyle&&(r=e.currentStyle.filter.match(R),r=r&&4===r.length?[r[0].substr(4),Number(r[2].substr(4)),Number(r[1].substr(4)),r[3].substr(4),u.x||0,u.y||0].join(","):""),n=!r||"none"===r||"matrix(1, 0, 0, 1, 0, 0)"===r,!Ae||!(s=!Z(e)||"none"===Z(e).display)&&e.parentNode||(s&&(a=c.display,c.display="block"),e.parentNode||(i=1,Ve.appendChild(e)),r=ee(e,Oe,null,!0),n=!r||"none"===r||"matrix(1, 0, 0, 1, 0, 0)"===r,a?c.display=a:s&&Xe(c,"display"),i&&Ve.removeChild(e)),(u.svg||e.getCTM&&je(e))&&(n&&(c[Ae]+"").indexOf("matrix")!==-1&&(r=c[Ae],n=0),o=e.getAttribute("transform"),n&&o&&(o=e.transform.baseVal.consolidate().matrix,r="matrix("+o.a+","+o.b+","+o.c+","+o.d+","+o.e+","+o.f+")",n=0)),n)return Ue;for(o=(r||"").match(x)||[],Te=o.length;--Te>-1;)a=Number(o[Te]),o[Te]=(i=a-(a|=0))?(i*l+(i<0?-.5:.5)|0)/l+a:a;return t&&o.length>6?[o[0],o[1],o[4],o[5],o[12],o[13]]:o},qe=W.getTransform=function(e,n,r,o){if(e._gsTransform&&r&&!o)return e._gsTransform;var a,i,u,l,c,p,f=r?e._gsTransform||new Re:new Re,h=f.scaleX<0,d=2e-5,m=1e5,g=Ce?parseFloat(ee(e,Ie,n,!1,"0 0 0").split(" ")[2])||f.zOrigin||0:0,v=parseFloat(s.defaultTransformPerspective)||0;if(f.svg=!(!e.getCTM||!je(e)),f.svg&&(Fe(e,ee(e,Ie,n,!1,"50% 50%")+"",f,e.getAttribute("data-svg-origin")),Ee=s.useSVGTransformAttr||Le),a=Ge(e),a!==Ue){if(16===a.length){var y,x,b,_,w,T=a[0],P=a[1],N=a[2],S=a[3],E=a[4],k=a[5],A=a[6],O=a[7],I=a[8],C=a[9],R=a[10],M=a[12],D=a[13],V=a[14],L=a[11],z=Math.atan2(A,R);f.zOrigin&&(V=-f.zOrigin,M=I*V-a[12],D=C*V-a[13],V=R*V+f.zOrigin-a[14]),f.rotationX=z*F,z&&(_=Math.cos(-z),w=Math.sin(-z),y=E*_+I*w,x=k*_+C*w,b=A*_+R*w,I=E*-w+I*_,C=k*-w+C*_,R=A*-w+R*_,L=O*-w+L*_,E=y,k=x,A=b),z=Math.atan2(-N,R),f.rotationY=z*F,z&&(_=Math.cos(-z),w=Math.sin(-z),y=T*_-I*w,x=P*_-C*w,b=N*_-R*w,C=P*w+C*_,R=N*w+R*_,L=S*w+L*_,T=y,P=x,N=b),z=Math.atan2(P,T),f.rotation=z*F,z&&(_=Math.cos(z),w=Math.sin(z),y=T*_+P*w,x=E*_+k*w,b=I*_+C*w,P=P*_-T*w,k=k*_-E*w,C=C*_-I*w,T=y,E=x,I=b),f.rotationX&&Math.abs(f.rotationX)+Math.abs(f.rotation)>359.9&&(f.rotationX=f.rotation=0,f.rotationY=180-f.rotationY),z=Math.atan2(E,k),f.scaleX=(Math.sqrt(T*T+P*P+N*N)*m+.5|0)/m,f.scaleY=(Math.sqrt(k*k+A*A)*m+.5|0)/m,f.scaleZ=(Math.sqrt(I*I+C*C+R*R)*m+.5|0)/m,T/=f.scaleX,E/=f.scaleY,P/=f.scaleX,k/=f.scaleY,Math.abs(z)>d?(f.skewX=z*F,E=0,"simple"!==f.skewType&&(f.scaleY*=1/Math.cos(z))):f.skewX=0,f.perspective=L?1/(L<0?-L:L):0,f.x=M,f.y=D,f.z=V,f.svg&&(f.x-=f.xOrigin-(f.xOrigin*T-f.yOrigin*E),f.y-=f.yOrigin-(f.yOrigin*P-f.xOrigin*k))}else if(!Ce||o||!a.length||f.x!==a[4]||f.y!==a[5]||!f.rotationX&&!f.rotationY){var B=a.length>=6,j=B?a[0]:1,U=a[1]||0,G=a[2]||0,q=B?a[3]:1;f.x=a[4]||0,f.y=a[5]||0,u=Math.sqrt(j*j+U*U),l=Math.sqrt(q*q+G*G),c=j||U?Math.atan2(U,j)*F:f.rotation||0,p=G||q?Math.atan2(G,q)*F+c:f.skewX||0,f.scaleX=u,f.scaleY=l,f.rotation=c,f.skewX=p,Ce&&(f.rotationX=f.rotationY=f.z=0,f.perspective=v,f.scaleZ=1),f.svg&&(f.x-=f.xOrigin-(f.xOrigin*j+f.yOrigin*G),f.y-=f.yOrigin-(f.xOrigin*U+f.yOrigin*q))}Math.abs(f.skewX)>90&&Math.abs(f.skewX)<270&&(h?(f.scaleX*=-1,f.skewX+=f.rotation<=0?180:-180,f.rotation+=f.rotation<=0?180:-180):(f.scaleY*=-1,f.skewX+=f.skewX<=0?180:-180)),f.zOrigin=g;for(i in f)f[i]<d&&f[i]>-d&&(f[i]=0)}return r&&(e._gsTransform=f,f.svg&&(Ee&&e.style[Ae]?t.delayedCall(.001,function(){Xe(e.style,Ae)}):!Ee&&e.getAttribute("transform")&&t.delayedCall(.001,function(){e.removeAttribute("transform")}))),f},We=function(e){var t,n,r=this.data,o=-r.rotation*L,a=o+r.skewX*L,i=1e5,s=(Math.cos(o)*r.scaleX*i|0)/i,u=(Math.sin(o)*r.scaleX*i|0)/i,l=(Math.sin(a)*-r.scaleY*i|0)/i,c=(Math.cos(a)*r.scaleY*i|0)/i,p=this.t.style,f=this.t.currentStyle;if(f){n=u,u=-l,l=-n,t=f.filter,p.filter="";var h,d,m=this.t.offsetWidth,v=this.t.offsetHeight,y="absolute"!==f.position,x="progid:DXImageTransform.Microsoft.Matrix(M11="+s+", M12="+u+", M21="+l+", M22="+c,b=r.x+m*r.xPercent/100,_=r.y+v*r.yPercent/100;if(null!=r.ox&&(h=(r.oxp?m*r.ox*.01:r.ox)-m/2,d=(r.oyp?v*r.oy*.01:r.oy)-v/2,b+=h-(h*s+d*u),_+=d-(h*l+d*c)),y?(h=m/2,d=v/2,x+=", Dx="+(h-(h*s+d*u)+b)+", Dy="+(d-(h*l+d*c)+_)+")"):x+=", sizingMethod='auto expand')",t.indexOf("DXImageTransform.Microsoft.Matrix(")!==-1?p.filter=t.replace(M,x):p.filter=x+" "+t,0!==e&&1!==e||1===s&&0===u&&0===l&&1===c&&(y&&x.indexOf("Dx=0, Dy=0")===-1||P.test(t)&&100!==parseFloat(RegExp.$1)||t.indexOf(t.indexOf("Alpha"))===-1&&p.removeAttribute("filter")),!y){var w,N,S,E=g<8?1:-1;for(h=r.ieOffsetX||0,d=r.ieOffsetY||0,r.ieOffsetX=Math.round((m-((s<0?-s:s)*m+(u<0?-u:u)*v))/2+b),r.ieOffsetY=Math.round((v-((c<0?-c:c)*v+(l<0?-l:l)*m))/2+_),Te=0;Te<4;Te++)N=ie[Te],w=f[N],n=w.indexOf("px")!==-1?parseFloat(w):te(this.t,N,parseFloat(w),w.replace(T,""))||0,S=n!==r[N]?Te<2?-r.ieOffsetX:-r.ieOffsetY:Te<2?h-r.ieOffsetX:d-r.ieOffsetY,p[N]=(r[N]=Math.round(n-S*(0===Te||2===Te?1:E)))+"px"}}},He=W.set3DTransformRatio=W.setTransformRatio=function(e){var t,n,r,o,a,i,s,u,l,c,p,f,h,m,g,v,y,x,b,_,w,T,P,N=this.data,S=this.t.style,E=N.rotation,k=N.rotationX,A=N.rotationY,O=N.scaleX,I=N.scaleY,C=N.scaleZ,R=N.x,M=N.y,D=N.z,V=N.svg,F=N.perspective,z=N.force3D,B=N.skewY,j=N.skewX;if(B&&(j+=B,E+=B),((1===e||0===e)&&"auto"===z&&(this.tween._totalTime===this.tween._totalDuration||!this.tween._totalTime)||!z)&&!D&&!F&&!A&&!k&&1===C||Ee&&V||!Ce)return void(E||j||V?(E*=L,T=j*L,P=1e5,n=Math.cos(E)*O,a=Math.sin(E)*O,r=Math.sin(E-T)*-I,i=Math.cos(E-T)*I,T&&"simple"===N.skewType&&(t=Math.tan(T-B*L),t=Math.sqrt(1+t*t),r*=t,i*=t,B&&(t=Math.tan(B*L),t=Math.sqrt(1+t*t),n*=t,a*=t)),V&&(R+=N.xOrigin-(N.xOrigin*n+N.yOrigin*r)+N.xOffset,M+=N.yOrigin-(N.xOrigin*a+N.yOrigin*i)+N.yOffset,Ee&&(N.xPercent||N.yPercent)&&(g=this.t.getBBox(),R+=.01*N.xPercent*g.width,M+=.01*N.yPercent*g.height),g=1e-6,R<g&&R>-g&&(R=0),M<g&&M>-g&&(M=0)),b=(n*P|0)/P+","+(a*P|0)/P+","+(r*P|0)/P+","+(i*P|0)/P+","+R+","+M+")",V&&Ee?this.t.setAttribute("transform","matrix("+b):S[Ae]=(N.xPercent||N.yPercent?"translate("+N.xPercent+"%,"+N.yPercent+"%) matrix(":"matrix(")+b):S[Ae]=(N.xPercent||N.yPercent?"translate("+N.xPercent+"%,"+N.yPercent+"%) matrix(":"matrix(")+O+",0,0,"+I+","+R+","+M+")");if(d&&(g=1e-4,O<g&&O>-g&&(O=C=2e-5),I<g&&I>-g&&(I=C=2e-5),!F||N.z||N.rotationX||N.rotationY||(F=0)),E||j)E*=L,v=n=Math.cos(E),y=a=Math.sin(E),j&&(E-=j*L,v=Math.cos(E),y=Math.sin(E),"simple"===N.skewType&&(t=Math.tan((j-B)*L),t=Math.sqrt(1+t*t),v*=t,y*=t,N.skewY&&(t=Math.tan(B*L),t=Math.sqrt(1+t*t),n*=t,a*=t))),r=-y,i=v;else{if(!(A||k||1!==C||F||V))return void(S[Ae]=(N.xPercent||N.yPercent?"translate("+N.xPercent+"%,"+N.yPercent+"%) translate3d(":"translate3d(")+R+"px,"+M+"px,"+D+"px)"+(1!==O||1!==I?" scale("+O+","+I+")":""));n=i=1,r=a=0}c=1,o=s=u=l=p=f=0,h=F?-1/F:0,m=N.zOrigin,g=1e-6,_=",",w="0",E=A*L,E&&(v=Math.cos(E),y=Math.sin(E),u=-y,p=h*-y,o=n*y,s=a*y,c=v,h*=v,n*=v,a*=v),E=k*L,E&&(v=Math.cos(E),y=Math.sin(E),t=r*v+o*y,x=i*v+s*y,l=c*y,f=h*y,o=r*-y+o*v,s=i*-y+s*v,c*=v,h*=v,r=t,i=x),1!==C&&(o*=C,s*=C,c*=C,h*=C),1!==I&&(r*=I,i*=I,l*=I,f*=I),1!==O&&(n*=O,a*=O,u*=O,p*=O),(m||V)&&(m&&(R+=o*-m,M+=s*-m,D+=c*-m+m),V&&(R+=N.xOrigin-(N.xOrigin*n+N.yOrigin*r)+N.xOffset,M+=N.yOrigin-(N.xOrigin*a+N.yOrigin*i)+N.yOffset),R<g&&R>-g&&(R=w),M<g&&M>-g&&(M=w),D<g&&D>-g&&(D=0)),b=N.xPercent||N.yPercent?"translate("+N.xPercent+"%,"+N.yPercent+"%) matrix3d(":"matrix3d(",b+=(n<g&&n>-g?w:n)+_+(a<g&&a>-g?w:a)+_+(u<g&&u>-g?w:u),b+=_+(p<g&&p>-g?w:p)+_+(r<g&&r>-g?w:r)+_+(i<g&&i>-g?w:i),k||A||1!==C?(b+=_+(l<g&&l>-g?w:l)+_+(f<g&&f>-g?w:f)+_+(o<g&&o>-g?w:o),b+=_+(s<g&&s>-g?w:s)+_+(c<g&&c>-g?w:c)+_+(h<g&&h>-g?w:h)+_):b+=",0,0,0,0,1,0,",b+=R+_+M+_+D+_+(F?1+-D/F:1)+")",S[Ae]=b};c=Re.prototype,c.x=c.y=c.z=c.skewX=c.skewY=c.rotation=c.rotationX=c.rotationY=c.zOrigin=c.xPercent=c.yPercent=c.xOffset=c.yOffset=0,c.scaleX=c.scaleY=c.scaleZ=1,Ne("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin",{parser:function(e,t,n,r,o,i,u){if(r._lastParsedTransform===u)return o;r._lastParsedTransform=u;var l,c=u.scale&&"function"==typeof u.scale?u.scale:0;"function"==typeof u[n]&&(l=u[n],u[n]=t),c&&(u.scale=c(y,e));var p,f,h,d,m,g,x,b,_,w=e._gsTransform,T=e.style,P=1e-6,N=ke.length,S=u,E={},k="transformOrigin",A=qe(e,a,!0,S.parseTransform),O=S.transform&&("function"==typeof S.transform?S.transform(y,v):S.transform);if(A.skewType=S.skewType||A.skewType||s.defaultSkewType,r._transform=A,O&&"string"==typeof O&&Ae)f=G.style,f[Ae]=O,f.display="block",f.position="absolute",O.indexOf("%")!==-1&&(f.width=ee(e,"width"),f.height=ee(e,"height")),j.body.appendChild(G),p=qe(G,null,!1),"simple"===A.skewType&&(p.scaleY*=Math.cos(p.skewX*L)),A.svg&&(g=A.xOrigin,x=A.yOrigin,p.x-=A.xOffset,p.y-=A.yOffset,(S.transformOrigin||S.svgOrigin)&&(O={},Fe(e,ue(S.transformOrigin),O,S.svgOrigin,S.smoothOrigin,!0),g=O.xOrigin,x=O.yOrigin,p.x-=O.xOffset-A.xOffset,p.y-=O.yOffset-A.yOffset),(g||x)&&(b=Ge(G,!0),p.x-=g-(g*b[0]+x*b[2]),p.y-=x-(g*b[1]+x*b[3]))),j.body.removeChild(G),p.perspective||(p.perspective=A.perspective),null!=S.xPercent&&(p.xPercent=ce(S.xPercent,A.xPercent)),null!=S.yPercent&&(p.yPercent=ce(S.yPercent,A.yPercent));else if("object"==typeof S){
if(p={scaleX:ce(null!=S.scaleX?S.scaleX:S.scale,A.scaleX),scaleY:ce(null!=S.scaleY?S.scaleY:S.scale,A.scaleY),scaleZ:ce(S.scaleZ,A.scaleZ),x:ce(S.x,A.x),y:ce(S.y,A.y),z:ce(S.z,A.z),xPercent:ce(S.xPercent,A.xPercent),yPercent:ce(S.yPercent,A.yPercent),perspective:ce(S.transformPerspective,A.perspective)},m=S.directionalRotation,null!=m)if("object"==typeof m)for(f in m)S[f]=m[f];else S.rotation=m;"string"==typeof S.x&&S.x.indexOf("%")!==-1&&(p.x=0,p.xPercent=ce(S.x,A.xPercent)),"string"==typeof S.y&&S.y.indexOf("%")!==-1&&(p.y=0,p.yPercent=ce(S.y,A.yPercent)),p.rotation=pe("rotation"in S?S.rotation:"shortRotation"in S?S.shortRotation+"_short":"rotationZ"in S?S.rotationZ:A.rotation,A.rotation,"rotation",E),Ce&&(p.rotationX=pe("rotationX"in S?S.rotationX:"shortRotationX"in S?S.shortRotationX+"_short":A.rotationX||0,A.rotationX,"rotationX",E),p.rotationY=pe("rotationY"in S?S.rotationY:"shortRotationY"in S?S.shortRotationY+"_short":A.rotationY||0,A.rotationY,"rotationY",E)),p.skewX=pe(S.skewX,A.skewX),p.skewY=pe(S.skewY,A.skewY)}for(Ce&&null!=S.force3D&&(A.force3D=S.force3D,d=!0),h=A.force3D||A.z||A.rotationX||A.rotationY||p.z||p.rotationX||p.rotationY||p.perspective,h||null==S.scale||(p.scaleZ=1);--N>-1;)_=ke[N],O=p[_]-A[_],(O>P||O<-P||null!=S[_]||null!=z[_])&&(d=!0,o=new be(A,_,A[_],O,o),_ in E&&(o.e=E[_]),o.xs0=0,o.plugin=i,r._overwriteProps.push(o.n));return O=S.transformOrigin,A.svg&&(O||S.svgOrigin)&&(g=A.xOffset,x=A.yOffset,Fe(e,ue(O),p,S.svgOrigin,S.smoothOrigin),o=_e(A,"xOrigin",(w?A:p).xOrigin,p.xOrigin,o,k),o=_e(A,"yOrigin",(w?A:p).yOrigin,p.yOrigin,o,k),g===A.xOffset&&x===A.yOffset||(o=_e(A,"xOffset",w?g:A.xOffset,A.xOffset,o,k),o=_e(A,"yOffset",w?x:A.yOffset,A.yOffset,o,k)),O="0px 0px"),(O||Ce&&h&&A.zOrigin)&&(Ae?(d=!0,_=Ie,O=(O||ee(e,_,a,!1,"50% 50%"))+"",o=new be(T,_,0,0,o,-1,k),o.b=T[_],o.plugin=i,Ce?(f=A.zOrigin,O=O.split(" "),A.zOrigin=(O.length>2&&(0===f||"0px"!==O[2])?parseFloat(O[2]):f)||0,o.xs0=o.e=O[0]+" "+(O[1]||"50%")+" 0px",o=new be(A,"zOrigin",0,0,o,-1,o.n),o.b=f,o.xs0=o.e=A.zOrigin):o.xs0=o.e=O):ue(O+"",A)),d&&(r._transformType=A.svg&&Ee||!h&&3!==this._transformType?2:3),l&&(u[n]=l),c&&(u.scale=c),o},prefix:!0}),Ne("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),Ne("borderRadius",{defaultValue:"0px",parser:function(e,t,n,r,i,s){t=this.format(t);var u,l,c,p,f,h,d,m,g,v,y,x,b,_,w,T,P=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],N=e.style;for(g=parseFloat(e.offsetWidth),v=parseFloat(e.offsetHeight),u=t.split(" "),l=0;l<P.length;l++)this.p.indexOf("border")&&(P[l]=J(P[l])),f=p=ee(e,P[l],a,!1,"0px"),f.indexOf(" ")!==-1&&(p=f.split(" "),f=p[0],p=p[1]),h=c=u[l],d=parseFloat(f),x=f.substr((d+"").length),b="="===h.charAt(1),b?(m=parseInt(h.charAt(0)+"1",10),h=h.substr(2),m*=parseFloat(h),y=h.substr((m+"").length-(m<0?1:0))||""):(m=parseFloat(h),y=h.substr((m+"").length)),""===y&&(y=o[n]||x),y!==x&&(_=te(e,"borderLeft",d,x),w=te(e,"borderTop",d,x),"%"===y?(f=_/g*100+"%",p=w/v*100+"%"):"em"===y?(T=te(e,"borderLeft",1,"em"),f=_/T+"em",p=w/T+"em"):(f=_+"px",p=w+"px"),b&&(h=parseFloat(f)+m+y,c=parseFloat(p)+m+y)),i=we(N,P[l],f+" "+p,h+" "+c,!1,"0px",i);return i},prefix:!0,formatter:ve("0px 0px 0px 0px",!1,!0)}),Ne("borderBottomLeftRadius,borderBottomRightRadius,borderTopLeftRadius,borderTopRightRadius",{defaultValue:"0px",parser:function(e,t,n,r,o,i){return we(e.style,n,this.format(ee(e,n,a,!1,"0px 0px")),this.format(t),!1,"0px",o)},prefix:!0,formatter:ve("0px 0px",!1,!0)}),Ne("backgroundPosition",{defaultValue:"0 0",parser:function(e,t,n,r,o,i){var s,u,l,c,p,f,h="background-position",d=a||Z(e,null),m=this.format((d?g?d.getPropertyValue(h+"-x")+" "+d.getPropertyValue(h+"-y"):d.getPropertyValue(h):e.currentStyle.backgroundPositionX+" "+e.currentStyle.backgroundPositionY)||"0 0"),v=this.format(t);if(m.indexOf("%")!==-1!=(v.indexOf("%")!==-1)&&v.split(",").length<2&&(f=ee(e,"backgroundImage").replace(O,""),f&&"none"!==f)){for(s=m.split(" "),u=v.split(" "),q.setAttribute("src",f),l=2;--l>-1;)m=s[l],c=m.indexOf("%")!==-1,c!==(u[l].indexOf("%")!==-1)&&(p=0===l?e.offsetWidth-q.width:e.offsetHeight-q.height,s[l]=c?parseFloat(m)/100*p+"px":parseFloat(m)/p*100+"%");m=s.join(" ")}return this.parseComplex(e.style,m,v,o,i)},formatter:ue}),Ne("backgroundSize",{defaultValue:"0 0",formatter:function(e){return e+="","co"===e.substr(0,2)?e:ue(e.indexOf(" ")===-1?e+" "+e:e)}}),Ne("perspective",{defaultValue:"0px",prefix:!0}),Ne("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),Ne("transformStyle",{prefix:!0}),Ne("backfaceVisibility",{prefix:!0}),Ne("userSelect",{prefix:!0}),Ne("margin",{parser:ye("marginTop,marginRight,marginBottom,marginLeft")}),Ne("padding",{parser:ye("paddingTop,paddingRight,paddingBottom,paddingLeft")}),Ne("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(e,t,n,r,o,i){var s,u,l;return g<9?(u=e.currentStyle,l=g<8?" ":",",s="rect("+u.clipTop+l+u.clipRight+l+u.clipBottom+l+u.clipLeft+")",t=this.format(t).split(",").join(l)):(s=this.format(ee(e,this.p,a,!1,this.dflt)),t=this.format(t)),this.parseComplex(e.style,s,t,o,i)}}),Ne("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),Ne("autoRound,strictUnits",{parser:function(e,t,n,r,o){return o}}),Ne("border",{defaultValue:"0px solid #000",parser:function(e,t,n,r,o,i){var s=ee(e,"borderTopWidth",a,!1,"0px"),u=this.format(t).split(" "),l=u[0].replace(T,"");return"px"!==l&&(s=parseFloat(s)/te(e,"borderTopWidth",1,l)+l),this.parseComplex(e.style,this.format(s+" "+ee(e,"borderTopStyle",a,!1,"solid")+" "+ee(e,"borderTopColor",a,!1,"#000")),u.join(" "),o,i)},color:!0,formatter:function(e){var t=e.split(" ");return t[0]+" "+(t[1]||"solid")+" "+(e.match(ge)||["#000"])[0]}}),Ne("borderWidth",{parser:ye("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),Ne("float,cssFloat,styleFloat",{parser:function(e,t,n,r,o,a){var i=e.style,s="cssFloat"in i?"cssFloat":"styleFloat";return new be(i,s,0,0,o,-1,n,!1,0,i[s],t)}});var $e=function(e){var t,n=this.t,r=n.filter||ee(this.data,"filter")||"",o=this.s+this.c*e|0;100===o&&(r.indexOf("atrix(")===-1&&r.indexOf("radient(")===-1&&r.indexOf("oader(")===-1?(n.removeAttribute("filter"),t=!ee(this.data,"filter")):(n.filter=r.replace(S,""),t=!0)),t||(this.xn1&&(n.filter=r=r||"alpha(opacity="+o+")"),r.indexOf("pacity")===-1?0===o&&this.xn1||(n.filter=r+" alpha(opacity="+o+")"):n.filter=r.replace(P,"opacity="+o))};Ne("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(e,t,n,r,o,i){var s=parseFloat(ee(e,"opacity",a,!1,"1")),u=e.style,l="autoAlpha"===n;return"string"==typeof t&&"="===t.charAt(1)&&(t=("-"===t.charAt(0)?-1:1)*parseFloat(t.substr(2))+s),l&&1===s&&"hidden"===ee(e,"visibility",a)&&0!==t&&(s=0),$?o=new be(u,"opacity",s,t-s,o):(o=new be(u,"opacity",100*s,100*(t-s),o),o.xn1=l?1:0,u.zoom=1,o.type=2,o.b="alpha(opacity="+o.s+")",o.e="alpha(opacity="+(o.s+o.c)+")",o.data=e,o.plugin=i,o.setRatio=$e),l&&(o=new be(u,"visibility",0,0,o,-1,null,!1,0,0!==s?"inherit":"hidden",0===t?"hidden":"inherit"),o.xs0="inherit",r._overwriteProps.push(o.n),r._overwriteProps.push(n)),o}});var Xe=function(e,t){t&&(e.removeProperty?("ms"!==t.substr(0,2)&&"webkit"!==t.substr(0,6)||(t="-"+t),e.removeProperty(t.replace(k,"-$1").toLowerCase())):e.removeAttribute(t))},Ye=function(e){if(this.t._gsClassPT=this,1===e||0===e){this.t.setAttribute("class",0===e?this.b:this.e);for(var t=this.data,n=this.t.style;t;)t.v?n[t.p]=t.v:Xe(n,t.p),t=t._next;1===e&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)};Ne("className",{parser:function(e,t,r,o,i,s,u){var l,c,p,f,h,d=e.getAttribute("class")||"",m=e.style.cssText;if(i=o._classNamePT=new be(e,r,0,0,i,2),i.setRatio=Ye,i.pr=-11,n=!0,i.b=d,c=re(e,a),p=e._gsClassPT){for(f={},h=p.data;h;)f[h.p]=1,h=h._next;p.setRatio(1)}return e._gsClassPT=i,i.e="="!==t.charAt(1)?t:d.replace(new RegExp("(?:\\s|^)"+t.substr(2)+"(?![\\w-])"),"")+("+"===t.charAt(0)?" "+t.substr(2):""),e.setAttribute("class",i.e),l=oe(e,c,re(e),u,f),e.setAttribute("class",d),i.data=l.firstMPT,e.style.cssText=m,i=i.xfirst=o.parse(e,l.difs,i,s)}});var Ke=function(e){if((1===e||0===e)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var t,n,r,o,a,i=this.t.style,s=l.transform.parse;if("all"===this.e)i.cssText="",o=!0;else for(t=this.e.split(" ").join("").split(","),r=t.length;--r>-1;)n=t[r],l[n]&&(l[n].parse===s?o=!0:n="transformOrigin"===n?Ie:l[n].p),Xe(i,n);o&&(Xe(i,Ae),a=this.t._gsTransform,a&&(a.svg&&(this.t.removeAttribute("data-svg-origin"),this.t.removeAttribute("transform")),delete this.t._gsTransform))}};for(Ne("clearProps",{parser:function(e,t,r,o,a){return a=new be(e,r,0,0,a,2),a.setRatio=Ke,a.e=t,a.pr=-10,a.data=o._tween,n=!0,a}}),c="bezier,throwProps,physicsProps,physics2D".split(","),Te=c.length;Te--;)Se(c[Te]);c=s.prototype,c._firstPT=c._lastParsedTransform=c._transform=null,c._onInitTween=function(e,t,r,u){if(!e.nodeType)return!1;this._target=v=e,this._tween=r,this._vars=t,y=u,p=t.autoRound,n=!1,o=t.suffixMap||s.suffixMap,a=Z(e,""),i=this._overwriteProps;var c,d,g,x,b,_,w,T,P,S=e.style;if(f&&""===S.zIndex&&(c=ee(e,"zIndex",a),"auto"!==c&&""!==c||this._addLazySet(S,"zIndex",0)),"string"==typeof t&&(x=S.cssText,c=re(e,a),S.cssText=x+";"+t,c=oe(e,c,re(e)).difs,!$&&N.test(t)&&(c.opacity=parseFloat(RegExp.$1)),t=c,S.cssText=x),t.className?this._firstPT=d=l.className.parse(e,t.className,"className",this,null,null,t):this._firstPT=d=this.parse(e,t,null),this._transformType){for(P=3===this._transformType,Ae?h&&(f=!0,""===S.zIndex&&(w=ee(e,"zIndex",a),"auto"!==w&&""!==w||this._addLazySet(S,"zIndex",0)),m&&this._addLazySet(S,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(P?"visible":"hidden"))):S.zoom=1,g=d;g&&g._next;)g=g._next;T=new be(e,"transform",0,0,null,2),this._linkCSSP(T,null,g),T.setRatio=Ae?He:We,T.data=this._transform||qe(e,a,!0),T.tween=r,T.pr=-1,i.pop()}if(n){for(;d;){for(_=d._next,g=x;g&&g.pr>d.pr;)g=g._next;(d._prev=g?g._prev:b)?d._prev._next=d:x=d,(d._next=g)?g._prev=d:b=d,d=_}this._firstPT=x}return!0},c.parse=function(e,t,n,r){var i,s,u,c,f,h,d,m,g,x,b=e.style;for(i in t){if(h=t[i],"function"==typeof h&&(h=h(y,v)),s=l[i])n=s.parse(e,h,i,this,n,r,t);else{if("--"===i.substr(0,2)){this._tween._propLookup[i]=this._addTween.call(this._tween,e.style,"setProperty",Z(e).getPropertyValue(i)+"",h+"",i,!1,i);continue}f=ee(e,i,a)+"",g="string"==typeof h,"color"===i||"fill"===i||"stroke"===i||i.indexOf("Color")!==-1||g&&E.test(h)?(g||(h=de(h),h=(h.length>3?"rgba(":"rgb(")+h.join(",")+")"),n=we(b,i,f,h,!0,"transparent",n,0,r)):g&&V.test(h)?n=we(b,i,f,h,!0,null,n,0,r):(u=parseFloat(f),d=u||0===u?f.substr((u+"").length):"",""!==f&&"auto"!==f||("width"===i||"height"===i?(u=se(e,i,a),d="px"):"left"===i||"top"===i?(u=ne(e,i,a),d="px"):(u="opacity"!==i?0:1,d="")),x=g&&"="===h.charAt(1),x?(c=parseInt(h.charAt(0)+"1",10),h=h.substr(2),c*=parseFloat(h),m=h.replace(T,"")):(c=parseFloat(h),m=g?h.replace(T,""):""),""===m&&(m=i in o?o[i]:d),h=c||0===c?(x?c+u:c)+m:t[i],d!==m&&(""===m&&"lineHeight"!==i||(c||0===c)&&u&&(u=te(e,i,u,d),"%"===m?(u/=te(e,i,100,"%")/100,t.strictUnits!==!0&&(f=u+"%")):"em"===m||"rem"===m||"vw"===m||"vh"===m?u/=te(e,i,1,m):"px"!==m&&(c=te(e,i,c,m),m="px"),x&&(c||0===c)&&(h=c+u+m))),x&&(c+=u),!u&&0!==u||!c&&0!==c?void 0!==b[i]&&(h||h+""!="NaN"&&null!=h)?(n=new be(b,i,c||u||0,0,n,-1,i,!1,0,f,h),n.xs0="none"!==h||"display"!==i&&i.indexOf("Style")===-1?h:f):Y("invalid "+i+" tween value: "+t[i]):(n=new be(b,i,u,c-u,n,0,i,p!==!1&&("px"===m||"zIndex"===i),0,f,h),n.xs0=m))}r&&n&&!n.plugin&&(n.plugin=r)}return n},c.setRatio=function(e){var t,n,r,o=this._firstPT,a=1e-6;if(1!==e||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(e||this._tween._time!==this._tween._duration&&0!==this._tween._time||this._tween._rawPrevTime===-1e-6)for(;o;){if(t=o.c*e+o.s,o.r?t=o.r(t):t<a&&t>-a&&(t=0),o.type)if(1===o.type)if(r=o.l,2===r)o.t[o.p]=o.xs0+t+o.xs1+o.xn1+o.xs2;else if(3===r)o.t[o.p]=o.xs0+t+o.xs1+o.xn1+o.xs2+o.xn2+o.xs3;else if(4===r)o.t[o.p]=o.xs0+t+o.xs1+o.xn1+o.xs2+o.xn2+o.xs3+o.xn3+o.xs4;else if(5===r)o.t[o.p]=o.xs0+t+o.xs1+o.xn1+o.xs2+o.xn2+o.xs3+o.xn3+o.xs4+o.xn4+o.xs5;else{for(n=o.xs0+t+o.xs1,r=1;r<o.l;r++)n+=o["xn"+r]+o["xs"+(r+1)];o.t[o.p]=n}else o.type===-1?o.t[o.p]=o.xs0:o.setRatio&&o.setRatio(e);else o.t[o.p]=t+o.xs0;o=o._next}else for(;o;)2!==o.type?o.t[o.p]=o.b:o.setRatio(e),o=o._next;else for(;o;){if(2!==o.type)if(o.r&&o.type!==-1)if(t=o.r(o.s+o.c),o.type){if(1===o.type){for(r=o.l,n=o.xs0+t+o.xs1,r=1;r<o.l;r++)n+=o["xn"+r]+o["xs"+(r+1)];o.t[o.p]=n}}else o.t[o.p]=t+o.xs0;else o.t[o.p]=o.e;else o.setRatio(e);o=o._next}},c._enableTransforms=function(e){this._transform=this._transform||qe(this._target,a,!0),this._transformType=this._transform.svg&&Ee||!e&&3!==this._transformType?2:3};var Qe=function(e){this.t[this.p]=this.e,this.data._linkCSSP(this,this._next,null,!0)};c._addLazySet=function(e,t,n){var r=this._firstPT=new be(e,t,0,0,this._firstPT,2);r.e=n,r.setRatio=Qe,r.data=this},c._linkCSSP=function(e,t,n,r){return e&&(t&&(t._prev=e),e._next&&(e._next._prev=e._prev),e._prev?e._prev._next=e._next:this._firstPT===e&&(this._firstPT=e._next,r=!0),n?n._next=e:r||null!==this._firstPT||(this._firstPT=e),e._next=t,e._prev=n),e},c._mod=function(e){for(var t=this._firstPT;t;)"function"==typeof e[t.p]&&(t.r=e[t.p]),t=t._next},c._kill=function(t){var n,r,o,a=t;if(t.autoAlpha||t.alpha){a={};for(r in t)a[r]=t[r];a.opacity=1,a.autoAlpha&&(a.visibility=1)}for(t.className&&(n=this._classNamePT)&&(o=n.xfirst,o&&o._prev?this._linkCSSP(o._prev,n._next,o._prev._prev):o===this._firstPT&&(this._firstPT=n._next),n._next&&this._linkCSSP(n._next,n._next._next,o._prev),this._classNamePT=null),n=this._firstPT;n;)n.plugin&&n.plugin!==r&&n.plugin._kill&&(n.plugin._kill(t),r=n.plugin),n=n._next;return e.prototype._kill.call(this,a)};var Je=function(e,t,n){var r,o,a,i;if(e.slice)for(o=e.length;--o>-1;)Je(e[o],t,n);else for(r=e.childNodes,o=r.length;--o>-1;)a=r[o],i=a.type,a.style&&(t.push(re(a)),n&&n.push(a)),1!==i&&9!==i&&11!==i||!a.childNodes.length||Je(a,t,n)};return s.cascadeTo=function(e,n,r){var o,a,i,s,u=t.to(e,n,r),l=[u],c=[],p=[],f=[],h=t._internals.reservedProps;for(e=u._targets||u.target,Je(e,c,f),u.render(n,!0,!0),Je(e,p),u.render(0,!0,!0),u._enabled(!0),o=f.length;--o>-1;)if(a=oe(f[o],c[o],p[o]),a.firstMPT){a=a.difs;for(i in r)h[i]&&(a[i]=r[i]);s={};for(i in a)s[i]=c[o][i];l.push(t.fromTo(f[o],n,s,a))}return l},e.activate([s]),s},!0)}),r._gsDefine&&r._gsQueue.pop()(),function(n){"use strict";var o=function(){return(r.GreenSockGlobals||r)[n]};"undefined"!=typeof t&&t.exports?(e("../TweenLite.js"),t.exports=o()):"function"==typeof define&&define.amd&&define(["TweenLite"],o)}("CSSPlugin")}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../TweenLite.js":184}],189:[function(e,t,n){n.read=function(e,t,n,r,o){var a,i,s=8*o-r-1,u=(1<<s)-1,l=u>>1,c=-7,p=n?o-1:0,f=n?-1:1,h=e[t+p];for(p+=f,a=h&(1<<-c)-1,h>>=-c,c+=s;c>0;a=256*a+e[t+p],p+=f,c-=8);for(i=a&(1<<-c)-1,a>>=-c,c+=r;c>0;i=256*i+e[t+p],p+=f,c-=8);if(0===a)a=1-l;else{if(a===u)return i?NaN:(h?-1:1)*(1/0);i+=Math.pow(2,r),a-=l}return(h?-1:1)*i*Math.pow(2,a-r)},n.write=function(e,t,n,r,o,a){var i,s,u,l=8*a-o-1,c=(1<<l)-1,p=c>>1,f=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:a-1,d=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,i=c):(i=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-i))<1&&(i--,u*=2),t+=i+p>=1?f/u:f*Math.pow(2,1-p),t*u>=2&&(i++,u/=2),i+p>=c?(s=0,i=c):i+p>=1?(s=(t*u-1)*Math.pow(2,o),i+=p):(s=t*Math.pow(2,p-1)*Math.pow(2,o),i=0));o>=8;e[n+h]=255&s,h+=d,s/=256,o-=8);for(i=i<<o|s,l+=o;l>0;e[n+h]=255&i,h+=d,i/=256,l-=8);e[n+h-d]|=128*m}},{}],190:[function(e,t,n){(function(e){(function(e,t,n,r,o){!function(t,n){"use strict";"object"==typeof e&&"object"==typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!=typeof window?window:this,function(e,t){"use strict";function n(e,t,n){t=t||se;var r,o=t.createElement("script");if(o.text=e,n)for(r in _e)n[r]&&(o[r]=n[r]);t.head.appendChild(o).parentNode.removeChild(o)}function o(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?he[de.call(e)]||"object":typeof e}function a(e){var t=!!e&&"length"in e&&e.length,n=o(e);return!xe(e)&&!be(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function i(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}function s(e,t,n){return xe(t)?Te.grep(e,function(e,r){return!!t.call(e,r,e)!==n}):t.nodeType?Te.grep(e,function(e){return e===t!==n}):"string"!=typeof t?Te.grep(e,function(e){return fe.call(t,e)>-1!==n}):Te.filter(t,e,n)}function u(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function l(e){var t={};return Te.each(e.match(De)||[],function(e,n){t[n]=!0}),t}function c(e){return e}function p(e){throw e}function f(e,t,n,r){var o;try{e&&xe(o=e.promise)?o.call(e).done(t).fail(n):e&&xe(o=e.then)?o.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}function h(){se.removeEventListener("DOMContentLoaded",h),e.removeEventListener("load",h),Te.ready()}function d(e,t){return t.toUpperCase()}function m(e){return e.replace(ze,"ms-").replace(Be,d)}function g(){this.expando=Te.expando+g.uid++}function v(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:qe.test(e)?JSON.parse(e):e)}function y(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(We,"-$&").toLowerCase(),n=e.getAttribute(r),"string"==typeof n){try{n=v(n)}catch(e){}Ge.set(e,t,n)}else n=void 0;return n}function x(e,t,n,r){var o,a,i=20,s=r?function(){return r.cur()}:function(){return Te.css(e,t,"")},u=s(),l=n&&n[3]||(Te.cssNumber[t]?"":"px"),c=(Te.cssNumber[t]||"px"!==l&&+u)&&$e.exec(Te.css(e,t));if(c&&c[3]!==l){for(u/=2,l=l||c[3],c=+u||1;i--;)Te.style(e,t,c+l),(1-a)*(1-(a=s()/u||.5))<=0&&(i=0),c/=a;c*=2,Te.style(e,t,c+l),n=n||[]}return n&&(c=+c||+u||0,o=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=o)),o}function b(e){var t,n=e.ownerDocument,r=e.nodeName,o=Qe[r];return o?o:(t=n.body.appendChild(n.createElement(r)),o=Te.css(t,"display"),t.parentNode.removeChild(t),"none"===o&&(o="block"),Qe[r]=o,o)}function _(e,t){for(var n,r,o=[],a=0,i=e.length;a<i;a++)r=e[a],r.style&&(n=r.style.display,t?("none"===n&&(o[a]=Ue.get(r,"display")||null,o[a]||(r.style.display="")),""===r.style.display&&Ye(r)&&(o[a]=b(r))):"none"!==n&&(o[a]="none",Ue.set(r,"display",n)));for(a=0;a<i;a++)null!=o[a]&&(e[a].style.display=o[a]);return e}function w(e,t){var n;return n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&i(e,t)?Te.merge([e],n):n}function T(e,t){for(var n=0,r=e.length;n<r;n++)Ue.set(e[n],"globalEval",!t||Ue.get(t[n],"globalEval"))}function P(e,t,n,r,a){for(var i,s,u,l,c,p,f=t.createDocumentFragment(),h=[],d=0,m=e.length;d<m;d++)if(i=e[d],i||0===i)if("object"===o(i))Te.merge(h,i.nodeType?[i]:i);else if(nt.test(i)){for(s=s||f.appendChild(t.createElement("div")),u=(Ze.exec(i)||["",""])[1].toLowerCase(),l=tt[u]||tt._default,s.innerHTML=l[1]+Te.htmlPrefilter(i)+l[2],p=l[0];p--;)s=s.lastChild;Te.merge(h,s.childNodes),s=f.firstChild,s.textContent=""}else h.push(t.createTextNode(i));for(f.textContent="",d=0;i=h[d++];)if(r&&Te.inArray(i,r)>-1)a&&a.push(i);else if(c=Te.contains(i.ownerDocument,i),s=w(f.appendChild(i),"script"),c&&T(s),n)for(p=0;i=s[p++];)et.test(i.type||"")&&n.push(i);return f}function N(){return!0}function S(){return!1}function E(){try{return se.activeElement}catch(e){}}function k(e,t,n,r,o,a){var i,s;if("object"==typeof t){"string"!=typeof n&&(r=r||n,n=void 0);for(s in t)k(e,s,n,r,t[s],a);return e}if(null==r&&null==o?(o=n,r=n=void 0):null==o&&("string"==typeof n?(o=r,r=void 0):(o=r,r=n,n=void 0)),o===!1)o=S;else if(!o)return e;return 1===a&&(i=o,o=function(e){return Te().off(e),i.apply(this,arguments)},o.guid=i.guid||(i.guid=Te.guid++)),e.each(function(){Te.event.add(this,t,o,r,n)})}function A(e,t){return i(e,"table")&&i(11!==t.nodeType?t:t.firstChild,"tr")?Te(e).children("tbody")[0]||e:e}function O(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function I(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function C(e,t){var n,r,o,a,i,s,u,l;if(1===t.nodeType){if(Ue.hasData(e)&&(a=Ue.access(e),i=Ue.set(t,a),l=a.events)){delete i.handle,i.events={};for(o in l)for(n=0,r=l[o].length;n<r;n++)Te.event.add(t,o,l[o][n])}Ge.hasData(e)&&(s=Ge.access(e),u=Te.extend({},s),Ge.set(t,u))}}function R(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Je.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function M(e,t,r,o){t=ce.apply([],t);var a,i,s,u,l,c,p=0,f=e.length,h=f-1,d=t[0],m=xe(d);if(m||f>1&&"string"==typeof d&&!ye.checkClone&&lt.test(d))return e.each(function(n){var a=e.eq(n);m&&(t[0]=d.call(this,n,a.html())),M(a,t,r,o)});if(f&&(a=P(t,e[0].ownerDocument,!1,e,o),i=a.firstChild,1===a.childNodes.length&&(a=i),i||o)){for(s=Te.map(w(a,"script"),O),u=s.length;p<f;p++)l=a,p!==h&&(l=Te.clone(l,!0,!0),u&&Te.merge(s,w(l,"script"))),r.call(e[p],l,p);if(u)for(c=s[s.length-1].ownerDocument,Te.map(s,I),p=0;p<u;p++)l=s[p],et.test(l.type||"")&&!Ue.access(l,"globalEval")&&Te.contains(c,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?Te._evalUrl&&Te._evalUrl(l.src):n(l.textContent.replace(ct,""),c,l))}return e}function D(e,t,n){for(var r,o=t?Te.filter(t,e):e,a=0;null!=(r=o[a]);a++)n||1!==r.nodeType||Te.cleanData(w(r)),r.parentNode&&(n&&Te.contains(r.ownerDocument,r)&&T(w(r,"script")),r.parentNode.removeChild(r));return e}function V(e,t,n){var r,o,a,i,s=e.style;return n=n||ft(e),n&&(i=n.getPropertyValue(t)||n[t],""!==i||Te.contains(e.ownerDocument,e)||(i=Te.style(e,t)),!ye.pixelBoxStyles()&&pt.test(i)&&ht.test(t)&&(r=s.width,o=s.minWidth,a=s.maxWidth,s.minWidth=s.maxWidth=s.width=i,i=n.width,s.width=r,s.minWidth=o,s.maxWidth=a)),void 0!==i?i+"":i}function L(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function F(e){if(e in xt)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=yt.length;n--;)if(e=yt[n]+t,e in xt)return e}function z(e){var t=Te.cssProps[e];return t||(t=Te.cssProps[e]=F(e)||e),t}function B(e,t,n){var r=$e.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function j(e,t,n,r,o,a){var i="width"===t?1:0,s=0,u=0;if(n===(r?"border":"content"))return 0;for(;i<4;i+=2)"margin"===n&&(u+=Te.css(e,n+Xe[i],!0,o)),r?("content"===n&&(u-=Te.css(e,"padding"+Xe[i],!0,o)),"margin"!==n&&(u-=Te.css(e,"border"+Xe[i]+"Width",!0,o))):(u+=Te.css(e,"padding"+Xe[i],!0,o),"padding"!==n?u+=Te.css(e,"border"+Xe[i]+"Width",!0,o):s+=Te.css(e,"border"+Xe[i]+"Width",!0,o));return!r&&a>=0&&(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-a-u-s-.5))),u}function U(e,t,n){var r=ft(e),o=V(e,t,r),a="border-box"===Te.css(e,"boxSizing",!1,r),i=a;if(pt.test(o)){if(!n)return o;o="auto"}return i=i&&(ye.boxSizingReliable()||o===e.style[t]),("auto"===o||!parseFloat(o)&&"inline"===Te.css(e,"display",!1,r))&&(o=e["offset"+t[0].toUpperCase()+t.slice(1)],i=!0),o=parseFloat(o)||0,o+j(e,t,n||(a?"border":"content"),i,r,o)+"px"}function G(e,t,n,r,o){return new G.prototype.init(e,t,n,r,o)}function q(){_t&&(se.hidden===!1&&e.requestAnimationFrame?e.requestAnimationFrame(q):e.setTimeout(q,Te.fx.interval),Te.fx.tick())}function W(){return e.setTimeout(function(){bt=void 0}),bt=Date.now()}function H(e,t){var n,r=0,o={height:e};for(t=t?1:0;r<4;r+=2-t)n=Xe[r],o["margin"+n]=o["padding"+n]=e;return t&&(o.opacity=o.width=e),o}function $(e,t,n){for(var r,o=(K.tweeners[t]||[]).concat(K.tweeners["*"]),a=0,i=o.length;a<i;a++)if(r=o[a].call(n,t,e))return r}function X(e,t,n){var r,o,a,i,s,u,l,c,p="width"in t||"height"in t,f=this,h={},d=e.style,m=e.nodeType&&Ye(e),g=Ue.get(e,"fxshow");n.queue||(i=Te._queueHooks(e,"fx"),null==i.unqueued&&(i.unqueued=0,s=i.empty.fire,i.empty.fire=function(){i.unqueued||s()}),i.unqueued++,f.always(function(){f.always(function(){i.unqueued--,Te.queue(e,"fx").length||i.empty.fire()})}));for(r in t)if(o=t[r],wt.test(o)){if(delete t[r],a=a||"toggle"===o,o===(m?"hide":"show")){if("show"!==o||!g||void 0===g[r])continue;m=!0}h[r]=g&&g[r]||Te.style(e,r)}if(u=!Te.isEmptyObject(t),u||!Te.isEmptyObject(h)){p&&1===e.nodeType&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],l=g&&g.display,null==l&&(l=Ue.get(e,"display")),c=Te.css(e,"display"),"none"===c&&(l?c=l:(_([e],!0),l=e.style.display||l,c=Te.css(e,"display"),_([e]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===Te.css(e,"float")&&(u||(f.done(function(){d.display=l}),null==l&&(c=d.display,l="none"===c?"":c)),d.display="inline-block")),n.overflow&&(d.overflow="hidden",f.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]})),u=!1;for(r in h)u||(g?"hidden"in g&&(m=g.hidden):g=Ue.access(e,"fxshow",{display:l}),a&&(g.hidden=!m),m&&_([e],!0),f.done(function(){m||_([e]),Ue.remove(e,"fxshow");for(r in h)Te.style(e,r,h[r])})),u=$(m?g[r]:0,r,f),r in g||(g[r]=u.start,m&&(u.end=u.start,u.start=0))}}function Y(e,t){var n,r,o,a,i;for(n in e)if(r=m(n),o=t[r],a=e[n],Array.isArray(a)&&(o=a[1],a=e[n]=a[0]),n!==r&&(e[r]=a,delete e[n]),i=Te.cssHooks[r],i&&"expand"in i){a=i.expand(a),delete e[r];for(n in a)n in e||(e[n]=a[n],t[n]=o)}else t[r]=o}function K(e,t,n){var r,o,a=0,i=K.prefilters.length,s=Te.Deferred().always(function(){delete u.elem}),u=function(){if(o)return!1;for(var t=bt||W(),n=Math.max(0,l.startTime+l.duration-t),r=n/l.duration||0,a=1-r,i=0,u=l.tweens.length;i<u;i++)l.tweens[i].run(a);return s.notifyWith(e,[l,a,n]),a<1&&u?n:(u||s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:Te.extend({},t),opts:Te.extend(!0,{specialEasing:{},easing:Te.easing._default},n),originalProperties:t,originalOptions:n,startTime:bt||W(),duration:n.duration,tweens:[],createTween:function(t,n){var r=Te.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(o)return this;for(o=!0;n<r;n++)l.tweens[n].run(1);return t?(s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l,t])):s.rejectWith(e,[l,t]),this}}),c=l.props;for(Y(c,l.opts.specialEasing);a<i;a++)if(r=K.prefilters[a].call(l,e,c,l.opts))return xe(r.stop)&&(Te._queueHooks(l.elem,l.opts.queue).stop=r.stop.bind(r)),r;return Te.map(c,$,l),xe(l.opts.start)&&l.opts.start.call(e,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),Te.fx.timer(Te.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l}function Q(e){var t=e.match(De)||[];return t.join(" ")}function J(e){return e.getAttribute&&e.getAttribute("class")||""}function Z(e){return Array.isArray(e)?e:"string"==typeof e?e.match(De)||[]:[]}function ee(e,t,n,r){var a;if(Array.isArray(t))Te.each(t,function(t,o){n||Mt.test(e)?r(e,o):ee(e+"["+("object"==typeof o&&null!=o?t:"")+"]",o,n,r)});else if(n||"object"!==o(t))r(e,t);else for(a in t)ee(e+"["+a+"]",t[a],n,r)}function te(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,o=0,a=t.toLowerCase().match(De)||[];if(xe(n))for(;r=a[o++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function ne(e,t,n,r){function o(s){var u;return a[s]=!0,Te.each(e[s]||[],function(e,s){var l=s(t,n,r);return"string"!=typeof l||i||a[l]?i?!(u=l):void 0:(t.dataTypes.unshift(l),o(l),!1)}),u}var a={},i=e===Ht;return o(t.dataTypes[0])||!a["*"]&&o("*")}function re(e,t){var n,r,o=Te.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((o[n]?e:r||(r={}))[n]=t[n]);return r&&Te.extend(!0,e,r),e}function oe(e,t,n){for(var r,o,a,i,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(o in s)if(s[o]&&s[o].test(r)){u.unshift(o);break}if(u[0]in n)a=u[0];else{for(o in n){if(!u[0]||e.converters[o+" "+u[0]]){a=o;break}i||(i=o)}a=a||i}if(a)return a!==u[0]&&u.unshift(a),n[a]}function ae(e,t,n,r){var o,a,i,s,u,l={},c=e.dataTypes.slice();if(c[1])for(i in e.converters)l[i.toLowerCase()]=e.converters[i];for(a=c.shift();a;)if(e.responseFields[a]&&(n[e.responseFields[a]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=a,a=c.shift())if("*"===a)a=u;else if("*"!==u&&u!==a){if(i=l[u+" "+a]||l["* "+a],!i)for(o in l)if(s=o.split(" "),s[1]===a&&(i=l[u+" "+s[0]]||l["* "+s[0]])){i===!0?i=l[o]:l[o]!==!0&&(a=s[0],c.unshift(s[1]));break}if(i!==!0)if(i&&e.throws)t=i(t);else try{t=i(t)}catch(e){return{state:"parsererror",error:i?e:"No conversion from "+u+" to "+a}}}return{state:"success",data:t}}var ie=[],se=e.document,ue=Object.getPrototypeOf,le=ie.slice,ce=ie.concat,pe=ie.push,fe=ie.indexOf,he={},de=he.toString,me=he.hasOwnProperty,ge=me.toString,ve=ge.call(Object),ye={},xe=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},be=function(e){return null!=e&&e===e.window},_e={type:!0,src:!0,noModule:!0},we="3.3.1",Te=function(e,t){return new Te.fn.init(e,t)},Pe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;Te.fn=Te.prototype={jquery:we,constructor:Te,length:0,toArray:function(){return le.call(this)},get:function(e){return null==e?le.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=Te.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return Te.each(this,e)},map:function(e){return this.pushStack(Te.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(le.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:pe,sort:ie.sort,splice:ie.splice},Te.extend=Te.fn.extend=function(){var e,t,n,r,o,a,i=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof i&&(l=i,i=arguments[s]||{},s++),"object"==typeof i||xe(i)||(i={}),s===u&&(i=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)n=i[t],r=e[t],i!==r&&(l&&r&&(Te.isPlainObject(r)||(o=Array.isArray(r)))?(o?(o=!1,a=n&&Array.isArray(n)?n:[]):a=n&&Te.isPlainObject(n)?n:{},i[t]=Te.extend(l,a,r)):void 0!==r&&(i[t]=r));return i},Te.extend({expando:"jQuery"+(we+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==de.call(e))&&(!(t=ue(e))||(n=me.call(t,"constructor")&&t.constructor,"function"==typeof n&&ge.call(n)===ve))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e){n(e)},each:function(e,t){var n,r=0;if(a(e))for(n=e.length;r<n&&t.call(e[r],r,e[r])!==!1;r++);else for(r in e)if(t.call(e[r],r,e[r])===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(Pe,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(a(Object(e))?Te.merge(n,"string"==typeof e?[e]:e):pe.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:fe.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,o=e.length;r<n;r++)e[o++]=t[r];return e.length=o,e},grep:function(e,t,n){for(var r,o=[],a=0,i=e.length,s=!n;a<i;a++)r=!t(e[a],a),r!==s&&o.push(e[a]);return o},map:function(e,t,n){var r,o,i=0,s=[];if(a(e))for(r=e.length;i<r;i++)o=t(e[i],i,n),null!=o&&s.push(o);else for(i in e)o=t(e[i],i,n),null!=o&&s.push(o);return ce.apply([],s)},guid:1,support:ye}),"function"==typeof Symbol&&(Te.fn[Symbol.iterator]=ie[Symbol.iterator]),Te.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){he["[object "+t+"]"]=t.toLowerCase()});var Ne=function(e){function t(e,t,n,r){var o,a,i,s,u,l,c,f=t&&t.ownerDocument,d=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==d&&9!==d&&11!==d)return n;if(!r&&((t?t.ownerDocument||t:j)!==R&&C(t),t=t||R,
D)){if(11!==d&&(u=ve.exec(e)))if(o=u[1]){if(9===d){if(!(i=t.getElementById(o)))return n;if(i.id===o)return n.push(i),n}else if(f&&(i=f.getElementById(o))&&z(t,i)&&i.id===o)return n.push(i),n}else{if(u[2])return J.apply(n,t.getElementsByTagName(e)),n;if((o=u[3])&&w.getElementsByClassName&&t.getElementsByClassName)return J.apply(n,t.getElementsByClassName(o)),n}if(w.qsa&&!H[e+" "]&&(!V||!V.test(e))){if(1!==d)f=t,c=e;else if("object"!==t.nodeName.toLowerCase()){for((s=t.getAttribute("id"))?s=s.replace(_e,we):t.setAttribute("id",s=B),l=S(e),a=l.length;a--;)l[a]="#"+s+" "+h(l[a]);c=l.join(","),f=ye.test(e)&&p(t.parentNode)||t}if(c)try{return J.apply(n,f.querySelectorAll(c)),n}catch(e){}finally{s===B&&t.removeAttribute("id")}}}return k(e.replace(se,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>T.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[B]=!0,e}function o(e){var t=R.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function a(e,t){for(var n=e.split("|"),r=n.length;r--;)T.attrHandle[n[r]]=t}function i(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function u(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function l(e){return function(t){return"form"in t?t.parentNode&&t.disabled===!1?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&Pe(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function c(e){return r(function(t){return t=+t,r(function(n,r){for(var o,a=e([],n.length,t),i=a.length;i--;)n[o=a[i]]&&(n[o]=!(r[o]=n[o]))})})}function p(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function f(){}function h(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function d(e,t,n){var r=t.dir,o=t.next,a=o||r,i=n&&"parentNode"===a,s=G++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o);return!1}:function(t,n,u){var l,c,p,f=[U,s];if(u){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,u))return!0}else for(;t=t[r];)if(1===t.nodeType||i)if(p=t[B]||(t[B]={}),c=p[t.uniqueID]||(p[t.uniqueID]={}),o&&o===t.nodeName.toLowerCase())t=t[r]||t;else{if((l=c[a])&&l[0]===U&&l[1]===s)return f[2]=l[2];if(c[a]=f,f[2]=e(t,n,u))return!0}return!1}}function m(e){return e.length>1?function(t,n,r){for(var o=e.length;o--;)if(!e[o](t,n,r))return!1;return!0}:e[0]}function g(e,n,r){for(var o=0,a=n.length;o<a;o++)t(e,n[o],r);return r}function v(e,t,n,r,o){for(var a,i=[],s=0,u=e.length,l=null!=t;s<u;s++)(a=e[s])&&(n&&!n(a,r,o)||(i.push(a),l&&t.push(s)));return i}function y(e,t,n,o,a,i){return o&&!o[B]&&(o=y(o)),a&&!a[B]&&(a=y(a,i)),r(function(r,i,s,u){var l,c,p,f=[],h=[],d=i.length,m=r||g(t||"*",s.nodeType?[s]:s,[]),y=!e||!r&&t?m:v(m,f,e,s,u),x=n?a||(r?e:d||o)?[]:i:y;if(n&&n(y,x,s,u),o)for(l=v(x,h),o(l,[],s,u),c=l.length;c--;)(p=l[c])&&(x[h[c]]=!(y[h[c]]=p));if(r){if(a||e){if(a){for(l=[],c=x.length;c--;)(p=x[c])&&l.push(y[c]=p);a(null,x=[],l,u)}for(c=x.length;c--;)(p=x[c])&&(l=a?ee(r,p):f[c])>-1&&(r[l]=!(i[l]=p))}}else x=v(x===i?x.splice(d,x.length):x),a?a(null,i,x,u):J.apply(i,x)})}function x(e){for(var t,n,r,o=e.length,a=T.relative[e[0].type],i=a||T.relative[" "],s=a?1:0,u=d(function(e){return e===t},i,!0),l=d(function(e){return ee(t,e)>-1},i,!0),c=[function(e,n,r){var o=!a&&(r||n!==A)||((t=n).nodeType?u(e,n,r):l(e,n,r));return t=null,o}];s<o;s++)if(n=T.relative[e[s].type])c=[d(m(c),n)];else{if(n=T.filter[e[s].type].apply(null,e[s].matches),n[B]){for(r=++s;r<o&&!T.relative[e[r].type];r++);return y(s>1&&m(c),s>1&&h(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(se,"$1"),n,s<r&&x(e.slice(s,r)),r<o&&x(e=e.slice(r)),r<o&&h(e))}c.push(n)}return m(c)}function b(e,n){var o=n.length>0,a=e.length>0,i=function(r,i,s,u,l){var c,p,f,h=0,d="0",m=r&&[],g=[],y=A,x=r||a&&T.find.TAG("*",l),b=U+=null==y?1:Math.random()||.1,_=x.length;for(l&&(A=i===R||i||l);d!==_&&null!=(c=x[d]);d++){if(a&&c){for(p=0,i||c.ownerDocument===R||(C(c),s=!D);f=e[p++];)if(f(c,i||R,s)){u.push(c);break}l&&(U=b)}o&&((c=!f&&c)&&h--,r&&m.push(c))}if(h+=d,o&&d!==h){for(p=0;f=n[p++];)f(m,g,i,s);if(r){if(h>0)for(;d--;)m[d]||g[d]||(g[d]=K.call(u));g=v(g)}J.apply(u,g),l&&!r&&g.length>0&&h+n.length>1&&t.uniqueSort(u)}return l&&(U=b,A=y),m};return o?r(i):i}var _,w,T,P,N,S,E,k,A,O,I,C,R,M,D,V,L,F,z,B="sizzle"+1*new Date,j=e.document,U=0,G=0,q=n(),W=n(),H=n(),$=function(e,t){return e===t&&(I=!0),0},X={}.hasOwnProperty,Y=[],K=Y.pop,Q=Y.push,J=Y.push,Z=Y.slice,ee=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",re="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",oe="\\["+ne+"*("+re+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+re+"))|)"+ne+"*\\]",ae=":("+re+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+oe+")*)|.*)\\)|)",ie=new RegExp(ne+"+","g"),se=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),ue=new RegExp("^"+ne+"*,"+ne+"*"),le=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),ce=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),pe=new RegExp(ae),fe=new RegExp("^"+re+"$"),he={ID:new RegExp("^#("+re+")"),CLASS:new RegExp("^\\.("+re+")"),TAG:new RegExp("^("+re+"|[*])"),ATTR:new RegExp("^"+oe),PSEUDO:new RegExp("^"+ae),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},de=/^(?:input|select|textarea|button)$/i,me=/^h\d$/i,ge=/^[^{]+\{\s*\[native \w/,ve=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ye=/[+~]/,xe=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),be=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},_e=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,we=function(e,t){return t?"\0"===e?"":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},Te=function(){C()},Pe=d(function(e){return e.disabled===!0&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{J.apply(Y=Z.call(j.childNodes),j.childNodes),Y[j.childNodes.length].nodeType}catch(e){J={apply:Y.length?function(e,t){Q.apply(e,Z.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}w=t.support={},N=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},C=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:j;return r!==R&&9===r.nodeType&&r.documentElement?(R=r,M=R.documentElement,D=!N(R),j!==R&&(n=R.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",Te,!1):n.attachEvent&&n.attachEvent("onunload",Te)),w.attributes=o(function(e){return e.className="i",!e.getAttribute("className")}),w.getElementsByTagName=o(function(e){return e.appendChild(R.createComment("")),!e.getElementsByTagName("*").length}),w.getElementsByClassName=ge.test(R.getElementsByClassName),w.getById=o(function(e){return M.appendChild(e).id=B,!R.getElementsByName||!R.getElementsByName(B).length}),w.getById?(T.filter.ID=function(e){var t=e.replace(xe,be);return function(e){return e.getAttribute("id")===t}},T.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&D){var n=t.getElementById(e);return n?[n]:[]}}):(T.filter.ID=function(e){var t=e.replace(xe,be);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},T.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&D){var n,r,o,a=t.getElementById(e);if(a){if(n=a.getAttributeNode("id"),n&&n.value===e)return[a];for(o=t.getElementsByName(e),r=0;a=o[r++];)if(n=a.getAttributeNode("id"),n&&n.value===e)return[a]}return[]}}),T.find.TAG=w.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):w.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],o=0,a=t.getElementsByTagName(e);if("*"===e){for(;n=a[o++];)1===n.nodeType&&r.push(n);return r}return a},T.find.CLASS=w.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&D)return t.getElementsByClassName(e)},L=[],V=[],(w.qsa=ge.test(R.querySelectorAll))&&(o(function(e){M.appendChild(e).innerHTML="<a id='"+B+"'></a><select id='"+B+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&V.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||V.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+B+"-]").length||V.push("~="),e.querySelectorAll(":checked").length||V.push(":checked"),e.querySelectorAll("a#"+B+"+*").length||V.push(".#.+[+~]")}),o(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=R.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&V.push("name"+ne+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&V.push(":enabled",":disabled"),M.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&V.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),V.push(",.*:")})),(w.matchesSelector=ge.test(F=M.matches||M.webkitMatchesSelector||M.mozMatchesSelector||M.oMatchesSelector||M.msMatchesSelector))&&o(function(e){w.disconnectedMatch=F.call(e,"*"),F.call(e,"[s!='']:x"),L.push("!=",ae)}),V=V.length&&new RegExp(V.join("|")),L=L.length&&new RegExp(L.join("|")),t=ge.test(M.compareDocumentPosition),z=t||ge.test(M.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},$=t?function(e,t){if(e===t)return I=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!w.sortDetached&&t.compareDocumentPosition(e)===n?e===R||e.ownerDocument===j&&z(j,e)?-1:t===R||t.ownerDocument===j&&z(j,t)?1:O?ee(O,e)-ee(O,t):0:4&n?-1:1)}:function(e,t){if(e===t)return I=!0,0;var n,r=0,o=e.parentNode,a=t.parentNode,s=[e],u=[t];if(!o||!a)return e===R?-1:t===R?1:o?-1:a?1:O?ee(O,e)-ee(O,t):0;if(o===a)return i(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)u.unshift(n);for(;s[r]===u[r];)r++;return r?i(s[r],u[r]):s[r]===j?-1:u[r]===j?1:0},R):R},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==R&&C(e),n=n.replace(ce,"='$1']"),w.matchesSelector&&D&&!H[n+" "]&&(!L||!L.test(n))&&(!V||!V.test(n)))try{var r=F.call(e,n);if(r||w.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return t(n,R,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==R&&C(e),z(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==R&&C(e);var n=T.attrHandle[t.toLowerCase()],r=n&&X.call(T.attrHandle,t.toLowerCase())?n(e,t,!D):void 0;return void 0!==r?r:w.attributes||!D?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.escape=function(e){return(e+"").replace(_e,we)},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,o=0;if(I=!w.detectDuplicates,O=!w.sortStable&&e.slice(0),e.sort($),I){for(;t=e[o++];)t===e[o]&&(r=n.push(o));for(;r--;)e.splice(n[r],1)}return O=null,e},P=t.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=P(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)n+=P(t);return n},T=t.selectors={cacheLength:50,createPseudo:r,match:he,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(xe,be),e[3]=(e[3]||e[4]||e[5]||"").replace(xe,be),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return he.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&pe.test(n)&&(t=S(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(xe,be).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=q[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&q(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(o){var a=t.attr(o,e);return null==a?"!="===n:!n||(a+="","="===n?a===r:"!="===n?a!==r:"^="===n?r&&0===a.indexOf(r):"*="===n?r&&a.indexOf(r)>-1:"$="===n?r&&a.slice(-r.length)===r:"~="===n?(" "+a.replace(ie," ")+" ").indexOf(r)>-1:"|="===n&&(a===r||a.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,n,r,o){var a="nth"!==e.slice(0,3),i="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===o?function(e){return!!e.parentNode}:function(t,n,u){var l,c,p,f,h,d,m=a!==i?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!u&&!s,x=!1;if(g){if(a){for(;m;){for(f=t;f=f[m];)if(s?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;d=m="only"===e&&!d&&"nextSibling"}return!0}if(d=[i?g.firstChild:g.lastChild],i&&y){for(f=g,p=f[B]||(f[B]={}),c=p[f.uniqueID]||(p[f.uniqueID]={}),l=c[e]||[],h=l[0]===U&&l[1],x=h&&l[2],f=h&&g.childNodes[h];f=++h&&f&&f[m]||(x=h=0)||d.pop();)if(1===f.nodeType&&++x&&f===t){c[e]=[U,h,x];break}}else if(y&&(f=t,p=f[B]||(f[B]={}),c=p[f.uniqueID]||(p[f.uniqueID]={}),l=c[e]||[],h=l[0]===U&&l[1],x=h),x===!1)for(;(f=++h&&f&&f[m]||(x=h=0)||d.pop())&&((s?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++x||(y&&(p=f[B]||(f[B]={}),c=p[f.uniqueID]||(p[f.uniqueID]={}),c[e]=[U,x]),f!==t)););return x-=o,x===r||x%r===0&&x/r>=0}}},PSEUDO:function(e,n){var o,a=T.pseudos[e]||T.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return a[B]?a(n):a.length>1?(o=[e,e,"",n],T.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,o=a(e,n),i=o.length;i--;)r=ee(e,o[i]),e[r]=!(t[r]=o[i])}):function(e){return a(e,0,o)}):a}},pseudos:{not:r(function(e){var t=[],n=[],o=E(e.replace(se,"$1"));return o[B]?r(function(e,t,n,r){for(var a,i=o(e,null,r,[]),s=e.length;s--;)(a=i[s])&&(e[s]=!(t[s]=a))}):function(e,r,a){return t[0]=e,o(t,null,a,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return e=e.replace(xe,be),function(t){return(t.textContent||t.innerText||P(t)).indexOf(e)>-1}}),lang:r(function(e){return fe.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(xe,be).toLowerCase(),function(t){var n;do if(n=D?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===M},focus:function(e){return e===R.activeElement&&(!R.hasFocus||R.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:l(!1),disabled:l(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!T.pseudos.empty(e)},header:function(e){return me.test(e.nodeName)},input:function(e){return de.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,n){return[n<0?n+t:n]}),even:c(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:c(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:c(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:c(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}},T.pseudos.nth=T.pseudos.eq;for(_ in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})T.pseudos[_]=s(_);for(_ in{submit:!0,reset:!0})T.pseudos[_]=u(_);return f.prototype=T.filters=T.pseudos,T.setFilters=new f,S=t.tokenize=function(e,n){var r,o,a,i,s,u,l,c=W[e+" "];if(c)return n?0:c.slice(0);for(s=e,u=[],l=T.preFilter;s;){r&&!(o=ue.exec(s))||(o&&(s=s.slice(o[0].length)||s),u.push(a=[])),r=!1,(o=le.exec(s))&&(r=o.shift(),a.push({value:r,type:o[0].replace(se," ")}),s=s.slice(r.length));for(i in T.filter)!(o=he[i].exec(s))||l[i]&&!(o=l[i](o))||(r=o.shift(),a.push({value:r,type:i,matches:o}),s=s.slice(r.length));if(!r)break}return n?s.length:s?t.error(e):W(e,u).slice(0)},E=t.compile=function(e,t){var n,r=[],o=[],a=H[e+" "];if(!a){for(t||(t=S(e)),n=t.length;n--;)a=x(t[n]),a[B]?r.push(a):o.push(a);a=H(e,b(o,r)),a.selector=e}return a},k=t.select=function(e,t,n,r){var o,a,i,s,u,l="function"==typeof e&&e,c=!r&&S(e=l.selector||e);if(n=n||[],1===c.length){if(a=c[0]=c[0].slice(0),a.length>2&&"ID"===(i=a[0]).type&&9===t.nodeType&&D&&T.relative[a[1].type]){if(t=(T.find.ID(i.matches[0].replace(xe,be),t)||[])[0],!t)return n;l&&(t=t.parentNode),e=e.slice(a.shift().value.length)}for(o=he.needsContext.test(e)?0:a.length;o--&&(i=a[o],!T.relative[s=i.type]);)if((u=T.find[s])&&(r=u(i.matches[0].replace(xe,be),ye.test(a[0].type)&&p(t.parentNode)||t))){if(a.splice(o,1),e=r.length&&h(a),!e)return J.apply(n,r),n;break}}return(l||E(e,c))(r,t,!D,n,!t||ye.test(e)&&p(t.parentNode)||t),n},w.sortStable=B.split("").sort($).join("")===B,w.detectDuplicates=!!I,C(),w.sortDetached=o(function(e){return 1&e.compareDocumentPosition(R.createElement("fieldset"))}),o(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||a("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),w.attributes&&o(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||a("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),o(function(e){return null==e.getAttribute("disabled")})||a(te,function(e,t,n){var r;if(!n)return e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);Te.find=Ne,Te.expr=Ne.selectors,Te.expr[":"]=Te.expr.pseudos,Te.uniqueSort=Te.unique=Ne.uniqueSort,Te.text=Ne.getText,Te.isXMLDoc=Ne.isXML,Te.contains=Ne.contains,Te.escapeSelector=Ne.escape;var Se=function(e,t,n){for(var r=[],o=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&Te(e).is(n))break;r.push(e)}return r},Ee=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},ke=Te.expr.match.needsContext,Ae=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;Te.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?Te.find.matchesSelector(r,e)?[r]:[]:Te.find.matches(e,Te.grep(t,function(e){return 1===e.nodeType}))},Te.fn.extend({find:function(e){var t,n,r=this.length,o=this;if("string"!=typeof e)return this.pushStack(Te(e).filter(function(){for(t=0;t<r;t++)if(Te.contains(o[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)Te.find(e,o[t],n);return r>1?Te.uniqueSort(n):n},filter:function(e){return this.pushStack(s(this,e||[],!1))},not:function(e){return this.pushStack(s(this,e||[],!0))},is:function(e){return!!s(this,"string"==typeof e&&ke.test(e)?Te(e):e||[],!1).length}});var Oe,Ie=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Ce=Te.fn.init=function(e,t,n){var r,o;if(!e)return this;if(n=n||Oe,"string"==typeof e){if(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:Ie.exec(e),!r||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof Te?t[0]:t,Te.merge(this,Te.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:se,!0)),Ae.test(r[1])&&Te.isPlainObject(t))for(r in t)xe(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return o=se.getElementById(r[2]),o&&(this[0]=o,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):xe(e)?void 0!==n.ready?n.ready(e):e(Te):Te.makeArray(e,this)};Ce.prototype=Te.fn,Oe=Te(se);var Re=/^(?:parents|prev(?:Until|All))/,Me={children:!0,contents:!0,next:!0,prev:!0};Te.fn.extend({has:function(e){var t=Te(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(Te.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,o=this.length,a=[],i="string"!=typeof e&&Te(e);if(!ke.test(e))for(;r<o;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(i?i.index(n)>-1:1===n.nodeType&&Te.find.matchesSelector(n,e))){a.push(n);break}return this.pushStack(a.length>1?Te.uniqueSort(a):a)},index:function(e){return e?"string"==typeof e?fe.call(Te(e),this[0]):fe.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(Te.uniqueSort(Te.merge(this.get(),Te(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),Te.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Se(e,"parentNode")},parentsUntil:function(e,t,n){return Se(e,"parentNode",n)},next:function(e){return u(e,"nextSibling")},prev:function(e){return u(e,"previousSibling")},nextAll:function(e){return Se(e,"nextSibling")},prevAll:function(e){return Se(e,"previousSibling")},nextUntil:function(e,t,n){return Se(e,"nextSibling",n)},prevUntil:function(e,t,n){return Se(e,"previousSibling",n)},siblings:function(e){return Ee((e.parentNode||{}).firstChild,e)},children:function(e){return Ee(e.firstChild)},contents:function(e){return i(e,"iframe")?e.contentDocument:(i(e,"template")&&(e=e.content||e),Te.merge([],e.childNodes))}},function(e,t){Te.fn[e]=function(n,r){var o=Te.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(o=Te.filter(r,o)),this.length>1&&(Me[e]||Te.uniqueSort(o),Re.test(e)&&o.reverse()),this.pushStack(o)}});var De=/[^\x20\t\r\n\f]+/g;Te.Callbacks=function(e){e="string"==typeof e?l(e):Te.extend({},e);var t,n,r,a,i=[],s=[],u=-1,c=function(){for(a=a||e.once,r=t=!0;s.length;u=-1)for(n=s.shift();++u<i.length;)i[u].apply(n[0],n[1])===!1&&e.stopOnFalse&&(u=i.length,n=!1);e.memory||(n=!1),t=!1,a&&(i=n?[]:"")},p={add:function(){return i&&(n&&!t&&(u=i.length-1,s.push(n)),function t(n){Te.each(n,function(n,r){xe(r)?e.unique&&p.has(r)||i.push(r):r&&r.length&&"string"!==o(r)&&t(r)})}(arguments),n&&!t&&c()),this},remove:function(){return Te.each(arguments,function(e,t){for(var n;(n=Te.inArray(t,i,n))>-1;)i.splice(n,1),n<=u&&u--}),this},has:function(e){return e?Te.inArray(e,i)>-1:i.length>0},empty:function(){return i&&(i=[]),this},disable:function(){return a=s=[],i=n="",this},disabled:function(){return!i},lock:function(){return a=s=[],n||t||(i=n=""),this},locked:function(){return!!a},fireWith:function(e,n){return a||(n=n||[],n=[e,n.slice?n.slice():n],s.push(n),t||c()),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!r}};return p},Te.extend({Deferred:function(t){var n=[["notify","progress",Te.Callbacks("memory"),Te.Callbacks("memory"),2],["resolve","done",Te.Callbacks("once memory"),Te.Callbacks("once memory"),0,"resolved"],["reject","fail",Te.Callbacks("once memory"),Te.Callbacks("once memory"),1,"rejected"]],r="pending",o={state:function(){return r},always:function(){return a.done(arguments).fail(arguments),this},catch:function(e){return o.then(null,e)},pipe:function(){var e=arguments;return Te.Deferred(function(t){Te.each(n,function(n,r){var o=xe(e[r[4]])&&e[r[4]];a[r[1]](function(){var e=o&&o.apply(this,arguments);e&&xe(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[r[0]+"With"](this,o?[e]:arguments)})}),e=null}).promise()},then:function(t,r,o){function a(t,n,r,o){return function(){var s=this,u=arguments,l=function(){var e,l;if(!(t<i)){if(e=r.apply(s,u),e===n.promise())throw new TypeError("Thenable self-resolution");l=e&&("object"==typeof e||"function"==typeof e)&&e.then,xe(l)?o?l.call(e,a(i,n,c,o),a(i,n,p,o)):(i++,l.call(e,a(i,n,c,o),a(i,n,p,o),a(i,n,c,n.notifyWith))):(r!==c&&(s=void 0,u=[e]),(o||n.resolveWith)(s,u))}},f=o?l:function(){try{l()}catch(e){Te.Deferred.exceptionHook&&Te.Deferred.exceptionHook(e,f.stackTrace),t+1>=i&&(r!==p&&(s=void 0,u=[e]),n.rejectWith(s,u))}};t?f():(Te.Deferred.getStackHook&&(f.stackTrace=Te.Deferred.getStackHook()),e.setTimeout(f))}}var i=0;return Te.Deferred(function(e){n[0][3].add(a(0,e,xe(o)?o:c,e.notifyWith)),n[1][3].add(a(0,e,xe(t)?t:c)),n[2][3].add(a(0,e,xe(r)?r:p))}).promise()},promise:function(e){return null!=e?Te.extend(e,o):o}},a={};return Te.each(n,function(e,t){var i=t[2],s=t[5];o[t[1]]=i.add,s&&i.add(function(){r=s},n[3-e][2].disable,n[3-e][3].disable,n[0][2].lock,n[0][3].lock),i.add(t[3].fire),a[t[0]]=function(){return a[t[0]+"With"](this===a?void 0:this,arguments),this},a[t[0]+"With"]=i.fireWith}),o.promise(a),t&&t.call(a,a),a},when:function(e){var t=arguments.length,n=t,r=Array(n),o=le.call(arguments),a=Te.Deferred(),i=function(e){return function(n){r[e]=this,o[e]=arguments.length>1?le.call(arguments):n,--t||a.resolveWith(r,o)}};if(t<=1&&(f(e,a.done(i(n)).resolve,a.reject,!t),"pending"===a.state()||xe(o[n]&&o[n].then)))return a.then();for(;n--;)f(o[n],i(n),a.reject);return a.promise()}});var Ve=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;Te.Deferred.exceptionHook=function(t,n){e.console&&e.console.warn&&t&&Ve.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)},Te.readyException=function(t){e.setTimeout(function(){throw t})};var Le=Te.Deferred();Te.fn.ready=function(e){return Le.then(e).catch(function(e){Te.readyException(e)}),this},Te.extend({isReady:!1,readyWait:1,ready:function(e){(e===!0?--Te.readyWait:Te.isReady)||(Te.isReady=!0,e!==!0&&--Te.readyWait>0||Le.resolveWith(se,[Te]))}}),Te.ready.then=Le.then,"complete"===se.readyState||"loading"!==se.readyState&&!se.documentElement.doScroll?e.setTimeout(Te.ready):(se.addEventListener("DOMContentLoaded",h),e.addEventListener("load",h));var Fe=function(e,t,n,r,a,i,s){var u=0,l=e.length,c=null==n;if("object"===o(n)){a=!0;for(u in n)Fe(e,t,u,n[u],!0,i,s)}else if(void 0!==r&&(a=!0,xe(r)||(s=!0),c&&(s?(t.call(e,r),t=null):(c=t,t=function(e,t,n){return c.call(Te(e),n)})),t))for(;u<l;u++)t(e[u],n,s?r:r.call(e[u],u,t(e[u],n)));return a?e:c?t.call(e):l?t(e[0],n):i},ze=/^-ms-/,Be=/-([a-z])/g,je=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};g.uid=1,g.prototype={cache:function(e){var t=e[this.expando];return t||(t={},je(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,o=this.cache(e);if("string"==typeof t)o[m(t)]=n;else for(r in t)o[m(r)]=t[r];return o},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][m(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){Array.isArray(t)?t=t.map(m):(t=m(t),t=t in r?[t]:t.match(De)||[]),n=t.length;for(;n--;)delete r[t[n]]}(void 0===t||Te.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!Te.isEmptyObject(t)}};var Ue=new g,Ge=new g,qe=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,We=/[A-Z]/g;Te.extend({hasData:function(e){return Ge.hasData(e)||Ue.hasData(e)},data:function(e,t,n){return Ge.access(e,t,n)},removeData:function(e,t){Ge.remove(e,t)},_data:function(e,t,n){return Ue.access(e,t,n)},_removeData:function(e,t){Ue.remove(e,t)}}),Te.fn.extend({data:function(e,t){var n,r,o,a=this[0],i=a&&a.attributes;if(void 0===e){if(this.length&&(o=Ge.get(a),1===a.nodeType&&!Ue.get(a,"hasDataAttrs"))){for(n=i.length;n--;)i[n]&&(r=i[n].name,0===r.indexOf("data-")&&(r=m(r.slice(5)),y(a,r,o[r])));Ue.set(a,"hasDataAttrs",!0)}return o}return"object"==typeof e?this.each(function(){Ge.set(this,e)}):Fe(this,function(t){var n;if(a&&void 0===t){if(n=Ge.get(a,e),void 0!==n)return n;if(n=y(a,e),void 0!==n)return n}else this.each(function(){Ge.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Ge.remove(this,e)})}}),Te.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=Ue.get(e,t),n&&(!r||Array.isArray(n)?r=Ue.access(e,t,Te.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=Te.queue(e,t),r=n.length,o=n.shift(),a=Te._queueHooks(e,t),i=function(){Te.dequeue(e,t)};"inprogress"===o&&(o=n.shift(),r--),o&&("fx"===t&&n.unshift("inprogress"),delete a.stop,o.call(e,i,a)),!r&&a&&a.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Ue.get(e,n)||Ue.access(e,n,{empty:Te.Callbacks("once memory").add(function(){Ue.remove(e,[t+"queue",n])})})}}),Te.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?Te.queue(this[0],e):void 0===t?this:this.each(function(){var n=Te.queue(this,e,t);Te._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&Te.dequeue(this,e)})},dequeue:function(e){return this.each(function(){Te.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,o=Te.Deferred(),a=this,i=this.length,s=function(){--r||o.resolveWith(a,[a])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";i--;)n=Ue.get(a[i],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(s));return s(),o.promise(t)}});var He=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,$e=new RegExp("^(?:([+-])=|)("+He+")([a-z%]*)$","i"),Xe=["Top","Right","Bottom","Left"],Ye=function(e,t){return e=t||e,"none"===e.style.display||""===e.style.display&&Te.contains(e.ownerDocument,e)&&"none"===Te.css(e,"display")},Ke=function(e,t,n,r){var o,a,i={};for(a in t)i[a]=e.style[a],e.style[a]=t[a];o=n.apply(e,r||[]);for(a in t)e.style[a]=i[a];return o},Qe={};Te.fn.extend({show:function(){return _(this,!0)},hide:function(){return _(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Ye(this)?Te(this).show():Te(this).hide()})}});var Je=/^(?:checkbox|radio)$/i,Ze=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,et=/^$|^module$|\/(?:java|ecma)script/i,tt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};tt.optgroup=tt.option,tt.tbody=tt.tfoot=tt.colgroup=tt.caption=tt.thead,tt.th=tt.td;var nt=/<|&#?\w+;/;!function(){var e=se.createDocumentFragment(),t=e.appendChild(se.createElement("div")),n=se.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),ye.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",
ye.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var rt=se.documentElement,ot=/^key/,at=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,it=/^([^.]*)(?:\.(.+)|)/;Te.event={global:{},add:function(e,t,n,r,o){var a,i,s,u,l,c,p,f,h,d,m,g=Ue.get(e);if(g)for(n.handler&&(a=n,n=a.handler,o=a.selector),o&&Te.find.matchesSelector(rt,o),n.guid||(n.guid=Te.guid++),(u=g.events)||(u=g.events={}),(i=g.handle)||(i=g.handle=function(t){return"undefined"!=typeof Te&&Te.event.triggered!==t.type?Te.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(De)||[""],l=t.length;l--;)s=it.exec(t[l])||[],h=m=s[1],d=(s[2]||"").split(".").sort(),h&&(p=Te.event.special[h]||{},h=(o?p.delegateType:p.bindType)||h,p=Te.event.special[h]||{},c=Te.extend({type:h,origType:m,data:r,handler:n,guid:n.guid,selector:o,needsContext:o&&Te.expr.match.needsContext.test(o),namespace:d.join(".")},a),(f=u[h])||(f=u[h]=[],f.delegateCount=0,p.setup&&p.setup.call(e,r,d,i)!==!1||e.addEventListener&&e.addEventListener(h,i)),p.add&&(p.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),o?f.splice(f.delegateCount++,0,c):f.push(c),Te.event.global[h]=!0)},remove:function(e,t,n,r,o){var a,i,s,u,l,c,p,f,h,d,m,g=Ue.hasData(e)&&Ue.get(e);if(g&&(u=g.events)){for(t=(t||"").match(De)||[""],l=t.length;l--;)if(s=it.exec(t[l])||[],h=m=s[1],d=(s[2]||"").split(".").sort(),h){for(p=Te.event.special[h]||{},h=(r?p.delegateType:p.bindType)||h,f=u[h]||[],s=s[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),i=a=f.length;a--;)c=f[a],!o&&m!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(f.splice(a,1),c.selector&&f.delegateCount--,p.remove&&p.remove.call(e,c));i&&!f.length&&(p.teardown&&p.teardown.call(e,d,g.handle)!==!1||Te.removeEvent(e,h,g.handle),delete u[h])}else for(h in u)Te.event.remove(e,h+t[l],n,r,!0);Te.isEmptyObject(u)&&Ue.remove(e,"handle events")}},dispatch:function(e){var t,n,r,o,a,i,s=Te.event.fix(e),u=new Array(arguments.length),l=(Ue.get(this,"events")||{})[s.type]||[],c=Te.event.special[s.type]||{};for(u[0]=s,t=1;t<arguments.length;t++)u[t]=arguments[t];if(s.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,s)!==!1){for(i=Te.event.handlers.call(this,s,l),t=0;(o=i[t++])&&!s.isPropagationStopped();)for(s.currentTarget=o.elem,n=0;(a=o.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!s.rnamespace.test(a.namespace)||(s.handleObj=a,s.data=a.data,r=((Te.event.special[a.origType]||{}).handle||a.handler).apply(o.elem,u),void 0!==r&&(s.result=r)===!1&&(s.preventDefault(),s.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,s),s.result}},handlers:function(e,t){var n,r,o,a,i,s=[],u=t.delegateCount,l=e.target;if(u&&l.nodeType&&!("click"===e.type&&e.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||l.disabled!==!0)){for(a=[],i={},n=0;n<u;n++)r=t[n],o=r.selector+" ",void 0===i[o]&&(i[o]=r.needsContext?Te(o,this).index(l)>-1:Te.find(o,this,null,[l]).length),i[o]&&a.push(r);a.length&&s.push({elem:l,handlers:a})}return l=this,u<t.length&&s.push({elem:l,handlers:t.slice(u)}),s},addProp:function(e,t){Object.defineProperty(Te.Event.prototype,e,{enumerable:!0,configurable:!0,get:xe(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[Te.expando]?e:new Te.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==E()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===E()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&i(this,"input"))return this.click(),!1},_default:function(e){return i(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},Te.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},Te.Event=function(e,t){return this instanceof Te.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?N:S,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&Te.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),void(this[Te.expando]=!0)):new Te.Event(e,t)},Te.Event.prototype={constructor:Te.Event,isDefaultPrevented:S,isPropagationStopped:S,isImmediatePropagationStopped:S,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=N,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=N,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=N,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},Te.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&ot.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&at.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},Te.event.addProp),Te.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){Te.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,o=e.relatedTarget,a=e.handleObj;return o&&(o===r||Te.contains(r,o))||(e.type=a.origType,n=a.handler.apply(this,arguments),e.type=t),n}}}),Te.fn.extend({on:function(e,t,n,r){return k(this,e,t,n,r)},one:function(e,t,n,r){return k(this,e,t,n,r,1)},off:function(e,t,n){var r,o;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,Te(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(o in e)this.off(o,t,e[o]);return this}return t!==!1&&"function"!=typeof t||(n=t,t=void 0),n===!1&&(n=S),this.each(function(){Te.event.remove(this,e,n,t)})}});var st=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,ut=/<script|<style|<link/i,lt=/checked\s*(?:[^=]|=\s*.checked.)/i,ct=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;Te.extend({htmlPrefilter:function(e){return e.replace(st,"<$1></$2>")},clone:function(e,t,n){var r,o,a,i,s=e.cloneNode(!0),u=Te.contains(e.ownerDocument,e);if(!(ye.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||Te.isXMLDoc(e)))for(i=w(s),a=w(e),r=0,o=a.length;r<o;r++)R(a[r],i[r]);if(t)if(n)for(a=a||w(e),i=i||w(s),r=0,o=a.length;r<o;r++)C(a[r],i[r]);else C(e,s);return i=w(s,"script"),i.length>0&&T(i,!u&&w(e,"script")),s},cleanData:function(e){for(var t,n,r,o=Te.event.special,a=0;void 0!==(n=e[a]);a++)if(je(n)){if(t=n[Ue.expando]){if(t.events)for(r in t.events)o[r]?Te.event.remove(n,r):Te.removeEvent(n,r,t.handle);n[Ue.expando]=void 0}n[Ge.expando]&&(n[Ge.expando]=void 0)}}}),Te.fn.extend({detach:function(e){return D(this,e,!0)},remove:function(e){return D(this,e)},text:function(e){return Fe(this,function(e){return void 0===e?Te.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return M(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=A(this,e);t.appendChild(e)}})},prepend:function(){return M(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=A(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return M(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return M(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(Te.cleanData(w(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return Te.clone(this,e,t)})},html:function(e){return Fe(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!ut.test(e)&&!tt[(Ze.exec(e)||["",""])[1].toLowerCase()]){e=Te.htmlPrefilter(e);try{for(;n<r;n++)t=this[n]||{},1===t.nodeType&&(Te.cleanData(w(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return M(this,arguments,function(t){var n=this.parentNode;Te.inArray(this,e)<0&&(Te.cleanData(w(this)),n&&n.replaceChild(t,this))},e)}}),Te.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){Te.fn[e]=function(e){for(var n,r=[],o=Te(e),a=o.length-1,i=0;i<=a;i++)n=i===a?this:this.clone(!0),Te(o[i])[t](n),pe.apply(r,n.get());return this.pushStack(r)}});var pt=new RegExp("^("+He+")(?!px)[a-z%]+$","i"),ft=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},ht=new RegExp(Xe.join("|"),"i");!function(){function t(){if(l){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",rt.appendChild(u).appendChild(l);var t=e.getComputedStyle(l);r="1%"!==t.top,s=12===n(t.marginLeft),l.style.right="60%",i=36===n(t.right),o=36===n(t.width),l.style.position="absolute",a=36===l.offsetWidth||"absolute",rt.removeChild(u),l=null}}function n(e){return Math.round(parseFloat(e))}var r,o,a,i,s,u=se.createElement("div"),l=se.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",ye.clearCloneStyle="content-box"===l.style.backgroundClip,Te.extend(ye,{boxSizingReliable:function(){return t(),o},pixelBoxStyles:function(){return t(),i},pixelPosition:function(){return t(),r},reliableMarginLeft:function(){return t(),s},scrollboxSize:function(){return t(),a}}))}();var dt=/^(none|table(?!-c[ea]).+)/,mt=/^--/,gt={position:"absolute",visibility:"hidden",display:"block"},vt={letterSpacing:"0",fontWeight:"400"},yt=["Webkit","Moz","ms"],xt=se.createElement("div").style;Te.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=V(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,a,i,s=m(t),u=mt.test(t),l=e.style;return u||(t=z(s)),i=Te.cssHooks[t]||Te.cssHooks[s],void 0===n?i&&"get"in i&&void 0!==(o=i.get(e,!1,r))?o:l[t]:(a=typeof n,"string"===a&&(o=$e.exec(n))&&o[1]&&(n=x(e,t,o),a="number"),null!=n&&n===n&&("number"===a&&(n+=o&&o[3]||(Te.cssNumber[s]?"":"px")),ye.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),i&&"set"in i&&void 0===(n=i.set(e,n,r))||(u?l.setProperty(t,n):l[t]=n)),void 0)}},css:function(e,t,n,r){var o,a,i,s=m(t),u=mt.test(t);return u||(t=z(s)),i=Te.cssHooks[t]||Te.cssHooks[s],i&&"get"in i&&(o=i.get(e,!0,n)),void 0===o&&(o=V(e,t,r)),"normal"===o&&t in vt&&(o=vt[t]),""===n||n?(a=parseFloat(o),n===!0||isFinite(a)?a||0:o):o}}),Te.each(["height","width"],function(e,t){Te.cssHooks[t]={get:function(e,n,r){if(n)return!dt.test(Te.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?U(e,t,r):Ke(e,gt,function(){return U(e,t,r)})},set:function(e,n,r){var o,a=ft(e),i="border-box"===Te.css(e,"boxSizing",!1,a),s=r&&j(e,t,r,i,a);return i&&ye.scrollboxSize()===a.position&&(s-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(a[t])-j(e,t,"border",!1,a)-.5)),s&&(o=$e.exec(n))&&"px"!==(o[3]||"px")&&(e.style[t]=n,n=Te.css(e,t)),B(e,n,s)}}}),Te.cssHooks.marginLeft=L(ye.reliableMarginLeft,function(e,t){if(t)return(parseFloat(V(e,"marginLeft"))||e.getBoundingClientRect().left-Ke(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),Te.each({margin:"",padding:"",border:"Width"},function(e,t){Te.cssHooks[e+t]={expand:function(n){for(var r=0,o={},a="string"==typeof n?n.split(" "):[n];r<4;r++)o[e+Xe[r]+t]=a[r]||a[r-2]||a[0];return o}},"margin"!==e&&(Te.cssHooks[e+t].set=B)}),Te.fn.extend({css:function(e,t){return Fe(this,function(e,t,n){var r,o,a={},i=0;if(Array.isArray(t)){for(r=ft(e),o=t.length;i<o;i++)a[t[i]]=Te.css(e,t[i],!1,r);return a}return void 0!==n?Te.style(e,t,n):Te.css(e,t)},e,t,arguments.length>1)}}),Te.Tween=G,G.prototype={constructor:G,init:function(e,t,n,r,o,a){this.elem=e,this.prop=n,this.easing=o||Te.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=a||(Te.cssNumber[n]?"":"px")},cur:function(){var e=G.propHooks[this.prop];return e&&e.get?e.get(this):G.propHooks._default.get(this)},run:function(e){var t,n=G.propHooks[this.prop];return this.options.duration?this.pos=t=Te.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):G.propHooks._default.set(this),this}},G.prototype.init.prototype=G.prototype,G.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=Te.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){Te.fx.step[e.prop]?Te.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[Te.cssProps[e.prop]]&&!Te.cssHooks[e.prop]?e.elem[e.prop]=e.now:Te.style(e.elem,e.prop,e.now+e.unit)}}},G.propHooks.scrollTop=G.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},Te.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},Te.fx=G.prototype.init,Te.fx.step={};var bt,_t,wt=/^(?:toggle|show|hide)$/,Tt=/queueHooks$/;Te.Animation=Te.extend(K,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return x(n.elem,e,$e.exec(t),n),n}]},tweener:function(e,t){xe(e)?(t=e,e=["*"]):e=e.match(De);for(var n,r=0,o=e.length;r<o;r++)n=e[r],K.tweeners[n]=K.tweeners[n]||[],K.tweeners[n].unshift(t)},prefilters:[X],prefilter:function(e,t){t?K.prefilters.unshift(e):K.prefilters.push(e)}}),Te.speed=function(e,t,n){var r=e&&"object"==typeof e?Te.extend({},e):{complete:n||!n&&t||xe(e)&&e,duration:e,easing:n&&t||t&&!xe(t)&&t};return Te.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in Te.fx.speeds?r.duration=Te.fx.speeds[r.duration]:r.duration=Te.fx.speeds._default),null!=r.queue&&r.queue!==!0||(r.queue="fx"),r.old=r.complete,r.complete=function(){xe(r.old)&&r.old.call(this),r.queue&&Te.dequeue(this,r.queue)},r},Te.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Ye).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var o=Te.isEmptyObject(e),a=Te.speed(t,n,r),i=function(){var t=K(this,Te.extend({},e),a);(o||Ue.get(this,"finish"))&&t.stop(!0)};return i.finish=i,o||a.queue===!1?this.each(i):this.queue(a.queue,i)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,o=null!=e&&e+"queueHooks",a=Te.timers,i=Ue.get(this);if(o)i[o]&&i[o].stop&&r(i[o]);else for(o in i)i[o]&&i[o].stop&&Tt.test(o)&&r(i[o]);for(o=a.length;o--;)a[o].elem!==this||null!=e&&a[o].queue!==e||(a[o].anim.stop(n),t=!1,a.splice(o,1));!t&&n||Te.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=Ue.get(this),r=n[e+"queue"],o=n[e+"queueHooks"],a=Te.timers,i=r?r.length:0;for(n.finish=!0,Te.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),t=a.length;t--;)a[t].elem===this&&a[t].queue===e&&(a[t].anim.stop(!0),a.splice(t,1));for(t=0;t<i;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),Te.each(["toggle","show","hide"],function(e,t){var n=Te.fn[t];Te.fn[t]=function(e,r,o){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(H(t,!0),e,r,o)}}),Te.each({slideDown:H("show"),slideUp:H("hide"),slideToggle:H("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){Te.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),Te.timers=[],Te.fx.tick=function(){var e,t=0,n=Te.timers;for(bt=Date.now();t<n.length;t++)e=n[t],e()||n[t]!==e||n.splice(t--,1);n.length||Te.fx.stop(),bt=void 0},Te.fx.timer=function(e){Te.timers.push(e),Te.fx.start()},Te.fx.interval=13,Te.fx.start=function(){_t||(_t=!0,q())},Te.fx.stop=function(){_t=null},Te.fx.speeds={slow:600,fast:200,_default:400},Te.fn.delay=function(t,n){return t=Te.fx?Te.fx.speeds[t]||t:t,n=n||"fx",this.queue(n,function(n,r){var o=e.setTimeout(n,t);r.stop=function(){e.clearTimeout(o)}})},function(){var e=se.createElement("input"),t=se.createElement("select"),n=t.appendChild(se.createElement("option"));e.type="checkbox",ye.checkOn=""!==e.value,ye.optSelected=n.selected,e=se.createElement("input"),e.value="t",e.type="radio",ye.radioValue="t"===e.value}();var Pt,Nt=Te.expr.attrHandle;Te.fn.extend({attr:function(e,t){return Fe(this,Te.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){Te.removeAttr(this,e)})}}),Te.extend({attr:function(e,t,n){var r,o,a=e.nodeType;if(3!==a&&8!==a&&2!==a)return"undefined"==typeof e.getAttribute?Te.prop(e,t,n):(1===a&&Te.isXMLDoc(e)||(o=Te.attrHooks[t.toLowerCase()]||(Te.expr.match.bool.test(t)?Pt:void 0)),void 0!==n?null===n?void Te.removeAttr(e,t):o&&"set"in o&&void 0!==(r=o.set(e,n,t))?r:(e.setAttribute(t,n+""),n):o&&"get"in o&&null!==(r=o.get(e,t))?r:(r=Te.find.attr(e,t),null==r?void 0:r))},attrHooks:{type:{set:function(e,t){if(!ye.radioValue&&"radio"===t&&i(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,o=t&&t.match(De);if(o&&1===e.nodeType)for(;n=o[r++];)e.removeAttribute(n)}}),Pt={set:function(e,t,n){return t===!1?Te.removeAttr(e,n):e.setAttribute(n,n),n}},Te.each(Te.expr.match.bool.source.match(/\w+/g),function(e,t){var n=Nt[t]||Te.find.attr;Nt[t]=function(e,t,r){var o,a,i=t.toLowerCase();return r||(a=Nt[i],Nt[i]=o,o=null!=n(e,t,r)?i:null,Nt[i]=a),o}});var St=/^(?:input|select|textarea|button)$/i,Et=/^(?:a|area)$/i;Te.fn.extend({prop:function(e,t){return Fe(this,Te.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[Te.propFix[e]||e]})}}),Te.extend({prop:function(e,t,n){var r,o,a=e.nodeType;if(3!==a&&8!==a&&2!==a)return 1===a&&Te.isXMLDoc(e)||(t=Te.propFix[t]||t,o=Te.propHooks[t]),void 0!==n?o&&"set"in o&&void 0!==(r=o.set(e,n,t))?r:e[t]=n:o&&"get"in o&&null!==(r=o.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=Te.find.attr(e,"tabindex");return t?parseInt(t,10):St.test(e.nodeName)||Et.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),ye.optSelected||(Te.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),Te.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Te.propFix[this.toLowerCase()]=this}),Te.fn.extend({addClass:function(e){var t,n,r,o,a,i,s,u=0;if(xe(e))return this.each(function(t){Te(this).addClass(e.call(this,t,J(this)))});if(t=Z(e),t.length)for(;n=this[u++];)if(o=J(n),r=1===n.nodeType&&" "+Q(o)+" "){for(i=0;a=t[i++];)r.indexOf(" "+a+" ")<0&&(r+=a+" ");s=Q(r),o!==s&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,r,o,a,i,s,u=0;if(xe(e))return this.each(function(t){Te(this).removeClass(e.call(this,t,J(this)))});if(!arguments.length)return this.attr("class","");if(t=Z(e),t.length)for(;n=this[u++];)if(o=J(n),r=1===n.nodeType&&" "+Q(o)+" "){for(i=0;a=t[i++];)for(;r.indexOf(" "+a+" ")>-1;)r=r.replace(" "+a+" "," ");s=Q(r),o!==s&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e,r="string"===n||Array.isArray(e);return"boolean"==typeof t&&r?t?this.addClass(e):this.removeClass(e):xe(e)?this.each(function(n){Te(this).toggleClass(e.call(this,n,J(this),t),t)}):this.each(function(){var t,o,a,i;if(r)for(o=0,a=Te(this),i=Z(e);t=i[o++];)a.hasClass(t)?a.removeClass(t):a.addClass(t);else void 0!==e&&"boolean"!==n||(t=J(this),t&&Ue.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||e===!1?"":Ue.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+Q(J(n))+" ").indexOf(t)>-1)return!0;return!1}});var kt=/\r/g;Te.fn.extend({val:function(e){var t,n,r,o=this[0];{if(arguments.length)return r=xe(e),this.each(function(n){var o;1===this.nodeType&&(o=r?e.call(this,n,Te(this).val()):e,null==o?o="":"number"==typeof o?o+="":Array.isArray(o)&&(o=Te.map(o,function(e){return null==e?"":e+""})),t=Te.valHooks[this.type]||Te.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,o,"value")||(this.value=o))});if(o)return t=Te.valHooks[o.type]||Te.valHooks[o.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(o,"value"))?n:(n=o.value,"string"==typeof n?n.replace(kt,""):null==n?"":n)}}}),Te.extend({valHooks:{option:{get:function(e){var t=Te.find.attr(e,"value");return null!=t?t:Q(Te.text(e))}},select:{get:function(e){var t,n,r,o=e.options,a=e.selectedIndex,s="select-one"===e.type,u=s?null:[],l=s?a+1:o.length;for(r=a<0?l:s?a:0;r<l;r++)if(n=o[r],(n.selected||r===a)&&!n.disabled&&(!n.parentNode.disabled||!i(n.parentNode,"optgroup"))){if(t=Te(n).val(),s)return t;u.push(t)}return u},set:function(e,t){for(var n,r,o=e.options,a=Te.makeArray(t),i=o.length;i--;)r=o[i],(r.selected=Te.inArray(Te.valHooks.option.get(r),a)>-1)&&(n=!0);return n||(e.selectedIndex=-1),a}}}}),Te.each(["radio","checkbox"],function(){Te.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=Te.inArray(Te(e).val(),t)>-1}},ye.checkOn||(Te.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),ye.focusin="onfocusin"in e;var At=/^(?:focusinfocus|focusoutblur)$/,Ot=function(e){e.stopPropagation()};Te.extend(Te.event,{trigger:function(t,n,r,o){var a,i,s,u,l,c,p,f,h=[r||se],d=me.call(t,"type")?t.type:t,m=me.call(t,"namespace")?t.namespace.split("."):[];if(i=f=s=r=r||se,3!==r.nodeType&&8!==r.nodeType&&!At.test(d+Te.event.triggered)&&(d.indexOf(".")>-1&&(m=d.split("."),d=m.shift(),m.sort()),l=d.indexOf(":")<0&&"on"+d,t=t[Te.expando]?t:new Te.Event(d,"object"==typeof t&&t),t.isTrigger=o?2:3,t.namespace=m.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:Te.makeArray(n,[t]),p=Te.event.special[d]||{},o||!p.trigger||p.trigger.apply(r,n)!==!1)){if(!o&&!p.noBubble&&!be(r)){for(u=p.delegateType||d,At.test(u+d)||(i=i.parentNode);i;i=i.parentNode)h.push(i),s=i;s===(r.ownerDocument||se)&&h.push(s.defaultView||s.parentWindow||e)}for(a=0;(i=h[a++])&&!t.isPropagationStopped();)f=i,t.type=a>1?u:p.bindType||d,c=(Ue.get(i,"events")||{})[t.type]&&Ue.get(i,"handle"),c&&c.apply(i,n),c=l&&i[l],c&&c.apply&&je(i)&&(t.result=c.apply(i,n),t.result===!1&&t.preventDefault());return t.type=d,o||t.isDefaultPrevented()||p._default&&p._default.apply(h.pop(),n)!==!1||!je(r)||l&&xe(r[d])&&!be(r)&&(s=r[l],s&&(r[l]=null),Te.event.triggered=d,t.isPropagationStopped()&&f.addEventListener(d,Ot),r[d](),t.isPropagationStopped()&&f.removeEventListener(d,Ot),Te.event.triggered=void 0,s&&(r[l]=s)),t.result}},simulate:function(e,t,n){var r=Te.extend(new Te.Event,n,{type:e,isSimulated:!0});Te.event.trigger(r,null,t)}}),Te.fn.extend({trigger:function(e,t){return this.each(function(){Te.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return Te.event.trigger(e,t,n,!0)}}),ye.focusin||Te.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){Te.event.simulate(t,e.target,Te.event.fix(e))};Te.event.special[t]={setup:function(){var r=this.ownerDocument||this,o=Ue.access(r,t);o||r.addEventListener(e,n,!0),Ue.access(r,t,(o||0)+1)},teardown:function(){var r=this.ownerDocument||this,o=Ue.access(r,t)-1;o?Ue.access(r,t,o):(r.removeEventListener(e,n,!0),Ue.remove(r,t))}}});var It=e.location,Ct=Date.now(),Rt=/\?/;Te.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||Te.error("Invalid XML: "+t),n};var Mt=/\[\]$/,Dt=/\r?\n/g,Vt=/^(?:submit|button|image|reset|file)$/i,Lt=/^(?:input|select|textarea|keygen)/i;Te.param=function(e,t){var n,r=[],o=function(e,t){var n=xe(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(e)||e.jquery&&!Te.isPlainObject(e))Te.each(e,function(){o(this.name,this.value)});else for(n in e)ee(n,e[n],t,o);return r.join("&")},Te.fn.extend({serialize:function(){return Te.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=Te.prop(this,"elements");return e?Te.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!Te(this).is(":disabled")&&Lt.test(this.nodeName)&&!Vt.test(e)&&(this.checked||!Je.test(e))}).map(function(e,t){var n=Te(this).val();return null==n?null:Array.isArray(n)?Te.map(n,function(e){return{name:t.name,value:e.replace(Dt,"\r\n")}}):{name:t.name,value:n.replace(Dt,"\r\n")}}).get()}});var Ft=/%20/g,zt=/#.*$/,Bt=/([?&])_=[^&]*/,jt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ut=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Gt=/^(?:GET|HEAD)$/,qt=/^\/\//,Wt={},Ht={},$t="*/".concat("*"),Xt=se.createElement("a");Xt.href=It.href,Te.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:It.href,type:"GET",isLocal:Ut.test(It.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":$t,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":Te.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?re(re(e,Te.ajaxSettings),t):re(Te.ajaxSettings,e)},ajaxPrefilter:te(Wt),ajaxTransport:te(Ht),ajax:function(t,n){function r(t,n,r,s){var l,f,h,b,_,w=n;c||(c=!0,u&&e.clearTimeout(u),o=void 0,i=s||"",T.readyState=t>0?4:0,l=t>=200&&t<300||304===t,r&&(b=oe(d,T,r)),b=ae(d,b,T,l),l?(d.ifModified&&(_=T.getResponseHeader("Last-Modified"),_&&(Te.lastModified[a]=_),_=T.getResponseHeader("etag"),_&&(Te.etag[a]=_)),204===t||"HEAD"===d.type?w="nocontent":304===t?w="notmodified":(w=b.state,f=b.data,h=b.error,l=!h)):(h=w,!t&&w||(w="error",t<0&&(t=0))),T.status=t,T.statusText=(n||w)+"",l?v.resolveWith(m,[f,w,T]):v.rejectWith(m,[T,w,h]),T.statusCode(x),x=void 0,p&&g.trigger(l?"ajaxSuccess":"ajaxError",[T,d,l?f:h]),y.fireWith(m,[T,w]),p&&(g.trigger("ajaxComplete",[T,d]),--Te.active||Te.event.trigger("ajaxStop")))}"object"==typeof t&&(n=t,t=void 0),n=n||{};var o,a,i,s,u,l,c,p,f,h,d=Te.ajaxSetup({},n),m=d.context||d,g=d.context&&(m.nodeType||m.jquery)?Te(m):Te.event,v=Te.Deferred(),y=Te.Callbacks("once memory"),x=d.statusCode||{},b={},_={},w="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(c){if(!s)for(s={};t=jt.exec(i);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return c?i:null},setRequestHeader:function(e,t){return null==c&&(e=_[e.toLowerCase()]=_[e.toLowerCase()]||e,b[e]=t),this},overrideMimeType:function(e){return null==c&&(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)T.always(e[T.status]);else for(t in e)x[t]=[x[t],e[t]];return this},abort:function(e){var t=e||w;return o&&o.abort(t),r(0,t),this}};if(v.promise(T),d.url=((t||d.url||It.href)+"").replace(qt,It.protocol+"//"),d.type=n.method||n.type||d.method||d.type,d.dataTypes=(d.dataType||"*").toLowerCase().match(De)||[""],null==d.crossDomain){l=se.createElement("a");try{l.href=d.url,l.href=l.href,d.crossDomain=Xt.protocol+"//"+Xt.host!=l.protocol+"//"+l.host}catch(e){d.crossDomain=!0}}if(d.data&&d.processData&&"string"!=typeof d.data&&(d.data=Te.param(d.data,d.traditional)),ne(Wt,d,n,T),c)return T;p=Te.event&&d.global,p&&0===Te.active++&&Te.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Gt.test(d.type),a=d.url.replace(zt,""),d.hasContent?d.data&&d.processData&&0===(d.contentType||"").indexOf("application/x-www-form-urlencoded")&&(d.data=d.data.replace(Ft,"+")):(h=d.url.slice(a.length),d.data&&(d.processData||"string"==typeof d.data)&&(a+=(Rt.test(a)?"&":"?")+d.data,delete d.data),d.cache===!1&&(a=a.replace(Bt,"$1"),h=(Rt.test(a)?"&":"?")+"_="+Ct++ +h),d.url=a+h),d.ifModified&&(Te.lastModified[a]&&T.setRequestHeader("If-Modified-Since",Te.lastModified[a]),Te.etag[a]&&T.setRequestHeader("If-None-Match",Te.etag[a])),(d.data&&d.hasContent&&d.contentType!==!1||n.contentType)&&T.setRequestHeader("Content-Type",d.contentType),T.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+$t+"; q=0.01":""):d.accepts["*"]);for(f in d.headers)T.setRequestHeader(f,d.headers[f]);if(d.beforeSend&&(d.beforeSend.call(m,T,d)===!1||c))return T.abort();if(w="abort",y.add(d.complete),T.done(d.success),T.fail(d.error),o=ne(Ht,d,n,T)){if(T.readyState=1,p&&g.trigger("ajaxSend",[T,d]),c)return T;d.async&&d.timeout>0&&(u=e.setTimeout(function(){T.abort("timeout")},d.timeout));try{c=!1,o.send(b,r)}catch(e){if(c)throw e;r(-1,e)}}else r(-1,"No Transport");return T},getJSON:function(e,t,n){return Te.get(e,t,n,"json")},getScript:function(e,t){return Te.get(e,void 0,t,"script")}}),Te.each(["get","post"],function(e,t){Te[t]=function(e,n,r,o){return xe(n)&&(o=o||r,r=n,n=void 0),Te.ajax(Te.extend({url:e,type:t,dataType:o,data:n,success:r},Te.isPlainObject(e)&&e))}}),Te._evalUrl=function(e){return Te.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},Te.fn.extend({wrapAll:function(e){var t;return this[0]&&(xe(e)&&(e=e.call(this[0])),t=Te(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return xe(e)?this.each(function(t){Te(this).wrapInner(e.call(this,t))}):this.each(function(){var t=Te(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=xe(e);return this.each(function(n){Te(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){Te(this).replaceWith(this.childNodes)}),this}}),Te.expr.pseudos.hidden=function(e){return!Te.expr.pseudos.visible(e)},Te.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},Te.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var Yt={0:200,1223:204},Kt=Te.ajaxSettings.xhr();ye.cors=!!Kt&&"withCredentials"in Kt,ye.ajax=Kt=!!Kt,Te.ajaxTransport(function(t){var n,r;if(ye.cors||Kt&&!t.crossDomain)return{send:function(o,a){var i,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(i in t.xhrFields)s[i]=t.xhrFields[i];t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest");
for(i in o)s.setRequestHeader(i,o[i]);n=function(e){return function(){n&&(n=r=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?a(0,"error"):a(s.status,s.statusText):a(Yt[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),r=s.onerror=s.ontimeout=n("error"),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&e.setTimeout(function(){n&&r()})},n=n("abort");try{s.send(t.hasContent&&t.data||null)}catch(e){if(n)throw e}},abort:function(){n&&n()}}}),Te.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),Te.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return Te.globalEval(e),e}}}),Te.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),Te.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(r,o){t=Te("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&o("error"===e.type?404:200,e.type)}),se.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Qt=[],Jt=/(=)\?(?=&|$)|\?\?/;Te.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Qt.pop()||Te.expando+"_"+Ct++;return this[e]=!0,e}}),Te.ajaxPrefilter("json jsonp",function(t,n,r){var o,a,i,s=t.jsonp!==!1&&(Jt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Jt.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return o=t.jsonpCallback=xe(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Jt,"$1"+o):t.jsonp!==!1&&(t.url+=(Rt.test(t.url)?"&":"?")+t.jsonp+"="+o),t.converters["script json"]=function(){return i||Te.error(o+" was not called"),i[0]},t.dataTypes[0]="json",a=e[o],e[o]=function(){i=arguments},r.always(function(){void 0===a?Te(e).removeProp(o):e[o]=a,t[o]&&(t.jsonpCallback=n.jsonpCallback,Qt.push(o)),i&&xe(a)&&a(i[0]),i=a=void 0}),"script"}),ye.createHTMLDocument=function(){var e=se.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),Te.parseHTML=function(e,t,n){if("string"!=typeof e)return[];"boolean"==typeof t&&(n=t,t=!1);var r,o,a;return t||(ye.createHTMLDocument?(t=se.implementation.createHTMLDocument(""),r=t.createElement("base"),r.href=se.location.href,t.head.appendChild(r)):t=se),o=Ae.exec(e),a=!n&&[],o?[t.createElement(o[1])]:(o=P([e],t,a),a&&a.length&&Te(a).remove(),Te.merge([],o.childNodes))},Te.fn.load=function(e,t,n){var r,o,a,i=this,s=e.indexOf(" ");return s>-1&&(r=Q(e.slice(s)),e=e.slice(0,s)),xe(t)?(n=t,t=void 0):t&&"object"==typeof t&&(o="POST"),i.length>0&&Te.ajax({url:e,type:o||"GET",dataType:"html",data:t}).done(function(e){a=arguments,i.html(r?Te("<div>").append(Te.parseHTML(e)).find(r):e)}).always(n&&function(e,t){i.each(function(){n.apply(this,a||[e.responseText,t,e])})}),this},Te.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){Te.fn[t]=function(e){return this.on(t,e)}}),Te.expr.pseudos.animated=function(e){return Te.grep(Te.timers,function(t){return e===t.elem}).length},Te.offset={setOffset:function(e,t,n){var r,o,a,i,s,u,l,c=Te.css(e,"position"),p=Te(e),f={};"static"===c&&(e.style.position="relative"),s=p.offset(),a=Te.css(e,"top"),u=Te.css(e,"left"),l=("absolute"===c||"fixed"===c)&&(a+u).indexOf("auto")>-1,l?(r=p.position(),i=r.top,o=r.left):(i=parseFloat(a)||0,o=parseFloat(u)||0),xe(t)&&(t=t.call(e,n,Te.extend({},s))),null!=t.top&&(f.top=t.top-s.top+i),null!=t.left&&(f.left=t.left-s.left+o),"using"in t?t.using.call(e,f):p.css(f)}},Te.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){Te.offset.setOffset(this,e,t)});var t,n,r=this[0];if(r)return r.getClientRects().length?(t=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var e,t,n,r=this[0],o={top:0,left:0};if("fixed"===Te.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===Te.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&(o=Te(e).offset(),o.top+=Te.css(e,"borderTopWidth",!0),o.left+=Te.css(e,"borderLeftWidth",!0))}return{top:t.top-o.top-Te.css(r,"marginTop",!0),left:t.left-o.left-Te.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===Te.css(e,"position");)e=e.offsetParent;return e||rt})}}),Te.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;Te.fn[e]=function(r){return Fe(this,function(e,r,o){var a;return be(e)?a=e:9===e.nodeType&&(a=e.defaultView),void 0===o?a?a[t]:e[r]:void(a?a.scrollTo(n?a.pageXOffset:o,n?o:a.pageYOffset):e[r]=o)},e,r,arguments.length)}}),Te.each(["top","left"],function(e,t){Te.cssHooks[t]=L(ye.pixelPosition,function(e,n){if(n)return n=V(e,t),pt.test(n)?Te(e).position()[t]+"px":n})}),Te.each({Height:"height",Width:"width"},function(e,t){Te.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){Te.fn[r]=function(o,a){var i=arguments.length&&(n||"boolean"!=typeof o),s=n||(o===!0||a===!0?"margin":"border");return Fe(this,function(t,n,o){var a;return be(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(a=t.documentElement,Math.max(t.body["scroll"+e],a["scroll"+e],t.body["offset"+e],a["offset"+e],a["client"+e])):void 0===o?Te.css(t,n,s):Te.style(t,n,o,s)},t,i?o:void 0,i)}})}),Te.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){Te.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),Te.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),Te.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),Te.proxy=function(e,t){var n,r,o;if("string"==typeof t&&(n=e[t],t=e,e=n),xe(e))return r=le.call(arguments,2),o=function(){return e.apply(t||this,r.concat(le.call(arguments)))},o.guid=e.guid=e.guid||Te.guid++,o},Te.holdReady=function(e){e?Te.readyWait++:Te.ready(!0)},Te.isArray=Array.isArray,Te.parseJSON=JSON.parse,Te.nodeName=i,Te.isFunction=xe,Te.isWindow=be,Te.camelCase=m,Te.type=o,Te.now=Date.now,Te.isNumeric=function(e){var t=Te.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},"function"==typeof r&&r.amd&&r("jquery",[],function(){return Te});var Zt=e.jQuery,en=e.$;return Te.noConflict=function(t){return e.$===Te&&(e.$=en),t&&e.jQuery===Te&&(e.jQuery=Zt),Te},t||(e.jQuery=e.$=Te),Te}),o("undefined"!=typeof jQuery?jQuery:window.jQuery)}).call(e,void 0,void 0,void 0,void 0,function(e){t.exports=e})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],191:[function(e,t,n){function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(e){if(p===setTimeout)return setTimeout(e,0);if((p===r||!p)&&setTimeout)return p=setTimeout,setTimeout(e,0);try{return p(e,0)}catch(t){try{return p.call(null,e,0)}catch(t){return p.call(this,e,0)}}}function i(e){if(f===clearTimeout)return clearTimeout(e);if((f===o||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function s(){g&&d&&(g=!1,d.length?m=d.concat(m):v=-1,m.length&&u())}function u(){if(!g){var e=a(s);g=!0;for(var t=m.length;t;){for(d=m,m=[];++v<t;)d&&d[v].run();v=-1,t=m.length}d=null,g=!1,i(e)}}function l(e,t){this.fun=e,this.array=t}function c(){}var p,f,h=t.exports={};!function(){try{p="function"==typeof setTimeout?setTimeout:r}catch(e){p=r}try{f="function"==typeof clearTimeout?clearTimeout:o}catch(e){f=o}}();var d,m=[],g=!1,v=-1;h.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];m.push(new l(e,t)),1!==m.length||g||a(u)},l.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=c,h.addListener=c,h.once=c,h.off=c,h.removeListener=c,h.removeAllListeners=c,h.emit=c,h.prependListener=c,h.prependOnceListener=c,h.listeners=function(e){return[]},h.binding=function(e){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(e){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},{}],192:[function(e,t,n){"use strict";t.exports=e("./src/index-minimal")},{"./src/index-minimal":193}],193:[function(e,t,n){"use strict";function r(){o.Reader._configure(o.BufferReader),o.util._configure()}var o=n;o.build="minimal",o.Writer=e("./writer"),o.BufferWriter=e("./writer_buffer"),o.Reader=e("./reader"),o.BufferReader=e("./reader_buffer"),o.util=e("./util/minimal"),o.rpc=e("./rpc"),o.roots=e("./roots"),o.configure=r,o.Writer._configure(o.BufferWriter),r()},{"./reader":194,"./reader_buffer":195,"./roots":196,"./rpc":197,"./util/minimal":200,"./writer":201,"./writer_buffer":202}],194:[function(e,t,n){"use strict";function r(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function o(e){this.buf=e,this.pos=0,this.len=e.length}function a(){var e=new c(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw r(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw r(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function i(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function s(){if(this.pos+8>this.len)throw r(this,8);return new c(i(this.buf,this.pos+=4),i(this.buf,this.pos+=4))}t.exports=o;var u,l=e("./util/minimal"),c=l.LongBits,p=l.utf8,f="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new o(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new o(e);throw Error("illegal buffer")};o.create=l.Buffer?function(e){return(o.create=function(e){return l.Buffer.isBuffer(e)?new u(e):f(e)})(e)}:f,o.prototype._slice=l.Array.prototype.subarray||l.Array.prototype.slice,o.prototype.uint32=function(){var e=4294967295;return function(){if(e=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return e;if((this.pos+=5)>this.len)throw this.pos=this.len,r(this,10);return e}}(),o.prototype.int32=function(){return 0|this.uint32()},o.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},o.prototype.bool=function(){return 0!==this.uint32()},o.prototype.fixed32=function(){if(this.pos+4>this.len)throw r(this,4);return i(this.buf,this.pos+=4)},o.prototype.sfixed32=function(){if(this.pos+4>this.len)throw r(this,4);return 0|i(this.buf,this.pos+=4)},o.prototype.float=function(){if(this.pos+4>this.len)throw r(this,4);var e=l.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},o.prototype.double=function(){if(this.pos+8>this.len)throw r(this,4);var e=l.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},o.prototype.bytes=function(){var e=this.uint32(),t=this.pos,n=this.pos+e;if(n>this.len)throw r(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,n):t===n?new this.buf.constructor(0):this._slice.call(this.buf,t,n)},o.prototype.string=function(){var e=this.bytes();return p.read(e,0,e.length)},o.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw r(this,e);this.pos+=e}else do if(this.pos>=this.len)throw r(this);while(128&this.buf[this.pos++]);return this},o.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!==(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},o._configure=function(e){u=e;var t=l.Long?"toLong":"toNumber";l.merge(o.prototype,{int64:function(){return a.call(this)[t](!1)},uint64:function(){return a.call(this)[t](!0)},sint64:function(){return a.call(this).zzDecode()[t](!1)},fixed64:function(){return s.call(this)[t](!0)},sfixed64:function(){return s.call(this)[t](!1)}})}},{"./util/minimal":200}],195:[function(e,t,n){"use strict";function r(e){o.call(this,e)}t.exports=r;var o=e("./reader");(r.prototype=Object.create(o.prototype)).constructor=r;var a=e("./util/minimal");a.Buffer&&(r.prototype._slice=a.Buffer.prototype.slice),r.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len))}},{"./reader":194,"./util/minimal":200}],196:[function(e,t,n){"use strict";t.exports={}},{}],197:[function(e,t,n){"use strict";var r=n;r.Service=e("./rpc/service")},{"./rpc/service":198}],198:[function(e,t,n){"use strict";function r(e,t,n){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");o.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(n)}t.exports=r;var o=e("../util/minimal");(r.prototype=Object.create(o.EventEmitter.prototype)).constructor=r,r.prototype.rpcCall=function e(t,n,r,a,i){if(!a)throw TypeError("request must be specified");var s=this;if(!i)return o.asPromise(e,s,t,n,r,a);if(!s.rpcImpl)return void setTimeout(function(){i(Error("already ended"))},0);try{return s.rpcImpl(t,n[s.requestDelimited?"encodeDelimited":"encode"](a).finish(),function(e,n){if(e)return s.emit("error",e,t),i(e);if(null===n)return void s.end(!0);if(!(n instanceof r))try{n=r[s.responseDelimited?"decodeDelimited":"decode"](n)}catch(e){return s.emit("error",e,t),i(e)}return s.emit("data",n,t),i(null,n)})}catch(e){return s.emit("error",e,t),void setTimeout(function(){i(e)},0)}},r.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},{"../util/minimal":200}],199:[function(e,t,n){"use strict";function r(e,t){this.lo=e>>>0,this.hi=t>>>0}t.exports=r;var o=e("../util/minimal"),a=r.zero=new r(0,0);a.toNumber=function(){return 0},a.zzEncode=a.zzDecode=function(){return this},a.length=function(){return 1};var i=r.zeroHash="\0\0\0\0\0\0\0\0";r.fromNumber=function(e){if(0===e)return a;var t=e<0;t&&(e=-e);var n=e>>>0,o=(e-n)/4294967296>>>0;return t&&(o=~o>>>0,n=~n>>>0,++n>4294967295&&(n=0,++o>4294967295&&(o=0))),new r(n,o)},r.from=function(e){if("number"==typeof e)return r.fromNumber(e);if(o.isString(e)){if(!o.Long)return r.fromNumber(parseInt(e,10));e=o.Long.fromString(e)}return e.low||e.high?new r(e.low>>>0,e.high>>>0):a},r.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=~this.lo+1>>>0,n=~this.hi>>>0;return t||(n=n+1>>>0),-(t+4294967296*n)}return this.lo+4294967296*this.hi},r.prototype.toLong=function(e){return o.Long?new o.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var s=String.prototype.charCodeAt;r.fromHash=function(e){return e===i?a:new r((s.call(e,0)|s.call(e,1)<<8|s.call(e,2)<<16|s.call(e,3)<<24)>>>0,(s.call(e,4)|s.call(e,5)<<8|s.call(e,6)<<16|s.call(e,7)<<24)>>>0)},r.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},r.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},r.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},r.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return 0===n?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:n<128?9:10}},{"../util/minimal":200}],200:[function(e,t,n){(function(t){"use strict";function r(e,t,n){for(var r=Object.keys(t),o=0;o<r.length;++o)void 0!==e[r[o]]&&n||(e[r[o]]=t[r[o]]);return e}function o(e){function t(e,n){return this instanceof t?(Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),void(n&&r(this,n))):new t(e,n)}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,"name",{get:function(){return e}}),t.prototype.toString=function(){return this.name+": "+this.message},t}var a=n;a.asPromise=e("@protobufjs/aspromise"),a.base64=e("@protobufjs/base64"),a.EventEmitter=e("@protobufjs/eventemitter"),a.float=e("@protobufjs/float"),a.inquire=e("@protobufjs/inquire"),a.utf8=e("@protobufjs/utf8"),a.pool=e("@protobufjs/pool"),a.LongBits=e("./longbits"),a.global="undefined"!=typeof window&&window||"undefined"!=typeof t&&t||"undefined"!=typeof self&&self||this,a.emptyArray=Object.freeze?Object.freeze([]):[],a.emptyObject=Object.freeze?Object.freeze({}):{},a.isNode=Boolean(a.global.process&&a.global.process.versions&&a.global.process.versions.node),a.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},a.isString=function(e){return"string"==typeof e||e instanceof String},a.isObject=function(e){return e&&"object"==typeof e},a.isset=a.isSet=function(e,t){var n=e[t];return!(null==n||!e.hasOwnProperty(t))&&("object"!=typeof n||(Array.isArray(n)?n.length:Object.keys(n).length)>0)},a.Buffer=function(){try{var e=a.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),a._Buffer_from=null,a._Buffer_allocUnsafe=null,a.newBuffer=function(e){return"number"==typeof e?a.Buffer?a._Buffer_allocUnsafe(e):new a.Array(e):a.Buffer?a._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},a.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,a.Long=a.global.dcodeIO&&a.global.dcodeIO.Long||a.global.Long||a.inquire("long"),a.key2Re=/^true|false|0|1$/,a.key32Re=/^-?(?:0|[1-9][0-9]*)$/,a.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,a.longToHash=function(e){return e?a.LongBits.from(e).toHash():a.LongBits.zeroHash},a.longFromHash=function(e,t){var n=a.LongBits.fromHash(e);return a.Long?a.Long.fromBits(n.lo,n.hi,t):n.toNumber(Boolean(t))},a.merge=r,a.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},a.newError=o,a.ProtocolError=o("ProtocolError"),a.oneOfGetter=function(e){for(var t={},n=0;n<e.length;++n)t[e[n]]=1;return function(){for(var e=Object.keys(this),n=e.length-1;n>-1;--n)if(1===t[e[n]]&&void 0!==this[e[n]]&&null!==this[e[n]])return e[n]}},a.oneOfSetter=function(e){return function(t){for(var n=0;n<e.length;++n)e[n]!==t&&delete this[e[n]]}},a.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},a._configure=function(){var e=a.Buffer;return e?(a._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,n){return new e(t,n)},void(a._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)})):void(a._Buffer_from=a._Buffer_allocUnsafe=null)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./longbits":199,"@protobufjs/aspromise":1,"@protobufjs/base64":2,"@protobufjs/eventemitter":3,"@protobufjs/float":4,"@protobufjs/inquire":5,"@protobufjs/pool":6,"@protobufjs/utf8":7}],201:[function(e,t,n){"use strict";function r(e,t,n){this.fn=e,this.len=t,this.next=void 0,this.val=n}function o(){}function a(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function i(){this.len=0,this.head=new r(o,0,0),this.tail=this.head,this.states=null}function s(e,t,n){t[n]=255&e}function u(e,t,n){for(;e>127;)t[n++]=127&e|128,e>>>=7;t[n]=e}function l(e,t){this.len=e,this.next=void 0,this.val=t}function c(e,t,n){for(;e.hi;)t[n++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[n++]=127&e.lo|128,e.lo=e.lo>>>7;t[n++]=e.lo}function p(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}t.exports=i;var f,h=e("./util/minimal"),d=h.LongBits,m=h.base64,g=h.utf8;i.create=h.Buffer?function(){return(i.create=function(){return new f})()}:function(){return new i},i.alloc=function(e){return new h.Array(e)},h.Array!==Array&&(i.alloc=h.pool(i.alloc,h.Array.prototype.subarray)),i.prototype._push=function(e,t,n){return this.tail=this.tail.next=new r(e,t,n),this.len+=t,this},l.prototype=Object.create(r.prototype),l.prototype.fn=u,i.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new l((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},i.prototype.int32=function(e){return e<0?this._push(c,10,d.fromNumber(e)):this.uint32(e)},i.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},i.prototype.uint64=function(e){var t=d.from(e);return this._push(c,t.length(),t)},i.prototype.int64=i.prototype.uint64,i.prototype.sint64=function(e){var t=d.from(e).zzEncode();return this._push(c,t.length(),t)},i.prototype.bool=function(e){return this._push(s,1,e?1:0)},i.prototype.fixed32=function(e){return this._push(p,4,e>>>0)},i.prototype.sfixed32=i.prototype.fixed32,i.prototype.fixed64=function(e){var t=d.from(e);return this._push(p,4,t.lo)._push(p,4,t.hi)},i.prototype.sfixed64=i.prototype.fixed64,i.prototype.float=function(e){return this._push(h.float.writeFloatLE,4,e)},i.prototype.double=function(e){return this._push(h.float.writeDoubleLE,8,e)};var v=h.Array.prototype.set?function(e,t,n){t.set(e,n)}:function(e,t,n){for(var r=0;r<e.length;++r)t[n+r]=e[r]};i.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(s,1,0);if(h.isString(e)){var n=i.alloc(t=m.length(e));m.decode(e,n,0),e=n}return this.uint32(t)._push(v,t,e)},i.prototype.string=function(e){var t=g.length(e);return t?this.uint32(t)._push(g.write,t,e):this._push(s,1,0)},i.prototype.fork=function(){return this.states=new a(this),this.head=this.tail=new r(o,0,0),this.len=0,this},i.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new r(o,0,0),this.len=0),this},i.prototype.ldelim=function(){var e=this.head,t=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=e.next,this.tail=t,this.len+=n),this},i.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),n=0;e;)e.fn(e.val,t,n),n+=e.len,e=e.next;return t},i._configure=function(e){f=e}},{"./util/minimal":200}],202:[function(e,t,n){"use strict";function r(){a.call(this)}function o(e,t,n){e.length<40?i.utf8.write(e,t,n):t.utf8Write(e,n)}t.exports=r;var a=e("./writer");(r.prototype=Object.create(a.prototype)).constructor=r;var i=e("./util/minimal"),s=i.Buffer;r.alloc=function(e){return(r.alloc=i._Buffer_allocUnsafe)(e)};var u=s&&s.prototype instanceof Uint8Array&&"set"===s.prototype.set.name?function(e,t,n){t.set(e,n)}:function(e,t,n){if(e.copy)e.copy(t,n,0,e.length);else for(var r=0;r<e.length;)t[n++]=e[r++]};r.prototype.bytes=function(e){i.isString(e)&&(e=i._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(u,t,e),this},r.prototype.string=function(e){var t=s.byteLength(e);return this.uint32(t),t&&this._push(o,t,e),this}},{"./util/minimal":200,"./writer":201}],203:[function(e,t,n){var r=e("./lib/alea"),o=e("./lib/xor128"),a=e("./lib/xorwow"),i=e("./lib/xorshift7"),s=e("./lib/xor4096"),u=e("./lib/tychei"),l=e("./seedrandom");l.alea=r,l.xor128=o,l.xorwow=a,l.xorshift7=i,l.xor4096=s,l.tychei=u,t.exports=l},{"./lib/alea":204,"./lib/tychei":205,"./lib/xor128":206,"./lib/xor4096":207,"./lib/xorshift7":208,"./lib/xorwow":209,"./seedrandom":210}],204:[function(e,t,n){!function(e,t,n){function r(e){var t=this,n=i();t.next=function(){var e=2091639*t.s0+2.3283064365386963e-10*t.c;return t.s0=t.s1,t.s1=t.s2,t.s2=e-(t.c=0|e)},t.c=1,t.s0=n(" "),t.s1=n(" "),t.s2=n(" "),t.s0-=n(e),t.s0<0&&(t.s0+=1),t.s1-=n(e),t.s1<0&&(t.s1+=1),t.s2-=n(e),t.s2<0&&(t.s2+=1),n=null}function o(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function a(e,t){var n=new r(e),a=t&&t.state,i=n.next;return i.int32=function(){return 4294967296*n.next()|0},i.double=function(){return i()+1.1102230246251565e-16*(2097152*i()|0)},i.quick=i,a&&("object"==typeof a&&o(a,n),i.state=function(){return o(n,{})}),i}function i(){var e=4022871197,t=function(t){t=t.toString();for(var n=0;n<t.length;n++){e+=t.charCodeAt(n);var r=.02519603282416938*e;e=r>>>0,r-=e,r*=e,e=r>>>0,r-=e,e+=4294967296*r}return 2.3283064365386963e-10*(e>>>0)};return t}t&&t.exports?t.exports=a:n&&n.amd?n(function(){return a}):this.alea=a}(this,"object"==typeof t&&t,"function"==typeof define&&define)},{}],205:[function(e,t,n){!function(e,t,n){function r(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,r=t.d,o=t.a;return e=e<<25^e>>>7^n,n=n-r|0,r=r<<24^r>>>8^o,o=o-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-r|0,t.d=r<<16^n>>>16^o,t.a=o-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var r=0;r<n.length+20;r++)t.b^=0|n.charCodeAt(r),t.next()}function o(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function a(e,t){var n=new r(e),a=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do var e=n.next()>>>11,t=(n.next()>>>0)/4294967296,r=(e+t)/(1<<21);while(0===r);return r},i.int32=n.next,i.quick=i,a&&("object"==typeof a&&o(a,n),i.state=function(){return o(n,{})}),i}t&&t.exports?t.exports=a:n&&n.amd?n(function(){return a}):this.tychei=a}(this,"object"==typeof t&&t,"function"==typeof define&&define)},{}],206:[function(e,t,n){!function(e,t,n){function r(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),t.next()}function o(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function a(e,t){var n=new r(e),a=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do var e=n.next()>>>11,t=(n.next()>>>0)/4294967296,r=(e+t)/(1<<21);while(0===r);return r},i.int32=n.next,i.quick=i,a&&("object"==typeof a&&o(a,n),i.state=function(){return o(n,{})}),i}t&&t.exports?t.exports=a:n&&n.amd?n(function(){return a}):this.xor128=a}(this,"object"==typeof t&&t,"function"==typeof define&&define)},{}],207:[function(e,t,n){!function(e,t,n){function r(e){function t(e,t){var n,r,o,a,i,s=[],u=128;for(t===(0|t)?(r=t,t=null):(t+="\0",r=0,u=Math.max(u,t.length)),o=0,a=-32;a<u;++a)t&&(r^=t.charCodeAt((a+32)%t.length)),0===a&&(i=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,a>=0&&(i=i+1640531527|0,n=s[127&a]^=r+i,o=0==n?o+1:0);for(o>=128&&(s[127&(t&&t.length||0)]=-1),o=127,a=512;a>0;--a)r=s[o+34&127],n=s[o=o+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,s[o]=r^n;e.w=i,e.X=s,e.i=o}var n=this;n.next=function(){var e,t,r=n.w,o=n.X,a=n.i;return n.w=r=r+1640531527|0,t=o[a+34&127],e=o[a=a+1&127],t^=t<<13,e^=e<<17,t^=t>>>15,e^=e>>>12,t=o[a]=t^e,n.i=a,t+(r^r>>>16)|0},t(n,e)}function o(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function a(e,t){null==e&&(e=+new Date);var n=new r(e),a=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do var e=n.next()>>>11,t=(n.next()>>>0)/4294967296,r=(e+t)/(1<<21);while(0===r);return r},i.int32=n.next,i.quick=i,a&&(a.X&&o(a,n),i.state=function(){return o(n,{})}),i}t&&t.exports?t.exports=a:n&&n.amd?n(function(){return a}):this.xor4096=a}(this,"object"==typeof t&&t,"function"==typeof define&&define)},{}],208:[function(e,t,n){!function(e,t,n){function r(e){function t(e,t){var n,r,o=[];if(t===(0|t))r=o[0]=t;else for(t=""+t,n=0;n<t.length;++n)o[7&n]=o[7&n]<<15^t.charCodeAt(n)+o[n+1&7]<<13;for(;o.length<8;)o.push(0);for(n=0;n<8&&0===o[n];++n);for(r=8==n?o[7]=-1:o[n],e.x=o,e.i=0,n=256;n>0;--n)e.next()}var n=this;n.next=function(){var e,t,r=n.x,o=n.i;return e=r[o],e^=e>>>7,t=e^e<<24,e=r[o+1&7],t^=e^e>>>10,e=r[o+3&7],t^=e^e>>>3,e=r[o+4&7],t^=e^e<<7,e=r[o+7&7],e^=e<<13,t^=e^e<<9,r[o]=t,n.i=o+1&7,t},t(n,e)}function o(e,t){return t.x=e.x.slice(),t.i=e.i,t}function a(e,t){null==e&&(e=+new Date);var n=new r(e),a=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do var e=n.next()>>>11,t=(n.next()>>>0)/4294967296,r=(e+t)/(1<<21);while(0===r);return r},i.int32=n.next,i.quick=i,a&&(a.x&&o(a,n),i.state=function(){return o(n,{})}),i}t&&t.exports?t.exports=a:n&&n.amd?n(function(){return a}):this.xorshift7=a}(this,"object"==typeof t&&t,"function"==typeof define&&define)},{}],209:[function(e,t,n){!function(e,t,n){function r(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^(e^e<<1))|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),r==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function o(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function a(e,t){var n=new r(e),a=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do var e=n.next()>>>11,t=(n.next()>>>0)/4294967296,r=(e+t)/(1<<21);while(0===r);return r},i.int32=n.next,i.quick=i,a&&("object"==typeof a&&o(a,n),i.state=function(){return o(n,{})}),i}t&&t.exports?t.exports=a:n&&n.amd?n(function(){return a}):this.xorwow=a}(this,"object"==typeof t&&t,"function"==typeof define&&define)},{}],210:[function(e,t,n){!function(n,r){function o(e,t,o){var p=[];t=1==t?{entropy:!0}:t||{};var f=u(s(t.entropy?[e,c(n)]:null==e?l():e,3),p),m=new a(p),b=function(){for(var e=m.g(d),t=v,n=0;e<y;)e=(e+n)*h,t*=h,n=m.g(1);for(;e>=x;)e/=2,t/=2,n>>>=1;return(e+n)/t};return b.int32=function(){return 0|m.g(4)},b.quick=function(){return m.g(4)/4294967296},b.double=b,u(c(m.S),n),(t.pass||o||function(e,t,n,o){return o&&(o.S&&i(o,m),e.state=function(){return i(m,{})}),n?(r[g]=e,t):e})(b,f,"global"in t?t.global:this==r,t.state)}function a(e){var t,n=e.length,r=this,o=0,a=r.i=r.j=0,i=r.S=[];for(n||(e=[n++]);o<h;)i[o]=o++;for(o=0;o<h;o++)i[o]=i[a=b&a+e[o%n]+(t=i[o])],i[a]=t;(r.g=function(e){for(var t,n=0,o=r.i,a=r.j,i=r.S;e--;)t=i[o=b&o+1],n=n*h+i[b&(i[o]=i[a=b&a+t])+(i[a]=t)];return r.i=o,r.j=a,n})(h)}function i(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function s(e,t){var n,r=[],o=typeof e;if(t&&"object"==o)for(n in e)try{r.push(s(e[n],t-1))}catch(e){}return r.length?r:"string"==o?e:e+"\0"}function u(e,t){for(var n,r=e+"",o=0;o<r.length;)t[b&o]=b&(n^=19*t[b&o])+r.charCodeAt(o++);return c(t)}function l(){try{var e;return p&&(e=p.randomBytes)?e=e(h):(e=new Uint8Array(h),(f.crypto||f.msCrypto).getRandomValues(e)),c(e)}catch(e){var t=f.navigator,r=t&&t.plugins;return[+new Date,f,r,f.screen,c(n)]}}function c(e){return String.fromCharCode.apply(0,e)}var p,f=this,h=256,d=6,m=52,g="random",v=r.pow(h,d),y=r.pow(2,m),x=2*y,b=h-1;
if(r["seed"+g]=o,u(r.random(),n),"object"==typeof t&&t.exports){t.exports=o;try{p=e("crypto")}catch(e){}}else"function"==typeof define&&define.amd&&define(function(){return o})}([],Math)},{crypto:180}],211:[function(e,t,n){(function(t,r){function o(e,t){this._id=e,this._clearFn=t}var a=e("process/browser.js").nextTick,i=Function.prototype.apply,s=Array.prototype.slice,u={},l=0;n.setTimeout=function(){return new o(i.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new o(i.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(e){e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},n.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},n._unrefActive=n.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n.setImmediate="function"==typeof t?t:function(e){var t=l++,r=!(arguments.length<2)&&s.call(arguments,1);return u[t]=!0,a(function(){u[t]&&(r?e.apply(null,r):e.call(null),n.clearImmediate(t))}),t},n.clearImmediate="function"==typeof r?r:function(e){delete u[e]}}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":191,timers:211}],212:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),$(function(){var e=$("button, .cta");e.on("click",function(e){var t=$(this);t.hasClass("disabled")||i(e,t)})});var r=0,o=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Toaster message",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=doT.template($("#toaster-template").html()),i={ind:r,message:t,isReload:o};$(".toaster__wrap").length||$("#main").after('<div class="toaster__wrap" />'),$(".toaster__wrap").append(a(i));var e=".toaster"+r;TweenLite.to(e,.75,{opacity:1,scale:1,ease:Expo.easeOut}),0!==n&&TweenLite.to(e,.75,{opacity:0,scale:.75,ease:Expo.easeOut,delay:n,onComplete:function(){$(e).remove()}}),$(e).on("click",".js-dismiss",function(t){t.preventDefault(),TweenLite.to($(this).parent(),.75,{opacity:0,scale:.75,ease:Expo.easeOut,onComplete:function(){$(e).remove()}})}),r++};$("body").on("click",".js-refresh",function(){window.location.reload()});var a=0,i=function(e,t){if($(".no-svg").length||t.find("svg").length)return!1;var n=document.createElementNS("http://www.w3.org/2000/svg","svg"),r=document.createElementNS("http://www.w3.org/2000/svg","g"),o=document.createElementNS("http://www.w3.org/2000/svg","circle"),i=e.offsetX,s=e.offsetY;if(void 0==i)return!1;n.setAttributeNS(null,"class","ripple ripple"+a),r.setAttributeNS(null,"transform","translate("+i+", "+s+")"),o.setAttributeNS(null,"r",parseInt(t.outerWidth())+i),n.appendChild(r),r.appendChild(o),t.append(n);var u=t.find(".ripple"+a);TweenLite.from(u.find("circle"),1.5,{attr:{r:0},opacity:.75,ease:Expo.easeOut,onComplete:function(){u.remove()}}),a++};n.toaster=o,n.ripple=i},{}],213:[function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e,t,n){function o(e,t){return("undefined"==typeof e?"undefined":r(e))===t}function a(){var e,t,n,r,a,i,s;for(var u in p)if(p.hasOwnProperty(u)){if(e=[],t=p[u],t.name&&(e.push(t.name.toLowerCase()),t.options&&t.options.aliases&&t.options.aliases.length))for(n=0;n<t.options.aliases.length;n++)e.push(t.options.aliases[n].toLowerCase());for(r=o(t.fn,"function")?t.fn():t.fn,a=0;a<e.length;a++)i=e[a],s=i.split("."),1===s.length?h[s[0]]=r:(!h[s[0]]||h[s[0]]instanceof Boolean||(h[s[0]]=new Boolean(h[s[0]])),h[s[0]][s[1]]=r),c.push((r?"":"no-")+s.join("-"))}}function i(e){var t=d.className,n=h._config.classPrefix||"";if(m&&(t=t.baseVal),h._config.enableJSClass){var r=new RegExp("(^|\\s)"+n+"no-js(\\s|$)");t=t.replace(r,"$1"+n+"js$2")}h._config.enableClasses&&(t+=" "+n+e.join(" "+n),m?d.className.baseVal=t:d.className=t)}function s(){return"function"!=typeof t.createElement?t.createElement(arguments[0]):m?t.createElementNS.call(t,"http://www.w3.org/2000/svg",arguments[0]):t.createElement.apply(t,arguments)}function u(){var e=t.body;return e||(e=s(m?"svg":"body"),e.fake=!0),e}function l(e,n,r,o){var a,i,l,c,p="modernizr",f=s("div"),h=u();if(parseInt(r,10))for(;r--;)l=s("div"),l.id=o?o[r]:p+(r+1),f.appendChild(l);return a=s("style"),a.type="text/css",a.id="s"+p,(h.fake?h:f).appendChild(a),h.appendChild(f),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(t.createTextNode(e)),f.id=p,h.fake&&(h.style.background="",h.style.overflow="hidden",c=d.style.overflow,d.style.overflow="hidden",d.appendChild(h)),i=n(f,e),h.fake?(h.parentNode.removeChild(h),d.style.overflow=c,d.offsetHeight):f.parentNode.removeChild(f),!!i}var c=[],p=[],f={_version:"3.5.0",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,t){var n=this;setTimeout(function(){t(n[e])},0)},addTest:function(e,t,n){p.push({name:e,fn:t,options:n})},addAsyncTest:function(e){p.push({name:null,fn:e})}},h=function(){};h.prototype=f,h=new h;var d=t.documentElement,m="svg"===d.nodeName.toLowerCase(),g=function(){var t=e.matchMedia||e.msMatchMedia;return t?function(e){var n=t(e);return n&&n.matches||!1}:function(t){var n=!1;return l("@media "+t+" { #modernizr { position: absolute; } }",function(t){n="absolute"==(e.getComputedStyle?e.getComputedStyle(t,null):t.currentStyle).position}),n}}();f.mq=g,a(),i(c),delete f.addTest,delete f.addAsyncTest;for(var v=0;v<h._q.length;v++)h._q[v]();e.Modernizr=h}(window,document)},{}],214:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(e,t,n){var r;return function(){var o=this,a=arguments,i=function(){r=null,n||e.apply(o,a)},s=n&&!r;clearTimeout(r),r=setTimeout(i,t),s&&e.apply(o,a)}},o=function(){return Modernizr.mq("(max-width: 767px)")},a=function(){return Modernizr.mq("(min-width: 768px)")},i=function(){return Modernizr.mq("(min-width: 1024px)")},s=function(){return Modernizr.mq("(min-width: 1200px)")},u=function(){var e=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"];if(navigator.platform)for(;e.length;)if(navigator.platform===e.pop())return!0;return!1};jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",easeOutExpo:function(e,t,n,r,o){return t==o?n+r:r*(-Math.pow(2,-10*t/o)+1)+n},easeInOutExpo:function(e,t,n,r,o){return 0==t?n:t==o?n+r:(t/=o/2)<1?r/2*Math.pow(2,10*(t-1))+n:r/2*(-Math.pow(2,-10*--t)+2)+n}});var l={duration:500,easing:"easeOutExpo",queue:!1};n.debounce=r,n.iOS=u,n.isMobile=o,n.isTablet=a,n.isDesktop=i,n.isLargeDesktop=s,n.easeOutExpo=l},{}],215:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=e("jquery"),a=r(o);e("TweenLite"),e("EasePack"),e("AttrPlugin"),e("CSSPlugin"),e("doT"),e("./_modernizr");var i=e("../_modules/snap/snap"),s=r(i),u=e("../_modules/serviceworker/serviceworker"),l=r(u);(0,a.default)(function(){new s.default,TweenLite.ticker.fps(60),new l.default,console.log("I'm a not-hotdog-pwa!!!")})},{"../_modules/serviceworker/serviceworker":217,"../_modules/snap/snap":218,"./_modernizr":213,AttrPlugin:187,CSSPlugin:188,EasePack:186,TweenLite:185,doT:183,jquery:190}],216:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=e("@tensorflow/tfjs-core"),s=r(i),u=e("@tensorflow/tfjs-converter"),l=function(){function e(){o(this,e);var t=this;this.classes={},this.IMAGE_SIZE=224,this.TOPK_PREDICTIONS=3,this.IMAGENET_CLASSES={},fetch("./assets/not-hotdog-pwa/models/output_labels.txt").then(function(e){return e.text()}).then(function(e){for(var n=e.split("\n"),r=(e.match(/\n/g)||[]).length,o=0,a=r;o<a;o++)t.IMAGENET_CLASSES[o]=n[o]})}return a(e,[{key:"loadMobilenet",value:function(){var e,t,n=this;return Promise.resolve().then(function(){return e="./assets/not-hotdog-pwa/models/saved_model_web/tensorflowjs_model.pb",t="./assets/not-hotdog-pwa/models/saved_model_web/weights_manifest.json",(0,u.loadFrozenModel)(e,t)}).then(function(e){n.model=e})}},{key:"predict",value:function(e){var t,n,r,o=this;return Promise.resolve().then(function(){return t=o,console.time("Predicting"),n=s.tidy(function(){var n=s.fromPixels(e).toFloat(),r=s.scalar(127.5),o=n.sub(r).div(r),a=o.reshape([1,t.IMAGE_SIZE,t.IMAGE_SIZE,3]),i={},u="Placeholder",l="final_result";return i[u]=a,t.model.execute(i,l)}),o.getTopKClasses(n,o.TOPK_PREDICTIONS)}).then(function(e){r=e,console.timeEnd("Predicting"),o.classes=r})}},{key:"getTopKClasses",value:function(e,t){var n,r,o,a,i,s,u,l,c=this;return Promise.resolve().then(function(){return e.data()}).then(function(e){for(n=e,r=[],o=0;o<n.length;o++)r.push({value:n[o],index:o});for(r.sort(function(e,t){return t.value-e.value}),a=new Float32Array(t),i=new Int32Array(t),s=0;s<t;s++)a[s]=r[s].value,i[s]=r[s].index;for(u=[],l=0;l<i.length;l++)u.push({className:c.IMAGENET_CLASSES[i[l]],probability:a[l]});return u})}}]),e}();n.default=l,t.exports=n.default},{"@tensorflow/tfjs-converter":13,"@tensorflow/tfjs-core":55}],217:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../_js/_material"),a=function e(){r(this,e),"serviceWorker"in navigator&&(console.log("serviceWorker is in navigator"),navigator.serviceWorker.register("./service-worker.js").then(function(e){console.log("registered service worker"),e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){switch(t.state){case"installed":navigator.serviceWorker.controller||(0,o.toaster)("Caching complete!");break;case"redundant":throw Error("The installing service worker became redundant.")}}}}).catch(function(e){console.error("uh oh... "),console.error(e)}),window.addEventListener("appinstalled",function(e){console.log("User added to homescreen")}),navigator.serviceWorker&&navigator.serviceWorker.controller&&(console.log("navigator.serviceWorker.controller.onstatechange:: "+navigator.serviceWorker.controller.onstatechange),navigator.serviceWorker.controller.onstatechange=function(e){"redundant"===e.target.state&&(0,o.toaster)("A new version of this app is available.",0)}))};n.default=a,t.exports=n.default},{"../../_js/_material":212}],218:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("@tensorflow/tfjs-core"),u=o(s),l=e("../mobilenet/MobileNet"),c=r(l),p=e("../speech/speech"),f=r(p),h=function(){function e(){a(this,e);var t=this,n=window.devicePixelRatio||1;console.time("Loading of model"),this.mobileNet=new c.default,this.mobileNet.loadMobilenet(),console.timeEnd("Loading of model"),this.SPEECH=new f.default,this.CANVAS=document.createElement("canvas"),this.IMAGE=document.createElement("img"),this.MESSAGE=document.getElementsByClassName("snap__message")[0],this.VIEWER=document.getElementsByClassName("snap__viewer")[0],this.CAMERA=document.getElementsByClassName("snap__btn -camera")[0],this.DETAILS=document.getElementsByClassName("snap__details")[0],this.POLAROID=document.getElementsByClassName("snap__polaroid")[0],this.TAKE_PHOTO=document.getElementsByClassName("js-take-photo")[0],this.CONTEXT=this.CANVAS.getContext("2d"),this.topPrediction="",this.CONTEXT.scale(n,n),this.VIDEO=document.getElementById("video"),this.VIDEO.setAttribute("playsinline",""),this.VIDEO.setAttribute("muted",""),this.IMAGE.setAttribute("id","image"),document.body.appendChild(this.IMAGE),this.TAKE_PHOTO.addEventListener("click",function(){t.MESSAGE.textContent="what is this?",t.SPEECH.speak("en-US","native","what is this?"),t.CONTEXT.drawImage(t.VIDEO,0,0,t.VIDEO.width,t.VIDEO.height);var e=t.CANVAS.toDataURL("image/png"),n="";t.VIEWER.classList.add("-show"),t.IMAGE.onload=function(){u.tidy(function(){t.CAMERA.classList.add("-hide"),t.mobileNet.predict(t.IMAGE).then(function(){if(void 0==t.mobileNet.classes.length)t.unknownImage();else{var e=t.mobileNet.classes;t.topPrediction=e[0].className,t.MESSAGE.innerHTML=t.topPrediction,t.SPEECH.speak("en-US","native","It's "+t.checkForVowel(t.topPrediction)+t.topPrediction);for(var r=0,o=e.length;r<o;r++)n+="<p><strong>"+e[r].className+"</strong>: "+e[r].probability.toFixed(4)+"</p>"}t.DETAILS.innerHTML=n})})},t.IMAGE.src=e,t.POLAROID.style.backgroundImage="url("+e+")"}),document.getElementsByClassName("js-delete-photo")[0].addEventListener("click",function(){t.reset()}),this.initCamera()}return i(e,[{key:"initCamera",value:function(){var e,t,n=this;return e=n,t=n,new Promise(function(n,r){navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"},audio:!1}).then(function(t){e.VIDEO.srcObject=t,e.VIDEO.addEventListener("loadeddata",function(){e.VIDEO.width=e.VIDEO.videoWidth,e.VIDEO.height=e.VIDEO.videoHeight,e.CANVAS.width=e.VIDEO.videoWidth,e.CANVAS.height=e.VIDEO.videoHeight,n()},!1)}).catch(function(e){console.error(e),t.MESSAGE.textContent="I need a camera to identify the hotdog"}):r()})}},{key:"unknownImage",value:function(){var e=this;e.MESSAGE.textContent="unknown image",e.SPEECH.speak("en-US","native","Sorry, can't determine the image.")}},{key:"checkForVowel",value:function(e){var t=e.charAt(0);return t.match(/[aeiouAEIOU]/)?" an ":" a "}},{key:"reset",value:function(){var e=this;this.IMAGE.removeAttribute("src"),e.MESSAGE.textContent="",e.DETAILS.innerHTML="",e.VIEWER.classList.remove("-show"),e.CAMERA.classList.remove("-hide")}}]),e}();n.default=h,t.exports=n.default},{"../mobilenet/MobileNet":216,"../speech/speech":219,"@tensorflow/tfjs-core":55}],219:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("../../_js/_util"),i=function(){function e(){r(this,e)}return o(e,[{key:"speak",value:function(e,t,n){var r=this;r.canITalk();var o=new SpeechSynthesisUtterance;o.text=n,o.volume=1,o.rate=1,o.pitch=1,o.lang=e,o.voice=speechSynthesis.getVoices().filter(function(e){return e.name==t})[0],window.speechSynthesis.speak(o)}},{key:"canITalk",value:function(){if((0,a.iOS)())return!1;var e=window.webkitSpeechSynthesisUtterance||window.mozSpeechSynthesisUtterance||window.msSpeechSynthesisUtterance||window.oSpeechSynthesisUtterance||window.SpeechSynthesisUtterance;return void 0!==e&&void 0}}]),e}();n.default=i,t.exports=n.default},{"../../_js/_util":214}]},{},[215]);
//# sourceMappingURL=main.js.map
